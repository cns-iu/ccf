(self.webpackChunkccf=self.webpackChunkccf||[]).push([[179],{334:(dm,U0,Lu)=>{"use strict";function tn(r){return"function"==typeof r}function Fu(r){const i=r(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const ph=Fu(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,a)=>`${a+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function ai(r,n){if(r){const i=r.indexOf(n);0<=i&&r.splice(i,1)}}class sn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const l of i)l.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(tn(s))try{s()}catch(l){n=l instanceof ph?l.errors:[l]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const l of a)try{V0(l)}catch(c){n=n??[],c instanceof ph?n=[...n,...c.errors]:n.push(c)}}if(n)throw new ph(n)}}add(n){var i;if(n&&n!==this)if(this.closed)V0(n);else{if(n instanceof sn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&ai(i,n)}remove(n){const{_finalizers:i}=this;i&&ai(i,n),n instanceof sn&&n._removeParent(this)}}sn.EMPTY=(()=>{const r=new sn;return r.closed=!0,r})();const mh=sn.EMPTY;function Nu(r){return r instanceof sn||r&&"closed"in r&&tn(r.remove)&&tn(r.add)&&tn(r.unsubscribe)}function V0(r){tn(r)?r():r.unsubscribe()}const Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Da={setTimeout(r,n,...i){const{delegate:s}=Da;return s?.setTimeout?s.setTimeout(r,n,...i):setTimeout(r,n,...i)},clearTimeout(r){const{delegate:n}=Da;return(n?.clearTimeout||clearTimeout)(r)},delegate:void 0};function Eo(r){Da.setTimeout(()=>{const{onUnhandledError:n}=Dt;if(!n)throw r;n(r)})}function Ia(){}const gh=bh("C",void 0,void 0);function bh(r,n,i){return{kind:r,value:n,error:i}}let to=null;function Sc(r){if(Dt.useDeprecatedSynchronousErrorHandling){const n=!to;if(n&&(to={errorThrown:!1,error:null}),r(),n){const{errorThrown:i,error:s}=to;if(to=null,i)throw s}}else r()}class Ah extends sn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Nu(n)&&n.add(this)):this.destination=at}static create(n,i,s){return new Fn(n,i,s)}next(n){this.isStopped?Ee(function _h(r){return bh("N",r,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ee(function Uu(r){return bh("E",void 0,r)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ee(gh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z0=Function.prototype.bind;function Vu(r,n){return z0.call(r,n)}class Ta{constructor(n){this.partialObserver=n}next(n){const{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(s){te(s)}}error(n){const{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(s){te(s)}else te(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){te(i)}}}class Fn extends Ah{constructor(n,i,s){let a;if(super(),tn(n)||!n)a={next:n??void 0,error:i??void 0,complete:s??void 0};else{let l;this&&Dt.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&Vu(n.next,l),error:n.error&&Vu(n.error,l),complete:n.complete&&Vu(n.complete,l)}):a=n}this.destination=new Ta(a)}}function te(r){Dt.useDeprecatedSynchronousErrorHandling?function kC(r){Dt.useDeprecatedSynchronousErrorHandling&&to&&(to.errorThrown=!0,to.error=r)}(r):Eo(r)}function Ee(r,n){const{onStoppedNotification:i}=Dt;i&&Da.setTimeout(()=>i(r,n))}const at={closed:!0,next:Ia,error:function J(r){throw r},complete:Ia},lt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Mt(r){return r}function cn(...r){return or(r)}function or(r){return 0===r.length?Mt:1===r.length?r[0]:function(i){return r.reduce((s,a)=>a(s),i)}}let dt=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,a){const l=function Bt(r){return r&&r instanceof Ah||function Ti(r){return r&&tn(r.next)&&tn(r.error)&&tn(r.complete)}(r)&&Nu(r)}(i)?i:new Fn(i,s,a);return Sc(()=>{const{operator:c,source:u}=this;l.add(c?c.call(l,u):u?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=ct(s))((a,l)=>{const c=new Fn({next:u=>{try{i(u)}catch(d){l(d),c.unsubscribe()}},error:l,complete:a});this.subscribe(c)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[lt](){return this}pipe(...i){return or(i)(this)}toPromise(i){return new(i=ct(i))((s,a)=>{let l;this.subscribe(c=>l=c,c=>a(c),()=>s(l))})}}return r.create=n=>new r(n),r})();function ct(r){var n;return null!==(n=r??Dt.Promise)&&void 0!==n?n:Promise}const So=Fu(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Me=(()=>{class r extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new nt(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new So}next(i){Sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(i)}})}error(i){Sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){Sc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:a,observers:l}=this;return s||a?mh:(this.currentObservers=null,l.push(i),new sn(()=>{this.currentObservers=null,ai(l,i)}))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:a,isStopped:l}=this;s?i.error(a):l&&i.complete()}asObservable(){const i=new dt;return i.source=this,i}}return r.create=(n,i)=>new nt(n,i),r})();class nt extends Me{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:mh}}function Jn(r){return tn(r?.lift)}function zt(r){return n=>{if(Jn(n))return n.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(r,n,i,s,a){return new Ar(r,n,i,s,a)}class Ar extends Ah{constructor(n,i,s,a,l,c){super(n),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=i?function(u){try{i(u)}catch(d){n.error(d)}}:super._next,this._error=a?function(u){try{a(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Oe(r,n){return zt((i,s)=>{let a=0;i.subscribe(vt(s,l=>{s.next(r.call(n,l,a++))}))})}function jr(r){return this instanceof jr?(this.v=r,this):new jr(r)}function zr(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=i.apply(r,n||[]),l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(m){s[m]&&(a[m]=function(g){return new Promise(function(_,A){l.push([m,g,_,A])>1||u(m,g)})})}function u(m,g){try{!function d(m){m.value instanceof jr?Promise.resolve(m.value.v).then(h,f):p(l[0][2],m)}(s[m](g))}catch(_){p(l[0][3],_)}}function h(m){u("next",m)}function f(m){u("throw",m)}function p(m,g){m(g),l.shift(),l.length&&u(l[0][0],l[0][1])}}function ea(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function ms(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=r[l]&&function(c){return new Promise(function(u,d){!function a(l,c,u,d){Promise.resolve(d).then(function(h){l({value:h,done:u})},c)}(u,d,(c=r[l](c)).done,c.value)})}}}const PC=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function GR(r){return tn(r?.then)}function QR(r){return tn(r[lt])}function $R(r){return Symbol.asyncIterator&&tn(r?.[Symbol.asyncIterator])}function WR(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jR=function E7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qR(r){return tn(r?.[jR])}function YR(r){return zr(this,arguments,function*(){const i=r.getReader();try{for(;;){const{value:s,done:a}=yield jr(i.read());if(a)return yield jr(void 0);yield yield jr(s)}}finally{i.releaseLock()}})}function XR(r){return tn(r?.getReader)}function Ns(r){if(r instanceof dt)return r;if(null!=r){if(QR(r))return function S7(r){return new dt(n=>{const i=r[lt]();if(tn(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(PC(r))return function D7(r){return new dt(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}(r);if(GR(r))return function I7(r){return new dt(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,Eo)})}(r);if($R(r))return KR(r);if(qR(r))return function T7(r){return new dt(n=>{for(const i of r)if(n.next(i),n.closed)return;n.complete()})}(r);if(XR(r))return function k7(r){return KR(YR(r))}(r)}throw WR(r)}function KR(r){return new dt(n=>{(function R7(r,n){var i,s,a,l;return function Ei(r,n,i,s){return new(i||(i=Promise))(function(l,c){function u(f){try{h(s.next(f))}catch(p){c(p)}}function d(f){try{h(s.throw(f))}catch(p){c(p)}}function h(f){f.done?l(f.value):function a(l){return l instanceof i?l:new i(function(c){c(l)})}(f.value).then(u,d)}h((s=s.apply(r,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=ea(r);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(c){a={error:c}}finally{try{s&&!s.done&&(l=i.return)&&(yield l.call(i))}finally{if(a)throw a.error}}n.complete()})})(r,n).catch(i=>n.error(i))})}function Al(r,n,i,s=0,a=!1){const l=n.schedule(function(){i(),a?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(l),!a)return l}function ar(r,n,i=1/0){return tn(n)?ar((s,a)=>Oe((l,c)=>n(s,l,a,c))(Ns(r(s,a))),i):("number"==typeof n&&(i=n),zt((s,a)=>function P7(r,n,i,s,a,l,c,u){const d=[];let h=0,f=0,p=!1;const m=()=>{p&&!d.length&&!h&&n.complete()},g=A=>h<s?_(A):d.push(A),_=A=>{l&&n.next(A),h++;let b=!1;Ns(i(A,f++)).subscribe(vt(n,y=>{a?.(y),l?g(y):n.next(y)},()=>{b=!0},void 0,()=>{if(b)try{for(h--;d.length&&h<s;){const y=d.shift();c?Al(n,c,()=>_(y)):_(y)}m()}catch(y){n.error(y)}}))};return r.subscribe(vt(n,g,()=>{p=!0,m()})),()=>{u?.()}}(s,a,r,i)))}function vh(r=1/0){return ar(Mt,r)}const Us=new dt(r=>r.complete());function ZR(r){return r&&tn(r.schedule)}function OC(r){return r[r.length-1]}function H0(r){return tn(OC(r))?r.pop():void 0}function fm(r){return ZR(OC(r))?r.pop():void 0}function JR(r,n=0){return zt((i,s)=>{i.subscribe(vt(s,a=>Al(s,r,()=>s.next(a),n),()=>Al(s,r,()=>s.complete(),n),a=>Al(s,r,()=>s.error(a),n)))})}function eP(r,n=0){return zt((i,s)=>{s.add(r.schedule(()=>i.subscribe(s),n))})}function tP(r,n){if(!r)throw new Error("Iterable cannot be null");return new dt(i=>{Al(i,n,()=>{const s=r[Symbol.asyncIterator]();Al(i,n,()=>{s.next().then(a=>{a.done?i.complete():i.next(a.value)})},0,!0)})})}function Zi(r,n){return n?function z7(r,n){if(null!=r){if(QR(r))return function L7(r,n){return Ns(r).pipe(eP(n),JR(n))}(r,n);if(PC(r))return function N7(r,n){return new dt(i=>{let s=0;return n.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}(r,n);if(GR(r))return function F7(r,n){return Ns(r).pipe(eP(n),JR(n))}(r,n);if($R(r))return tP(r,n);if(qR(r))return function U7(r,n){return new dt(i=>{let s;return Al(i,n,()=>{s=r[jR](),Al(i,n,()=>{let a,l;try{({value:a,done:l}=s.next())}catch(c){return void i.error(c)}l?i.complete():i.next(a)},0,!0)}),()=>tn(s?.return)&&s.return()})}(r,n);if(XR(r))return function V7(r,n){return tP(YR(r),n)}(r,n)}throw WR(r)}(r,n):Ns(r)}function yr(...r){const n=fm(r),i=function B7(r,n){return"number"==typeof OC(r)?r.pop():n}(r,1/0),s=r;return s.length?1===s.length?Ns(s[0]):vh(i)(Zi(s,n)):Us}function Qn(r){return r<=0?()=>Us:zt((n,i)=>{let s=0;n.subscribe(vt(i,a=>{++s<=r&&(i.next(a),r<=s&&i.complete())}))})}function BC(r={}){const{connector:n=(()=>new Me),resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:a=!0}=r;return l=>{let c=null,u=null,d=null,h=0,f=!1,p=!1;const m=()=>{u?.unsubscribe(),u=null},g=()=>{m(),c=d=null,f=p=!1},_=()=>{const A=c;g(),A?.unsubscribe()};return zt((A,b)=>{h++,!p&&!f&&m();const y=d=d??n();b.add(()=>{h--,0===h&&!p&&!f&&(u=LC(_,a))}),y.subscribe(b),c||(c=new Fn({next:w=>y.next(w),error:w=>{p=!0,m(),u=LC(g,i,w),y.error(w)},complete:()=>{f=!0,m(),u=LC(g,s),y.complete()}}),Zi(A).subscribe(c))})(l)}}function LC(r,n,...i){return!0===n?(r(),null):!1===n?null:n(...i).pipe(Qn(1)).subscribe(()=>r())}function ei(r){for(let n in r)if(r[n]===ei)return n;throw Error("Could not find renamed property on target object.")}function FC(r,n){for(const i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function ti(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ti).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const n=r.toString();if(null==n)return""+n;const i=n.indexOf("\n");return-1===i?n:n.substring(0,i)}function NC(r,n){return null==r||""===r?null===n?"":n:null==n||""===n?r:r+" "+n}const H7=ei({__forward_ref__:ei});function Nn(r){return r.__forward_ref__=Nn,r.toString=function(){return ti(this())},r}function Tt(r){return UC(r)?r():r}function UC(r){return"function"==typeof r&&r.hasOwnProperty(H7)&&r.__forward_ref__===Nn}class Te extends Error{constructor(n,i){super(function G0(r,n){return`NG0${Math.abs(r)}${n?": "+n.trim():""}`}(n,i)),this.code=n}}function Gt(r){return"string"==typeof r?r:null==r?"":String(r)}function Q0(r,n){throw new Te(-201,!1)}function ro(r,n){null==r&&function Un(r,n,i,s){throw new Error(`ASSERTION ERROR: ${r}`+(null==s?"":` [Expected=> ${i} ${s} ${n} <=Actual]`))}(n,r,null,"!=")}function ke(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ye(r){return{providers:r.providers||[],imports:r.imports||[]}}function VC(r){return nP(r,$0)||nP(r,rP)}function nP(r,n){return r.hasOwnProperty(n)?r[n]:null}function iP(r){return r&&(r.hasOwnProperty(zC)||r.hasOwnProperty(X7))?r[zC]:null}const $0=ei({\u0275prov:ei}),zC=ei({\u0275inj:ei}),rP=ei({ngInjectableDef:ei}),X7=ei({ngInjectorDef:ei});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let HC;function Ra(r){const n=HC;return HC=r,n}function sP(r,n,i){const s=VC(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&_t.Optional?null:void 0!==n?n:void Q0(ti(r))}function Dc(r){return{toString:r}.toString()}var ta=(()=>((ta=ta||{})[ta.OnPush=0]="OnPush",ta[ta.Default=1]="Default",ta))(),na=(()=>{return(r=na||(na={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",na;var r})();const Wn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wh={},On=[],W0=ei({\u0275cmp:ei}),GC=ei({\u0275dir:ei}),QC=ei({\u0275pipe:ei}),oP=ei({\u0275mod:ei}),vl=ei({\u0275fac:ei}),pm=ei({__NG_ELEMENT_ID__:ei});let Z7=0;function Be(r){return Dc(()=>{const i=!0===r.standalone,s={},a={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===ta.OnPush,directiveDefs:null,pipeDefs:null,standalone:i,dependencies:i&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||On,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||na.Emulated,id:"c"+Z7++,styles:r.styles||On,_:null,setInput:null,schemas:r.schemas||null,tView:null},l=r.dependencies,c=r.features;return a.inputs=cP(r.inputs,s),a.outputs=cP(r.outputs),c&&c.forEach(u=>u(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(aP).filter(lP):null,a.pipeDefs=l?()=>("function"==typeof l?l():l).map(_s).filter(lP):null,a})}function aP(r){return ni(r)||gs(r)}function lP(r){return null!==r}const e9={};function ve(r){return Dc(()=>{const n={type:r.type,bootstrap:r.bootstrap||On,declarations:r.declarations||On,imports:r.imports||On,exports:r.exports||On,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(e9[r.id]=r.type),n})}function cP(r,n){if(null==r)return wh;const i={};for(const s in r)if(r.hasOwnProperty(s)){let a=r[s],l=a;Array.isArray(a)&&(l=a[1],a=a[0]),i[a]=s,n&&(n[a]=l)}return i}const de=Be;function qr(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function ni(r){return r[W0]||null}function gs(r){return r[GC]||null}function _s(r){return r[QC]||null}function so(r,n){const i=r[oP]||null;if(!i&&!0===n)throw new Error(`Type ${ti(r)} does not have '\u0275mod' property.`);return i}function Vs(r){return Array.isArray(r)&&"object"==typeof r[1]}function ra(r){return Array.isArray(r)&&!0===r[1]}function jC(r){return 0!=(8&r.flags)}function X0(r){return 2==(2&r.flags)}function K0(r){return 1==(1&r.flags)}function sa(r){return null!==r.template}function s9(r){return 0!=(256&r[2])}function ju(r,n){return r.hasOwnProperty(vl)?r[vl]:null}class l9{constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function Ri(){return hP}function hP(r){return r.type.prototype.ngOnChanges&&(r.setInput=u9),c9}function c9(){const r=pP(this),n=r?.current;if(n){const i=r.previous;if(i===wh)r.previous=n;else for(let s in n)i[s]=n[s];r.current=null,this.ngOnChanges(n)}}function u9(r,n,i,s){const a=pP(r)||function d9(r,n){return r[fP]=n}(r,{previous:wh,current:null}),l=a.current||(a.current={}),c=a.previous,u=this.declaredInputs[i],d=c[u];l[u]=new l9(d&&d.currentValue,n,c===wh),r[s]=n}Ri.ngInherit=!0;const fP="__ngSimpleChanges__";function pP(r){return r[fP]||null}let ZC;function JC(){return void 0!==ZC?ZC:typeof document<"u"?document:void 0}function Qi(r){return!!r.listen}const gP={createRenderer:(r,n)=>{throw new Error("Renderer3 disabled")}};function lr(r){for(;Array.isArray(r);)r=r[0];return r}function Z0(r,n){return lr(n[r])}function ko(r,n){return lr(n[r.index])}function ex(r,n){return r.data[n]}function Sh(r,n){return r[n]}function ao(r,n){const i=n[r];return Vs(i)?i:i[0]}function _P(r){return 4==(4&r[2])}function tx(r){return 64==(64&r[2])}function Ic(r,n){return null==n?null:r[n]}function bP(r){r[18]=0}function nx(r,n){r[5]+=n;let i=r,s=r[3];for(;null!==s&&(1===n&&1===i[5]||-1===n&&0===i[5]);)s[5]+=n,i=s,s=s[3]}const Nt={lFrame:SP(null),bindingsEnabled:!0};function yP(){return Nt.bindingsEnabled}function we(){return Nt.lFrame.lView}function wn(){return Nt.lFrame.tView}function Cn(r){return Nt.lFrame.contextLView=r,r[8]}function xn(r){return Nt.lFrame.contextLView=null,r}function vr(){let r=vP();for(;null!==r&&64===r.type;)r=r.parent;return r}function vP(){return Nt.lFrame.currentTNode}function Pa(r,n){const i=Nt.lFrame;i.currentTNode=r,i.isParent=n}function ix(){return Nt.lFrame.isParent}function rx(){Nt.lFrame.isParent=!1}function bs(){const r=Nt.lFrame;let n=r.bindingRootIndex;return-1===n&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function Dh(){return Nt.lFrame.bindingIndex++}function Cl(r){const n=Nt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function I9(r,n){const i=Nt.lFrame;i.bindingIndex=i.bindingRootIndex=r,sx(n)}function sx(r){Nt.lFrame.currentDirectiveIndex=r}function ox(r){const n=Nt.lFrame.currentDirectiveIndex;return-1===n?null:r[n]}function xP(){return Nt.lFrame.currentQueryIndex}function ax(r){Nt.lFrame.currentQueryIndex=r}function k9(r){const n=r[1];return 2===n.type?n.declTNode:1===n.type?r[6]:null}function MP(r,n,i){if(i&_t.SkipSelf){let a=n,l=r;for(;!(a=a.parent,null!==a||i&_t.Host||(a=k9(l),null===a||(l=l[15],10&a.type))););if(null===a)return!1;n=a,r=l}const s=Nt.lFrame=EP();return s.currentTNode=n,s.lView=r,!0}function eb(r){const n=EP(),i=r[1];Nt.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function EP(){const r=Nt.lFrame,n=null===r?null:r.child;return null===n?SP(r):n}function SP(r){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=n),n}function DP(){const r=Nt.lFrame;return Nt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const IP=DP;function tb(){const r=DP();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function As(){return Nt.lFrame.selectedIndex}function Tc(r){Nt.lFrame.selectedIndex=r}function $i(){const r=Nt.lFrame;return ex(r.tView,r.selectedIndex)}function nb(r,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const l=r.data[i].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:u,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:f}=l;c&&(r.contentHooks||(r.contentHooks=[])).push(-i,c),u&&((r.contentHooks||(r.contentHooks=[])).push(i,u),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(i,u)),d&&(r.viewHooks||(r.viewHooks=[])).push(-i,d),h&&((r.viewHooks||(r.viewHooks=[])).push(i,h),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(i,h)),null!=f&&(r.destroyHooks||(r.destroyHooks=[])).push(i,f)}}function ib(r,n,i){kP(r,n,3,i)}function rb(r,n,i,s){(3&r[2])===i&&kP(r,n,i,s)}function lx(r,n){let i=r[2];(3&i)===n&&(i&=2047,i+=1,r[2]=i)}function kP(r,n,i,s){const l=s??-1,c=n.length-1;let u=0;for(let d=void 0!==s?65535&r[18]:0;d<c;d++)if("number"==typeof n[d+1]){if(u=n[d],null!=s&&u>=s)break}else n[d]<0&&(r[18]+=65536),(u<l||-1==l)&&(U9(r,i,n,d),r[18]=(4294901760&r[18])+d+2),d++}function U9(r,n,i,s){const a=i[s]<0,l=i[s+1],u=r[a?-i[s]:i[s]];if(a){if(r[2]>>11<r[18]>>16&&(3&r[2])===n){r[2]+=2048;try{l.call(u)}finally{}}}else try{l.call(u)}finally{}}class Am{constructor(n,i,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=i,this.injectImpl=s}}function sb(r,n,i){const s=Qi(r);let a=0;for(;a<i.length;){const l=i[a];if("number"==typeof l){if(0!==l)break;a++;const c=i[a++],u=i[a++],d=i[a++];s?r.setAttribute(n,u,d,c):n.setAttributeNS(c,u,d)}else{const c=l,u=i[++a];ux(c)?s&&r.setProperty(n,c,u):s?r.setAttribute(n,c,u):n.setAttribute(c,u),a++}}return a}function RP(r){return 3===r||4===r||6===r}function ux(r){return 64===r.charCodeAt(0)}function ob(r,n){if(null!==n&&0!==n.length)if(null===r||0===r.length)r=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:0===i||PP(r,i,a,null,-1===i||2===i?n[++s]:null)}}return r}function PP(r,n,i,s,a){let l=0,c=r.length;if(-1===n)c=-1;else for(;l<r.length;){const u=r[l++];if("number"==typeof u){if(u===n){c=-1;break}if(u>n){c=l-1;break}}}for(;l<r.length;){const u=r[l];if("number"==typeof u)break;if(u===i){if(null===s)return void(null!==a&&(r[l+1]=a));if(s===r[l+1])return void(r[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==c&&(r.splice(c,0,n),l=c+1),r.splice(l++,0,i),null!==s&&r.splice(l++,0,s),null!==a&&r.splice(l++,0,a)}function OP(r){return-1!==r}function Ih(r){return 32767&r}function Th(r,n){let i=function Q9(r){return r>>16}(r),s=n;for(;i>0;)s=s[15],i--;return s}let dx=!0;function ab(r){const n=dx;return dx=r,n}let $9=0;const Oa={};function vm(r,n){const i=fx(r,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(r.injectorIndex=n.length,hx(s.data,r),hx(n,null),hx(s.blueprint,null));const a=lb(r,n),l=r.injectorIndex;if(OP(a)){const c=Ih(a),u=Th(a,n),d=u[1].data;for(let h=0;h<8;h++)n[l+h]=u[c+h]|d[c+h]}return n[l+8]=a,l}function hx(r,n){r.push(0,0,0,0,0,0,0,0,n)}function fx(r,n){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===n[r.injectorIndex+8]?-1:r.injectorIndex}function lb(r,n){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,a=n;for(;null!==a;){if(s=GP(a),null===s)return-1;if(i++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function cb(r,n,i){!function W9(r,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(pm)&&(s=i[pm]),null==s&&(s=i[pm]=$9++);const a=255&s;n.data[r+(a>>5)]|=1<<a}(r,n,i)}function FP(r,n,i){if(i&_t.Optional)return r;Q0()}function NP(r,n,i,s){if(i&_t.Optional&&void 0===s&&(s=null),0==(i&(_t.Self|_t.Host))){const a=r[9],l=Ra(void 0);try{return a?a.get(n,s,i&_t.Optional):sP(n,s,i&_t.Optional)}finally{Ra(l)}}return FP(s,0,i)}function UP(r,n,i,s=_t.Default,a){if(null!==r){if(1024&n[2]){const c=function K9(r,n,i,s,a){let l=r,c=n;for(;null!==l&&null!==c&&1024&c[2]&&!(256&c[2]);){const u=VP(l,c,i,s|_t.Self,Oa);if(u!==Oa)return u;let d=l.parent;if(!d){const h=c[21];if(h){const f=h.get(i,Oa,s);if(f!==Oa)return f}d=GP(c),c=c[15]}l=d}return a}(r,n,i,s,Oa);if(c!==Oa)return c}const l=VP(r,n,i,s,Oa);if(l!==Oa)return l}return NP(n,i,s,a)}function VP(r,n,i,s,a){const l=function Y9(r){if("string"==typeof r)return r.charCodeAt(0)||0;const n=r.hasOwnProperty(pm)?r[pm]:void 0;return"number"==typeof n?n>=0?255&n:X9:n}(i);if("function"==typeof l){if(!MP(n,r,s))return s&_t.Host?FP(a,0,s):NP(n,i,s,a);try{const c=l(s);if(null!=c||s&_t.Optional)return c;Q0()}finally{IP()}}else if("number"==typeof l){let c=null,u=fx(r,n),d=-1,h=s&_t.Host?n[16][6]:null;for((-1===u||s&_t.SkipSelf)&&(d=-1===u?lb(r,n):n[u+8],-1!==d&&HP(s,!1)?(c=n[1],u=Ih(d),n=Th(d,n)):u=-1);-1!==u;){const f=n[1];if(zP(l,u,f.data)){const p=q9(u,n,i,c,s,h);if(p!==Oa)return p}d=n[u+8],-1!==d&&HP(s,n[1].data[u+8]===h)&&zP(l,u,n)?(c=f,u=Ih(d),n=Th(d,n)):u=-1}}return a}function q9(r,n,i,s,a,l){const c=n[1],u=c.data[r+8],f=ub(u,c,i,null==s?X0(u)&&dx:s!=c&&0!=(3&u.type),a&_t.Host&&l===u);return null!==f?wm(n,c,f,u):Oa}function ub(r,n,i,s,a){const l=r.providerIndexes,c=n.data,u=1048575&l,d=r.directiveStart,f=l>>20,m=a?u+f:r.directiveEnd;for(let g=s?u:u+f;g<m;g++){const _=c[g];if(g<d&&i===_||g>=d&&_.type===i)return g}if(a){const g=c[d];if(g&&sa(g)&&g.type===i)return d}return null}function wm(r,n,i,s){let a=r[i];const l=n.data;if(function V9(r){return r instanceof Am}(a)){const c=a;c.resolving&&function G7(r,n){const i=n?`. Dependency path: ${n.join(" > ")} > ${r}`:"";throw new Te(-200,`Circular dependency in DI detected for ${r}${i}`)}(function Pn(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Gt(r)}(l[i]));const u=ab(c.canSeeViewProviders);c.resolving=!0;const d=c.injectImpl?Ra(c.injectImpl):null;MP(r,s,_t.Default);try{a=r[i]=c.factory(void 0,l,r,s),n.firstCreatePass&&i>=s.directiveStart&&function N9(r,n,i){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=n.type.prototype;if(s){const c=hP(n);(i.preOrderHooks||(i.preOrderHooks=[])).push(r,c),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,c)}a&&(i.preOrderHooks||(i.preOrderHooks=[])).push(0-r,a),l&&((i.preOrderHooks||(i.preOrderHooks=[])).push(r,l),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(r,l))}(i,l[i],n)}finally{null!==d&&Ra(d),ab(u),c.resolving=!1,IP()}}return a}function zP(r,n,i){return!!(i[n+(r>>5)]&1<<r)}function HP(r,n){return!(r&_t.Self||r&_t.Host&&n)}class kh{constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return UP(this._tNode,this._lView,n,s,i)}}function X9(){return new kh(vr(),we())}function dn(r){return Dc(()=>{const n=r.prototype.constructor,i=n[vl]||px(n),s=Object.prototype;let a=Object.getPrototypeOf(r.prototype).constructor;for(;a&&a!==s;){const l=a[vl]||px(a);if(l&&l!==i)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function px(r){return UC(r)?()=>{const n=px(Tt(r));return n&&n()}:ju(r)}function GP(r){const n=r[1],i=n.type;return 2===i?n.declTNode:1===i?r[6]:null}function Ba(r){return function j9(r,n){if("class"===n)return r.classes;if("style"===n)return r.styles;const i=r.attrs;if(i){const s=i.length;let a=0;for(;a<s;){const l=i[a];if(RP(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<s&&"string"==typeof i[a];)a++;else{if(l===n)return i[a+1];a+=2}}}return null}(vr(),r)}const Ph="__parameters__";function Bh(r,n,i){return Dc(()=>{const s=function mx(r){return function(...i){if(r){const s=r(...i);for(const a in s)this[a]=s[a]}}}(n);function a(...l){if(this instanceof a)return s.apply(this,l),this;const c=new a(...l);return u.annotation=c,u;function u(d,h,f){const p=d.hasOwnProperty(Ph)?d[Ph]:Object.defineProperty(d,Ph,{value:[]})[Ph];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(c),d}}return i&&(a.prototype=Object.create(i.prototype)),a.prototype.ngMetadataName=r,a.annotationCls=a,a})}class Ae{constructor(n,i){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=ke({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const J9=new Ae("AnalyzeForEntryComponents");function lo(r,n){void 0===n&&(n=r);for(let i=0;i<r.length;i++){let s=r[i];Array.isArray(s)?(n===r&&(n=r.slice(0,i)),lo(s,n)):n!==r&&n.push(s)}return n}function xl(r,n){r.forEach(i=>Array.isArray(i)?xl(i,n):n(i))}function $P(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function db(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function Mm(r,n){const i=[];for(let s=0;s<r;s++)i.push(n);return i}function co(r,n,i){let s=Lh(r,n);return s>=0?r[1|s]=i:(s=~s,function nq(r,n,i,s){let a=r.length;if(a==n)r.push(i,s);else if(1===a)r.push(s,r[0]),r[0]=i;else{for(a--,r.push(r[a-1],r[a]);a>n;)r[a]=r[a-2],a--;r[n]=i,r[n+1]=s}}(r,s,n,i)),s}function _x(r,n){const i=Lh(r,n);if(i>=0)return r[1|i]}function Lh(r,n){return function qP(r,n,i){let s=0,a=r.length>>i;for(;a!==s;){const l=s+(a-s>>1),c=r[l<<i];if(n===c)return l<<i;c>n?a=l:s=l+1}return~(a<<i)}(r,n,1)}const Em={},Ax="__NG_DI_FLAG__",fb="ngTempTokenPath",uq=/\n/gm,YP="__source";let Sm;function pb(r){const n=Sm;return Sm=r,n}function hq(r,n=_t.Default){if(void 0===Sm)throw new Te(-203,!1);return null===Sm?sP(r,void 0,n):Sm.get(r,n&_t.Optional?null:void 0,n)}function X(r,n=_t.Default){return(function K7(){return HC}()||hq)(Tt(r),n)}function Kr(r,n=_t.Default){return X(r,n)}function yx(r){const n=[];for(let i=0;i<r.length;i++){const s=Tt(r[i]);if(Array.isArray(s)){if(0===s.length)throw new Te(900,!1);let a,l=_t.Default;for(let c=0;c<s.length;c++){const u=s[c],d=fq(u);"number"==typeof d?-1===d?a=u.token:l|=d:a=u}n.push(X(a,l))}else n.push(X(s))}return n}function Dm(r,n){return r[Ax]=n,r.prototype[Ax]=n,r}function fq(r){return r[Ax]}const Ro=Dm(Bh("Optional"),8),qu=Dm(Bh("SkipSelf"),4);let _b,bb;function Nh(r){return function wx(){if(void 0===_b&&(_b=null,Wn.trustedTypes))try{_b=Wn.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return _b}()?.createHTML(r)||r}function rO(r){return function Cx(){if(void 0===bb&&(bb=null,Wn.trustedTypes))try{bb=Wn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return bb}()?.createHTML(r)||r}class Yu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sq extends Yu{getTypeName(){return"HTML"}}class Dq extends Yu{getTypeName(){return"Style"}}class Iq extends Yu{getTypeName(){return"Script"}}class Tq extends Yu{getTypeName(){return"URL"}}class kq extends Yu{getTypeName(){return"ResourceURL"}}function uo(r){return r instanceof Yu?r.changingThisBreaksApplicationSecurity:r}function La(r,n){const i=function Rq(r){return r instanceof Yu&&r.getTypeName()||null}(r);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see https://g.co/ng/security#xss)`)}return i===n}class Nq{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Nh(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.removeChild(i.firstChild),i)}catch{return null}}}class Uq{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i);const s=this.inertDocument.createElement("body");i.appendChild(s)}}getInertBodyElement(n){const i=this.inertDocument.createElement("template");if("content"in i)return i.innerHTML=Nh(n),i;const s=this.inertDocument.createElement("body");return s.innerHTML=Nh(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(n){const i=n.attributes;for(let a=i.length-1;0<a;a--){const c=i.item(a).name;("xmlns:ns1"===c||0===c.indexOf("ns1:"))&&n.removeAttribute(c)}let s=n.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const zq=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hq=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function km(r){return(r=String(r)).match(zq)||r.match(Hq)?r:"unsafe:"+r}function lO(r){return(r=String(r)).split(",").map(n=>km(n.trim())).join(", ")}function Fa(r){const n={};for(const i of r.split(","))n[i]=!0;return n}function Rm(...r){const n={};for(const i of r)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const cO=Fa("area,br,col,hr,img,wbr"),uO=Fa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dO=Fa("rp,rt"),xx=Rm(cO,Rm(uO,Fa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Rm(dO,Fa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rm(dO,uO)),Mx=Fa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ex=Fa("srcset"),hO=Rm(Mx,Ex,Fa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gq=Fa("script,style,template");class Qq{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let i=n.firstChild,s=!0;for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)i=i.firstChild;else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let a=this.checkClobberedElement(i,i.nextSibling);if(a){i=a;break}i=this.checkClobberedElement(i,i.parentNode)}return this.buf.join("")}startElement(n){const i=n.nodeName.toLowerCase();if(!xx.hasOwnProperty(i))return this.sanitizedSomething=!0,!Gq.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let a=0;a<s.length;a++){const l=s.item(a),c=l.name,u=c.toLowerCase();if(!hO.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let d=l.value;Mx[u]&&(d=km(d)),Ex[u]&&(d=lO(d)),this.buf.push(" ",c,'="',fO(d),'"')}return this.buf.push(">"),!0}endElement(n){const i=n.nodeName.toLowerCase();xx.hasOwnProperty(i)&&!cO.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(fO(n))}checkClobberedElement(n,i){if(i&&(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return i}}const $q=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wq=/([^\#-~ |!])/g;function fO(r){return r.replace(/&/g,"&amp;").replace($q,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(Wq,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ab;function pO(r,n){let i=null;try{Ab=Ab||function aO(r){const n=new Uq(r);return function Vq(){try{return!!(new window.DOMParser).parseFromString(Nh(""),"text/html")}catch{return!1}}()?new Nq(n):n}(r);let s=n?String(n):"";i=Ab.getInertBodyElement(s);let a=5,l=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=l,l=i.innerHTML,i=Ab.getInertBodyElement(s)}while(s!==l);return Nh((new Qq).sanitizeChildren(Sx(i)||i))}finally{if(i){const s=Sx(i)||i;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function Sx(r){return"content"in r&&function jq(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Mn=(()=>((Mn=Mn||{})[Mn.NONE=0]="NONE",Mn[Mn.HTML=1]="HTML",Mn[Mn.STYLE=2]="STYLE",Mn[Mn.SCRIPT=3]="SCRIPT",Mn[Mn.URL=4]="URL",Mn[Mn.RESOURCE_URL=5]="RESOURCE_URL",Mn))();function mO(r){const n=Pm();return n?rO(n.sanitize(Mn.HTML,r)||""):La(r,"HTML")?rO(uo(r)):pO(JC(),Gt(r))}function yn(r){const n=Pm();return n?n.sanitize(Mn.URL,r)||"":La(r,"URL")?uo(r):km(Gt(r))}function Pm(){const r=we();return r&&r[12]}function Ix(r){return r.ngOriginalError}class Na{constructor(){this._console=console}handleError(n){const i=this._findOriginalError(n);this._console.error("ERROR",n),i&&this._console.error("ORIGINAL ERROR",i)}_findOriginalError(n){let i=n&&Ix(n);for(;i&&Ix(i);)i=Ix(i);return i||null}}const Tx=new Map;let lY=0;const Rx="__ngContext__";function Zr(r,n){Vs(n)?(r[Rx]=n[20],function uY(r){Tx.set(r[20],r)}(n)):r[Rx]=n}function Om(r){const n=r[Rx];return"number"==typeof n?function bO(r){return Tx.get(r)||null}(n):n||null}function Px(r){const n=Om(r);return n?Vs(n)?n:n.lView:null}const AY=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Wn))();function CO(r){return r.ownerDocument.defaultView}function Ml(r){return r instanceof Function?r():r}var zs=(()=>((zs=zs||{})[zs.Important=1]="Important",zs[zs.DashCase=2]="DashCase",zs))();function Bx(r,n){return undefined(r,n)}function Bm(r){const n=r[3];return ra(n)?n[3]:n}function Lx(r){return DO(r[13])}function Fx(r){return DO(r[4])}function DO(r){for(;null!==r&&!ra(r);)r=r[4];return r}function Vh(r,n,i,s,a){if(null!=s){let l,c=!1;ra(s)?l=s:Vs(s)&&(c=!0,s=s[0]);const u=lr(s);0===r&&null!==i?null==a?OO(n,i,u):Xu(n,i,u,a||null,!0):1===r&&null!==i?Xu(n,i,u,a||null,!0):2===r?function HO(r,n,i){const s=yb(r,n);s&&function PY(r,n,i,s){Qi(r)?r.removeChild(n,i,s):n.removeChild(i)}(r,s,n,i)}(n,u,c):3===r&&n.destroyNode(u),null!=l&&function LY(r,n,i,s,a){const l=i[7];l!==lr(i)&&Vh(n,r,s,l,a);for(let u=10;u<i.length;u++){const d=i[u];Lm(d[1],d,r,n,s,l)}}(n,r,l,i,a)}}function Ux(r,n,i){if(Qi(r))return r.createElement(n,i);{const s=null!==i?function m9(r){const n=r.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(i):null;return null===s?r.createElement(n):r.createElementNS(s,n)}}function TO(r,n){const i=r[9],s=i.indexOf(n),a=n[3];512&n[2]&&(n[2]&=-513,nx(a,-1)),i.splice(s,1)}function Vx(r,n){if(r.length<=10)return;const i=10+n,s=r[i];if(s){const a=s[17];null!==a&&a!==r&&TO(a,s),n>0&&(r[i-1][4]=s[4]);const l=db(r,10+n);!function MY(r,n){Lm(r,n,n[11],2,null,null),n[0]=null,n[6]=null}(s[1],s);const c=l[19];null!==c&&c.detachView(l[1]),s[3]=null,s[4]=null,s[2]&=-65}return s}function kO(r,n){if(!(128&n[2])){const i=n[11];Qi(i)&&i.destroyNode&&Lm(r,n,i,3,null,null),function DY(r){let n=r[13];if(!n)return zx(r[1],r);for(;n;){let i=null;if(Vs(n))i=n[13];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==r;)Vs(n)&&zx(n[1],n),n=n[3];null===n&&(n=r),Vs(n)&&zx(n[1],n),i=n&&n[4]}n=i}}(n)}}function zx(r,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function RY(r,n){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const a=n[i[s]];if(!(a instanceof Am)){const l=i[s+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const u=a[l[c]],d=l[c+1];try{d.call(u)}finally{}}else try{l.call(a)}finally{}}}}(r,n),function kY(r,n){const i=r.cleanup,s=n[7];let a=-1;if(null!==i)for(let l=0;l<i.length-1;l+=2)if("string"==typeof i[l]){const c=i[l+1],u="function"==typeof c?c(n):lr(n[c]),d=s[a=i[l+2]],h=i[l+3];"boolean"==typeof h?u.removeEventListener(i[l],d,h):h>=0?s[a=h]():s[a=-h].unsubscribe(),l+=2}else{const c=s[a=i[l+1]];i[l].call(c)}if(null!==s){for(let l=a+1;l<s.length;l++)s[l]();n[7]=null}}(r,n),1===n[1].type&&Qi(n[11])&&n[11].destroy();const i=n[17];if(null!==i&&ra(n[3])){i!==n[3]&&TO(i,n);const s=n[19];null!==s&&s.detachView(r)}!function dY(r){Tx.delete(r[20])}(n)}}function RO(r,n,i){return function PO(r,n,i){let s=n;for(;null!==s&&40&s.type;)s=(n=s).parent;if(null===s)return i[0];if(2&s.flags){const a=r.data[s.directiveStart].encapsulation;if(a===na.None||a===na.Emulated)return null}return ko(s,i)}(r,n.parent,i)}function Xu(r,n,i,s,a){Qi(r)?r.insertBefore(n,i,s,a):(LO(n)?n.content:n).insertBefore(i,s,a)}function OO(r,n,i){Qi(r)?r.appendChild(n,i):(LO(n)?n.content:n).appendChild(i)}function BO(r,n,i,s,a){null!==s?Xu(r,n,i,s,a):OO(r,n,i)}function LO(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}function yb(r,n){return Qi(r)?r.parentNode(n):n.parentNode}function FO(r,n,i){return UO(r,n,i)}let UO=function NO(r,n,i){return 40&r.type?ko(r,i):null};function vb(r,n,i,s){const a=RO(r,s,n),l=n[11],u=FO(s.parent||n[6],s,n);if(null!=a)if(Array.isArray(i))for(let d=0;d<i.length;d++)BO(l,a,i[d],u,!1);else BO(l,a,i,u,!1)}function wb(r,n){if(null!==n){const i=n.type;if(3&i)return ko(n,r);if(4&i)return Gx(-1,r[n.index]);if(8&i){const s=n.child;if(null!==s)return wb(r,s);{const a=r[n.index];return ra(a)?Gx(-1,a):lr(a)}}if(32&i)return Bx(n,r)()||lr(r[n.index]);{const s=zO(r,n);return null!==s?Array.isArray(s)?s[0]:wb(Bm(r[16]),s):wb(r,n.next)}}return null}function zO(r,n){return null!==n?r[16][6].projection[n.projection]:null}function Gx(r,n){const i=10+r+1;if(i<n.length){const s=n[i],a=s[1].firstChild;if(null!==a)return wb(s,a)}return n[7]}function Qx(r,n,i,s,a,l,c){for(;null!=i;){const u=s[i.index],d=i.type;if(c&&0===n&&(u&&Zr(lr(u),s),i.flags|=4),64!=(64&i.flags))if(8&d)Qx(r,n,i.child,s,a,l,!1),Vh(n,r,a,u,l);else if(32&d){const h=Bx(i,s);let f;for(;f=h();)Vh(n,r,a,f,l);Vh(n,r,a,u,l)}else 16&d?GO(r,n,s,i,a,l):Vh(n,r,a,u,l);i=c?i.projectionNext:i.next}}function Lm(r,n,i,s,a,l){Qx(i,s,r.firstChild,n,a,l,!1)}function GO(r,n,i,s,a,l){const c=i[16],d=c[6].projection[s.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Vh(n,r,a,d[h],l);else Qx(r,n,d,c[3],a,l,!0)}function QO(r,n,i){Qi(r)?r.setAttribute(n,"style",i):n.style.cssText=i}function $x(r,n,i){Qi(r)?""===i?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i):n.className=i}function $O(r,n,i){let s=r.length;for(;;){const a=r.indexOf(n,i);if(-1===a)return a;if(0===a||r.charCodeAt(a-1)<=32){const l=n.length;if(a+l===s||r.charCodeAt(a+l)<=32)return a}i=a+1}}const WO="ng-template";function NY(r,n,i){let s=0;for(;s<r.length;){let a=r[s++];if(i&&"class"===a){if(a=r[s],-1!==$O(a.toLowerCase(),n,0))return!0}else if(1===a){for(;s<r.length&&"string"==typeof(a=r[s++]);)if(a.toLowerCase()===n)return!0;return!1}}return!1}function jO(r){return 4===r.type&&r.value!==WO}function UY(r,n,i){return n===(4!==r.type||i?r.value:WO)}function VY(r,n,i){let s=4;const a=r.attrs||[],l=function GY(r){for(let n=0;n<r.length;n++)if(RP(r[n]))return n;return r.length}(a);let c=!1;for(let u=0;u<n.length;u++){const d=n[u];if("number"!=typeof d){if(!c)if(4&s){if(s=2|1&s,""!==d&&!UY(r,d,i)||""===d&&1===n.length){if(oa(s))return!1;c=!0}}else{const h=8&s?d:n[++u];if(8&s&&null!==r.attrs){if(!NY(r.attrs,h,i)){if(oa(s))return!1;c=!0}continue}const p=zY(8&s?"class":d,a,jO(r),i);if(-1===p){if(oa(s))return!1;c=!0;continue}if(""!==h){let m;m=p>l?"":a[p+1].toLowerCase();const g=8&s?m:null;if(g&&-1!==$O(g,h,0)||2&s&&h!==m){if(oa(s))return!1;c=!0}}}}else{if(!c&&!oa(s)&&!oa(d))return!1;if(c&&oa(d))continue;c=!1,s=d|1&s}}return oa(s)||c}function oa(r){return 0==(1&r)}function zY(r,n,i,s){if(null===n)return-1;let a=0;if(s||!i){let l=!1;for(;a<n.length;){const c=n[a];if(c===r)return a;if(3===c||6===c)l=!0;else{if(1===c||2===c){let u=n[++a];for(;"string"==typeof u;)u=n[++a];continue}if(4===c)break;if(0===c){a+=4;continue}}a+=l?1:2}return-1}return function QY(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,r)}function qO(r,n,i=!1){for(let s=0;s<n.length;s++)if(VY(r,n[s],i))return!0;return!1}function $Y(r,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(r.length===s.length){for(let a=0;a<r.length;a++)if(r[a]!==s[a])continue e;return!0}}return!1}function YO(r,n){return r?":not("+n.trim()+")":n}function WY(r){let n=r[0],i=1,s=2,a="",l=!1;for(;i<r.length;){let c=r[i];if("string"==typeof c)if(2&s){const u=r[++i];a+="["+c+(u.length>0?'="'+u+'"':"")+"]"}else 8&s?a+="."+c:4&s&&(a+=" "+c);else""!==a&&!oa(c)&&(n+=YO(l,a),a=""),s=c,l=l||!oa(s);i++}return""!==a&&(n+=YO(l,a)),n}const Qt={};function N(r){XO(wn(),we(),As()+r,!1)}function XO(r,n,i,s){if(!s)if(3==(3&n[2])){const l=r.preOrderCheckHooks;null!==l&&ib(n,l,i)}else{const l=r.preOrderHooks;null!==l&&rb(n,l,0,i)}Tc(i)}const Wx=new Ae("ENVIRONMENT_INITIALIZER"),e2=new Ae("INJECTOR_DEF_TYPES");function eX(...r){return{\u0275providers:t2(0,r)}}function t2(r,...n){const i=[],s=new Set;let a;return xl(n,l=>{const c=l;jx(c,i,[],s)&&(a||(a=[]),a.push(c))}),void 0!==a&&n2(a,i),i}function n2(r,n){for(let i=0;i<r.length;i++){const{providers:a}=r[i];xl(a,l=>{n.push(l)})}}function jx(r,n,i,s){if(!(r=Tt(r)))return!1;let a=null,l=iP(r);const c=!l&&ni(r);if(l||c){if(c&&!c.standalone)return!1;a=r}else{const d=r.ngModule;if(l=iP(d),!l)return!1;a=d}const u=s.has(a);if(c){if(u)return!1;if(s.add(a),c.dependencies){const d="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const h of d)jx(h,n,i,s)}}else{if(!l)return!1;{if(null!=l.imports&&!u){let h;s.add(a);try{xl(l.imports,f=>{jx(f,n,i,s)&&(h||(h=[]),h.push(f))})}finally{}void 0!==h&&n2(h,n)}if(!u){const h=ju(a)||(()=>new a);n.push({provide:a,useFactory:h,deps:On},{provide:e2,useValue:a,multi:!0},{provide:Wx,useValue:()=>X(a),multi:!0})}const d=l.providers;null==d||u||xl(d,f=>{n.push(f)})}}return a!==r&&void 0!==r.providers}const tX=ei({provide:String,useValue:ei});function qx(r){return null!==r&&"object"==typeof r&&tX in r}function Ku(r){return"function"==typeof r}const Yx=new Ae("INJECTOR",-1);class o2{get(n,i=Em){if(i===Em){const s=new Error(`NullInjectorError: No provider for ${ti(n)}!`);throw s.name="NullInjectorError",s}return i}}const Xx=new Ae("Set Injector scope."),Cb={},iX={};let Kx;function Zx(){return void 0===Kx&&(Kx=new o2),Kx}class Zu{}class a2 extends Zu{constructor(n,i,s,a){super(),this.parent=i,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eM(n,c=>this.processProvider(c)),this.records.set(Yx,zh(void 0,this)),a.has("environment")&&this.records.set(Zu,zh(void 0,this));const l=this.records.get(Xx);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(e2.multi,On,_t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}get(n,i=Em,s=_t.Default){this.assertNotDestroyed();const a=pb(this),l=Ra(void 0);try{if(!(s&_t.SkipSelf)){let u=this.records.get(n);if(void 0===u){const d=function lX(r){return"function"==typeof r||"object"==typeof r&&r instanceof Ae}(n)&&VC(n);u=d&&this.injectableDefInScope(d)?zh(Jx(n),Cb):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(s&_t.Self?Zx():this.parent).get(n,i=s&_t.Optional&&i===Em?null:i)}catch(c){if("NullInjectorError"===c.name){if((c[fb]=c[fb]||[]).unshift(ti(n)),a)throw c;return function pq(r,n,i,s){const a=r[fb];throw n[YP]&&a.unshift(n[YP]),r.message=function mq(r,n,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let a=ti(n);if(Array.isArray(n))a=n.map(ti).join(" -> ");else if("object"==typeof n){let l=[];for(let c in n)if(n.hasOwnProperty(c)){let u=n[c];l.push(c+":"+("string"==typeof u?JSON.stringify(u):ti(u)))}a=`{${l.join(", ")}}`}return`${i}${s?"("+s+")":""}[${a}]: ${r.replace(uq,"\n  ")}`}("\n"+r.message,a,i,s),r.ngTokenPath=a,r[fb]=null,r}(c,n,"R3InjectorError",this.source)}throw c}finally{Ra(l),pb(a)}}resolveInjectorInitializers(){const n=pb(this),i=Ra(void 0);try{const s=this.get(Wx.multi,On,_t.Self);for(const a of s)a()}finally{pb(n),Ra(i)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(ti(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(n){let i=Ku(n=Tt(n))?n:Tt(n&&n.provide);const s=function sX(r){return qx(r)?zh(void 0,r.useValue):zh(l2(r),Cb)}(n);if(Ku(n)||!0!==n.multi)this.records.get(i);else{let a=this.records.get(i);a||(a=zh(void 0,Cb,!0),a.factory=()=>yx(a.multi),this.records.set(i,a)),i=n,a.multi.push(n)}this.records.set(i,s)}hydrate(n,i){return i.value===Cb&&(i.value=iX,i.value=i.factory()),"object"==typeof i.value&&i.value&&function aX(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}injectableDefInScope(n){if(!n.providedIn)return!1;const i=Tt(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}}function Jx(r){const n=VC(r),i=null!==n?n.factory:ju(r);if(null!==i)return i;if(r instanceof Ae)throw new Te(204,!1);if(r instanceof Function)return function rX(r){const n=r.length;if(n>0)throw Mm(n,"?"),new Te(204,!1);const i=function q7(r){const n=r&&(r[$0]||r[rP]);if(n){const i=function Y7(r){if(r.hasOwnProperty("name"))return r.name;const n=(""+r).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${i}" class.`),n}return null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new Te(204,!1)}function l2(r,n,i){let s;if(Ku(r)){const a=Tt(r);return ju(a)||Jx(a)}if(qx(r))s=()=>Tt(r.useValue);else if(function s2(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...yx(r.deps||[]));else if(function r2(r){return!(!r||!r.useExisting)}(r))s=()=>X(Tt(r.useExisting));else{const a=Tt(r&&(r.useClass||r.provide));if(!function oX(r){return!!r.deps}(r))return ju(a)||Jx(a);s=()=>new a(...yx(r.deps))}return s}function zh(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function cX(r){return!!r.\u0275providers}function eM(r,n){for(const i of r)Array.isArray(i)?eM(i,n):cX(i)?eM(i.\u0275providers,n):n(i)}function c2(r,n=null,i=null,s){const a=u2(r,n,i,s);return a.resolveInjectorInitializers(),a}function u2(r,n=null,i=null,s,a=new Set){const l=[i||On,eX(r)];return s=s||("object"==typeof r?void 0:ti(r)),new a2(l,n||Zx(),s||null,a)}let Pi=(()=>{class r{static create(i,s){if(Array.isArray(i))return c2({name:""},s,i,"");{const a=i.name??"";return c2({name:a},i.parent,i.providers,a)}}}return r.THROW_IF_NOT_FOUND=Em,r.NULL=new o2,r.\u0275prov=ke({token:r,providedIn:"any",factory:()=>X(Yx)}),r.__NG_ELEMENT_ID__=-1,r})();function I(r,n=_t.Default){const i=we();return null===i?X(r,n):UP(vr(),i,Tt(r),n)}function Fm(){throw new Error("invalid")}function Mb(r,n){return r<<17|n<<2}function aa(r){return r>>17&32767}function lM(r){return 2|r}function El(r){return(131068&r)>>2}function cM(r,n){return-131069&r|n<<2}function uM(r){return 1|r}function T2(r,n){const i=r.contentQueries;if(null!==i)for(let s=0;s<i.length;s+=2){const a=i[s],l=i[s+1];if(-1!==l){const c=r.data[l];ax(a),c.contentQueries(2,n[l],l)}}}function Nm(r,n,i,s,a,l,c,u,d,h,f){const p=n.blueprint.slice();return p[0]=a,p[2]=76|s,(null!==f||r&&1024&r[2])&&(p[2]|=1024),bP(p),p[3]=p[15]=r,p[8]=i,p[10]=c||r&&r[10],p[11]=u||r&&r[11],p[12]=d||r&&r[12]||null,p[9]=h||r&&r[9]||null,p[6]=l,p[20]=function cY(){return lY++}(),p[21]=f,p[16]=2==n.type?r[16]:p,p}function Gh(r,n,i,s,a){let l=r.data[n];if(null===l)l=function AM(r,n,i,s,a){const l=vP(),c=ix(),d=r.data[n]=function zX(r,n,i,s,a,l){return{type:i,index:s,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,i,n,s,a);return null===r.firstChild&&(r.firstChild=d),null!==l&&(c?null==l.child&&null!==d.parent&&(l.child=d):null===l.next&&(l.next=d)),d}(r,n,i,s,a),function D9(){return Nt.lFrame.inI18n}()&&(l.flags|=64);else if(64&l.type){l.type=i,l.value=s,l.attrs=a;const c=function bm(){const r=Nt.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return Pa(l,!0),l}function Qh(r,n,i,s){if(0===i)return-1;const a=n.length;for(let l=0;l<i;l++)n.push(s),r.blueprint.push(s),r.data.push(null);return a}function Um(r,n,i){eb(n);try{const s=r.viewQuery;null!==s&&DM(1,s,i);const a=r.template;null!==a&&k2(r,n,a,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&T2(r,n),r.staticViewQueries&&DM(2,r.viewQuery,i);const l=r.components;null!==l&&function NX(r,n){for(let i=0;i<n.length;i++)sK(r,n[i])}(n,l)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{n[2]&=-5,tb()}}function $h(r,n,i,s){const a=n[2];if(128!=(128&a)){eb(n);try{bP(n),function wP(r){return Nt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&k2(r,n,i,2,s);const c=3==(3&a);if(c){const h=r.preOrderCheckHooks;null!==h&&ib(n,h,null)}else{const h=r.preOrderHooks;null!==h&&rb(n,h,0,null),lx(n,0)}if(function iK(r){for(let n=Lx(r);null!==n;n=Fx(n)){if(!n[2])continue;const i=n[9];for(let s=0;s<i.length;s++){const a=i[s],l=a[3];0==(512&a[2])&&nx(l,1),a[2]|=512}}}(n),function nK(r){for(let n=Lx(r);null!==n;n=Fx(n))for(let i=10;i<n.length;i++){const s=n[i],a=s[1];tx(s)&&$h(a,s,a.template,s[8])}}(n),null!==r.contentQueries&&T2(r,n),c){const h=r.contentCheckHooks;null!==h&&ib(n,h)}else{const h=r.contentHooks;null!==h&&rb(n,h,1),lx(n,1)}!function LX(r,n){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const a=i[s];if(a<0)Tc(~a);else{const l=a,c=i[++s],u=i[++s];I9(c,l),u(2,n[l])}}}finally{Tc(-1)}}(r,n);const u=r.components;null!==u&&function FX(r,n){for(let i=0;i<n.length;i++)rK(r,n[i])}(n,u);const d=r.viewQuery;if(null!==d&&DM(2,d,s),c){const h=r.viewCheckHooks;null!==h&&ib(n,h)}else{const h=r.viewHooks;null!==h&&rb(n,h,2),lx(n,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,nx(n[3],-1))}finally{tb()}}}function UX(r,n,i,s){const a=n[10],c=_P(n);try{!c&&a.begin&&a.begin(),c&&Um(r,n,s),$h(r,n,i,s)}finally{!c&&a.end&&a.end()}}function k2(r,n,i,s,a){const l=As(),c=2&s;try{Tc(-1),c&&n.length>22&&XO(r,n,22,!1),i(s,a)}finally{Tc(l)}}function R2(r,n,i){if(jC(n)){const a=n.directiveEnd;for(let l=n.directiveStart;l<a;l++){const c=r.data[l];c.contentQueries&&c.contentQueries(1,i[l],l)}}}function yM(r,n,i){!yP()||(function qX(r,n,i,s){const a=i.directiveStart,l=i.directiveEnd;r.firstCreatePass||vm(i,n),Zr(s,n);const c=i.initialInputs;for(let u=a;u<l;u++){const d=r.data[u],h=sa(d);h&&JX(n,i,d);const f=wm(n,r,u,i);Zr(f,n),null!==c&&eK(0,u-a,f,d,0,c),h&&(ao(i.index,n)[8]=f)}}(r,n,i,ko(i,n)),128==(128&i.flags)&&function YX(r,n,i){const s=i.directiveStart,a=i.directiveEnd,l=i.index,c=function T9(){return Nt.lFrame.currentDirectiveIndex}();try{Tc(l);for(let u=s;u<a;u++){const d=r.data[u],h=n[u];sx(u),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&U2(d,h)}}finally{Tc(-1),sx(c)}}(r,n,i))}function vM(r,n,i=ko){const s=n.localNames;if(null!==s){let a=n.index+1;for(let l=0;l<s.length;l+=2){const c=s[l+1],u=-1===c?i(n,r):r[c];r[a++]=u}}}function P2(r){const n=r.tView;return null===n||n.incompleteFirstPass?r.tView=Db(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):n}function Db(r,n,i,s,a,l,c,u,d,h){const f=22+s,p=f+a,m=function VX(r,n){const i=[];for(let s=0;s<n;s++)i.push(s<r?null:Qt);return i}(f,p),g="function"==typeof h?h():h;return m[1]={type:r,blueprint:m,template:i,queries:null,viewQuery:u,declTNode:n,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:d,consts:g,incompleteFirstPass:!1}}function L2(r,n,i,s){const a=$2(n);null===i?a.push(s):(a.push(i),r.firstCreatePass&&W2(r).push(s,a.length-1))}function F2(r,n,i){for(let s in r)if(r.hasOwnProperty(s)){const a=r[s];(i=null===i?{}:i).hasOwnProperty(s)?i[s].push(n,a):i[s]=[n,a]}return i}function ho(r,n,i,s,a,l,c,u){const d=ko(n,i);let f,h=n.inputs;!u&&null!=h&&(f=h[s])?(Y2(r,i,f,s,a),X0(n)&&function QX(r,n){const i=ao(n,r);16&i[2]||(i[2]|=32)}(i,n.index)):3&n.type&&(s=function GX(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),a=null!=c?c(a,n.value||"",s):a,Qi(l)?l.setProperty(d,s,a):ux(s)||(d.setProperty?d.setProperty(s,a):d[s]=a))}function wM(r,n,i,s){let a=!1;if(yP()){const l=function XX(r,n,i){const s=r.directiveRegistry;let a=null;if(s)for(let l=0;l<s.length;l++){const c=s[l];qO(i,c.selectors,!1)&&(a||(a=[]),cb(vm(i,n),r,c.type),sa(c)?(V2(r,i),a.unshift(c)):a.push(c))}return a}(r,n,i),c=null===s?null:{"":-1};if(null!==l){a=!0,z2(i,r.data.length,l.length);for(let f=0;f<l.length;f++){const p=l[f];p.providersResolver&&p.providersResolver(p)}let u=!1,d=!1,h=Qh(r,n,l.length,null);for(let f=0;f<l.length;f++){const p=l[f];i.mergedAttrs=ob(i.mergedAttrs,p.hostAttrs),H2(r,i,n,h,p),ZX(h,p,c),null!==p.contentQueries&&(i.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(i.flags|=128);const m=p.type.prototype;!u&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(i.index),u=!0),!d&&(m.ngOnChanges||m.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(i.index),d=!0),h++}!function HX(r,n){const s=n.directiveEnd,a=r.data,l=n.attrs,c=[];let u=null,d=null;for(let h=n.directiveStart;h<s;h++){const f=a[h],p=f.inputs,m=null===l||jO(n)?null:tK(p,l);c.push(m),u=F2(p,h,u),d=F2(f.outputs,h,d)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=16),u.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=c,n.inputs=u,n.outputs=d}(r,i)}c&&function KX(r,n,i){if(n){const s=r.localNames=[];for(let a=0;a<n.length;a+=2){const l=i[n[a+1]];if(null==l)throw new Te(-301,!1);s.push(n[a],l)}}}(i,s,c)}return i.mergedAttrs=ob(i.mergedAttrs,i.attrs),a}function N2(r,n,i,s,a,l){const c=l.hostBindings;if(c){let u=r.hostBindingOpCodes;null===u&&(u=r.hostBindingOpCodes=[]);const d=~n.index;(function jX(r){let n=r.length;for(;n>0;){const i=r[--n];if("number"==typeof i&&i<0)return i}return 0})(u)!=d&&u.push(d),u.push(s,a,c)}}function U2(r,n){null!==r.hostBindings&&r.hostBindings(1,n)}function V2(r,n){n.flags|=2,(r.components||(r.components=[])).push(n.index)}function ZX(r,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=r;sa(n)&&(i[""]=r)}}function z2(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}function H2(r,n,i,s,a){r.data[s]=a;const l=a.factory||(a.factory=ju(a.type)),c=new Am(l,sa(a),I);r.blueprint[s]=c,i[s]=c,N2(r,n,0,s,Qh(r,i,a.hostVars,Qt),a)}function JX(r,n,i){const s=ko(n,r),a=P2(i),l=r[10],c=Ib(r,Nm(r,a,null,i.onPush?32:16,s,n,l,l.createRenderer(s,i),null,null,null));r[n.index]=c}function Ua(r,n,i,s,a,l){const c=ko(r,n);!function CM(r,n,i,s,a,l,c){if(null==l)Qi(r)?r.removeAttribute(n,a,i):n.removeAttribute(a);else{const u=null==c?Gt(l):c(l,s||"",a);Qi(r)?r.setAttribute(n,a,u,i):i?n.setAttributeNS(i,a,u):n.setAttribute(a,u)}}(n[11],c,l,r.value,i,s,a)}function eK(r,n,i,s,a,l){const c=l[n];if(null!==c){const u=s.setInput;for(let d=0;d<c.length;){const h=c[d++],f=c[d++],p=c[d++];null!==u?s.setInput(i,p,h,f):i[f]=p}}}function tK(r,n){let i=null,s=0;for(;s<n.length;){const a=n[s];if(0!==a)if(5!==a){if("number"==typeof a)break;r.hasOwnProperty(a)&&(null===i&&(i=[]),i.push(a,r[a],n[s+1])),s+=2}else s+=2;else s+=4}return i}function G2(r,n,i,s){return new Array(r,!0,!1,n,null,0,s,i,null,null)}function rK(r,n){const i=ao(n,r);if(tx(i)){const s=i[1];48&i[2]?$h(s,i,s.template,i[8]):i[5]>0&&xM(i)}}function xM(r){for(let s=Lx(r);null!==s;s=Fx(s))for(let a=10;a<s.length;a++){const l=s[a];if(512&l[2]){const c=l[1];$h(c,l,c.template,l[8])}else l[5]>0&&xM(l)}const i=r[1].components;if(null!==i)for(let s=0;s<i.length;s++){const a=ao(i[s],r);tx(a)&&a[5]>0&&xM(a)}}function sK(r,n){const i=ao(n,r),s=i[1];(function oK(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])})(s,i),Um(s,i,i[8])}function Ib(r,n){return r[13]?r[14][4]=n:r[13]=n,r[14]=n,n}function MM(r){for(;r;){r[2]|=32;const n=Bm(r);if(s9(r)&&!n)return r;r=n}return null}function Q2(r){!function EM(r){for(let n=0;n<r.components.length;n++){const i=r.components[n],s=Px(i);if(null!==s){const a=s[1];UX(a,s,a.template,i)}}}(r[8])}function DM(r,n,i){ax(0),n(r,i)}const lK=(()=>Promise.resolve(null))();function $2(r){return r[7]||(r[7]=[])}function W2(r){return r.cleanup||(r.cleanup=[])}function j2(r,n,i){return(null===r||sa(r))&&(i=function A9(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(i[n.index])),i[11]}function q2(r,n){const i=r[9],s=i?i.get(Na,null):null;s&&s.handleError(n)}function Y2(r,n,i,s,a){for(let l=0;l<i.length;){const c=i[l++],u=i[l++],d=n[c],h=r.data[c];null!==h.setInput?h.setInput(d,a,s,u):d[u]=a}}function Sl(r,n,i){const s=Z0(n,r);!function IO(r,n,i){Qi(r)?r.setValue(n,i):n.textContent=i}(r[11],s,i)}function Tb(r,n,i){let s=i?r.styles:null,a=i?r.classes:null,l=0;if(null!==n)for(let c=0;c<n.length;c++){const u=n[c];"number"==typeof u?l=u:1==l?a=NC(a,u):2==l&&(s=NC(s,u+": "+n[++c]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=a:r.classesWithoutHost=a}function AK(){const r=vr();nb(we()[1],r)}function Ie(r){let n=function aB(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),i=!0;const s=[r];for(;n;){let a;if(sa(r))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Te(903,!1);a=n.\u0275dir}if(a){if(i){s.push(a);const c=r;c.inputs=TM(r.inputs),c.declaredInputs=TM(r.declaredInputs),c.outputs=TM(r.outputs);const u=a.hostBindings;u&&CK(r,u);const d=a.viewQuery,h=a.contentQueries;if(d&&vK(r,d),h&&wK(r,h),FC(r.inputs,a.inputs),FC(r.declaredInputs,a.declaredInputs),FC(r.outputs,a.outputs),sa(a)&&a.data.animation){const f=r.data;f.animation=(f.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let c=0;c<l.length;c++){const u=l[c];u&&u.ngInherit&&u(r),u===Ie&&(i=!1)}}n=Object.getPrototypeOf(n)}!function yK(r){let n=0,i=null;for(let s=r.length-1;s>=0;s--){const a=r[s];a.hostVars=n+=a.hostVars,a.hostAttrs=ob(a.hostAttrs,i=ob(i,a.hostAttrs))}}(s)}function TM(r){return r===wh?{}:r===On?[]:r}function vK(r,n){const i=r.viewQuery;r.viewQuery=i?(s,a)=>{n(s,a),i(s,a)}:n}function wK(r,n){const i=r.contentQueries;r.contentQueries=i?(s,a,l)=>{n(s,a,l),i(s,a,l)}:n}function CK(r,n){const i=r.hostBindings;r.hostBindings=i?(s,a)=>{n(s,a),i(s,a)}:n}let kb=null;function Ju(){if(!kb){const r=Wn.Symbol;if(r&&r.iterator)kb=r.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let i=0;i<n.length;++i){const s=n[i];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(kb=s)}}}return kb}function Vm(r){return!!kM(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ju()in r)}function kM(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Va(r,n,i){return r[n]=i}function Jr(r,n,i){return!Object.is(r[n],i)&&(r[n]=i,!0)}function ed(r,n,i,s){const a=Jr(r,n,i);return Jr(r,n+1,s)||a}function nn(r,n,i,s){const a=we();return Jr(a,Dh(),n)&&(wn(),Ua($i(),a,r,n,i,s)),nn}function jh(r,n,i,s){return Jr(r,Dh(),i)?n+Gt(i)+s:Qt}function qh(r,n,i,s,a,l){const u=ed(r,function wl(){return Nt.lFrame.bindingIndex}(),i,a);return Cl(2),u?n+Gt(i)+s+Gt(a)+l:Qt}function K(r,n,i,s,a,l,c,u){const d=we(),h=wn(),f=r+22,p=h.firstCreatePass?function TK(r,n,i,s,a,l,c,u,d){const h=n.consts,f=Gh(n,r,4,c||null,Ic(h,u));wM(n,i,f,Ic(h,d)),nb(n,f);const p=f.tViews=Db(2,f,s,a,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h);return null!==n.queries&&(n.queries.template(n,f),p.queries=n.queries.embeddedTView(f)),f}(f,h,d,n,i,s,a,l,c):h.data[f];Pa(p,!1);const m=d[11].createComment("");vb(h,d,m,p),Zr(m,d),Ib(d,d[f]=G2(m,d,m,p)),K0(p)&&yM(h,d,p),null!=c&&vM(d,p,u)}function Oi(r){return Sh(function S9(){return Nt.lFrame.contextLView}(),22+r)}function B(r,n,i){const s=we();return Jr(s,Dh(),n)&&ho(wn(),$i(),s,r,n,s[11],i,!1),B}function RM(r,n,i,s,a){const c=a?"class":"style";Y2(r,i,n.inputs[c],c,s)}function q(r,n,i,s){const a=we(),l=wn(),c=22+r,u=a[11],d=a[c]=Ux(u,n,function F9(){return Nt.lFrame.currentNamespace}()),h=l.firstCreatePass?function RK(r,n,i,s,a,l,c){const u=n.consts,h=Gh(n,r,2,a,Ic(u,l));return wM(n,i,h,Ic(u,c)),null!==h.attrs&&Tb(h,h.attrs,!1),null!==h.mergedAttrs&&Tb(h,h.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,h),h}(c,l,a,0,n,i,s):l.data[c];Pa(h,!0);const f=h.mergedAttrs;null!==f&&sb(u,d,f);const p=h.classes;null!==p&&$x(u,d,p);const m=h.styles;return null!==m&&QO(u,d,m),64!=(64&h.flags)&&vb(l,a,d,h),0===function w9(){return Nt.lFrame.elementDepthCount}()&&Zr(d,a),function C9(){Nt.lFrame.elementDepthCount++}(),K0(h)&&(yM(l,a,h),R2(l,h,a)),null!==s&&vM(a,h),q}function W(){let r=vr();ix()?rx():(r=r.parent,Pa(r,!1));const n=r;!function x9(){Nt.lFrame.elementDepthCount--}();const i=wn();return i.firstCreatePass&&(nb(i,r),jC(r)&&i.queries.elementEnd(r)),null!=n.classesWithoutHost&&function H9(r){return 0!=(16&r.flags)}(n)&&RM(i,n,we(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function G9(r){return 0!=(32&r.flags)}(n)&&RM(i,n,we(),n.stylesWithoutHost,!1),W}function pe(r,n,i,s){return q(r,n,i,s),W(),pe}function ci(r,n,i){const s=we(),a=wn(),l=r+22,c=a.firstCreatePass?function PK(r,n,i,s,a){const l=n.consts,c=Ic(l,s),u=Gh(n,r,8,"ng-container",c);return null!==c&&Tb(u,c,!0),wM(n,i,u,Ic(l,a)),null!==n.queries&&n.queries.elementStart(n,u),u}(l,a,s,n,i):a.data[l];Pa(c,!0);const u=s[l]=s[11].createComment("");return vb(a,s,u,c),Zr(u,s),K0(c)&&(yM(a,s,c),R2(a,c,s)),null!=i&&vM(s,c),ci}function ui(){let r=vr();const n=wn();return ix()?rx():(r=r.parent,Pa(r,!1)),n.firstCreatePass&&(nb(n,r),jC(r)&&n.queries.elementEnd(r)),ui}function vs(r,n,i){return ci(r,n,i),ui(),vs}function di(){return we()}function Hm(r){return!!r&&"function"==typeof r.then}function _B(r){return!!r&&"function"==typeof r.subscribe}const PM=_B;function tt(r,n,i,s){const a=we(),l=wn(),c=vr();return bB(l,a,a[11],c,r,n,!!i,s),tt}function Pb(r,n){const i=vr(),s=we(),a=wn();return bB(a,s,j2(ox(a.data),i,s),i,r,n,!1),Pb}function bB(r,n,i,s,a,l,c,u){const d=K0(s),f=r.firstCreatePass&&W2(r),p=n[8],m=$2(n);let g=!0;if(3&s.type||u){const b=ko(s,n),y=u?u(b):b,w=m.length,v=u?C=>u(lr(C[s.index])):s.index;if(Qi(i)){let C=null;if(!u&&d&&(C=function OK(r,n,i,s){const a=r.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const c=a[l];if(c===i&&a[l+1]===s){const u=n[7],d=a[l+2];return u.length>d?u[d]:null}"string"==typeof c&&(l+=2)}return null}(r,n,a,s.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=l,C.__ngLastListenerFn__=l,g=!1;else{l=OM(s,n,p,l,!1);const M=i.listen(y,a,l);m.push(l,M),f&&f.push(a,v,w,w+1)}}else l=OM(s,n,p,l,!0),y.addEventListener(a,l,c),m.push(l),f&&f.push(a,v,w,c)}else l=OM(s,n,p,l,!1);const _=s.outputs;let A;if(g&&null!==_&&(A=_[a])){const b=A.length;if(b)for(let y=0;y<b;y+=2){const E=n[A[y]][A[y+1]].subscribe(l),S=m.length;m.push(l,E),f&&f.push(a,s.index,S,-(S+1))}}}function AB(r,n,i,s){try{return!1!==i(s)}catch(a){return q2(r,a),!1}}function OM(r,n,i,s,a){return function l(c){if(c===Function)return s;MM(2&r.flags?ao(r.index,n):n);let d=AB(n,0,s,c),h=l.__ngNextListenerFn__;for(;h;)d=AB(n,0,h,c)&&d,h=h.__ngNextListenerFn__;return a&&!1===d&&(c.preventDefault(),c.returnValue=!1),d}}function ie(r=1){return function R9(r){return(Nt.lFrame.contextLView=function P9(r,n){for(;r>0;)n=n[15],r--;return n}(r,Nt.lFrame.contextLView))[8]}(r)}function BK(r,n){let i=null;const s=function HY(r){const n=r.attrs;if(null!=n){const i=n.indexOf(5);if(0==(1&i))return n[i+1]}return null}(r);for(let a=0;a<n.length;a++){const l=n[a];if("*"!==l){if(null===s?qO(r,l,!0):$Y(s,l))return a}else i=a}return i}function Bi(r){const n=we()[16][6];if(!n.projection){const s=n.projection=Mm(r?r.length:1,null),a=s.slice();let l=n.child;for(;null!==l;){const c=r?BK(l,r):0;null!==c&&(a[c]?a[c].projectionNext=l:s[c]=l,a[c]=l),l=l.next}}}function bn(r,n=0,i){const s=we(),a=wn(),l=Gh(a,22+r,16,null,i||null);null===l.projection&&(l.projection=n),rx(),64!=(64&l.flags)&&function BY(r,n,i){GO(n[11],0,n,i,RO(r,i,n),FO(i.parent||n[6],i,n))}(a,s,l)}function za(r,n,i){return BM(r,"",n,"",i),za}function BM(r,n,i,s,a){const l=we(),c=jh(l,n,i,s);return c!==Qt&&ho(wn(),$i(),l,r,c,l[11],a,!1),BM}function DB(r,n,i,s,a){const l=r[i+1],c=null===n;let u=s?aa(l):El(l),d=!1;for(;0!==u&&(!1===d||c);){const f=r[u+1];NK(r[u],n)&&(d=!0,r[u+1]=s?uM(f):lM(f)),u=s?aa(f):El(f)}d&&(r[i+1]=s?lM(l):uM(l))}function NK(r,n){return null===r||null==n||(Array.isArray(r)?r[1]:r)===n||!(!Array.isArray(r)||"string"!=typeof n)&&Lh(r,n)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IB(r){return r.substring(Cr.key,Cr.keyEnd)}function UK(r){return r.substring(Cr.value,Cr.valueEnd)}function TB(r,n){const i=Cr.textEnd;return i===n?-1:(n=Cr.keyEnd=function HK(r,n,i){for(;n<i&&r.charCodeAt(n)>32;)n++;return n}(r,Cr.key=n,i),tf(r,n,i))}function kB(r,n){const i=Cr.textEnd;let s=Cr.key=tf(r,n,i);return i===s?-1:(s=Cr.keyEnd=function GK(r,n,i){let s;for(;n<i&&(45===(s=r.charCodeAt(n))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)n++;return n}(r,s,i),s=PB(r,s,i),s=Cr.value=tf(r,s,i),s=Cr.valueEnd=function QK(r,n,i){let s=-1,a=-1,l=-1,c=n,u=c;for(;c<i;){const d=r.charCodeAt(c++);if(59===d)return u;34===d||39===d?u=c=OB(r,d,c,i):n===c-4&&85===l&&82===a&&76===s&&40===d?u=c=OB(r,41,c,i):d>32&&(u=c),l=a,a=s,s=-33&d}return u}(r,s,i),PB(r,s,i))}function RB(r){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=r.length}function tf(r,n,i){for(;n<i&&r.charCodeAt(n)<=32;)n++;return n}function PB(r,n,i,s){return(n=tf(r,n,i))<i&&n++,n}function OB(r,n,i,s){let a=-1,l=i;for(;l<s;){const c=r.charCodeAt(l++);if(c==n&&92!==a)return l;a=92==c&&92===a?0:c}throw new Error}function Ha(r,n,i){return ca(r,n,i,!1),Ha}function $t(r,n){return ca(r,n,null,!0),$t}function xr(r){ua(FB,$K,r,!1)}function $K(r,n){for(let i=function zK(r){return RB(r),kB(r,tf(r,0,Cr.textEnd))}(n);i>=0;i=kB(n,i))FB(r,IB(n),UK(n))}function Ga(r){ua(co,Qa,r,!0)}function Qa(r,n){for(let i=function VK(r){return RB(r),TB(r,tf(r,0,Cr.textEnd))}(n);i>=0;i=TB(n,i))co(r,IB(n),!0)}function ca(r,n,i,s){const a=we(),l=wn(),c=Cl(2);l.firstUpdatePass&&LB(l,r,c,s),n!==Qt&&Jr(a,c,n)&&NB(l,l.data[As()],a,a[11],r,a[c+1]=function ZK(r,n){return null==r||("string"==typeof n?r+=n:"object"==typeof r&&(r=ti(uo(r)))),r}(n,i),s,c)}function ua(r,n,i,s){const a=wn(),l=Cl(2);a.firstUpdatePass&&LB(a,null,l,s);const c=we();if(i!==Qt&&Jr(c,l,i)){const u=a.data[As()];if(VB(u,s)&&!BB(a,l)){let d=s?u.classesWithoutHost:u.stylesWithoutHost;null!==d&&(i=NC(d,i||"")),RM(a,u,c,i,s)}else!function KK(r,n,i,s,a,l,c,u){a===Qt&&(a=On);let d=0,h=0,f=0<a.length?a[0]:null,p=0<l.length?l[0]:null;for(;null!==f||null!==p;){const m=d<a.length?a[d+1]:void 0,g=h<l.length?l[h+1]:void 0;let A,_=null;f===p?(d+=2,h+=2,m!==g&&(_=p,A=g)):null===p||null!==f&&f<p?(d+=2,_=f):(h+=2,_=p,A=g),null!==_&&NB(r,n,i,s,_,A,c,u),f=d<a.length?a[d]:null,p=h<l.length?l[h]:null}}(a,u,c,c[11],c[l+1],c[l+1]=function XK(r,n,i){if(null==i||""===i)return On;const s=[],a=uo(i);if(Array.isArray(a))for(let l=0;l<a.length;l++)r(s,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&r(s,l,a[l]);else"string"==typeof a&&n(s,a);return s}(r,n,i),s,l)}}function BB(r,n){return n>=r.expandoStartIndex}function LB(r,n,i,s){const a=r.data;if(null===a[i+1]){const l=a[As()],c=BB(r,i);VB(l,s)&&null===n&&!c&&(n=!1),n=function WK(r,n,i,s){const a=ox(r);let l=s?n.residualClasses:n.residualStyles;if(null===a)0===(s?n.classBindings:n.styleBindings)&&(i=Gm(i=LM(null,r,n,i,s),n.attrs,s),l=null);else{const c=n.directiveStylingLast;if(-1===c||r[c]!==a)if(i=LM(a,r,n,i,s),null===l){let d=function jK(r,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==El(s))return r[aa(s)]}(r,n,s);void 0!==d&&Array.isArray(d)&&(d=LM(null,r,n,d[1],s),d=Gm(d,n.attrs,s),function qK(r,n,i,s){r[aa(i?n.classBindings:n.styleBindings)]=s}(r,n,s,d))}else l=function YK(r,n,i){let s;const a=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<a;l++)s=Gm(s,r[l].hostAttrs,i);return Gm(s,n.attrs,i)}(r,n,s)}return void 0!==l&&(s?n.residualClasses=l:n.residualStyles=l),i}(a,l,n,s),function LK(r,n,i,s,a,l){let c=l?n.classBindings:n.styleBindings,u=aa(c),d=El(c);r[s]=i;let f,h=!1;if(Array.isArray(i)){const p=i;f=p[1],(null===f||Lh(p,f)>0)&&(h=!0)}else f=i;if(a)if(0!==d){const m=aa(r[u+1]);r[s+1]=Mb(m,u),0!==m&&(r[m+1]=cM(r[m+1],s)),r[u+1]=function EX(r,n){return 131071&r|n<<17}(r[u+1],s)}else r[s+1]=Mb(u,0),0!==u&&(r[u+1]=cM(r[u+1],s)),u=s;else r[s+1]=Mb(d,0),0===u?u=s:r[d+1]=cM(r[d+1],s),d=s;h&&(r[s+1]=lM(r[s+1])),DB(r,f,s,!0),DB(r,f,s,!1),function FK(r,n,i,s,a){const l=a?r.residualClasses:r.residualStyles;null!=l&&"string"==typeof n&&Lh(l,n)>=0&&(i[s+1]=uM(i[s+1]))}(n,f,r,s,l),c=Mb(u,d),l?n.classBindings=c:n.styleBindings=c}(a,l,n,i,c,s)}}function LM(r,n,i,s,a){let l=null;const c=i.directiveEnd;let u=i.directiveStylingLast;for(-1===u?u=i.directiveStart:u++;u<c&&(l=n[u],s=Gm(s,l.hostAttrs,a),l!==r);)u++;return null!==r&&(i.directiveStylingLast=u),s}function Gm(r,n,i){const s=i?1:2;let a=-1;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?a=c:a===s&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),co(r,c,!!i||n[++l]))}return void 0===r?null:r}function FB(r,n,i){co(r,n,uo(i))}function NB(r,n,i,s,a,l,c,u){if(!(3&n.type))return;const d=r.data,h=d[u+1];Ob(function w2(r){return 1==(1&r)}(h)?UB(d,n,i,a,El(h),c):void 0)||(Ob(l)||function v2(r){return 2==(2&r)}(h)&&(l=UB(d,null,i,a,u,c)),function FY(r,n,i,s,a){const l=Qi(r);if(n)a?l?r.addClass(i,s):i.classList.add(s):l?r.removeClass(i,s):i.classList.remove(s);else{let c=-1===s.indexOf("-")?void 0:zs.DashCase;if(null==a)l?r.removeStyle(i,s,c):i.style.removeProperty(s);else{const u="string"==typeof a&&a.endsWith("!important");u&&(a=a.slice(0,-10),c|=zs.Important),l?r.setStyle(i,s,a,c):i.style.setProperty(s,a,u?"important":"")}}}(s,c,Z0(As(),i),a,l))}function UB(r,n,i,s,a,l){const c=null===n;let u;for(;a>0;){const d=r[a],h=Array.isArray(d),f=h?d[1]:d,p=null===f;let m=i[a+1];m===Qt&&(m=p?On:void 0);let g=p?_x(m,s):f===s?m:void 0;if(h&&!Ob(g)&&(g=_x(d,s)),Ob(g)&&(u=g,c))return u;const _=r[a+1];a=c?aa(_):El(_)}if(null!==n){let d=l?n.residualClasses:n.residualStyles;null!=d&&(u=_x(d,s))}return u}function Ob(r){return void 0!==r}function VB(r,n){return 0!=(r.flags&(n?16:32))}function re(r,n=""){const i=we(),s=wn(),a=r+22,l=s.firstCreatePass?Gh(s,a,1,n,null):s.data[a],c=i[a]=function Nx(r,n){return Qi(r)?r.createText(n):r.createTextNode(n)}(i[11],n);vb(s,i,c,l),Pa(l,!1)}function Ut(r){return In("",r,""),Ut}function In(r,n,i){const s=we(),a=jh(s,r,n,i);return a!==Qt&&Sl(s,As(),a),In}function FM(r,n,i,s,a){const l=we(),c=qh(l,r,n,i,s,a);return c!==Qt&&Sl(l,As(),c),FM}function Qm(r,n,i){const s=we();return Jr(s,Dh(),n)&&ho(wn(),$i(),s,r,n,s[11],i,!0),Qm}function Bb(r,n,i){const s=we();if(Jr(s,Dh(),n)){const l=wn(),c=$i();ho(l,c,s,r,n,j2(ox(l.data),c,s),i,!0)}return Bb}const rf="en-US";let oL=rf;function VM(r,n,i,s,a){if(r=Tt(r),Array.isArray(r))for(let l=0;l<r.length;l++)VM(r[l],n,i,s,a);else{const l=wn(),c=we();let u=Ku(r)?r:Tt(r.provide),d=l2(r);const h=vr(),f=1048575&h.providerIndexes,p=h.directiveStart,m=h.providerIndexes>>20;if(Ku(r)||!r.multi){const g=new Am(d,a,I),_=HM(u,n,a?f:f+m,p);-1===_?(cb(vm(h,c),l,u),zM(l,r,n.length),n.push(u),h.directiveStart++,h.directiveEnd++,a&&(h.providerIndexes+=1048576),i.push(g),c.push(g)):(i[_]=g,c[_]=g)}else{const g=HM(u,n,f+m,p),_=HM(u,n,f,f+m),A=g>=0&&i[g],b=_>=0&&i[_];if(a&&!b||!a&&!A){cb(vm(h,c),l,u);const y=function mJ(r,n,i,s,a){const l=new Am(r,i,I);return l.multi=[],l.index=n,l.componentProviders=0,kL(l,a,s&&!i),l}(a?pJ:fJ,i.length,a,s,d);!a&&b&&(i[_].providerFactory=y),zM(l,r,n.length,0),n.push(u),h.directiveStart++,h.directiveEnd++,a&&(h.providerIndexes+=1048576),i.push(y),c.push(y)}else zM(l,r,g>-1?g:_,kL(i[a?_:g],d,!a&&s));!a&&s&&b&&i[_].componentProviders++}}}function zM(r,n,i,s){const a=Ku(n),l=function nX(r){return!!r.useClass}(n);if(a||l){const d=(l?Tt(n.useClass):n).prototype.ngOnDestroy;if(d){const h=r.destroyHooks||(r.destroyHooks=[]);if(!a&&n.multi){const f=h.indexOf(i);-1===f?h.push(i,[s,d]):h[f+1].push(s,d)}else h.push(i,d)}}}function kL(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function HM(r,n,i,s){for(let a=i;a<s;a++)if(n[a]===r)return a;return-1}function fJ(r,n,i,s){return GM(this.multi,[])}function pJ(r,n,i,s){const a=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,u=wm(i,i[1],this.providerFactory.index,s);l=u.slice(0,c),GM(a,l);for(let d=c;d<u.length;d++)l.push(u[d])}else l=[],GM(a,l);return l}function GM(r,n){for(let i=0;i<r.length;i++)n.push((0,r[i])());return n}function ft(r,n=[]){return i=>{i.providersResolver=(s,a)=>function hJ(r,n,i){const s=wn();if(s.firstCreatePass){const a=sa(r);VM(i,s.data,s.blueprint,a,!0),VM(n,s.data,s.blueprint,a,!1)}}(s,a?a(r):r,n)}}class _J{resolveComponentFactory(n){throw function gJ(r){const n=Error(`No component factory found for ${ti(r)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=r,n}(n)}}let Oc=(()=>{class r{}return r.NULL=new _J,r})();class Bc{}class PL{}class OL{}function AJ(){return af(vr(),we())}function af(r,n){return new We(ko(r,n))}let We=(()=>{class r{constructor(i){this.nativeElement=i}}return r.__NG_ELEMENT_ID__=AJ,r})();function yJ(r){return r instanceof We?r.nativeElement:r}class Ym{}let Dl=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function wJ(){const r=we(),i=ao(vr().index,r);return function vJ(r){return r[11]}(Vs(i)?i:r)}(),r})(),CJ=(()=>{class r{}return r.\u0275prov=ke({token:r,providedIn:"root",factory:()=>null}),r})();class nd{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const xJ=new nd("14.0.4"),QM={};function Vb(r,n,i,s,a=!1){for(;null!==i;){const l=n[i.index];if(null!==l&&s.push(lr(l)),ra(l))for(let u=10;u<l.length;u++){const d=l[u],h=d[1].firstChild;null!==h&&Vb(d[1],d,h,s)}const c=i.type;if(8&c)Vb(r,n,i.child,s);else if(32&c){const u=Bx(i,n);let d;for(;d=u();)s.push(d)}else if(16&c){const u=zO(n,i);if(Array.isArray(u))s.push(...u);else{const d=Bm(n[16]);Vb(d[1],d,u,s,!0)}}i=a?i.projectionNext:i.next}return s}class Xm{constructor(n,i){this._lView=n,this._cdRefInjectingView=i,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,i=n[1];return Vb(i,n,i.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(ra(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Vx(n,s),db(i,s))}this._attachedToViewContainer=!1}kO(this._lView[1],this._lView)}onDestroy(n){L2(this._lView[1],this._lView,null,n)}markForCheck(){MM(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function SM(r,n,i){const s=n[10];s.begin&&s.begin();try{$h(r,n,r.template,i)}catch(a){throw q2(n,a),a}finally{s.end&&s.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SY(r,n){Lm(r,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=n}}class MJ extends Xm{constructor(n){super(n),this._view=n}detectChanges(){Q2(this._view)}checkNoChanges(){}get context(){return null}}class $M extends Oc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=ni(n);return new WM(i,this.ngModule)}}function BL(r){const n=[];for(let i in r)r.hasOwnProperty(i)&&n.push({propName:r[i],templateName:i});return n}class SJ{constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){const a=this.injector.get(n,QM,s);return a!==QM||i===QM?a:this.parentInjector.get(n,i,s)}}class WM extends OL{constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function jY(r){return r.map(WY).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!i}get inputs(){return BL(this.componentDef.inputs)}get outputs(){return BL(this.componentDef.outputs)}create(n,i,s,a){let l=(a=a||this.ngModule)instanceof Zu?a:a?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const c=l?new SJ(n,l):n,u=c.get(Ym,gP),d=c.get(CJ,null),h=u.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=s?function B2(r,n,i){if(Qi(r))return r.selectRootElement(n,i===na.ShadowDom);let s="string"==typeof n?r.querySelector(n):n;return s.textContent="",s}(h,s,this.componentDef.encapsulation):Ux(u.createRenderer(null,this.componentDef),f,function EJ(r){const n=r.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(f)),m=this.componentDef.onPush?288:272,g=function oB(r,n){return{components:[],scheduler:r||AY,clean:lK,playerHandler:n||null,flags:0}}(),_=Db(0,null,null,1,0,null,null,null,null,null),A=Nm(null,_,g,m,null,null,u,h,d,c,null);let b,y;eb(A);try{const w=function rB(r,n,i,s,a,l){const c=i[1];i[22]=r;const d=Gh(c,22,2,"#host",null),h=d.mergedAttrs=n.hostAttrs;null!==h&&(Tb(d,h,!0),null!==r&&(sb(a,r,h),null!==d.classes&&$x(a,r,d.classes),null!==d.styles&&QO(a,r,d.styles)));const f=s.createRenderer(r,n),p=Nm(i,P2(n),null,n.onPush?32:16,i[22],d,s,f,l||null,null,null);return c.firstCreatePass&&(cb(vm(d,i),c,n.type),V2(c,d),z2(d,i.length,1)),Ib(i,p),i[22]=p}(p,this.componentDef,A,u,h);if(p)if(s)sb(h,p,["ng-version",xJ.full]);else{const{attrs:v,classes:C}=function qY(r){const n=[],i=[];let s=1,a=2;for(;s<r.length;){let l=r[s];if("string"==typeof l)2===a?""!==l&&n.push(l,r[++s]):8===a&&i.push(l);else{if(!oa(a))break;a=l}s++}return{attrs:n,classes:i}}(this.componentDef.selectors[0]);v&&sb(h,p,v),C&&C.length>0&&$x(h,p,C.join(" "))}if(y=ex(_,22),void 0!==i){const v=y.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const M=i[C];v.push(null!=M?Array.from(M):null)}}b=function sB(r,n,i,s,a){const l=i[1],c=function WX(r,n,i){const s=vr();r.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),H2(r,s,n,Qh(r,n,1,null),i));const a=wm(n,r,s.directiveStart,s);Zr(a,n);const l=ko(s,n);return l&&Zr(l,n),a}(l,i,n);if(s.components.push(c),r[8]=c,null!==a)for(const d of a)d(c,n);if(n.contentQueries){const d=vr();n.contentQueries(1,c,d.directiveStart)}const u=vr();return!l.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Tc(u.index),N2(i[1],u,0,u.directiveStart,u.directiveEnd,n),U2(n,c)),c}(w,this.componentDef,A,g,[AK]),Um(_,A,null)}finally{tb()}return new IJ(this.componentType,b,af(y,A),A,y)}}class IJ extends class bJ{}{constructor(n,i,s,a,l){super(),this.location=s,this._rootLView=a,this._tNode=l,this.instance=i,this.hostView=this.changeDetectorRef=new MJ(a),this.componentType=n}get injector(){return new kh(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class LL extends Bc{constructor(n,i){super(),this._parent=i,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $M(this);const s=so(n);this._bootstrapComponents=Ml(s.bootstrap),this._r3Injector=u2(n,i,[{provide:Bc,useValue:this},{provide:Oc,useValue:this.componentFactoryResolver}],ti(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(n)}get(n,i=Pi.THROW_IF_NOT_FOUND,s=_t.Default){return n===Pi||n===Bc||n===Yx?this:this._r3Injector.get(n,i,s)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class jM extends PL{constructor(n){super(),this.moduleType=n}create(n){return new LL(this.moduleType,n)}}class kJ extends Bc{constructor(n,i,s){super(),this.componentFactoryResolver=new $M(this),this.instance=null;const a=new a2([...n,{provide:Bc,useValue:this},{provide:Oc,useValue:this.componentFactoryResolver}],i||Zx(),s,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function zb(r,n=null,i=null){return new kJ(r,n,i).injector}function Il(r,n,i){const s=bs()+r,a=we();return a[s]===Qt?Va(a,s,i?n.call(i):n()):function zm(r,n){return r[n]}(a,s)}function Cs(r,n,i,s){return NL(we(),bs(),r,n,i,s)}function FL(r,n,i,s,a){return function UL(r,n,i,s,a,l,c){const u=n+i;return ed(r,u,a,l)?Va(r,u+2,c?s.call(c,a,l):s(a,l)):Km(r,u+2)}(we(),bs(),r,n,i,s,a)}function Km(r,n){const i=r[n];return i===Qt?void 0:i}function NL(r,n,i,s,a,l){const c=n+i;return Jr(r,c,a)?Va(r,c+1,l?s.call(l,a):s(a)):Km(r,c+1)}function Lc(r,n){const i=wn();let s;const a=r+22;i.firstCreatePass?(s=function HJ(r,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(r===s.name)return s}}(n,i.pipeRegistry),i.data[a]=s,s.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(a,s.onDestroy)):s=i.data[a];const l=s.factory||(s.factory=ju(s.type)),c=Ra(I);try{const u=ab(!1),d=l();return ab(u),function kK(r,n,i,s){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=s}(i,we(),a,d),d}finally{Ra(c)}}function Fc(r,n,i){const s=r+22,a=we(),l=Sh(a,s);return function Zm(r,n){return r[1].data[n].pure}(a,s)?NL(a,bs(),n,l.transform,i,l):l.transform(i)}function qM(r){return n=>{setTimeout(r,void 0,n)}}const ne=class jJ extends Me{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,i,s){let a=n,l=i||(()=>null),c=s;if(n&&"object"==typeof n){const d=n;a=d.next?.bind(d),l=d.error?.bind(d),c=d.complete?.bind(d)}this.__isAsync&&(l=qM(l),a&&(a=qM(a)),c&&(c=qM(c)));const u=super.subscribe({next:a,error:l,complete:c});return n instanceof sn&&n.add(u),u}};function qJ(){return this._results[Ju()]()}class Nc{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const i=Ju(),s=Nc.prototype;s[i]||(s[i]=qJ)}get changes(){return this._changes||(this._changes=new ne)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){const s=this;s.dirty=!1;const a=lo(n);(this._changesDetected=!function eq(r,n,i){if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(i&&(a=i(a),l=i(l)),l!==a)return!1}return!0}(s._results,a,i))&&(s._results=a,s.length=a.length,s.last=a[this.length-1],s.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let hi=(()=>{class r{}return r.__NG_ELEMENT_ID__=KJ,r})();const YJ=hi,XJ=class extends YJ{constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}createEmbeddedView(n,i){const s=this._declarationTContainer.tViews,a=Nm(this._declarationLView,s,n,16,null,s.declTNode,null,null,null,null,i||null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),Um(s,a,n),new Xm(a)}};function KJ(){return Hb(vr(),we())}function Hb(r,n){return 4&r.type?new XJ(n,r,af(r,n)):null}let ii=(()=>{class r{}return r.__NG_ELEMENT_ID__=ZJ,r})();function ZJ(){return $L(vr(),we())}const JJ=ii,GL=class extends JJ{constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return af(this._hostTNode,this._hostLView)}get injector(){return new kh(this._hostTNode,this._hostLView)}get parentInjector(){const n=lb(this._hostTNode,this._hostLView);if(OP(n)){const i=Th(n,this._hostLView),s=Ih(n);return new kh(i[1].data[s+8],i)}return new kh(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=QL(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const c=n.createEmbeddedView(i||{},l);return this.insert(c,a),c}createComponent(n,i,s,a,l){const c=n&&!function xm(r){return"function"==typeof r}(n);let u;if(c)u=i;else{const p=i||{};u=p.index,s=p.injector,a=p.projectableNodes,l=p.environmentInjector||p.ngModuleRef}const d=c?n:new WM(ni(n)),h=s||this.parentInjector;if(!l&&null==d.ngModule){const m=(c?h:this.parentInjector).get(Zu,null);m&&(l=m)}const f=d.create(h,a,void 0,l);return this.insert(f.hostView,u),f}insert(n,i){const s=n._lView,a=s[1];if(function v9(r){return ra(r[3])}(s)){const f=this.indexOf(n);if(-1!==f)this.detach(f);else{const p=s[3],m=new GL(p,p[6],p[3]);m.detach(m.indexOf(n))}}const l=this._adjustIndex(i),c=this._lContainer;!function IY(r,n,i,s){const a=10+s,l=i.length;s>0&&(i[a-1][4]=n),s<l-10?(n[4]=i[a],$P(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const c=n[17];null!==c&&i!==c&&function TY(r,n){const i=r[9];n[16]!==n[3][3][16]&&(r[2]=!0),null===i?r[9]=[n]:i.push(n)}(c,n);const u=n[19];null!==u&&u.insertView(r),n[2]|=64}(a,s,c,l);const u=Gx(l,c),d=s[11],h=yb(d,c[7]);return null!==h&&function EY(r,n,i,s,a,l){s[0]=a,s[6]=n,Lm(r,s,i,1,a,l)}(a,c[6],d,s,h,u),n.attachToViewContainerRef(),$P(YM(c),l,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=QL(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Vx(this._lContainer,i);s&&(db(YM(this._lContainer),i),kO(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=Vx(this._lContainer,i);return s&&null!=db(YM(this._lContainer),i)?new Xm(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function QL(r){return r[8]}function YM(r){return r[8]||(r[8]=[])}function $L(r,n){let i;const s=n[r.index];if(ra(s))i=s;else{let a;if(8&r.type)a=lr(s);else{const l=n[11];a=l.createComment("");const c=ko(r,n);Xu(l,yb(l,c),a,function OY(r,n){return Qi(r)?r.nextSibling(n):n.nextSibling}(l,c),!1)}n[r.index]=i=G2(s,n,a,r),Ib(n,i)}return new GL(i,r,n)}class XM{constructor(n){this.queryList=n,this.matches=null}clone(){return new XM(this.queryList)}setDirty(){this.queryList.setDirty()}}class KM{constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,a=[];for(let l=0;l<s;l++){const c=i.getByIndex(l);a.push(this.queries[c.indexInDeclarationView].clone())}return new KM(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==XL(n,i).matches&&this.queries[i].setDirty()}}class WL{constructor(n,i,s=null){this.predicate=n,this.flags=i,this.read=s}}class ZM{constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const a=null!==i?i.length:0,l=this.getByIndex(s).embeddedTView(n,a);l&&(l.indexInDeclarationView=s,null!==i?i.push(l):i=[l])}return null!==i?new ZM(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class JM{constructor(n,i=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new JM(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(n,i,nee(i,l)),this.matchTNodeWithReadOption(n,i,ub(i,n,l,!1,!1))}else s===hi?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,ub(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===We||a===ii||a===hi&&4&i.type)this.addMatch(i.index,-2);else{const l=ub(i,n,a,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function nee(r,n){const i=r.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function ree(r,n,i,s){return-1===i?function iee(r,n){return 11&r.type?af(r,n):4&r.type?Hb(r,n):null}(n,r):-2===i?function see(r,n,i){return i===We?af(n,r):i===hi?Hb(n,r):i===ii?$L(n,r):void 0}(r,n,s):wm(r,r[1],i,n)}function jL(r,n,i,s){const a=n[19].queries[s];if(null===a.matches){const l=r.data,c=i.matches,u=[];for(let d=0;d<c.length;d+=2){const h=c[d];u.push(h<0?null:ree(n,l[h],c[d+1],i.metadata.read))}a.matches=u}return a.matches}function eE(r,n,i,s){const a=r.queries.getByIndex(i),l=a.matches;if(null!==l){const c=jL(r,n,a,i);for(let u=0;u<l.length;u+=2){const d=l[u];if(d>0)s.push(c[u/2]);else{const h=l[u+1],f=n[-d];for(let p=10;p<f.length;p++){const m=f[p];m[17]===m[3]&&eE(m[1],m,h,s)}if(null!==f[9]){const p=f[9];for(let m=0;m<p.length;m++){const g=p[m];eE(g[1],g,h,s)}}}}}return s}function je(r){const n=we(),i=wn(),s=xP();ax(s+1);const a=XL(i,s);if(r.dirty&&_P(n)===(2==(2&a.metadata.flags))){if(null===a.matches)r.reset([]);else{const l=a.crossesNgTemplate?eE(i,n,s,[]):jL(i,n,a,s);r.reset(l,yJ),r.notifyOnChanges()}return!0}return!1}function pn(r,n,i){const s=wn();s.firstCreatePass&&(YL(s,new WL(r,n,i),-1),2==(2&n)&&(s.staticViewQueries=!0)),qL(s,we(),n)}function Bn(r,n,i,s){const a=wn();if(a.firstCreatePass){const l=vr();YL(a,new WL(n,i,s),l.index),function aee(r,n){const i=r.contentQueries||(r.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(r.queries.length-1,n)}(a,r),2==(2&i)&&(a.staticContentQueries=!0)}qL(a,we(),i)}function qe(){return function oee(r,n){return r[19].queries[n].queryList}(we(),xP())}function qL(r,n,i){const s=new Nc(4==(4&i));L2(r,n,s,s.destroy),null===n[19]&&(n[19]=new KM),n[19].queries.push(new XM(s))}function YL(r,n,i){null===r.queries&&(r.queries=new ZM),r.queries.track(new JM(n,i))}function XL(r,n){return r.queries.getByIndex(n)}function es(r,n){return Hb(r,n)}function Qb(...r){}const eg=new Ae("Application Initializer");let $b=(()=>{class r{constructor(i){this.appInits=i,this.resolve=Qb,this.reject=Qb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a})}runInitializers(){if(this.initialized)return;const i=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const l=this.appInits[a]();if(Hm(l))i.push(l);else if(PM(l)){const c=new Promise((u,d)=>{l.subscribe({complete:u,error:d})});i.push(c)}}Promise.all(i).then(()=>{s()}).catch(a=>{this.reject(a)}),0===i.length&&s(),this.initialized=!0}}return r.\u0275fac=function(i){return new(i||r)(X(eg,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const df=new Ae("AppId",{providedIn:"root",factory:function mF(){return`${sE()}${sE()}${sE()}`}});function sE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gF=new Ae("Platform Initializer"),id=new Ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oE=new Ae("appBootstrapListener"),ts=new Ae("AnimationModuleType");let See=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const $a=new Ae("LocaleId",{providedIn:"root",factory:()=>Kr($a,_t.Optional|_t.SkipSelf)||function Dee(){return typeof $localize<"u"&&$localize.locale||rf}()});class Tee{constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let aE=(()=>{class r{compileModuleSync(i){return new jM(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),l=Ml(so(i).declarations).reduce((c,u)=>{const d=ni(u);return d&&c.push(new WM(d)),c},[]);return new Tee(s,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Ree=(()=>Promise.resolve(0))();function lE(r){typeof Zone>"u"?Ree.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class ht{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ne(!1),this.onMicrotaskEmpty=new ne(!1),this.onStable=new ne(!1),this.onError=new ne(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&i,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function Pee(){let r=Wn.requestAnimationFrame,n=Wn.cancelAnimationFrame;if(typeof Zone<"u"&&r&&n){const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function Lee(r){const n=()=>{!function Bee(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Wn,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,uE(r),r.isCheckStableRunning=!0,cE(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),uE(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(i,s,a,l,c,u)=>{try{return _F(r),i.invokeTask(a,l,c,u)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||r.shouldCoalesceRunChangeDetection)&&n(),bF(r)}},onInvoke:(i,s,a,l,c,u,d)=>{try{return _F(r),i.invoke(a,l,c,u,d)}finally{r.shouldCoalesceRunChangeDetection&&n(),bF(r)}},onHasTask:(i,s,a,l)=>{i.hasTask(a,l),s===a&&("microTask"==l.change?(r._hasPendingMicrotasks=l.microTask,uE(r),cE(r)):"macroTask"==l.change&&(r.hasPendingMacrotasks=l.macroTask))},onHandleError:(i,s,a,l)=>(i.handleError(a,l),r.runOutsideAngular(()=>r.onError.emit(l)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ht.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(ht.isInAngularZone())throw new Te(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,a){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+a,n,Oee,Qb,Qb);try{return l.runTask(c,i,s)}finally{l.cancelTask(c)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Oee={};function cE(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function uE(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function _F(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function bF(r){r._nesting--,cE(r)}class Fee{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ne,this.onMicrotaskEmpty=new ne,this.onStable=new ne,this.onError=new ne}run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,a){return n.apply(i,s)}}const AF=new Ae(""),Wb=new Ae("");let fE,dE=(()=>{class r{constructor(i,s,a){this._ngZone=i,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fE||(function Nee(r){fE=r}(a),a.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ht.assertNotInAngularZone(),lE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())lE(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb(this._didWork)}this._didWork=!1});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),i(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:a})}whenStable(i,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,a){return[]}}return r.\u0275fac=function(i){return new(i||r)(X(ht),X(hE),X(Wb))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),hE=(()=>{class r{constructor(){this._applications=new Map}registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return fE?.findTestabilityInTree(this,i,s)??null}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),Uc=null;const yF=new Ae("AllowMultipleToken"),pE=new Ae("PlatformDestroyListeners");class vF{constructor(n,i){this.name=n,this.token=i}}function CF(r,n,i=[]){const s=`Platform: ${n}`,a=new Ae(s);return(l=[])=>{let c=mE();if(!c||c.injector.get(yF,!1)){const u=[...i,...l,{provide:a,useValue:!0}];r?r(u):function zee(r){if(Uc&&!Uc.get(yF,!1))throw new Te(400,!1);Uc=r;const n=r.get(MF);(function wF(r){const n=r.get(gF,null);n&&n.forEach(i=>i())})(r)}(function xF(r=[],n){return Pi.create({name:n,providers:[{provide:Xx,useValue:"platform"},{provide:pE,useValue:new Set([()=>Uc=null])},...r]})}(u,s))}return function Gee(r){const n=mE();if(!n)throw new Te(401,!1);return n}()}}function mE(){return Uc?.get(MF)??null}let MF=(()=>{class r{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,s){const a=function Qee(r,n){let i;return i="noop"===r?new Fee:("zone.js"===r?void 0:r)||new ht(n),i}(s?.ngZone,function EF(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(s)),l=[{provide:ht,useValue:a}];return a.run(()=>{const c=Pi.create({providers:l,parent:this.injector,name:i.moduleType.name}),u=i.create(c),d=u.injector.get(Na,null);if(!d)throw new Te(402,!1);return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{jb(this._modules,u),h.unsubscribe()})}),function SF(r,n,i){try{const s=i();return Hm(s)?s.catch(a=>{throw n.runOutsideAngular(()=>r.handleError(a)),a}):s}catch(s){throw n.runOutsideAngular(()=>r.handleError(s)),s}}(d,a,()=>{const h=u.injector.get($b);return h.runInitializers(),h.donePromise.then(()=>(function aL(r){ro(r,"Expected localeId to be defined"),"string"==typeof r&&(oL=r.toLowerCase().replace(/_/g,"-"))}(u.injector.get($a,rf)||rf),this._moduleDoBootstrap(u),u))})})}bootstrapModule(i,s=[]){const a=DF({},s);return function Uee(r,n,i){const s=new jM(i);return Promise.resolve(s)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,a))}_moduleDoBootstrap(i){const s=i.injector.get(hf);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!i.instance.ngDoBootstrap)throw new Te(403,!1);i.instance.ngDoBootstrap(s)}this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(pE,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(i){return new(i||r)(X(Pi))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function DF(r,n){return Array.isArray(n)?n.reduce(DF,r):{...r,...n}}let hf=(()=>{class r{constructor(i,s,a){this._zone=i,this._injector=s,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new dt(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new dt(u=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{ht.assertNotInAngularZone(),lE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{d.unsubscribe(),h.unsubscribe()}});this.isStable=yr(l,c.pipe(BC()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,s){const a=i instanceof OL;if(!this._injector.get($b).done)throw!a&&function cf(r){const n=ni(r)||gs(r)||_s(r);return null!==n&&n.standalone}(i),new Te(405,false);let c;c=a?i:this._injector.get(Oc).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const u=function Vee(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Bc),h=c.create(Pi.NULL,[],s||c.selector,u),f=h.location.nativeElement,p=h.injector.get(AF,null);return p?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),jb(this.components,h),p?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let i of this._views)i.detectChanges()}catch(i){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(i))}finally{this._runningTick=!1}}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;jb(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(oE,[]).concat(this._bootstrapListeners).forEach(a=>a(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>jb(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new Te(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(i){return new(i||r)(X(ht),X(Pi),X(Na))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function jb(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}let TF=!0,kF=!1;function qb(){return kF=!0,TF}let yi=(()=>{class r{}return r.__NG_ELEMENT_ID__=jee,r})();function jee(r){return function qee(r,n,i){if(X0(r)&&!i){const s=ao(r.index,n);return new Xm(s,s)}return 47&r.type?new Xm(n[16],n):null}(vr(),we(),16==(16&r))}class BF{constructor(){}supports(n){return Vm(n)}create(n){return new ete(n)}}const Jee=(r,n)=>n;class ete{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||Jee}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,a=0,l=null;for(;i||s;){const c=!s||i&&i.currentIndex<FF(s,a,l)?i:s,u=FF(c,a,l),d=c.currentIndex;if(c===s)a--,s=s._nextRemoved;else if(i=i._next,null==c.previousIndex)a++;else{l||(l=[]);const h=u-a,f=d-a;if(h!=f){for(let m=0;m<h;m++){const g=m<l.length?l[m]:l[m]=0,_=g+m;f<=_&&_<h&&(l[m]=g+1)}l[c.previousIndex]=f-h}}u!==d&&n(c,u,d)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!Vm(n))throw new Te(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,l,c,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let u=0;u<this.length;u++)l=n[u],c=this._trackByFn(u,l),null!==i&&Object.is(i.trackById,c)?(s&&(i=this._verifyReinsertion(i,l,c,u)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,c,u),s=!0),i=i._next}else a=0,function DK(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{const i=r[Ju()]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,u=>{c=this._trackByFn(a,u),null!==i&&Object.is(i.trackById,c)?(s&&(i=this._verifyReinsertion(i,u,c,a)),Object.is(i.item,u)||this._addIdentityChange(i,u)):(i=this._mismatch(i,u,c,a),s=!0),i=i._next,a++}),this.length=a;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,a){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,a)):n=this._addAfter(new tte(i,s),l,a),n}_verifyReinsertion(n,i,s,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?n=this._reinsertAfter(l,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,l=n._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const a=null===i?this._itHead:i._next;return n._next=a,n._prev=i,null===a?this._itTail=n:a._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new LF),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new LF),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class tte{constructor(n,i){this.item=n,this.trackById=i,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nte{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class LF{constructor(){this.map=new Map}put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new nte,this.map.set(i,s)),s.add(n)}get(n,i){const a=this.map.get(n);return a?a.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function FF(r,n,i){const s=r.previousIndex;if(null===s)return s;let a=0;return i&&s<i.length&&(a=i[s]),s+n+a}class NF{constructor(){}supports(n){return n instanceof Map||kM(n)}create(){return new ite}}class ite{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let i;for(i=this._mapHead;null!==i;i=i._next)n(i)}forEachPreviousItem(n){let i;for(i=this._previousMapHead;null!==i;i=i._nextPrevious)n(i)}forEachChangedItem(n){let i;for(i=this._changesHead;null!==i;i=i._nextChanged)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}diff(n){if(n){if(!(n instanceof Map||kM(n)))throw new Te(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,a)=>{if(i&&i.key===a)this._maybeAddToChanges(i,s),this._appendAfter=i,i=i._next;else{const l=this._getOrCreateRecordForKey(a,s);i=this._insertBeforeOrAppend(i,l)}}),i){i._prev&&(i._prev._next=null),this._removalsHead=i;for(let s=i;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,i){if(n){const s=n._prev;return i._next=n,i._prev=s,n._prev=i,s&&(s._next=i),n===this._mapHead&&(this._mapHead=i),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=i,i._prev=this._appendAfter):this._mapHead=i,this._appendAfter=i,null}_getOrCreateRecordForKey(n,i){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,i);const l=a._prev,c=a._next;return l&&(l._next=c),c&&(c._prev=l),a._next=null,a._prev=null,a}const s=new rte(n);return this._records.set(n,s),s.currentValue=i,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,i){Object.is(i,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=i,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,i){n instanceof Map?n.forEach(i):Object.keys(n).forEach(s=>i(n[s],s))}}class rte{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function UF(){return new Oo([new BF])}let Oo=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(null!=s){const a=s.factories.slice();i=i.concat(a)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||UF()),deps:[[r,new qu,new Ro]]}}find(i){const s=this.factories.find(a=>a.supports(i));if(null!=s)return s;throw new Te(901,!1)}}return r.\u0275prov=ke({token:r,providedIn:"root",factory:UF}),r})();function VF(){return new tg([new NF])}let tg=(()=>{class r{constructor(i){this.factories=i}static create(i,s){if(s){const a=s.factories.slice();i=i.concat(a)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||VF()),deps:[[r,new qu,new Ro]]}}find(i){const s=this.factories.find(a=>a.supports(i));if(s)return s;throw new Te(901,!1)}}return r.\u0275prov=ke({token:r,providedIn:"root",factory:VF}),r})();const ate=CF(null,"core",[]);let lte=(()=>{class r{constructor(i){}}return r.\u0275fac=function(i){return new(i||r)(X(hf))},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();function kl(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}let Kb=null;function Wa(){return Kb}const At=new Ae("DocumentToken");let Zb=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:function(){return function hte(){return X(zF)}()},providedIn:"platform"}),r})();const fte=new Ae("Location Initialized");let zF=(()=>{class r extends Zb{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wa().getBaseHref(this._doc)}onPopState(i){const s=Wa().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=Wa().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,s,a){HF()?this._history.pushState(i,s,a):this.location.hash=a}replaceState(i,s,a){HF()?this._history.replaceState(i,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:function(){return function pte(){return new zF(X(At))}()},providedIn:"platform"}),r})();function HF(){return!!window.history.pushState}function yE(r,n){if(0==r.length)return n;if(0==n.length)return r;let i=0;return r.endsWith("/")&&i++,n.startsWith("/")&&i++,2==i?r+n.substring(1):1==i?r+n:r+"/"+n}function GF(r){const n=r.match(/#|\?|$/),i=n&&n.index||r.length;return r.slice(0,i-("/"===r[i-1]?1:0))+r.slice(i)}function Rl(r){return r&&"?"!==r[0]?"?"+r:r}let sd=(()=>{class r{historyGo(i){throw new Error("Not implemented")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:function(){return function mte(){const r=X(At).location;return new $F(X(Zb),r&&r.origin||"")}()},providedIn:"root"}),r})();const QF=new Ae("appBaseHref");let $F=(()=>{class r extends sd{constructor(i,s){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return yE(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+Rl(this._platformLocation.search),a=this._platformLocation.hash;return a&&i?`${s}${a}`:s}pushState(i,s,a,l){const c=this.prepareExternalUrl(a+Rl(l));this._platformLocation.pushState(i,s,c)}replaceState(i,s,a,l){const c=this.prepareExternalUrl(a+Rl(l));this._platformLocation.replaceState(i,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return r.\u0275fac=function(i){return new(i||r)(X(Zb),X(QF,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),gte=(()=>{class r extends sd{constructor(i,s){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=yE(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,a,l){let c=this.prepareExternalUrl(a+Rl(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(i,s,c)}replaceState(i,s,a,l){let c=this.prepareExternalUrl(a+Rl(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(i,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return r.\u0275fac=function(i){return new(i||r)(X(Zb),X(QF,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),ng=(()=>{class r{constructor(i){this._subject=new ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const s=this._locationStrategy.getBaseHref();this._baseHref=GF(WF(s)),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+Rl(s))}normalize(i){return r.stripTrailingSlash(function bte(r,n){return r&&n.startsWith(r)?n.substring(r.length):n}(this._baseHref,WF(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,s="",a=null){this._locationStrategy.pushState(a,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Rl(s)),a)}replaceState(i,s="",a=null){this._locationStrategy.replaceState(a,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Rl(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)})),()=>{const s=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(a=>a(i,s))}subscribe(i,s,a){return this._subject.subscribe({next:i,error:s,complete:a})}}return r.normalizeQueryParams=Rl,r.joinWithSlash=yE,r.stripTrailingSlash=GF,r.\u0275fac=function(i){return new(i||r)(X(sd))},r.\u0275prov=ke({token:r,factory:function(){return function _te(){return new ng(X(sd))}()},providedIn:"root"}),r})();function WF(r){return r.replace(/\/index.html$/,"")}function tN(r,n){n=encodeURIComponent(n);for(const i of r.split(";")){const s=i.indexOf("="),[a,l]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(a.trim()===n)return decodeURIComponent(l)}return null}let ff=(()=>{class r{constructor(i,s,a,l){this._iterableDiffers=i,this._keyValueDiffers=s,this._ngEl=a,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&(Vm(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),i.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ti(s.item)}`);this._toggleClass(s.item,!0)}),i.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!0)):Object.keys(i).forEach(s=>this._toggleClass(s,!!i[s])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(s=>this._toggleClass(s,!1)):Object.keys(i).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(i,s){(i=i.trim())&&i.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return r.\u0275fac=function(i){return new(i||r)(I(Oo),I(tg),I(We),I(Dl))},r.\u0275dir=de({type:r,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),r})();class nne{constructor(n,i,s,a){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{class r{constructor(i,s,a){this._viewContainer=i,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=this._viewContainer;i.forEachOperation((a,l,c)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new nne(a.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)s.remove(null===l?void 0:l);else if(null!==l){const u=s.get(l);s.move(u,c),rN(u,a)}});for(let a=0,l=s.length;a<l;a++){const u=s.get(a).context;u.index=a,u.count=l,u.ngForOf=this._ngForOf}i.forEachIdentityChange(a=>{rN(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(hi),I(Oo))},r.\u0275dir=de({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();function rN(r,n){r.context.$implicit=n.item}let Rr=(()=>{class r{constructor(i,s){this._viewContainer=i,this._context=new rne,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){sN("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){sN("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,s){return!0}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(hi))},r.\u0275dir=de({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class rne{constructor(){this.$implicit=null,this.ngIf=null}}function sN(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${ti(n)}'.`)}class TE{constructor(n,i){this._viewContainerRef=n,this._templateRef=i,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let pf=(()=>{class r{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(i)}_matchCase(i){const s=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(i){if(this._defaultViews&&i!==this._defaultUsed){this._defaultUsed=i;for(let s=0;s<this._defaultViews.length;s++)this._defaultViews[s].enforceState(i)}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),r})(),lA=(()=>{class r{constructor(i,s,a){this.ngSwitch=a,a._addCase(),this._view=new TE(i,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(hi),I(pf,9))},r.\u0275dir=de({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),r})(),kE=(()=>{class r{constructor(i,s,a){a._addDefault(new TE(i,s))}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(hi),I(pf,9))},r.\u0275dir=de({type:r,selectors:[["","ngSwitchDefault",""]]}),r})(),RE=(()=>{class r{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:a,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=s.createEmbeddedView(a,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return r.\u0275fac=function(i){return new(i||r)(I(ii))},r.\u0275dir=de({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ri]}),r})();class ane{createSubscription(n,i){return n.subscribe({next:i,error:s=>{throw s}})}dispose(n){n.unsubscribe()}}class lne{createSubscription(n,i){return n.then(i,s=>{throw s})}dispose(n){}}const cne=new lne,une=new ane;let sg=(()=>{class r{constructor(i){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){return this._obj?i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue:(i&&this._subscribe(i),this._latestValue)}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,s=>this._updateLatestValue(i,s))}_selectStrategy(i){if(Hm(i))return cne;if(_B(i))return une;throw function ha(r,n){return new Te(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,s){i===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return r.\u0275fac=function(i){return new(i||r)(I(yi,16))},r.\u0275pipe=qr({name:"async",type:r,pure:!1}),r})(),fo=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();const lN="browser";function ja(r){return r===lN}let BE=(()=>{class r{}return r.\u0275prov=ke({token:r,providedIn:"root",factory:()=>new Tne(X(At),window)}),r})();class Tne{constructor(n,i){this.document=n,this.window=i,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const i=function kne(r,n){const i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const c=l.getElementById(n)||l.querySelector(`[name="${n}"]`);if(c)return c}a=s.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=n)}}scrollToElement(n){const i=n.getBoundingClientRect(),s=i.left+this.window.pageXOffset,a=i.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=cN(this.window.history)||cN(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cN(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class uN{}class LE extends class Rne extends class dte{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ute(r){Kb||(Kb=r)}(new LE)}onAndCancel(n,i,s){return n.addEventListener(i,s,!1),()=>{n.removeEventListener(i,s,!1)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=function Pne(){return og=og||document.querySelector("base"),og?og.getAttribute("href"):null}();return null==i?null:function One(r){cA=cA||document.createElement("a"),cA.setAttribute("href",r);const n=cA.pathname;return"/"===n.charAt(0)?n:`/${n}`}(i)}resetBaseElement(){og=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return tN(document.cookie,n)}}let cA,og=null;const dN=new Ae("TRANSITION_ID"),Lne=[{provide:eg,useFactory:function Bne(r,n,i){return()=>{i.get($b).donePromise.then(()=>{const s=Wa(),a=n.querySelectorAll(`style[ng-transition="${r}"]`);for(let l=0;l<a.length;l++)s.remove(a[l])})}},deps:[dN,At,Pi],multi:!0}];let Nne=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const uA=new Ae("EventManagerPlugins");let dA=(()=>{class r{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(a=>a.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,s,a){return this._findPluginFor(s).addEventListener(i,s,a)}addGlobalEventListener(i,s,a){return this._findPluginFor(s).addGlobalEventListener(i,s,a)}getZone(){return this._zone}_findPluginFor(i){const s=this._eventNameToPlugin.get(i);if(s)return s;const a=this._plugins;for(let l=0;l<a.length;l++){const c=a[l];if(c.supports(i))return this._eventNameToPlugin.set(i,c),c}throw new Error(`No event manager plugin found for event ${i}`)}}return r.\u0275fac=function(i){return new(i||r)(X(uA),X(ht))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class hN{constructor(n){this._doc=n}addGlobalEventListener(n,i,s){const a=Wa().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${i}`);return this.addEventListener(a,i,s)}}let fN=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(i){const s=new Set;i.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),ag=(()=>{class r extends fN{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,s,a){i.forEach(l=>{const c=this._doc.createElement("style");c.textContent=l,a.push(s.appendChild(c))})}addHost(i){const s=[];this._addStylesToHost(this._stylesSet,i,s),this._hostNodes.set(i,s)}removeHost(i){const s=this._hostNodes.get(i);s&&s.forEach(pN),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(i,a,s)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(pN))}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function pN(r){Wa().remove(r)}const FE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},NE=/%COMP%/g;function hA(r,n,i){for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?hA(r,a,i):(a=a.replace(NE,r),i.push(a))}return i}function _N(r){return n=>{if("__ngUnwrap__"===n)return r;!1===r(n)&&(n.preventDefault(),n.returnValue=!1)}}let fA=(()=>{class r{constructor(i,s,a){this.eventManager=i,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new UE(i)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;switch(s.encapsulation){case na.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new Qne(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(i),a}case 1:case na.ShadowDom:return new $ne(this.eventManager,this.sharedStylesHost,i,s);default:if(!this.rendererByCompId.has(s.id)){const a=hA(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(i){return new(i||r)(X(dA),X(ag),X(df))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class UE{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,i){return i?document.createElementNS(FE[i]||i,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,i){(AN(n)?n.content:n).appendChild(i)}insertBefore(n,i,s){n&&(AN(n)?n.content:n).insertBefore(i,s)}removeChild(n,i){n&&n.removeChild(i)}selectRootElement(n,i){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,a){if(a){i=a+":"+i;const l=FE[a];l?n.setAttributeNS(l,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const a=FE[s];a?n.removeAttributeNS(a,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,a){a&(zs.DashCase|zs.Important)?n.style.setProperty(i,s,a&zs.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&zs.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){n[i]=s}setValue(n,i){n.nodeValue=i}listen(n,i,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,i,_N(s)):this.eventManager.addEventListener(n,i,_N(s))}}function AN(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class Qne extends UE{constructor(n,i,s,a){super(n),this.component=s;const l=hA(a+"-"+s.id,s.styles,[]);i.addStyles(l),this.contentAttr=function zne(r){return"_ngcontent-%COMP%".replace(NE,r)}(a+"-"+s.id),this.hostAttr=function Hne(r){return"_nghost-%COMP%".replace(NE,r)}(a+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}class $ne extends UE{constructor(n,i,s,a){super(n),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=hA(a.id,a.styles,[]);for(let c=0;c<l.length;c++){const u=document.createElement("style");u.textContent=l[c],this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(this.nodeOrShadowRoot(n),i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Wne=(()=>{class r extends hN{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,a){return i.addEventListener(s,a,!1),()=>this.removeEventListener(i,s,a)}removeEventListener(i,s,a){return i.removeEventListener(s,a)}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const yN=["alt","control","meta","shift"],qne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yne={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Xne=(()=>{class r extends hN{constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,a){const l=r.parseEventName(s),c=r.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wa().onAndCancel(i,l.domEventName,c))}static parseEventName(i){const s=i.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=r._normalizeKey(s.pop());let c="";if(yN.forEach(d=>{const h=s.indexOf(d);h>-1&&(s.splice(h,1),c+=d+".")}),c+=l,0!=s.length||0===l.length)return null;const u={};return u.domEventName=a,u.fullKey=c,u}static getEventFullKey(i){let s="",a=function Kne(r){let n=r.key;if(null==n){if(n=r.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===r.location&&vN.hasOwnProperty(n)&&(n=vN[n]))}return qne[n]||n}(i);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),yN.forEach(l=>{l!=a&&Yne[l](i)&&(s+=l+".")}),s+=a,s}static eventCallback(i,s,a){return l=>{r.getEventFullKey(l)===i&&a.runGuarded(()=>s(l))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const wN=[{provide:id,useValue:lN},{provide:gF,useValue:function Zne(){LE.makeCurrent()},multi:!0},{provide:At,useFactory:function eie(){return function g9(r){ZC=r}(document),document},deps:[]}],tie=CF(ate,"browser",wN),CN=new Ae(""),xN=[{provide:Wb,useClass:class Fne{addToWindow(n){Wn.getAngularTestability=(s,a=!0)=>{const l=n.findTestabilityInTree(s,a);if(null==l)throw new Error("Could not find testability for element.");return l},Wn.getAllAngularTestabilities=()=>n.getAllTestabilities(),Wn.getAllAngularRootElements=()=>n.getAllRootElements(),Wn.frameworkStabilizers||(Wn.frameworkStabilizers=[]),Wn.frameworkStabilizers.push(s=>{const a=Wn.getAllAngularTestabilities();let l=a.length,c=!1;const u=function(d){c=c||d,l--,0==l&&s(c)};a.forEach(function(d){d.whenStable(u)})})}findTestabilityInTree(n,i,s){return null==i?null:n.getTestability(i)??(s?Wa().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null)}},deps:[]},{provide:AF,useClass:dE,deps:[ht,hE,Wb]},{provide:dE,useClass:dE,deps:[ht,hE,Wb]}],MN=[{provide:Xx,useValue:"root"},{provide:Na,useFactory:function Jne(){return new Na},deps:[]},{provide:uA,useClass:Wne,multi:!0,deps:[At,ht,id]},{provide:uA,useClass:Xne,multi:!0,deps:[At]},{provide:fA,useClass:fA,deps:[dA,ag,df]},{provide:Ym,useExisting:fA},{provide:fN,useExisting:ag},{provide:ag,useClass:ag,deps:[At]},{provide:dA,useClass:dA,deps:[uA,ht]},{provide:uN,useClass:Nne,deps:[]},[]];let gt=(()=>{class r{constructor(i){}static withServerTransition(i){return{ngModule:r,providers:[{provide:df,useValue:i.appId},{provide:dN,useExisting:df},Lne]}}}return r.\u0275fac=function(i){return new(i||r)(X(CN,12))},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[...MN,...xN],imports:[fo,lte]}),r})(),EN=(()=>{class r{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:function(i){let s=null;return s=i?new i:function iie(){return new EN(X(At))}(),s},providedIn:"root"}),r})();typeof window<"u"&&window;let lg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:function(i){let s=null;return s=i?new(i||r):X(IN),s},providedIn:"root"}),r})(),IN=(()=>{class r extends lg{constructor(i){super(),this._doc=i}sanitize(i,s){if(null==s)return null;switch(i){case Mn.NONE:return s;case Mn.HTML:return La(s,"HTML")?uo(s):pO(this._doc,String(s)).toString();case Mn.STYLE:return La(s,"Style")?uo(s):s;case Mn.SCRIPT:if(La(s,"Script"))return uo(s);throw new Error("unsafe value used in a script context");case Mn.URL:return La(s,"URL")?uo(s):km(String(s));case Mn.RESOURCE_URL:if(La(s,"ResourceURL"))return uo(s);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${i} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(i){return function Pq(r){return new Sq(r)}(i)}bypassSecurityTrustStyle(i){return function Oq(r){return new Dq(r)}(i)}bypassSecurityTrustScript(i){return function Bq(r){return new Iq(r)}(i)}bypassSecurityTrustUrl(i){return function Lq(r){return new Tq(r)}(i)}bypassSecurityTrustResourceUrl(i){return function Fq(r){return new kq(r)}(i)}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:function(i){let s=null;return s=i?new i:function die(r){return new IN(r.get(At))}(X(Pi)),s},providedIn:"root"}),r})();function Ye(...r){return Zi(r,fm(r))}function mf(r,n){return tn(n)?ar(r,n,1):ar(r,1)}function Ln(r,n){return zt((i,s)=>{let a=0;i.subscribe(vt(s,l=>r.call(n,l,a++)&&s.next(l)))})}class TN{}class kN{}class Ol{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const a=i.slice(0,s),l=a.toLowerCase(),c=i.slice(s+1).trim();this.maybeSetNormalizedName(a,l),this.headers.has(l)?this.headers.get(l).push(c):this.headers.set(l,[c])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(i=>{let s=n[i];const a=i.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(i,a))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ol?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new Ol;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Ol?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const a=("a"===n.op?this.headers.get(i):void 0)||[];a.push(...s),this.headers.set(i,a);break;case"d":const l=n.value;if(l){let c=this.headers.get(i);if(!c)return;c=c.filter(u=>-1===l.indexOf(u)),0===c.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,c)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class hie{encodeKey(n){return RN(n)}encodeValue(n){return RN(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const pie=/%(\d[a-f0-9])/gi,mie={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function RN(r){return encodeURIComponent(r).replace(pie,(n,i)=>mie[i]??n)}function pA(r){return`${r}`}class zc{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new hie,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fie(r,n){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[c,u]=-1==l?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,l)),n.decodeValue(a.slice(l+1))],d=i.get(c)||[];d.push(u),i.set(c,d)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i],a=Array.isArray(s)?s.map(pA):[pA(s)];this.map.set(i,a)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const a=n[s];Array.isArray(a)?a.forEach(l=>{i.push({param:s,value:l,op:"a"})}):i.push({param:s,value:a,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new zc({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(pA(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const a=s.indexOf(pA(n.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class gie{constructor(){this.map=new Map}set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function PN(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function ON(r){return typeof Blob<"u"&&r instanceof Blob}function BN(r){return typeof FormData<"u"&&r instanceof FormData}class cg{constructor(n,i,s,a){let l;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function _ie(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Ol),this.context||(this.context=new gie),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=i;else{const u=i.indexOf("?");this.urlWithParams=i+(-1===u?"?":u<i.length-1?"&":"")+c}}else this.params=new zc,this.urlWithParams=i}serializeBody(){return null===this.body?null:PN(this.body)||ON(this.body)||BN(this.body)||function bie(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BN(this.body)?null:ON(this.body)?this.body.type||null:PN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const i=n.method||this.method,s=n.url||this.url,a=n.responseType||this.responseType,l=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let d=n.headers||this.headers,h=n.params||this.params;const f=n.context??this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((p,m)=>p.set(m,n.setHeaders[m]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((p,m)=>p.set(m,n.setParams[m]),h)),new cg(i,s,l,{params:h,headers:d,context:f,reportProgress:u,responseType:a,withCredentials:c})}}var dr=(()=>((dr=dr||{})[dr.Sent=0]="Sent",dr[dr.UploadProgress=1]="UploadProgress",dr[dr.ResponseHeader=2]="ResponseHeader",dr[dr.DownloadProgress=3]="DownloadProgress",dr[dr.Response=4]="Response",dr[dr.User=5]="User",dr))();class HE{constructor(n,i=200,s="OK"){this.headers=n.headers||new Ol,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class GE extends HE{constructor(n={}){super(n),this.type=dr.ResponseHeader}clone(n={}){return new GE({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class mA extends HE{constructor(n={}){super(n),this.type=dr.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new mA({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class LN extends HE{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function QE(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let gf=(()=>{class r{constructor(i){this.handler=i}request(i,s,a={}){let l;if(i instanceof cg)l=i;else{let d,h;d=a.headers instanceof Ol?a.headers:new Ol(a.headers),a.params&&(h=a.params instanceof zc?a.params:new zc({fromObject:a.params})),l=new cg(i,s,void 0!==a.body?a.body:null,{headers:d,context:a.context,params:h,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const c=Ye(l).pipe(mf(d=>this.handler.handle(d)));if(i instanceof cg||"events"===a.observe)return c;const u=c.pipe(Ln(d=>d instanceof mA));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(Oe(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return u.pipe(Oe(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return u.pipe(Oe(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return u.pipe(Oe(d=>d.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new zc).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,a={}){return this.request("PATCH",i,QE(a,s))}post(i,s,a={}){return this.request("POST",i,QE(a,s))}put(i,s,a={}){return this.request("PUT",i,QE(a,s))}}return r.\u0275fac=function(i){return new(i||r)(X(TN))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class FN{constructor(n,i){this.next=n,this.interceptor=i}handle(n){return this.interceptor.intercept(n,this.next)}}const NN=new Ae("HTTP_INTERCEPTORS");let Aie=(()=>{class r{intercept(i,s){return s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const yie=/^\)\]\}',?\n/;let UN=(()=>{class r{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dt(s=>{const a=this.xhrFactory.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((g,_)=>a.setRequestHeader(g,_.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const g=i.detectContentTypeHeader();null!==g&&a.setRequestHeader("Content-Type",g)}if(i.responseType){const g=i.responseType.toLowerCase();a.responseType="json"!==g?g:"text"}const l=i.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const g=a.statusText||"OK",_=new Ol(a.getAllResponseHeaders()),A=function vie(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(a)||i.url;return c=new GE({headers:_,status:a.status,statusText:g,url:A}),c},d=()=>{let{headers:g,status:_,statusText:A,url:b}=u(),y=null;204!==_&&(y=typeof a.response>"u"?a.responseText:a.response),0===_&&(_=y?200:0);let w=_>=200&&_<300;if("json"===i.responseType&&"string"==typeof y){const v=y;y=y.replace(yie,"");try{y=""!==y?JSON.parse(y):null}catch(C){y=v,w&&(w=!1,y={error:C,text:y})}}w?(s.next(new mA({body:y,headers:g,status:_,statusText:A,url:b||void 0})),s.complete()):s.error(new LN({error:y,headers:g,status:_,statusText:A,url:b||void 0}))},h=g=>{const{url:_}=u(),A=new LN({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:_||void 0});s.error(A)};let f=!1;const p=g=>{f||(s.next(u()),f=!0);let _={type:dr.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),"text"===i.responseType&&!!a.responseText&&(_.partialText=a.responseText),s.next(_)},m=g=>{let _={type:dr.UploadProgress,loaded:g.loaded};g.lengthComputable&&(_.total=g.total),s.next(_)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",p),null!==l&&a.upload&&a.upload.addEventListener("progress",m)),a.send(l),s.next({type:dr.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",p),null!==l&&a.upload&&a.upload.removeEventListener("progress",m)),a.readyState!==a.DONE&&a.abort()}})}}return r.\u0275fac=function(i){return new(i||r)(X(uN))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const $E=new Ae("XSRF_COOKIE_NAME"),WE=new Ae("XSRF_HEADER_NAME");class VN{}let wie=(()=>{class r{constructor(i,s,a){this.doc=i,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=tN(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(id),X($E))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),jE=(()=>{class r{constructor(i,s){this.tokenService=i,this.headerName=s}intercept(i,s){const a=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(i);const l=this.tokenService.getToken();return null!==l&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,l)})),s.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(X(VN),X(WE))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),Cie=(()=>{class r{constructor(i,s){this.backend=i,this.injector=s,this.chain=null}handle(i){if(null===this.chain){const s=this.injector.get(NN,[]);this.chain=s.reduceRight((a,l)=>new FN(a,l),this.backend)}return this.chain.handle(i)}}return r.\u0275fac=function(i){return new(i||r)(X(kN),X(Pi))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),xie=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:jE,useClass:Aie}]}}static withOptions(i={}){return{ngModule:r,providers:[i.cookieName?{provide:$E,useValue:i.cookieName}:[],i.headerName?{provide:WE,useValue:i.headerName}:[]]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[jE,{provide:NN,useExisting:jE,multi:!0},{provide:VN,useClass:wie},{provide:$E,useValue:"XSRF-TOKEN"},{provide:WE,useValue:"X-XSRF-TOKEN"}]}),r})(),zN=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[gf,{provide:TN,useClass:Cie},UN,{provide:kN,useExisting:UN}],imports:[xie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),r})();function HN(r,n,i,s,a,l,c){try{var u=r[l](c),d=u.value}catch(h){return void i(h)}u.done?n(d):Promise.resolve(d).then(s,a)}function ut(r){return function(){var n=this,i=arguments;return new Promise(function(s,a){var l=r.apply(n,i);function c(d){HN(l,s,a,c,u,"next",d)}function u(d){HN(l,s,a,c,u,"throw",d)}c(void 0)})}}class mi extends Me{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}const{isArray:Mie}=Array,{getPrototypeOf:Eie,prototype:Sie,keys:Die}=Object;function GN(r){if(1===r.length){const n=r[0];if(Mie(n))return{args:n,keys:null};if(function Iie(r){return r&&"object"==typeof r&&Eie(r)===Sie}(n)){const i=Die(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:r,keys:null}}const{isArray:Tie}=Array;function ug(r){return Oe(n=>function kie(r,n){return Tie(n)?r(...n):r(n)}(r,n))}function QN(r,n){return r.reduce((i,s,a)=>(i[s]=n[a],i),{})}function Gs(...r){const n=fm(r),i=H0(r),{args:s,keys:a}=GN(r);if(0===s.length)return Zi([],n);const l=new dt($N(s,n,a?c=>QN(a,c):Mt));return i?l.pipe(ug(i)):l}function $N(r,n,i=Mt){return s=>{WN(n,()=>{const{length:a}=r,l=new Array(a);let c=a,u=a;for(let d=0;d<a;d++)WN(n,()=>{const h=Zi(r[d],n);let f=!1;h.subscribe(vt(s,p=>{l[d]=p,f||(f=!0,u--),u||s.next(i(l.slice()))},()=>{--c||s.complete()}))},s)},s)}}function WN(r,n,i){r?Al(i,r,n):n()}function _f(r,n){const i=tn(r)?r:()=>r,s=a=>a.error(i());return new dt(n?a=>n.schedule(s,0,a):s)}const dg=Fu(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function hg(...r){return function Rie(){return vh(1)}()(Zi(r,fm(r)))}function fg(r){return new dt(n=>{Ns(r()).subscribe(n)})}function qE(){return zt((r,n)=>{let i=null;r._refCount++;const s=vt(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(i=null);const a=r._connection,l=i;i=null,a&&(!l||a===l)&&a.unsubscribe(),n.unsubscribe()});r.subscribe(s),s.closed||(i=r.connect())})}class YE extends dt{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,Jn(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new sn;const i=this.getSubject();n.add(this.source.subscribe(vt(i,void 0,()=>{this._teardown(),i.complete()},s=>{this._teardown(),i.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=sn.EMPTY)}return n}refCount(){return qE()(this)}}function Qs(r,n){return zt((i,s)=>{let a=null,l=0,c=!1;const u=()=>c&&!a&&s.complete();i.subscribe(vt(s,d=>{a?.unsubscribe();let h=0;const f=l++;Ns(r(d,f)).subscribe(a=vt(s,p=>s.next(n?n(d,p,f,h++):p),()=>{a=null,u()}))},()=>{c=!0,u()}))})}function Er(...r){const n=fm(r);return zt((i,s)=>{(n?hg(r,i,n):hg(r,i)).subscribe(s)})}function Pie(r,n,i,s,a){return(l,c)=>{let u=i,d=n,h=0;l.subscribe(vt(c,f=>{const p=h++;d=u?r(d,f,p):(u=!0,f),s&&c.next(d)},a&&(()=>{u&&c.next(d),c.complete()})))}}function XE(r,n){return zt(Pie(r,n,arguments.length>=2,!0))}function Hc(r){return zt((n,i)=>{let l,s=null,a=!1;s=n.subscribe(vt(i,void 0,void 0,c=>{l=Ns(r(c,Hc(r)(n))),s?(s.unsubscribe(),s=null,l.subscribe(i)):a=!0})),a&&(s.unsubscribe(),s=null,l.subscribe(i))})}function KE(r){return r<=0?()=>Us:zt((n,i)=>{let s=[];n.subscribe(vt(i,a=>{s.push(a),r<s.length&&s.shift()},()=>{for(const a of s)i.next(a);i.complete()},void 0,()=>{s=null}))})}function jN(r=Oie){return zt((n,i)=>{let s=!1;n.subscribe(vt(i,a=>{s=!0,i.next(a)},()=>s?i.complete():i.error(r())))})}function Oie(){return new dg}function ZE(r){return zt((n,i)=>{let s=!1;n.subscribe(vt(i,a=>{s=!0,i.next(a)},()=>{s||i.next(r),i.complete()}))})}function Gc(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Ln((a,l)=>r(a,l,s)):Mt,Qn(1),i?ZE(n):jN(()=>new dg))}function er(r,n,i){const s=tn(r)||n||i?{next:r,error:n,complete:i}:r;return s?zt((a,l)=>{var c;null===(c=s.subscribe)||void 0===c||c.call(s);let u=!0;a.subscribe(vt(l,d=>{var h;null===(h=s.next)||void 0===h||h.call(s,d),l.next(d)},()=>{var d;u=!1,null===(d=s.complete)||void 0===d||d.call(s),l.complete()},d=>{var h;u=!1,null===(h=s.error)||void 0===h||h.call(s,d),l.error(d)},()=>{var d,h;u&&(null===(d=s.unsubscribe)||void 0===d||d.call(s)),null===(h=s.finalize)||void 0===h||h.call(s)}))}):Mt}function pg(r){return Oe(()=>r)}function gA(r){return zt((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}class Bl{constructor(n,i){this.id=n,this.url=i}}class JE extends Bl{constructor(n,i,s="imperative",a=null){super(n,i),this.type=0,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bf extends Bl{constructor(n,i,s){super(n,i),this.urlAfterRedirects=s,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qN extends Bl{constructor(n,i,s){super(n,i),this.reason=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lie extends Bl{constructor(n,i,s){super(n,i),this.error=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Fie extends Bl{constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Nie extends Bl{constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uie extends Bl{constructor(n,i,s,a,l){super(n,i),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vie extends Bl{constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zie extends Bl{constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hie{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gie{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qie{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $ie{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wie{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jie{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class YN{constructor(n,i,s){this.routerEvent=n,this.position=i,this.anchor=s,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const on="primary";class Yie{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Af(r){return new Yie(r)}const XN="ngNavigationCancelingError";function eS(r){const n=Error("NavigationCancelingError: "+r);return n[XN]=!0,n}function Kie(r,n,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(n.hasChildren()||s.length<r.length))return null;const a={};for(let l=0;l<s.length;l++){const c=s[l],u=r[l];if(c.startsWith(":"))a[c.substring(1)]=u;else if(c!==u.path)return null}return{consumed:r.slice(0,s.length),posParams:a}}function qa(r,n){const i=r?Object.keys(r):void 0,s=n?Object.keys(n):void 0;if(!i||!s||i.length!=s.length)return!1;let a;for(let l=0;l<i.length;l++)if(a=i[l],!KN(r[a],n[a]))return!1;return!0}function KN(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const i=[...r].sort(),s=[...n].sort();return i.every((a,l)=>s[l]===a)}return r===n}function ZN(r){return Array.prototype.concat.apply([],r)}function JN(r){return r.length>0?r[r.length-1]:null}function Hr(r,n){for(const i in r)r.hasOwnProperty(i)&&n(r[i],i)}function fa(r){return PM(r)?r:Hm(r)?Zi(Promise.resolve(r)):Ye(r)}const ere={exact:function n3(r,n,i){if(!ad(r.segments,n.segments)||!_A(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!r.children[s]||!n3(r.children[s],n.children[s],i))return!1;return!0},subset:r3},e3={exact:function tre(r,n){return qa(r,n)},subset:function nre(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>KN(r[i],n[i]))},ignored:()=>!0};function t3(r,n,i){return ere[i.paths](r.root,n.root,i.matrixParams)&&e3[i.queryParams](r.queryParams,n.queryParams)&&!("exact"===i.fragment&&r.fragment!==n.fragment)}function r3(r,n,i){return s3(r,n,n.segments,i)}function s3(r,n,i,s){if(r.segments.length>i.length){const a=r.segments.slice(0,i.length);return!(!ad(a,i)||n.hasChildren()||!_A(a,i,s))}if(r.segments.length===i.length){if(!ad(r.segments,i)||!_A(r.segments,i,s))return!1;for(const a in n.children)if(!r.children[a]||!r3(r.children[a],n.children[a],s))return!1;return!0}{const a=i.slice(0,r.segments.length),l=i.slice(r.segments.length);return!!(ad(r.segments,a)&&_A(r.segments,a,s)&&r.children[on])&&s3(r.children[on],n,l,s)}}function _A(r,n,i){return n.every((s,a)=>e3[i](r[a].parameters,s.parameters))}class od{constructor(n,i,s){this.root=n,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Af(this.queryParams)),this._queryParamMap}toString(){return sre.serialize(this)}}class An{constructor(n,i){this.segments=n,this.children=i,this.parent=null,Hr(i,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bA(this)}}class mg{constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Af(this.parameters)),this._parameterMap}toString(){return u3(this)}}function ad(r,n){return r.length===n.length&&r.every((i,s)=>i.path===n[s].path)}class o3{}class a3{parse(n){const i=new pre(n);return new od(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${gg(n.root,!0)}`,s=function lre(r){const n=Object.keys(r).map(i=>{const s=r[i];return Array.isArray(s)?s.map(a=>`${AA(i)}=${AA(a)}`).join("&"):`${AA(i)}=${AA(s)}`}).filter(i=>!!i);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${i}${s}${"string"==typeof n.fragment?`#${function ore(r){return encodeURI(r)}(n.fragment)}`:""}`}}const sre=new a3;function bA(r){return r.segments.map(n=>u3(n)).join("/")}function gg(r,n){if(!r.hasChildren())return bA(r);if(n){const i=r.children[on]?gg(r.children[on],!1):"",s=[];return Hr(r.children,(a,l)=>{l!==on&&s.push(`${l}:${gg(a,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function rre(r,n){let i=[];return Hr(r.children,(s,a)=>{a===on&&(i=i.concat(n(s,a)))}),Hr(r.children,(s,a)=>{a!==on&&(i=i.concat(n(s,a)))}),i}(r,(s,a)=>a===on?[gg(r.children[on],!1)]:[`${a}:${gg(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[on]?`${bA(r)}/${i[0]}`:`${bA(r)}/(${i.join("//")})`}}function l3(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function AA(r){return l3(r).replace(/%3B/gi,";")}function tS(r){return l3(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yA(r){return decodeURIComponent(r)}function c3(r){return yA(r.replace(/\+/g,"%20"))}function u3(r){return`${tS(r.path)}${function are(r){return Object.keys(r).map(n=>`;${tS(n)}=${tS(r[n])}`).join("")}(r.parameters)}`}const cre=/^[^\/()?;=#]+/;function vA(r){const n=r.match(cre);return n?n[0]:""}const ure=/^[^=?&#]+/,hre=/^[^&#]+/;class pre{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new An([],{}):new An([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(s[on]=new An(n,i)),s}parseSegment(){const n=vA(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new mg(yA(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=vA(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const a=vA(this.remaining);a&&(s=a,this.capture(s))}n[yA(i)]=yA(s)}parseQueryParam(n){const i=function dre(r){const n=r.match(ure);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const c=function fre(r){const n=r.match(hre);return n?n[0]:""}(this.remaining);c&&(s=c,this.capture(s))}const a=c3(i),l=c3(s);if(n.hasOwnProperty(a)){let c=n[a];Array.isArray(c)||(c=[c],n[a]=c),c.push(l)}else n[a]=l}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=vA(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;s.indexOf(":")>-1?(l=s.slice(0,s.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=on);const c=this.parseChildren();i[l]=1===Object.keys(c).length?c[on]:new An([],c),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class d3{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=nS(n,this._root);return i?i.children.map(s=>s.value):[]}firstChild(n){const i=nS(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=iS(n,this._root);return i.length<2?[]:i[i.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return iS(n,this._root).map(i=>i.value)}}function nS(r,n){if(r===n.value)return n;for(const i of n.children){const s=nS(r,i);if(s)return s}return null}function iS(r,n){if(r===n.value)return[n];for(const i of n.children){const s=iS(r,i);if(s.length)return s.unshift(n),s}return[]}class Ll{constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function yf(r){const n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}class h3 extends d3{constructor(n,i){super(n),this.snapshot=i,rS(this,n)}toString(){return this.snapshot.toString()}}function f3(r,n){const i=function mre(r,n){const c=new wA([],{},{},"",{},on,n,null,r.root,-1,{});return new m3("",new Ll(c,[]))}(r,n),s=new mi([new mg("",{})]),a=new mi({}),l=new mi({}),c=new mi({}),u=new mi(""),d=new Ms(s,a,c,u,l,on,n,i.root);return d.snapshot=i.root,new h3(new Ll(d,[]),i)}class Ms{constructor(n,i,s,a,l,c,u,d){this.url=n,this.params=i,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=c,this.component=u,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(n=>Af(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(n=>Af(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function p3(r,n="emptyOnly"){const i=r.pathFromRoot;let s=0;if("always"!==n)for(s=i.length-1;s>=1;){const a=i[s],l=i[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(l.component)break;s--}}return function gre(r){return r.reduce((n,i)=>({params:{...n.params,...i.params},data:{...n.data,...i.data},resolve:{...i.data,...n.resolve,...i.routeConfig?.data,...i._resolvedData}}),{params:{},data:{},resolve:{}})}(i.slice(s))}class wA{constructor(n,i,s,a,l,c,u,d,h,f,p,m){this.url=n,this.params=i,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=c,this.component=u,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=f,this._correctedLastPathIndex=m??f,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Af(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Af(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m3 extends d3{constructor(n,i){super(i),this.url=n,rS(this,i)}toString(){return g3(this._root)}}function rS(r,n){n.value._routerState=r,n.children.forEach(i=>rS(r,i))}function g3(r){const n=r.children.length>0?` { ${r.children.map(g3).join(", ")} } `:"";return`${r.value}${n}`}function sS(r){if(r.snapshot){const n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,qa(n.queryParams,i.queryParams)||r.queryParams.next(i.queryParams),n.fragment!==i.fragment&&r.fragment.next(i.fragment),qa(n.params,i.params)||r.params.next(i.params),function Zie(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!qa(r[i],n[i]))return!1;return!0}(n.url,i.url)||r.url.next(i.url),qa(n.data,i.data)||r.data.next(i.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function oS(r,n){const i=qa(r.params,n.params)&&function ire(r,n){return ad(r,n)&&r.every((i,s)=>qa(i.parameters,n[s].parameters))}(r.url,n.url);return i&&!(!r.parent!=!n.parent)&&(!r.parent||oS(r.parent,n.parent))}function _g(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const a=function bre(r,n,i){return n.children.map(s=>{for(const a of i.children)if(r.shouldReuseRoute(s.value,a.value.snapshot))return _g(r,s,a);return _g(r,s)})}(r,n,i);return new Ll(s,a)}{if(r.shouldAttach(n.value)){const l=r.retrieve(n.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(u=>_g(r,u)),c}}const s=function Are(r){return new Ms(new mi(r.url),new mi(r.params),new mi(r.queryParams),new mi(r.fragment),new mi(r.data),r.outlet,r.component,r)}(n.value),a=n.children.map(l=>_g(r,l));return new Ll(s,a)}}function CA(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function bg(r){return"object"==typeof r&&null!=r&&r.outlets}function aS(r,n,i,s,a){let l={};if(s&&Hr(s,(u,d)=>{l[d]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),r===n)return new od(i,l,a);const c=_3(r,n,i);return new od(c,l,a)}function _3(r,n,i){const s={};return Hr(r.children,(a,l)=>{s[l]=a===n?i:_3(a,n,i)}),new An(r.segments,s)}class b3{constructor(n,i,s){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=s,n&&s.length>0&&CA(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(bg);if(a&&a!==JN(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lS{constructor(n,i,s){this.segmentGroup=n,this.processChildren=i,this.index=s}}function A3(r,n,i){if(r||(r=new An([],{})),0===r.segments.length&&r.hasChildren())return xA(r,n,i);const s=function Mre(r,n,i){let s=0,a=n;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<r.segments.length;){if(s>=i.length)return l;const c=r.segments[a],u=i[s];if(bg(u))break;const d=`${u}`,h=s<i.length-1?i[s+1]:null;if(a>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!v3(d,h,c))return l;s+=2}else{if(!v3(d,{},c))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(r,n,i),a=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const l=new An(r.segments.slice(0,s.pathIndex),{});return l.children[on]=new An(r.segments.slice(s.pathIndex),r.children),xA(l,0,a)}return s.match&&0===a.length?new An(r.segments,{}):s.match&&!r.hasChildren()?cS(r,n,i):s.match?xA(r,0,a):cS(r,n,i)}function xA(r,n,i){if(0===i.length)return new An(r.segments,{});{const s=function xre(r){return bg(r[0])?r[0].outlets:{[on]:r}}(i),a={};return Hr(s,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[c]=A3(r.children[c],n,l))}),Hr(r.children,(l,c)=>{void 0===s[c]&&(a[c]=l)}),new An(r.segments,a)}}function cS(r,n,i){const s=r.segments.slice(0,n);let a=0;for(;a<i.length;){const l=i[a];if(bg(l)){const d=Ere(l.outlets);return new An(s,d)}if(0===a&&CA(i[0])){s.push(new mg(r.segments[n].path,y3(i[0]))),a++;continue}const c=bg(l)?l.outlets[on]:`${l}`,u=a<i.length-1?i[a+1]:null;c&&u&&CA(u)?(s.push(new mg(c,y3(u))),a+=2):(s.push(new mg(c,{})),a++)}return new An(s,{})}function Ere(r){const n={};return Hr(r,(i,s)=>{"string"==typeof i&&(i=[i]),null!==i&&(n[s]=cS(new An([],{}),0,i))}),n}function y3(r){const n={};return Hr(r,(i,s)=>n[s]=`${i}`),n}function v3(r,n,i){return r==i.path&&qa(n,i.parameters)}class Sre{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ag,this.attachRef=null}}class Ag{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const s=this.getOrCreateContext(n);s.outlet=i,this.contexts.set(n,s)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Sre,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}let uS=(()=>{class r{constructor(i,s,a,l,c){this.parentContexts=i,this.location=s,this.changeDetector=l,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new ne,this.deactivateEvents=new ne,this.attachEvents=new ne,this.detachEvents=new ne,this.name=a||on,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const a=this.location,c=i._futureSnapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,d=new Dre(i,u,a.injector);if(s&&function Ire(r){return!!r.resolveComponentFactory}(s)){const h=s.resolveComponentFactory(c);this.activated=a.createComponent(h,a.length,d)}else this.activated=a.createComponent(c,{index:a.length,injector:d,environmentInjector:s??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(i){return new(i||r)(I(Ag),I(ii),Ba("name"),I(yi),I(Zu))},r.\u0275dir=de({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Dre{constructor(n,i,s){this.route=n,this.childContexts=i,this.parent=s}get(n,i){return n===Ms?this.route:n===Ag?this.childContexts:this.parent.get(n,i)}}let w3=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){1&i&&pe(0,"router-outlet")},dependencies:[uS],encapsulation:2}),r})();function C3(r,n){return r.providers&&!r._injector&&(r._injector=zb(r.providers,n,`Route: ${r.path}`)),r._injector??n}function hS(r){const n=r.children&&r.children.map(hS),i=n?{...r,children:n}:{...r};return!i.component&&!i.loadComponent&&(n||i.loadChildren)&&i.outlet&&i.outlet!==on&&(i.component=w3),i}function Fo(r){return r.outlet||on}function x3(r,n){const i=r.filter(s=>Fo(s)===n);return i.push(...r.filter(s=>Fo(s)!==n)),i}function M3(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class Ore{constructor(n,i,s,a){this.routeReuseStrategy=n,this.futureState=i,this.currState=s,this.forwardEvent=a}activate(n){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,n),sS(this.futureState.root),this.activateChildRoutes(i,s,n)}deactivateChildRoutes(n,i,s){const a=yf(i);n.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,a[c],s),delete a[c]}),Hr(a,(l,c)=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(n,i,s){const a=n.value,l=i?i.value:null;if(a===l)if(a.component){const c=s.getContext(a.outlet);c&&this.deactivateChildRoutes(n,i,c.children)}else this.deactivateChildRoutes(n,i,s);else l&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(n,i){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const s=i.getContext(n.value.outlet),a=s&&n.value.component?s.children:i,l=yf(n);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],a);if(s&&s.outlet){const c=s.outlet.detach(),u=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:u})}}deactivateRouteAndOutlet(n,i){const s=i.getContext(n.value.outlet),a=s&&n.value.component?s.children:i,l=yf(n);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,i,s){const a=yf(i);n.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new jie(l.value.snapshot))}),n.children.length&&this.forwardEvent(new $ie(n.value.snapshot))}activateRoutes(n,i,s){const a=n.value,l=i?i.value:null;if(sS(a),a===l)if(a.component){const c=s.getOrCreateContext(a.outlet);this.activateChildRoutes(n,i,c.children)}else this.activateChildRoutes(n,i,s);else if(a.component){const c=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const u=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),c.children.onOutletReAttached(u.contexts),c.attachRef=u.componentRef,c.route=u.route.value,c.outlet&&c.outlet.attach(u.componentRef,u.route.value),sS(u.route.value),this.activateChildRoutes(n,null,c.children)}else{const u=M3(a.snapshot),d=u?.get(Oc)??null;c.attachRef=null,c.route=a,c.resolver=d,c.injector=u,c.outlet&&c.outlet.activateWith(a,c.injector),this.activateChildRoutes(n,null,c.children)}}else this.activateChildRoutes(n,null,s)}}function Qc(r){return"function"==typeof r}function ld(r){return r instanceof od}const yg=Symbol("INITIAL_VALUE");function vg(){return Qs(r=>Gs(r.map(n=>n.pipe(Qn(1),Er(yg)))).pipe(XE((n,i)=>{let s=!1;return i.reduce((a,l,c)=>a!==yg?a:(l===yg&&(s=!0),s||!1!==l&&c!==i.length-1&&!ld(l)?a:l),n)},yg),Ln(n=>n!==yg),Oe(n=>ld(n)?n:!0===n),Qn(1)))}const E3={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MA(r,n,i){if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||i.length>0)?{...E3}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const a=(n.matcher||Kie)(i,r,n);if(!a)return{...E3};const l={};Hr(a.posParams,(u,d)=>{l[d]=u.path});const c=a.consumed.length>0?{...l,...a.consumed[a.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:i.slice(a.consumed.length),parameters:c,positionalParamSegments:a.posParams??{}}}function EA(r,n,i,s,a="corrected"){if(i.length>0&&function Hre(r,n,i){return i.some(s=>SA(r,n,s)&&Fo(s)!==on)}(r,i,s)){const c=new An(n,function zre(r,n,i,s){const a={};a[on]=s,s._sourceSegment=r,s._segmentIndexShift=n.length;for(const l of i)if(""===l.path&&Fo(l)!==on){const c=new An([],{});c._sourceSegment=r,c._segmentIndexShift=n.length,a[Fo(l)]=c}return a}(r,n,s,new An(i,r.children)));return c._sourceSegment=r,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:[]}}if(0===i.length&&function Gre(r,n,i){return i.some(s=>SA(r,n,s))}(r,i,s)){const c=new An(r.segments,function Vre(r,n,i,s,a,l){const c={};for(const u of s)if(SA(r,i,u)&&!a[Fo(u)]){const d=new An([],{});d._sourceSegment=r,d._segmentIndexShift="legacy"===l?r.segments.length:n.length,c[Fo(u)]=d}return{...a,...c}}(r,n,i,s,r.children,a));return c._sourceSegment=r,c._segmentIndexShift=n.length,{segmentGroup:c,slicedSegments:i}}const l=new An(r.segments,r.children);return l._sourceSegment=r,l._segmentIndexShift=n.length,{segmentGroup:l,slicedSegments:i}}function SA(r,n,i){return(!(r.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}function S3(r,n,i,s){return!!(Fo(r)===s||s!==on&&SA(n,i,r))&&("**"===r.path||MA(n,r,i).matched)}function D3(r,n,i){return 0===n.length&&!r.children[i]}class DA{constructor(n){this.segmentGroup=n||null}}class I3{constructor(n){this.urlTree=n}}function wg(r){return _f(new DA(r))}function T3(r){return _f(new I3(r))}class jre{constructor(n,i,s,a,l){this.injector=n,this.configLoader=i,this.urlSerializer=s,this.urlTree=a,this.config=l,this.allowRedirects=!0}apply(){const n=EA(this.urlTree.root,[],[],this.config).segmentGroup,i=new An(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,i,on).pipe(Oe(l=>this.createUrlTree(fS(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Hc(l=>{if(l instanceof I3)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof DA?this.noMatchError(l):l}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,on).pipe(Oe(a=>this.createUrlTree(fS(a),n.queryParams,n.fragment))).pipe(Hc(a=>{throw a instanceof DA?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,i,s){const a=n.segments.length>0?new An([],{[on]:n}):n;return new od(a,i,s)}expandSegmentGroup(n,i,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(Oe(l=>new An([],l))):this.expandSegment(n,s,i,s.segments,a,!0)}expandChildren(n,i,s){const a=[];for(const l of Object.keys(s.children))"primary"===l?a.unshift(l):a.push(l);return Zi(a).pipe(mf(l=>{const c=s.children[l],u=x3(i,l);return this.expandSegmentGroup(n,u,c,l).pipe(Oe(d=>({segment:d,outlet:l})))}),XE((l,c)=>(l[c.outlet]=c.segment,l),{}),function Bie(r,n){const i=arguments.length>=2;return s=>s.pipe(r?Ln((a,l)=>r(a,l,s)):Mt,KE(1),i?ZE(n):jN(()=>new dg))}())}expandSegment(n,i,s,a,l,c){return Zi(s).pipe(mf(u=>this.expandSegmentAgainstRoute(n,i,s,u,a,l,c).pipe(Hc(h=>{if(h instanceof DA)return Ye(null);throw h}))),Gc(u=>!!u),Hc((u,d)=>{if(u instanceof dg||"EmptyError"===u.name)return D3(i,a,l)?Ye(new An([],{})):wg(i);throw u}))}expandSegmentAgainstRoute(n,i,s,a,l,c,u){return S3(a,i,l,c)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,i,a,l,c):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,s,a,l,c):wg(i):wg(i)}expandSegmentAgainstRouteUsingRedirect(n,i,s,a,l,c){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,a,c):this.expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,a,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,s,a){const l=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?T3(l):this.lineralizeSegments(s,l).pipe(ar(c=>{const u=new An(c,{});return this.expandSegment(n,u,i,c,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,i,s,a,l,c){const{matched:u,consumedSegments:d,remainingSegments:h,positionalParamSegments:f}=MA(i,a,l);if(!u)return wg(i);const p=this.applyRedirectCommands(d,a.redirectTo,f);return a.redirectTo.startsWith("/")?T3(p):this.lineralizeSegments(a,p).pipe(ar(m=>this.expandSegment(n,i,s,m.concat(h),c,!1)))}matchSegmentAgainstRoute(n,i,s,a,l){if("**"===s.path)return n=C3(s,n),s.loadChildren?(s._loadedRoutes?Ye({routes:s._loadedRoutes,injector:s._loadedInjector}):this.configLoader.loadChildren(n,s)).pipe(Oe(p=>(s._loadedRoutes=p.routes,s._loadedInjector=p.injector,new An(a,{})))):Ye(new An(a,{}));const{matched:c,consumedSegments:u,remainingSegments:d}=MA(i,s,a);return c?(n=C3(s,n),this.getChildConfig(n,s,a).pipe(ar(f=>{const p=f.injector??n,m=f.routes,{segmentGroup:g,slicedSegments:_}=EA(i,u,d,m),A=new An(g.segments,g.children);if(0===_.length&&A.hasChildren())return this.expandChildren(p,m,A).pipe(Oe(v=>new An(u,v)));if(0===m.length&&0===_.length)return Ye(new An(u,{}));const b=Fo(s)===l;return this.expandSegment(p,A,m,_,b?on:l,!0).pipe(Oe(w=>new An(u.concat(w.segments),w.children)))}))):wg(i)}getChildConfig(n,i,s){return i.children?Ye({routes:i.children,injector:n}):i.loadChildren?void 0!==i._loadedRoutes?Ye({routes:i._loadedRoutes,injector:i._loadedInjector}):this.runCanLoadGuards(n,i,s).pipe(ar(a=>a?this.configLoader.loadChildren(n,i).pipe(er(l=>{i._loadedRoutes=l.routes,i._loadedInjector=l.injector})):function $re(r){return _f(eS(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))}(i))):Ye({routes:[],injector:n})}runCanLoadGuards(n,i,s){const a=i.canLoad;return a&&0!==a.length?Ye(a.map(c=>{const u=n.get(c);let d;if(function Lre(r){return r&&Qc(r.canLoad)}(u))d=u.canLoad(i,s);else{if(!Qc(u))throw new Error("Invalid CanLoad guard");d=u(i,s)}return fa(d)})).pipe(vg(),er(c=>{if(!ld(c))return;const u=eS(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw u.url=c,u}),Oe(c=>!0===c)):Ye(!0)}lineralizeSegments(n,i){let s=[],a=i.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Ye(s);if(a.numberOfChildren>1||!a.children[on])return _f(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n.redirectTo}'`));a=a.children[on]}}applyRedirectCommands(n,i,s){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),n,s)}applyRedirectCreatreUrlTree(n,i,s,a){const l=this.createSegmentGroup(n,i.root,s,a);return new od(l,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const s={};return Hr(n,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const u=a.substring(1);s[l]=i[u]}else s[l]=a}),s}createSegmentGroup(n,i,s,a){const l=this.createSegments(n,i.segments,s,a);let c={};return Hr(i.children,(u,d)=>{c[d]=this.createSegmentGroup(n,u,s,a)}),new An(l,c)}createSegments(n,i,s,a){return i.map(l=>l.path.startsWith(":")?this.findPosParam(n,l,a):this.findOrReturn(l,s))}findPosParam(n,i,s){const a=s[i.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${i.path}'.`);return a}findOrReturn(n,i){let s=0;for(const a of i){if(a.path===n.path)return i.splice(s),a;s++}return n}}function fS(r){const n={};for(const s of Object.keys(r.children)){const l=fS(r.children[s]);(l.segments.length>0||l.hasChildren())&&(n[s]=l)}return function qre(r){if(1===r.numberOfChildren&&r.children[on]){const n=r.children[on];return new An(r.segments.concat(n.segments),n.children)}return r}(new An(r.segments,n))}class k3{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class IA{constructor(n,i){this.component=n,this.route=i}}function Xre(r,n,i){const s=r._root;return Cg(s,n?n._root:null,i,[s.value])}function TA(r,n,i){return(M3(n)??i).get(r)}function Cg(r,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=yf(n);return r.children.forEach(c=>{(function Zre(r,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=r.value,c=n?n.value:null,u=i?i.getContext(r.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const d=function Jre(r,n,i){if("function"==typeof i)return i(r,n);switch(i){case"pathParamsChange":return!ad(r.url,n.url);case"pathParamsOrQueryParamsChange":return!ad(r.url,n.url)||!qa(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oS(r,n)||!qa(r.queryParams,n.queryParams);default:return!oS(r,n)}}(c,l,l.routeConfig.runGuardsAndResolvers);d?a.canActivateChecks.push(new k3(s)):(l.data=c.data,l._resolvedData=c._resolvedData),Cg(r,n,l.component?u?u.children:null:i,s,a),d&&u&&u.outlet&&u.outlet.isActivated&&a.canDeactivateChecks.push(new IA(u.outlet.component,c))}else c&&xg(n,u,a),a.canActivateChecks.push(new k3(s)),Cg(r,null,l.component?u?u.children:null:i,s,a)})(c,l[c.value.outlet],i,s.concat([c.value]),a),delete l[c.value.outlet]}),Hr(l,(c,u)=>xg(c,i.getContext(u),a)),a}function xg(r,n,i){const s=yf(r),a=r.value;Hr(s,(l,c)=>{xg(l,a.component?n?n.children.getContext(c):null:n,i)}),i.canDeactivateChecks.push(new IA(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class lse{}function P3(r){return new dt(n=>n.error(r))}class use{constructor(n,i,s,a,l,c){this.rootComponentType=n,this.config=i,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=c}recognize(){const n=EA(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,n,on);if(null===i)return null;const s=new wA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Ll(s,i),l=new m3(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(n){const i=n.value,s=p3(i,this.paramsInheritanceStrategy);i.params=Object.freeze(s.params),i.data=Object.freeze(s.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,i,s){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,i):this.processSegment(n,i,i.segments,s)}processChildren(n,i){const s=[];for(const l of Object.keys(i.children)){const c=i.children[l],u=x3(n,l),d=this.processSegmentGroup(u,c,l);if(null===d)return null;s.push(...d)}const a=O3(s);return function dse(r){r.sort((n,i)=>n.value.outlet===on?-1:i.value.outlet===on?1:n.value.outlet.localeCompare(i.value.outlet))}(a),a}processSegment(n,i,s,a){for(const l of n){const c=this.processSegmentAgainstRoute(l,i,s,a);if(null!==c)return c}return D3(i,s,a)?[]:null}processSegmentAgainstRoute(n,i,s,a){if(n.redirectTo||!S3(n,i,s,a))return null;let l,c=[],u=[];if("**"===n.path){const g=s.length>0?JN(s).parameters:{},_=L3(i)+s.length;l=new wA(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N3(n),Fo(n),n.component??n._loadedComponent??null,n,B3(i),_,U3(n),_)}else{const g=MA(i,n,s);if(!g.matched)return null;c=g.consumedSegments,u=g.remainingSegments;const _=L3(i)+c.length;l=new wA(c,g.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,N3(n),Fo(n),n.component??n._loadedComponent??null,n,B3(i),_,U3(n),_)}const d=function hse(r){return r.children?r.children:r.loadChildren?r._loadedRoutes:[]}(n),{segmentGroup:h,slicedSegments:f}=EA(i,c,u,d.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===f.length&&h.hasChildren()){const g=this.processChildren(d,h);return null===g?null:[new Ll(l,g)]}if(0===d.length&&0===f.length)return[new Ll(l,[])];const p=Fo(n)===a,m=this.processSegment(d,h,f,p?on:a);return null===m?null:[new Ll(l,m)]}}function fse(r){const n=r.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function O3(r){const n=[],i=new Set;for(const s of r){if(!fse(s)){n.push(s);continue}const a=n.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),i.add(a)):n.push(s)}for(const s of i){const a=O3(s.children);n.push(new Ll(s.value,a))}return n.filter(s=>!i.has(s))}function B3(r){let n=r;for(;n._sourceSegment;)n=n._sourceSegment;return n}function L3(r){let n=r,i=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,i+=n._segmentIndexShift??0;return i-1}function N3(r){return r.data||{}}function U3(r){return r.resolve||{}}const pS=Symbol("RouteTitle");function V3(r){return"string"==typeof r.title||null===r.title}function mS(r){return Qs(n=>{const i=r(n);return i?Zi(i).pipe(Oe(()=>n)):Ye(n)})}class wse extends class vse{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}{}const gS=new Ae("ROUTES");let _S=(()=>{class r{constructor(i,s){this.injector=i,this.compiler=s,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Ye(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const s=fa(i.loadComponent()).pipe(er(l=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=l}),gA(()=>{this.componentLoaders.delete(i)})),a=new YE(s,()=>new Me).pipe(qE());return this.componentLoaders.set(i,a),a}loadChildren(i,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Ye({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=this.loadModuleFactoryOrRoutes(s.loadChildren).pipe(Oe(u=>{this.onLoadEndListener&&this.onLoadEndListener(s);let d,h,f=!1;Array.isArray(u)?h=u:(d=u.create(i).injector,h=ZN(d.get(gS,[],_t.Self|_t.Optional)));return{routes:h.map(hS),injector:d}}),gA(()=>{this.childrenLoaders.delete(s)})),c=new YE(l,()=>new Me).pipe(qE());return this.childrenLoaders.set(s,c),c}loadModuleFactoryOrRoutes(i){return fa(i()).pipe(ar(s=>s instanceof PL||Array.isArray(s)?Ye(s):Zi(this.compiler.compileModuleAsync(s))))}}return r.\u0275fac=function(i){return new(i||r)(X(Pi),X(aE))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class xse{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}function Ese(r){throw r}function Sse(r,n,i){return n.parse("/")}const Dse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ise={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fi=(()=>{class r{constructor(i,s,a,l,c,u,d){this.rootComponentType=i,this.urlSerializer=s,this.rootContexts=a,this.location=l,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Me,this.errorHandler=Ese,this.malformedUriErrorHandler=Sse,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Ye(void 0),this.urlHandlingStrategy=new xse,this.routeReuseStrategy=new wse,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(_S),this.configLoader.onLoadEndListener=m=>this.triggerEvent(new Gie(m)),this.configLoader.onLoadStartListener=m=>this.triggerEvent(new Hie(m)),this.ngModule=c.get(Bc),this.console=c.get(See);const p=c.get(ht);this.isNgZoneEnabled=p instanceof ht&&ht.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function Jie(){return new od(new An([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=f3(this.currentUrlTree,this.rootComponentType),this.transitions=new mi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(i){const s=this.events;return i.pipe(Ln(a=>0!==a.id),Oe(a=>({...a,extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Qs(a=>{let l=!1,c=!1;return Ye(a).pipe(er(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qs(u=>{const d=this.browserUrlTree.toString(),h=!this.navigated||u.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return H3(u.source)&&(this.browserUrlTree=u.extractedUrl),Ye(u).pipe(Qs(p=>{const m=this.transitions.getValue();return s.next(new JE(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions.getValue()?Us:Promise.resolve(p)}),function Yre(r,n,i,s){return Qs(a=>function Wre(r,n,i,s,a){return new jre(r,n,i,s,a).apply()}(r,n,i,a.extractedUrl,s).pipe(Oe(l=>({...a,urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),er(p=>{this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects}}),function pse(r,n,i,s,a){return ar(l=>function cse(r,n,i,s,a="emptyOnly",l="legacy"){try{const c=new use(r,n,i,s,a,l).recognize();return null===c?P3(new lse):Ye(c)}catch(c){return P3(c)}}(r,n,l.urlAfterRedirects,i(l.urlAfterRedirects),s,a).pipe(Oe(c=>({...l,targetSnapshot:c}))))}(this.rootComponentType,this.config,p=>this.serializeUrl(p),this.paramsInheritanceStrategy,this.relativeLinkResolution),er(p=>{if("eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(g,p)}this.browserUrlTree=p.urlAfterRedirects}const m=new Fie(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);s.next(m)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:g,source:_,restoredState:A,extras:b}=u,y=new JE(m,this.serializeUrl(g),_,A);s.next(y);const w=f3(g,this.rootComponentType).snapshot;return Ye({...u,targetSnapshot:w,urlAfterRedirects:g,extras:{...b,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=u.rawUrl,u.resolve(null),Us}),er(u=>{const d=new Nie(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(d)}),Oe(u=>({...u,guards:Xre(u.targetSnapshot,u.currentSnapshot,this.rootContexts)})),function ese(r,n){return ar(i=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:c}}=i;return 0===c.length&&0===l.length?Ye({...i,guardsResult:!0}):function tse(r,n,i,s){return Zi(r).pipe(ar(a=>function ase(r,n,i,s,a){const l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return l&&0!==l.length?Ye(l.map(u=>{const d=TA(u,n,a);let h;if(function Ure(r){return r&&Qc(r.canDeactivate)}(d))h=fa(d.canDeactivate(r,n,i,s));else{if(!Qc(d))throw new Error("Invalid CanDeactivate guard");h=fa(d(r,n,i,s))}return h.pipe(Gc())})).pipe(vg()):Ye(!0)}(a.component,a.route,i,n,s)),Gc(a=>!0!==a,!0))}(c,s,a,r).pipe(ar(u=>u&&function Bre(r){return"boolean"==typeof r}(u)?function nse(r,n,i,s){return Zi(n).pipe(mf(a=>hg(function rse(r,n){return null!==r&&n&&n(new Qie(r)),Ye(!0)}(a.route.parent,s),function ise(r,n){return null!==r&&n&&n(new Wie(r)),Ye(!0)}(a.route,s),function ose(r,n,i){const s=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(c=>function Kre(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(c)).filter(c=>null!==c).map(c=>fg(()=>Ye(c.guards.map(d=>{const h=TA(d,c.node,i);let f;if(function Nre(r){return r&&Qc(r.canActivateChild)}(h))f=fa(h.canActivateChild(s,r));else{if(!Qc(h))throw new Error("Invalid CanActivateChild guard");f=fa(h(s,r))}return f.pipe(Gc())})).pipe(vg())));return Ye(l).pipe(vg())}(r,a.path,i),function sse(r,n,i){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return Ye(!0);const a=s.map(l=>fg(()=>{const c=TA(l,n,i);let u;if(function Fre(r){return r&&Qc(r.canActivate)}(c))u=fa(c.canActivate(n,r));else{if(!Qc(c))throw new Error("Invalid CanActivate guard");u=fa(c(n,r))}return u.pipe(Gc())}));return Ye(a).pipe(vg())}(r,a.route,i))),Gc(a=>!0!==a,!0))}(s,l,r,n):Ye(u)),Oe(u=>({...i,guardsResult:u})))})}(this.ngModule.injector,u=>this.triggerEvent(u)),er(u=>{if(ld(u.guardsResult)){const h=eS(`Redirecting to "${this.serializeUrl(u.guardsResult)}"`);throw h.url=u.guardsResult,h}const d=new Uie(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.triggerEvent(d)}),Ln(u=>!!u.guardsResult||(this.restoreHistory(u),this.cancelNavigationTransition(u,""),!1)),mS(u=>{if(u.guards.canActivateChecks.length)return Ye(u).pipe(er(d=>{const h=new Vie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),Qs(d=>{let h=!1;return Ye(d).pipe(function mse(r,n){return ar(i=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=i;if(!a.length)return Ye(i);let l=0;return Zi(a).pipe(mf(c=>function gse(r,n,i,s){const a=r.routeConfig,l=r._resolve;return void 0!==a?.title&&!V3(a)&&(l[pS]=a.title),function _se(r,n,i,s){const a=function bse(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}(r);if(0===a.length)return Ye({});const l={};return Zi(a).pipe(ar(c=>function Ase(r,n,i,s){const a=TA(r,n,s);return fa(a.resolve?a.resolve(n,i):a(n,i))}(r[c],n,i,s).pipe(Gc(),er(u=>{l[c]=u}))),KE(1),pg(l),Hc(c=>c instanceof dg?Us:_f(c)))}(l,r,n,s).pipe(Oe(c=>(r._resolvedData=c,r.data=p3(r,i).resolve,a&&V3(a)&&(r.data[pS]=a.title),null)))}(c.route,s,r,n)),er(()=>l++),KE(1),ar(c=>l===a.length?Ye(i):Us))})}(this.paramsInheritanceStrategy,this.ngModule.injector),er({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),er(d=>{const h=new zie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}))}),mS(()=>this.afterPreactivation()),mS(u=>{const d=h=>{const f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(er(p=>{h.component=p}),Oe(()=>{})));for(const p of h.children)f.push(...d(p));return f};return Gs(d(u.targetSnapshot.root)).pipe(ZE(),Qn(1))}),Oe(u=>{const d=function _re(r,n,i){const s=_g(r,n._root,i?i._root:void 0);return new h3(s,n)}(this.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return{...u,targetRouterState:d}}),er(u=>{this.currentUrlTree=u.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),this.routerState=u.targetRouterState,"deferred"===this.urlUpdateStrategy&&(u.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,u),this.browserUrlTree=u.urlAfterRedirects)}),((r,n,i)=>Oe(s=>(new Ore(n,s.targetRouterState,s.currentRouterState,i).activate(r),s)))(this.rootContexts,this.routeReuseStrategy,u=>this.triggerEvent(u)),er({next(){l=!0},complete(){l=!0}}),gA(()=>{l||c||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===a.id&&(this.currentNavigation=null)}),Hc(u=>{if(c=!0,function Xie(r){return r&&r[XN]}(u)){const d=ld(u.url);d||(this.navigated=!0,this.restoreHistory(a,!0));const h=new qN(a.id,this.serializeUrl(a.extractedUrl),u.message);if(s.next(h),d){const f=this.urlHandlingStrategy.merge(u.url,this.rawUrlTree),p={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||H3(a.source)};this.scheduleNavigation(f,"imperative",null,p,{resolve:a.resolve,reject:a.reject,promise:a.promise})}else a.resolve(!1)}else{this.restoreHistory(a,!0);const d=new Lie(a.id,this.serializeUrl(a.extractedUrl),u);s.next(d);try{a.resolve(this.errorHandler(u))}catch(h){a.reject(h)}}return Us}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}setTransition(i){this.transitions.next({...this.transitions.value,...i})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const s="popstate"===i.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{const a={replaceUrl:!0},l=i.state?.navigationId?i.state:null;if(l){const u={...l};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(a.state=u)}const c=this.parseUrl(i.url);this.scheduleNavigation(c,s,l,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){this.config=i.map(hS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,s={}){const{relativeTo:a,queryParams:l,fragment:c,queryParamsHandling:u,preserveFragment:d}=s,h=a||this.routerState.root,f=d?this.currentUrlTree.fragment:c;let p=null;switch(u){case"merge":p={...this.currentUrlTree.queryParams,...l};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=l||null}return null!==p&&(p=this.removeEmptyProps(p)),function yre(r,n,i,s,a){if(0===i.length)return aS(n.root,n.root,n.root,s,a);const l=function vre(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new b3(!0,0,r);let n=0,i=!1;const s=r.reduce((a,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const u={};return Hr(l.outlets,(d,h)=>{u[h]="string"==typeof d?d.split("/"):d}),[...a,{outlets:u}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===c?(l.split("/").forEach((u,d)=>{0==d&&"."===u||(0==d&&""===u?i=!0:".."===u?n++:""!=u&&a.push(u))}),a):[...a,l]},[]);return new b3(i,n,s)}(i);return l.toRoot()?aS(n.root,n.root,new An([],{}),s,a):function c(d){const h=function wre(r,n,i,s){return r.isAbsolute?new lS(n.root,!0,0):-1===s?new lS(i,i===n.root,0):function Cre(r,n,i){let s=r,a=n,l=i;for(;l>a;){if(l-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new lS(s,!1,a-l)}(i,s+(CA(r.commands[0])?0:1),r.numberOfDoubleDots)}(l,n,r.snapshot?._urlSegment,d),f=h.processChildren?xA(h.segmentGroup,h.index,l.commands):A3(h.segmentGroup,h.index,l.commands);return aS(n.root,h.segmentGroup,f,s,a)}(r.snapshot?._lastPathIndex)}(h,this.currentUrlTree,i,p,f??null)}navigateByUrl(i,s={skipLocationChange:!1}){const a=ld(i)?i:this.parseUrl(i),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,s)}navigate(i,s={skipLocationChange:!1}){return function Tse(r){for(let n=0;n<r.length;n++){const i=r[n];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${n}`)}}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let s;try{s=this.urlSerializer.parse(i)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,i)}return s}isActive(i,s){let a;if(a=!0===s?{...Dse}:!1===s?{...Ise}:s,ld(i))return t3(this.currentUrlTree,i,a);const l=this.parseUrl(i);return t3(this.currentUrlTree,l,a)}removeEmptyProps(i){return Object.keys(i).reduce((s,a)=>{const l=i[a];return null!=l&&(s[a]=l),s},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new bf(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),i.resolve(!0)},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)})}scheduleNavigation(i,s,a,l,c){if(this.disposed)return Promise.resolve(!1);let u,d,h;c?(u=c.resolve,d=c.reject,h=c.promise):h=new Promise((m,g)=>{u=m,d=g});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),p=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:l,resolve:u,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(i,s){const a=this.urlSerializer.serialize(i),l={...s.extras.state,...this.generateNgRouterState(s.id,s.targetPageId)};this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(i,s=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===a?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===a&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,s){const a=new qN(i.id,this.serializeUrl(i.extractedUrl),s);this.triggerEvent(a),i.resolve(!1)}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}}return r.\u0275fac=function(i){Fm()},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function H3(r){return"imperative"!==r}let vf=(()=>{class r{constructor(i,s,a,l,c){this.router=i,this.route=s,this.tabIndexAttribute=a,this.renderer=l,this.el=c,this.commands=null,this.onChanges=new Me,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==i?s.setAttribute(a,"tabindex",i):s.removeAttribute(a,"tabindex")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){null!=i?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const i={skipLocationChange:kl(this.skipLocationChange),replaceUrl:kl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kl(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms),Ba("tabindex"),I(Dl),I(We))},r.\u0275dir=de({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,s){1&i&&tt("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ri]}),r})(),$c=(()=>{class r{constructor(i,s,a){this.router=i,this.route=s,this.locationStrategy=a,this.commands=null,this.href=null,this.onChanges=new Me,this.subscription=i.events.subscribe(l=>{l instanceof bf&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:null}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,s,a,l,c){if(0!==i||s||a||l||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const u={skipLocationChange:kl(this.skipLocationChange),replaceUrl:kl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,u),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:kl(this.preserveFragment)})}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms),I(sd))},r.\u0275dir=de({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,s){1&i&&tt("click",function(l){return s.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&i&&nn("target",s.target)("href",s.href,yn)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ri]}),r})();class G3{buildTitle(n){let i,s=n.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(a=>a.outlet===on);return i}getResolvedTitleForRoute(n){return n.data[pS]}}let Pse=(()=>{class r extends G3{constructor(i){super(),this.title=i}updateTitle(i){const s=this.buildTitle(i);void 0!==s&&this.title.setTitle(s)}}return r.\u0275fac=function(i){return new(i||r)(X(EN))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Q3{}let $3=(()=>{class r{constructor(i,s,a,l,c){this.router=i,this.injector=a,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(i=>i instanceof bf),mf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const a=[];for(const l of s){l.providers&&!l._injector&&(l._injector=zb(l.providers,i,`Route: ${l.path}`));const c=l._injector??i,u=l._loadedInjector??c;l.loadChildren&&!l._loadedRoutes||l.loadComponent&&!l._loadedComponent?a.push(this.preloadConfig(c,l)):(l.children||l._loadedRoutes)&&a.push(this.processRoutes(u,l.children??l._loadedRoutes))}return Zi(a).pipe(vh())}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(i,s):Ye(null);const l=a.pipe(ar(c=>null===c?Ye(void 0):(s._loadedRoutes=c.routes,s._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));return s.loadComponent&&!s._loadedComponent?Zi([l,this.loader.loadComponent(s)]).pipe(vh()):l})}}return r.\u0275fac=function(i){return new(i||r)(X(Fi),X(aE),X(Zu),X(Q3),X(_S))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const W3=new Ae("");let Ose=(()=>{class r{constructor(i,s,a={}){this.router=i,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof JE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof bf&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof YN&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.router.triggerEvent(new YN(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(i){Fm()},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const bS=new Ae("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),j3=new Ae("ROUTER_FORROOT_GUARD"),q3=new Ae(""),Bse=[ng,{provide:o3,useClass:a3},{provide:Fi,useFactory:function zse(r,n,i,s,a,l,c={},u,d,h,f){const p=new Fi(null,r,n,i,s,a,ZN(l));return h&&(p.urlHandlingStrategy=h),f&&(p.routeReuseStrategy=f),p.titleStrategy=d??u,function Hse(r,n){r.errorHandler&&(n.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(n.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(n.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(n.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(n.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(n.canceledNavigationResolution=r.canceledNavigationResolution)}(c,p),p},deps:[o3,Ag,ng,Pi,aE,gS,bS,Pse,[G3,new Ro],[class Cse{},new Ro],[class yse{},new Ro]]},Ag,{provide:Ms,useFactory:function Gse(r){return r.routerState.root},deps:[Fi]},_S];function Lse(){return new vF("Router",Fi)}let Ya=(()=>{class r{constructor(i,s){}static forRoot(i,s){return{ngModule:r,providers:[Bse,[],Y3(i),{provide:j3,useFactory:Vse,deps:[[Fi,new Ro,new qu]]},{provide:bS,useValue:s||{}},s?.useHash?{provide:sd,useClass:gte}:{provide:sd,useClass:$F},{provide:W3,useFactory:()=>{const r=Kr(Fi),n=Kr(BE),i=Kr(bS);return i.scrollOffset&&n.setOffset(i.scrollOffset),new Ose(r,n,i)}},s?.preloadingStrategy?Xse(s.preloadingStrategy):[],{provide:vF,multi:!0,useFactory:Lse},s?.initialNavigation?$se(s):[],[{provide:X3,useFactory:Qse},{provide:oE,multi:!0,useExisting:X3}]]}}static forChild(i){return{ngModule:r,providers:[Y3(i)]}}}return r.\u0275fac=function(i){return new(i||r)(X(j3,8),X(Fi,8))},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();function Vse(r){return"guarded"}function Y3(r){return[{provide:J9,multi:!0,useValue:r},{provide:gS,multi:!0,useValue:r}]}function Qse(){const r=Kr(Pi);return n=>{const i=r.get(hf);if(n!==i.components[0])return;const s=r.get(Fi),a=r.get(K3);null===r.get(AS,null,_t.Optional)&&s.initialNavigation(),r.get(q3,null,_t.Optional)?.setUpPreloading(),r.get(W3,null,_t.Optional)?.init(),s.resetRootComponentType(i.componentTypes[0]),a.next(),a.complete()}}const X3=new Ae("");function $se(r){return["disabled"===r.initialNavigation?[{provide:eg,multi:!0,useFactory:()=>{const r=Kr(Fi);return()=>{r.setUpLocationChangeListener()}}},{provide:AS,useValue:"disabled"}]:[],"enabledBlocking"===r.initialNavigation?[{provide:AS,useValue:"enabledBlocking"},{provide:eg,multi:!0,deps:[Pi],useFactory:r=>{const n=r.get(fte,Promise.resolve(null));let i=!1;return()=>n.then(()=>new Promise(s=>{const a=r.get(Fi),l=r.get(K3);a.afterPreactivation=()=>i?Ye(void 0):(i=!0,s(!0),l),a.initialNavigation()}))}}]:[]]}const K3=new Ae("",{factory:()=>new Me}),AS=new Ae("");function Xse(r){return[$3,{provide:q3,useExisting:$3},{provide:Q3,useExisting:r}]}function kA(r){return Ln((n,i)=>r<=i)}const yS=new Ae("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),Z3=new Ae("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:r}=Kr(At);if(!r)throw new Error("Window is not available");return r}}),Zse=new Ae("ngx-data-layer",{providedIn:"root",factory:()=>function Kse(r){return r?r.dataLayer=r.dataLayer||[]:null}(Kr(Z3))}),J3=new Ae("ngx-gtag-fn",{providedIn:"root",factory:()=>function Jse(r,n){return r?r.gtag=r.gtag||function(){n.push(arguments)}:null}(Kr(Z3),Kr(Zse))});let eoe=(()=>{class r{constructor(i,s,a){this.settings=i,this._document=s,this._gtag=a}get document(){return this._document}throw(i){(this.settings.enableTracing||qb())&&console&&console.error&&console.error(i)}toKeyValue(i){return i.size>0?Array.from(i).reduce((s,[a,l])=>Object.defineProperty(s,a,{value:l,enumerable:!0}),{}):void 0}gtag(...i){try{this._gtag(...i.filter(s=>void 0!==s))}catch(s){this.throw(s)}}event(i,s,a,l,c,u){try{const d=new Map;s&&d.set("event_category",s),a&&d.set("event_label",a),l&&d.set("value",l),void 0!==c&&d.set("interaction",c),u&&Object.entries(u).map(([f,p])=>d.set(f,p));const h=this.toKeyValue(d);h?this.gtag("event",i,h):this.gtag("event",i)}catch(d){this.throw(d)}}pageView(i,s,a,l){try{const c=new Map([["page_path",i]]);s&&c.set("page_title",s),(a||this.document)&&c.set("page_location",a||this.document.location.href),l&&Object.entries(l).map(([u,d])=>c.set(u,d)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(c))}catch(c){this.throw(c)}}appView(i,s,a,l,c){try{const u=new Map([["screen_name",i],["app_name",s]]);a&&u.set("app_id",a),l&&u.set("app_version",l),c&&u.set("app_installer_id",c),this.gtag("event","screen_view",this.toKeyValue(u))}catch(u){this.throw(u)}}set(...i){try{this._gtag("set",...i)}catch(s){this.throw(s)}}exception(i,s){try{const a=new Map;i&&a.set("description",i),s&&a.set("fatal",s),this.toKeyValue(a)?this.gtag("event","exception",this.toKeyValue(a)):this.gtag("event","exception")}catch(a){this.throw(a)}}}return r.\u0275fac=function(i){return new(i||r)(X(yS),X(At),X(J3))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const toe={provide:eg,multi:!0,useFactory:function noe(r,n,i){return ut(function*(){if(!r.trackingCode)return void(qb()||console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule."));if(!n)return void(qb()||console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface."));i||qb()||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),r.uri=r.uri||`https://www.googletagmanager.com/gtag/js?id=${r.trackingCode}`,r.initCommands=r?.initCommands??[],r.initCommands.find(l=>"config"===l.command)||r.initCommands.unshift({command:"config",values:[r.trackingCode]}),r.initCommands.find(l=>"js"===l.command)||r.initCommands.unshift({command:"js",values:[new Date]});for(const l of r.initCommands)n(l.command,...l.values);const s=i.createElement("script");s.async=!0,s.src=r.uri,r.nonce&&s.setAttribute("nonce",r.nonce),i.getElementsByTagName("head")[0].appendChild(s)})},deps:[yS,J3,At]},e4=new Ae("ngx-google-analytics-routing-settings",{factory:()=>({})}),ioe={provide:oE,multi:!0,useFactory:function roe(r,n){return function(){var i=ut(function*(s){const a=s.injector.get(Fi),{include:l=[],exclude:c=[]}=r??{},u=t4(l),d=t4(c),h=a.events.pipe(Ln(f=>f instanceof bf),kA(1),Ln(f=>!(u.length>0)||u.some(p=>p.test(f.urlAfterRedirects))),Ln(f=>!(d.length>0&&d.some(p=>p.test(f.urlAfterRedirects))))).subscribe(f=>n.pageView(f.urlAfterRedirects,void 0));s.onDestroy(()=>h.unsubscribe())});return function(s){return i.apply(this,arguments)}}()},deps:[e4,eoe]};function t4(r){return r.map(n=>n instanceof RegExp?n:new RegExp(`^${n.replace("*",".*")}$`,"i"))}let n4=(()=>{class r{static forRoot(i,s=[],a,l,c){return{ngModule:r,providers:[{provide:yS,useValue:{trackingCode:i,initCommands:s,uri:a,enableTracing:l,nonce:c}},toe]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})(),soe=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[{provide:e4,useValue:i??{}}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[ioe],imports:[fo,n4]}),r})();class ooe extends sn{constructor(n,i){super()}schedule(n,i=0){return this}}const RA={setInterval(r,n,...i){const{delegate:s}=RA;return s?.setInterval?s.setInterval(r,n,...i):setInterval(r,n,...i)},clearInterval(r){const{delegate:n}=RA;return(n?.clearInterval||clearInterval)(r)},delegate:void 0};class vS extends ooe{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){if(this.closed)return this;this.state=n;const s=this.id,a=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(a,s,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(a,this.id,i),this}requestAsyncId(n,i,s=0){return RA.setInterval(n.flush.bind(n,this),s)}recycleAsyncId(n,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;RA.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(n,i);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let a,s=!1;try{this.work(n)}catch(l){s=!0,a=l||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,ai(s,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const wS={now:()=>(wS.delegate||Date).now(),delegate:void 0};class Mg{constructor(n,i=Mg.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,s){return new this.schedulerActionCtor(this,n).schedule(s,i)}}Mg.now=wS.now;class CS extends Mg{constructor(n,i=Mg.now){super(n,i),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let s;this._active=!0;do{if(s=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}}const PA=new CS(vS),aoe=PA;function OA(r=0,n,i=aoe){let s=-1;return null!=n&&(ZR(n)?i=n:s=n),new dt(a=>{let l=function loe(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;l<0&&(l=0);let c=0;return i.schedule(function(){a.closed||(a.next(c++),0<=s?this.schedule(void 0,s):a.complete())},l)})}function wf(r,n=Mt){return r=r??coe,zt((i,s)=>{let a,l=!0;i.subscribe(vt(s,c=>{const u=n(c);(l||!r(a,u))&&(l=!1,a=u,s.next(c))}))})}function coe(r,n){return r===n}class uoe extends Me{constructor(n=1/0,i=1/0,s=wS){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:c}=this;i||(s.push(n),!a&&s.push(l.now()+c)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:a}=this,l=a.slice();for(let c=0;c<l.length&&!n.closed;c+=s?1:2)n.next(l[c]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:a}=this,l=(a?1:2)*n;if(n<1/0&&l<s.length&&s.splice(0,s.length-l),!a){const c=i.now();let u=0;for(let d=1;d<s.length&&s[d]<=c;d+=2)u=d;u&&s.splice(0,u+1)}}}function r4(r,n,i){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:i}=r):s=r??1/0,BC({connector:()=>new uoe(s,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Rt(r){return zt((n,i)=>{Ns(r).subscribe(vt(i,()=>i.complete(),Ia)),!i.closed&&n.subscribe(i)})}let Cf={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const hoe=/[&<>"']/,foe=/[&<>"']/g,poe=/[<>"']|&(?!#?\w+;)/,moe=/[<>"']|&(?!#?\w+;)/g,goe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o4=r=>goe[r];function Pr(r,n){if(n){if(hoe.test(r))return r.replace(foe,o4)}else if(poe.test(r))return r.replace(moe,o4);return r}const _oe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function a4(r){return r.replace(_oe,(n,i)=>"colon"===(i=i.toLowerCase())?":":"#"===i.charAt(0)?"x"===i.charAt(1)?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):"")}const boe=/(^|[^\[])\^/g;function ri(r,n){r="string"==typeof r?r:r.source,n=n||"";const i={replace:(s,a)=>(a=(a=a.source||a).replace(boe,"$1"),r=r.replace(s,a),i),getRegex:()=>new RegExp(r,n)};return i}const Aoe=/[^\w:]/g,yoe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function l4(r,n,i){if(r){let s;try{s=decodeURIComponent(a4(i)).replace(Aoe,"").toLowerCase()}catch{return null}if(0===s.indexOf("javascript:")||0===s.indexOf("vbscript:")||0===s.indexOf("data:"))return null}n&&!yoe.test(i)&&(i=function xoe(r,n){BA[" "+r]||(BA[" "+r]=voe.test(r)?r+"/":FA(r,"/",!0));const i=-1===(r=BA[" "+r]).indexOf(":");return"//"===n.substring(0,2)?i?n:r.replace(woe,"$1")+n:"/"===n.charAt(0)?i?n:r.replace(Coe,"$1")+n:r+n}(n,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}const BA={},voe=/^[^:]+:\/*[^/]*$/,woe=/^([^:]+:)[\s\S]*$/,Coe=/^([^:]+:\/*[^/]*)[\s\S]*$/,LA={exec:function(){}};function pa(r){let i,s,n=1;for(;n<arguments.length;n++)for(s in i=arguments[n],i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s]);return r}function c4(r,n){const s=r.replace(/\|/g,(l,c,u)=>{let d=!1,h=c;for(;--h>=0&&"\\"===u[h];)d=!d;return d?"|":" |"}).split(/ \|/);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!s[s.length-1].trim()&&s.pop(),s.length>n)s.splice(n);else for(;s.length<n;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(/\\\|/g,"|");return s}function FA(r,n,i){const s=r.length;if(0===s)return"";let a=0;for(;a<s;){const l=r.charAt(s-a-1);if(l!==n||i){if(l===n||!i)break;a++}else a++}return r.slice(0,s-a)}function u4(r){r&&r.sanitize&&!r.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function d4(r,n){if(n<1)return"";let i="";for(;n>1;)1&n&&(i+=r),n>>=1,r+=r;return i+r}function h4(r,n,i,s){const a=n.href,l=n.title?Pr(n.title):null,c=r[1].replace(/\\([\[\]])/g,"$1");if("!"!==r[0].charAt(0)){s.state.inLink=!0;const u={type:"link",raw:i,href:a,title:l,text:c,tokens:s.inlineTokens(c,[])};return s.state.inLink=!1,u}return{type:"image",raw:i,href:a,title:l,text:Pr(c)}}class xS{constructor(n){this.options=n||Cf}space(n){const i=this.rules.block.newline.exec(n);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(n){const i=this.rules.block.code.exec(n);if(i){const s=i[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:FA(s,"\n")}}}fences(n){const i=this.rules.block.fences.exec(n);if(i){const s=i[0],a=function Eoe(r,n){const i=r.match(/^(\s+)(?:```)/);if(null===i)return n;const s=i[1];return n.split("\n").map(a=>{const l=a.match(/^\s+/);if(null===l)return a;const[c]=l;return c.length>=s.length?a.slice(s.length):a}).join("\n")}(s,i[3]||"");return{type:"code",raw:s,lang:i[2]?i[2].trim():i[2],text:a}}}heading(n){const i=this.rules.block.heading.exec(n);if(i){let s=i[2].trim();if(/#$/.test(s)){const l=FA(s,"#");(this.options.pedantic||!l||/ $/.test(l))&&(s=l.trim())}const a={type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:[]};return this.lexer.inline(a.text,a.tokens),a}}hr(n){const i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:i[0]}}blockquote(n){const i=this.rules.block.blockquote.exec(n);if(i){const s=i[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:i[0],tokens:this.lexer.blockTokens(s,[]),text:s}}}list(n){let i=this.rules.block.list.exec(n);if(i){let s,a,l,c,u,d,h,f,p,m,g,_,A=i[1].trim();const b=A.length>1,y={type:"list",raw:"",ordered:b,start:b?+A.slice(0,-1):"",loose:!1,items:[]};A=b?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=b?A:"[*+-]");const w=new RegExp(`^( {0,3}${A})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;n&&(_=!1,(i=w.exec(n))&&!this.rules.block.hr.test(n));){if(s=i[0],n=n.substring(s.length),f=i[2].split("\n",1)[0],p=n.split("\n",1)[0],this.options.pedantic?(c=2,g=f.trimLeft()):(c=i[2].search(/[^ ]/),c=c>4?1:c,g=f.slice(c),c+=i[1].length),d=!1,!f&&/^ *$/.test(p)&&(s+=p+"\n",n=n.substring(p.length+1),_=!0),!_){const C=new RegExp(`^ {0,${Math.min(3,c-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),M=new RegExp(`^ {0,${Math.min(3,c-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),E=new RegExp(`^( {0,${Math.min(3,c-1)}})(\`\`\`|~~~)`);for(;n&&(m=n.split("\n",1)[0],f=m,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(E.test(f)||this.rules.block.heading.test(f)||C.test(f)||M.test(n)));){if(f.search(/[^ ]/)>=c||!f.trim())g+="\n"+f.slice(c);else{if(d)break;g+="\n"+f}!d&&!f.trim()&&(d=!0),s+=m+"\n",n=n.substring(m.length+1)}}y.loose||(h?y.loose=!0:/\n *\n *$/.test(s)&&(h=!0)),this.options.gfm&&(a=/^\[[ xX]\] /.exec(g),a&&(l="[ ] "!==a[0],g=g.replace(/^\[[ xX]\] +/,""))),y.items.push({type:"list_item",raw:s,task:!!a,checked:l,loose:!1,text:g}),y.raw+=s}y.items[y.items.length-1].raw=s.trimRight(),y.items[y.items.length-1].text=g.trimRight(),y.raw=y.raw.trimRight();const v=y.items.length;for(u=0;u<v;u++){this.lexer.state.top=!1,y.items[u].tokens=this.lexer.blockTokens(y.items[u].text,[]);const C=y.items[u].tokens.filter(E=>"space"===E.type),M=C.every(E=>{const S=E.raw.split("");let x=0;for(const D of S)if("\n"===D&&(x+=1),x>1)return!0;return!1});!y.loose&&C.length&&M&&(y.loose=!0,y.items[u].loose=!0)}return y}}html(n){const i=this.rules.block.html.exec(n);if(i){const s={type:"html",raw:i[0],pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:i[0]};return this.options.sanitize&&(s.type="paragraph",s.text=this.options.sanitizer?this.options.sanitizer(i[0]):Pr(i[0]),s.tokens=[],this.lexer.inline(s.text,s.tokens)),s}}def(n){const i=this.rules.block.def.exec(n);if(i)return i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),{type:"def",tag:i[1].toLowerCase().replace(/\s+/g," "),raw:i[0],href:i[2],title:i[3]}}table(n){const i=this.rules.block.table.exec(n);if(i){const s={type:"table",header:c4(i[1]).map(a=>({text:a})),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(s.header.length===s.align.length){s.raw=i[0];let l,c,u,d,a=s.align.length;for(l=0;l<a;l++)s.align[l]=/^ *-+: *$/.test(s.align[l])?"right":/^ *:-+: *$/.test(s.align[l])?"center":/^ *:-+ *$/.test(s.align[l])?"left":null;for(a=s.rows.length,l=0;l<a;l++)s.rows[l]=c4(s.rows[l],s.header.length).map(h=>({text:h}));for(a=s.header.length,c=0;c<a;c++)s.header[c].tokens=[],this.lexer.inline(s.header[c].text,s.header[c].tokens);for(a=s.rows.length,c=0;c<a;c++)for(d=s.rows[c],u=0;u<d.length;u++)d[u].tokens=[],this.lexer.inline(d[u].text,d[u].tokens);return s}}}lheading(n){const i=this.rules.block.lheading.exec(n);if(i){const s={type:"heading",raw:i[0],depth:"="===i[2].charAt(0)?1:2,text:i[1],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}paragraph(n){const i=this.rules.block.paragraph.exec(n);if(i){const s={type:"paragraph",raw:i[0],text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}text(n){const i=this.rules.block.text.exec(n);if(i){const s={type:"text",raw:i[0],text:i[0],tokens:[]};return this.lexer.inline(s.text,s.tokens),s}}escape(n){const i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:Pr(i[1])}}tag(n){const i=this.rules.inline.tag.exec(n);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Pr(i[0]):i[0]}}link(n){const i=this.rules.inline.link.exec(n);if(i){const s=i[2].trim();if(!this.options.pedantic&&/^</.test(s)){if(!/>$/.test(s))return;const c=FA(s.slice(0,-1),"\\");if((s.length-c.length)%2==0)return}else{const c=function Moe(r,n){if(-1===r.indexOf(n[1]))return-1;const i=r.length;let s=0,a=0;for(;a<i;a++)if("\\"===r[a])a++;else if(r[a]===n[0])s++;else if(r[a]===n[1]&&(s--,s<0))return a;return-1}(i[2],"()");if(c>-1){const d=(0===i[0].indexOf("!")?5:4)+i[1].length+c;i[2]=i[2].substring(0,c),i[0]=i[0].substring(0,d).trim(),i[3]=""}}let a=i[2],l="";if(this.options.pedantic){const c=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);c&&(a=c[1],l=c[3])}else l=i[3]?i[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(a=this.options.pedantic&&!/>$/.test(s)?a.slice(1):a.slice(1,-1)),h4(i,{href:a&&a.replace(this.rules.inline._escapes,"$1"),title:l&&l.replace(this.rules.inline._escapes,"$1")},i[0],this.lexer)}}reflink(n,i){let s;if((s=this.rules.inline.reflink.exec(n))||(s=this.rules.inline.nolink.exec(n))){let a=(s[2]||s[1]).replace(/\s+/g," ");if(a=i[a.toLowerCase()],!a||!a.href){const l=s[0].charAt(0);return{type:"text",raw:l,text:l}}return h4(s,a,s[0],this.lexer)}}emStrong(n,i,s=""){let a=this.rules.inline.emStrong.lDelim.exec(n);if(!a||a[3]&&s.match(/[\p{L}\p{N}]/u))return;const l=a[1]||a[2]||"";if(!l||l&&(""===s||this.rules.inline.punctuation.exec(s))){const c=a[0].length-1;let u,d,h=c,f=0;const p="*"===a[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(p.lastIndex=0,i=i.slice(-1*n.length+c);null!=(a=p.exec(i));){if(u=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!u)continue;if(d=u.length,a[3]||a[4]){h+=d;continue}if((a[5]||a[6])&&c%3&&!((c+d)%3)){f+=d;continue}if(h-=d,h>0)continue;if(d=Math.min(d,d+h+f),Math.min(c,d)%2){const g=n.slice(1,c+a.index+d);return{type:"em",raw:n.slice(0,c+a.index+d+1),text:g,tokens:this.lexer.inlineTokens(g,[])}}const m=n.slice(2,c+a.index+d-1);return{type:"strong",raw:n.slice(0,c+a.index+d+1),text:m,tokens:this.lexer.inlineTokens(m,[])}}}}codespan(n){const i=this.rules.inline.code.exec(n);if(i){let s=i[2].replace(/\n/g," ");const a=/[^ ]/.test(s),l=/^ /.test(s)&&/ $/.test(s);return a&&l&&(s=s.substring(1,s.length-1)),s=Pr(s,!0),{type:"codespan",raw:i[0],text:s}}}br(n){const i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}}del(n){const i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2],[])}}autolink(n,i){const s=this.rules.inline.autolink.exec(n);if(s){let a,l;return"@"===s[2]?(a=Pr(this.options.mangle?i(s[1]):s[1]),l="mailto:"+a):(a=Pr(s[1]),l=a),{type:"link",raw:s[0],text:a,href:l,tokens:[{type:"text",raw:a,text:a}]}}}url(n,i){let s;if(s=this.rules.inline.url.exec(n)){let a,l;if("@"===s[2])a=Pr(this.options.mangle?i(s[0]):s[0]),l="mailto:"+a;else{let c;do{c=s[0],s[0]=this.rules.inline._backpedal.exec(s[0])[0]}while(c!==s[0]);a=Pr(s[0]),l="www."===s[1]?"http://"+a:a}return{type:"link",raw:s[0],text:a,href:l,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(n,i){const s=this.rules.inline.text.exec(n);if(s){let a;return a=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):Pr(s[0]):s[0]:Pr(this.options.smartypants?i(s[0]):s[0]),{type:"text",raw:s[0],text:a}}}}const yt={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:LA,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};yt.def=ri(yt.def).replace("label",yt._label).replace("title",yt._title).getRegex(),yt.bullet=/(?:[*+-]|\d{1,9}[.)])/,yt.listItemStart=ri(/^( *)(bull) */).replace("bull",yt.bullet).getRegex(),yt.list=ri(yt.list).replace(/bull/g,yt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+yt.def.source+")").getRegex(),yt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yt._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,yt.html=ri(yt.html,"i").replace("comment",yt._comment).replace("tag",yt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),yt.paragraph=ri(yt._paragraph).replace("hr",yt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yt._tag).getRegex(),yt.blockquote=ri(yt.blockquote).replace("paragraph",yt.paragraph).getRegex(),yt.normal=pa({},yt),yt.gfm=pa({},yt.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),yt.gfm.table=ri(yt.gfm.table).replace("hr",yt.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yt._tag).getRegex(),yt.gfm.paragraph=ri(yt._paragraph).replace("hr",yt.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",yt.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",yt._tag).getRegex(),yt.pedantic=pa({},yt.normal,{html:ri("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",yt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:LA,paragraph:ri(yt.normal._paragraph).replace("hr",yt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",yt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:LA,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:LA,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Soe(r){return r.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function f4(r){let i,s,n="";const a=r.length;for(i=0;i<a;i++)s=r.charCodeAt(i),Math.random()>.5&&(s="x"+s.toString(16)),n+="&#"+s+";";return n}Ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ze.punctuation=ri(Ze.punctuation).replace(/punctuation/g,Ze._punctuation).getRegex(),Ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ze.escapedEmSt=/\\\*|\\_/g,Ze._comment=ri(yt._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ze.emStrong.lDelim=ri(Ze.emStrong.lDelim).replace(/punct/g,Ze._punctuation).getRegex(),Ze.emStrong.rDelimAst=ri(Ze.emStrong.rDelimAst,"g").replace(/punct/g,Ze._punctuation).getRegex(),Ze.emStrong.rDelimUnd=ri(Ze.emStrong.rDelimUnd,"g").replace(/punct/g,Ze._punctuation).getRegex(),Ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ze.autolink=ri(Ze.autolink).replace("scheme",Ze._scheme).replace("email",Ze._email).getRegex(),Ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ze.tag=ri(Ze.tag).replace("comment",Ze._comment).replace("attribute",Ze._attribute).getRegex(),Ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ze.link=ri(Ze.link).replace("label",Ze._label).replace("href",Ze._href).replace("title",Ze._title).getRegex(),Ze.reflink=ri(Ze.reflink).replace("label",Ze._label).replace("ref",yt._label).getRegex(),Ze.nolink=ri(Ze.nolink).replace("ref",yt._label).getRegex(),Ze.reflinkSearch=ri(Ze.reflinkSearch,"g").replace("reflink",Ze.reflink).replace("nolink",Ze.nolink).getRegex(),Ze.normal=pa({},Ze),Ze.pedantic=pa({},Ze.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ri(/^!?\[(label)\]\((.*?)\)/).replace("label",Ze._label).getRegex(),reflink:ri(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ze._label).getRegex()}),Ze.gfm=pa({},Ze.normal,{escape:ri(Ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ze.gfm.url=ri(Ze.gfm.url,"i").replace("email",Ze.gfm._extended_email).getRegex(),Ze.breaks=pa({},Ze.gfm,{br:ri(Ze.br).replace("{2,}","*").getRegex(),text:ri(Ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class Nl{constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Cf,this.options.tokenizer=this.options.tokenizer||new xS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={block:yt.normal,inline:Ze.normal};this.options.pedantic?(i.block=yt.pedantic,i.inline=Ze.pedantic):this.options.gfm&&(i.block=yt.gfm,i.inline=this.options.breaks?Ze.breaks:Ze.gfm),this.tokenizer.rules=i}static get rules(){return{block:yt,inline:Ze}}static lex(n,i){return new Nl(i).lex(n)}static lexInline(n,i){return new Nl(i).inlineTokens(n)}lex(n){let i;for(n=n.replace(/\r\n|\r/g,"\n"),this.blockTokens(n,this.tokens);i=this.inlineQueue.shift();)this.inlineTokens(i.src,i.tokens);return this.tokens}blockTokens(n,i=[]){let s,a,l,c;for(n=this.options.pedantic?n.replace(/\t/g,"    ").replace(/^ +$/gm,""):n.replace(/^( *)(\t+)/gm,(u,d,h)=>d+"    ".repeat(h.length));n;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>!!(s=u.call({lexer:this},n,i))&&(n=n.substring(s.raw.length),i.push(s),!0)))){if(s=this.tokenizer.space(n)){n=n.substring(s.raw.length),1===s.raw.length&&i.length>0?i[i.length-1].raw+="\n":i.push(s);continue}if(s=this.tokenizer.code(n)){n=n.substring(s.raw.length),a=i[i.length-1],!a||"paragraph"!==a.type&&"text"!==a.type?i.push(s):(a.raw+="\n"+s.raw,a.text+="\n"+s.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text);continue}if(s=this.tokenizer.fences(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.heading(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.hr(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.blockquote(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.list(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.html(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.def(n)){n=n.substring(s.raw.length),a=i[i.length-1],!a||"paragraph"!==a.type&&"text"!==a.type?this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title}):(a.raw+="\n"+s.raw,a.text+="\n"+s.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text);continue}if(s=this.tokenizer.table(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.lheading(n)){n=n.substring(s.raw.length),i.push(s);continue}if(l=n,this.options.extensions&&this.options.extensions.startBlock){let u=1/0;const d=n.slice(1);let h;this.options.extensions.startBlock.forEach(function(f){h=f.call({lexer:this},d),"number"==typeof h&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(l=n.substring(0,u+1))}if(this.state.top&&(s=this.tokenizer.paragraph(l))){a=i[i.length-1],c&&"paragraph"===a.type?(a.raw+="\n"+s.raw,a.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):i.push(s),c=l.length!==n.length,n=n.substring(s.raw.length);continue}if(s=this.tokenizer.text(n)){n=n.substring(s.raw.length),a=i[i.length-1],a&&"text"===a.type?(a.raw+="\n"+s.raw,a.text+="\n"+s.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):i.push(s);continue}if(n){const u="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(u);break}throw new Error(u)}}return this.state.top=!0,i}inline(n,i){this.inlineQueue.push({src:n,tokens:i})}inlineTokens(n,i=[]){let s,a,l,u,d,h,c=n;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;null!=(u=this.tokenizer.rules.inline.reflinkSearch.exec(c));)f.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,u.index)+"["+d4("a",u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(u=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,u.index)+"["+d4("a",u[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(u=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,u.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;n;)if(d||(h=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>!!(s=f.call({lexer:this},n,i))&&(n=n.substring(s.raw.length),i.push(s),!0)))){if(s=this.tokenizer.escape(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.tag(n)){n=n.substring(s.raw.length),a=i[i.length-1],a&&"text"===s.type&&"text"===a.type?(a.raw+=s.raw,a.text+=s.text):i.push(s);continue}if(s=this.tokenizer.link(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(s.raw.length),a=i[i.length-1],a&&"text"===s.type&&"text"===a.type?(a.raw+=s.raw,a.text+=s.text):i.push(s);continue}if(s=this.tokenizer.emStrong(n,c,h)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.codespan(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.br(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.del(n)){n=n.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.autolink(n,f4)){n=n.substring(s.raw.length),i.push(s);continue}if(!this.state.inLink&&(s=this.tokenizer.url(n,f4))){n=n.substring(s.raw.length),i.push(s);continue}if(l=n,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const p=n.slice(1);let m;this.options.extensions.startInline.forEach(function(g){m=g.call({lexer:this},p),"number"==typeof m&&m>=0&&(f=Math.min(f,m))}),f<1/0&&f>=0&&(l=n.substring(0,f+1))}if(s=this.tokenizer.inlineText(l,Soe)){n=n.substring(s.raw.length),"_"!==s.raw.slice(-1)&&(h=s.raw.slice(-1)),d=!0,a=i[i.length-1],a&&"text"===a.type?(a.raw+=s.raw,a.text+=s.text):i.push(s);continue}if(n){const f="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(f);break}throw new Error(f)}}return i}}class Eg{constructor(n){this.options=n||Cf}code(n,i,s){const a=(i||"").match(/\S*/)[0];if(this.options.highlight){const l=this.options.highlight(n,a);null!=l&&l!==n&&(s=!0,n=l)}return n=n.replace(/\n$/,"")+"\n",a?'<pre><code class="'+this.options.langPrefix+Pr(a,!0)+'">'+(s?n:Pr(n,!0))+"</code></pre>\n":"<pre><code>"+(s?n:Pr(n,!0))+"</code></pre>\n"}blockquote(n){return`<blockquote>\n${n}</blockquote>\n`}html(n){return n}heading(n,i,s,a){return this.options.headerIds?`<h${i} id="${this.options.headerPrefix+a.slug(s)}">${n}</h${i}>\n`:`<h${i}>${n}</h${i}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(n,i,s){const a=i?"ol":"ul";return"<"+a+(i&&1!==s?' start="'+s+'"':"")+">\n"+n+"</"+a+">\n"}listitem(n){return`<li>${n}</li>\n`}checkbox(n){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(n){return`<p>${n}</p>\n`}table(n,i){return i&&(i=`<tbody>${i}</tbody>`),"<table>\n<thead>\n"+n+"</thead>\n"+i+"</table>\n"}tablerow(n){return`<tr>\n${n}</tr>\n`}tablecell(n,i){const s=i.header?"th":"td";return(i.align?`<${s} align="${i.align}">`:`<${s}>`)+n+`</${s}>\n`}strong(n){return`<strong>${n}</strong>`}em(n){return`<em>${n}</em>`}codespan(n){return`<code>${n}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(n){return`<del>${n}</del>`}link(n,i,s){if(null===(n=l4(this.options.sanitize,this.options.baseUrl,n)))return s;let a='<a href="'+Pr(n)+'"';return i&&(a+=' title="'+i+'"'),a+=">"+s+"</a>",a}image(n,i,s){if(null===(n=l4(this.options.sanitize,this.options.baseUrl,n)))return s;let a=`<img src="${n}" alt="${s}"`;return i&&(a+=` title="${i}"`),a+=this.options.xhtml?"/>":">",a}text(n){return n}}class p4{strong(n){return n}em(n){return n}codespan(n){return n}del(n){return n}html(n){return n}text(n){return n}link(n,i,s){return""+s}image(n,i,s){return""+s}br(){return""}}class m4{constructor(){this.seen={}}serialize(n){return n.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(n,i){let s=n,a=0;if(this.seen.hasOwnProperty(s)){a=this.seen[n];do{a++,s=n+"-"+a}while(this.seen.hasOwnProperty(s))}return i||(this.seen[n]=a,this.seen[s]=0),s}slug(n,i={}){const s=this.serialize(n);return this.getNextSafeSlug(s,i.dryrun)}}class Ul{constructor(n){this.options=n||Cf,this.options.renderer=this.options.renderer||new Eg,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new p4,this.slugger=new m4}static parse(n,i){return new Ul(i).parse(n)}static parseInline(n,i){return new Ul(i).parseInline(n)}parse(n,i=!0){let a,l,c,u,d,h,f,p,m,g,_,A,b,y,w,v,C,M,E,s="";const S=n.length;for(a=0;a<S;a++)if(g=n[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(E=this.options.extensions.renderers[g.type].call({parser:this},g),!1!==E||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(g.type)))s+=E||"";else switch(g.type){case"space":continue;case"hr":s+=this.renderer.hr();continue;case"heading":s+=this.renderer.heading(this.parseInline(g.tokens),g.depth,a4(this.parseInline(g.tokens,this.textRenderer)),this.slugger);continue;case"code":s+=this.renderer.code(g.text,g.lang,g.escaped);continue;case"table":for(p="",f="",u=g.header.length,l=0;l<u;l++)f+=this.renderer.tablecell(this.parseInline(g.header[l].tokens),{header:!0,align:g.align[l]});for(p+=this.renderer.tablerow(f),m="",u=g.rows.length,l=0;l<u;l++){for(h=g.rows[l],f="",d=h.length,c=0;c<d;c++)f+=this.renderer.tablecell(this.parseInline(h[c].tokens),{header:!1,align:g.align[c]});m+=this.renderer.tablerow(f)}s+=this.renderer.table(p,m);continue;case"blockquote":m=this.parse(g.tokens),s+=this.renderer.blockquote(m);continue;case"list":for(_=g.ordered,A=g.start,b=g.loose,u=g.items.length,m="",l=0;l<u;l++)w=g.items[l],v=w.checked,C=w.task,y="",w.task&&(M=this.renderer.checkbox(v),b?w.tokens.length>0&&"paragraph"===w.tokens[0].type?(w.tokens[0].text=M+" "+w.tokens[0].text,w.tokens[0].tokens&&w.tokens[0].tokens.length>0&&"text"===w.tokens[0].tokens[0].type&&(w.tokens[0].tokens[0].text=M+" "+w.tokens[0].tokens[0].text)):w.tokens.unshift({type:"text",text:M}):y+=M),y+=this.parse(w.tokens,b),m+=this.renderer.listitem(y,C,v);s+=this.renderer.list(m,_,A);continue;case"html":s+=this.renderer.html(g.text);continue;case"paragraph":s+=this.renderer.paragraph(this.parseInline(g.tokens));continue;case"text":for(m=g.tokens?this.parseInline(g.tokens):g.text;a+1<S&&"text"===n[a+1].type;)g=n[++a],m+="\n"+(g.tokens?this.parseInline(g.tokens):g.text);s+=i?this.renderer.paragraph(m):m;continue;default:{const x='Token with "'+g.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}}return s}parseInline(n,i){i=i||this.renderer;let a,l,c,s="";const u=n.length;for(a=0;a<u;a++)if(l=n[a],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(c=this.options.extensions.renderers[l.type].call({parser:this},l),!1!==c||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)))s+=c||"";else switch(l.type){case"escape":case"text":s+=i.text(l.text);break;case"html":s+=i.html(l.text);break;case"link":s+=i.link(l.href,l.title,this.parseInline(l.tokens,i));break;case"image":s+=i.image(l.href,l.title,l.text);break;case"strong":s+=i.strong(this.parseInline(l.tokens,i));break;case"em":s+=i.em(this.parseInline(l.tokens,i));break;case"codespan":s+=i.codespan(l.text);break;case"br":s+=i.br();break;case"del":s+=i.del(this.parseInline(l.tokens,i));break;default:{const d='Token with "'+l.type+'" type was not found.';if(this.options.silent)return void console.error(d);throw new Error(d)}}return s}}function kt(r,n,i){if(typeof r>"u"||null===r)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof r)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");if("function"==typeof n&&(i=n,n=null),u4(n=pa({},kt.defaults,n||{})),i){const s=n.highlight;let a;try{a=Nl.lex(r,n)}catch(u){return i(u)}const l=function(u){let d;if(!u)try{n.walkTokens&&kt.walkTokens(a,n.walkTokens),d=Ul.parse(a,n)}catch(h){u=h}return n.highlight=s,u?i(u):i(null,d)};if(!s||s.length<3||(delete n.highlight,!a.length))return l();let c=0;return kt.walkTokens(a,function(u){"code"===u.type&&(c++,setTimeout(()=>{s(u.text,u.lang,function(d,h){if(d)return l(d);null!=h&&h!==u.text&&(u.text=h,u.escaped=!0),c--,0===c&&l()})},0))}),void(0===c&&l())}try{const s=Nl.lex(r,n);return n.walkTokens&&kt.walkTokens(s,n.walkTokens),Ul.parse(s,n)}catch(s){if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Pr(s.message+"",!0)+"</pre>";throw s}}kt.options=kt.setOptions=function(r){return pa(kt.defaults,r),function doe(r){Cf=r}(kt.defaults),kt},kt.getDefaults=function s4(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},kt.defaults=Cf,kt.use=function(...r){const n=pa({},...r),i=kt.defaults.extensions||{renderers:{},childTokens:{}};let s;r.forEach(a=>{if(a.extensions&&(s=!0,a.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){const c=i.renderers?i.renderers[l.name]:null;i.renderers[l.name]=c?function(...u){let d=l.renderer.apply(this,u);return!1===d&&(d=c.apply(this,u)),d}:l.renderer}if(l.tokenizer){if(!l.level||"block"!==l.level&&"inline"!==l.level)throw new Error("extension level must be 'block' or 'inline'");i[l.level]?i[l.level].unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&("block"===l.level?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:"inline"===l.level&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}l.childTokens&&(i.childTokens[l.name]=l.childTokens)})),a.renderer){const l=kt.defaults.renderer||new Eg;for(const c in a.renderer){const u=l[c];l[c]=(...d)=>{let h=a.renderer[c].apply(l,d);return!1===h&&(h=u.apply(l,d)),h}}n.renderer=l}if(a.tokenizer){const l=kt.defaults.tokenizer||new xS;for(const c in a.tokenizer){const u=l[c];l[c]=(...d)=>{let h=a.tokenizer[c].apply(l,d);return!1===h&&(h=u.apply(l,d)),h}}n.tokenizer=l}if(a.walkTokens){const l=kt.defaults.walkTokens;n.walkTokens=function(c){a.walkTokens.call(this,c),l&&l.call(this,c)}}s&&(n.extensions=i),kt.setOptions(n)})},kt.walkTokens=function(r,n){for(const i of r)switch(n.call(kt,i),i.type){case"table":for(const s of i.header)kt.walkTokens(s.tokens,n);for(const s of i.rows)for(const a of s)kt.walkTokens(a.tokens,n);break;case"list":kt.walkTokens(i.items,n);break;default:kt.defaults.extensions&&kt.defaults.extensions.childTokens&&kt.defaults.extensions.childTokens[i.type]?kt.defaults.extensions.childTokens[i.type].forEach(function(s){kt.walkTokens(i[s],n)}):i.tokens&&kt.walkTokens(i.tokens,n)}},kt.parseInline=function(r,n){if(typeof r>"u"||null===r)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof r)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected");u4(n=pa({},kt.defaults,n||{}));try{const i=Nl.lexInline(r,n);return n.walkTokens&&kt.walkTokens(i,n.walkTokens),Ul.parseInline(i,n)}catch(i){if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",n.silent)return"<p>An error occurred:</p><pre>"+Pr(i.message+"",!0)+"</pre>";throw i}},kt.Parser=Ul,kt.parser=Ul.parse,kt.Renderer=Eg,kt.TextRenderer=p4,kt.Lexer=Nl,kt.lexer=Nl.lex,kt.Tokenizer=xS,kt.Slugger=m4,kt.parse=kt;const Doe=["*"];let MS=(()=>{class r{constructor(){this._buttonClick$=new Me,this.copied$=this._buttonClick$.pipe(Qs(()=>yr(Ye(!0),OA(3e3).pipe(pg(!1)))),wf(),r4(1)),this.copiedText$=this.copied$.pipe(Er(!1),Oe(i=>i?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,s){1&i&&(q(0,"button",0),tt("click",function(){return s.onCopyToClipboardClick()}),Lc(1,"async"),re(2),Lc(3,"async"),W()),2&i&&($t("copied",Fc(1,3,s.copied$)),N(2),Ut(Fc(3,5,s.copiedText$)))},dependencies:[sg],encapsulation:2,changeDetection:0}),r})();class koe{}var Sg=(()=>{return(r=Sg||(Sg={})).CommandLine="command-line",r.LineHighlight="line-highlight",r.LineNumbers="line-numbers",Sg;var r})();class Poe{}const g4=new Ae("SECURITY_CONTEXT");let ES=(()=>{class r{constructor(i,s,a,l,c,u){this.platform=i,this.securityContext=s,this.http=a,this.clipboardOptions=l,this.sanitizer=u,this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this.DEFAULT_MARKED_OPTIONS={renderer:new Eg},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this._reload$=new Me,this.reload$=this._reload$.asObservable(),this.options=c}get options(){return this._options}set options(i){this._options={...this.DEFAULT_MARKED_OPTIONS,...i}}get renderer(){return this.options.renderer}set renderer(i){this.options.renderer=i}parse(i,s=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:a,inline:l,emoji:c,mermaid:u,markedOptions:d=this.options}=s;u&&(this.renderer=this.extendRenderer(d.renderer||new Eg));const h=this.trimIndentation(i),f=a?this.decodeHtml(h):h,p=c?this.parseEmoji(f):f,m=this.parseMarked(p,d,l);return this.sanitizer.sanitize(this.securityContext,m)||""}render(i,s=this.DEFAULT_RENDER_OPTIONS,a){const{clipboard:l,clipboardOptions:c,katex:u,katexOptions:d,mermaid:h,mermaidOptions:f}=s;l&&this.renderClipboard(i,a,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),u&&this.renderKatex(i,{...this.DEFAULT_KATEX_OPTIONS,...d}),h&&this.renderMermaid(i,{...this.DEFAULT_MERMAID_OPTIONS,...f}),this.highlight(i)}reload(){this._reload$.next()}getSource(i){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(i,{responseType:"text"}).pipe(Oe(s=>this.handleExtension(i,s)))}highlight(i){if(!ja(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;i||(i=document);const s=i.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,a=>a.classList.add("language-none")),Prism.highlightAllUnder(i)}decodeHtml(i){if(!ja(this.platform))return i;const s=document.createElement("textarea");return s.innerHTML=i,s.value}extendRenderer(i){const s=i;if(!0===s.\u0275NgxMarkdownRendererExtended)return i;const a=i.code;return i.code=function(l,c,u){return"mermaid"===c?`<div class="mermaid">${l}</div>`:a.call(this,l,c,u)},s.\u0275NgxMarkdownRendererExtended=!0,i}handleExtension(i,s){const a=i.lastIndexOf("://"),l=a>-1?i.substring(a+4):i,c=l.lastIndexOf("/"),u=c>-1?l.substring(c+1).split("?")[0]:"",d=u.lastIndexOf("."),h=d>-1?u.substring(d+1):"";return h&&"md"!==h?"```"+h+"\n"+s+"\n```":s}parseMarked(i,s,a=!1){return ja(this.platform)?a?kt.parseInline(i,s):kt.parse(i,s):i}parseEmoji(i){if(!ja(this.platform))return i;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(i)}renderKatex(i,s){if(ja(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(i,s)}}renderClipboard(i,s,a){if(!ja(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!s)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:l,buttonTemplate:c}=a,u=i.querySelectorAll("pre");for(let d=0;d<u.length;d++){const h=u.item(d),f=document.createElement("div");f.style.position="relative",h.parentNode.insertBefore(f,h),f.appendChild(h);const p=document.createElement("div");let m,g;p.style.position="absolute",p.style.top=".5em",p.style.right=".5em",p.style.opacity="0",p.style.transition="opacity 250ms ease-out",f.insertAdjacentElement("beforeend",p),h.onmouseover=()=>p.style.opacity="1",h.onmouseout=()=>p.style.opacity="0",m=l?s.createComponent(l).hostView:c?s.createEmbeddedView(c):s.createComponent(MS).hostView,m.rootNodes.forEach(_=>{_.onmouseover=()=>p.style.opacity="1",p.appendChild(_),g=new ClipboardJS(_,{text:()=>h.innerText})}),m.onDestroy(()=>g.destroy())}}renderMermaid(i,s=this.DEFAULT_MERMAID_OPTIONS){if(!ja(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.init>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const a=i.querySelectorAll(".mermaid");0!==a.length&&(mermaid.initialize(s),mermaid.init(a))}trimIndentation(i){if(!i)return"";let s;return i.split("\n").map(a=>{let l=s;return a.length>0&&(l=isNaN(l)?a.search(/\S|$/):Math.min(a.search(/\S|$/),l)),isNaN(s)&&(s=l),l?a.substring(l):a}).join("\n")}}return r.\u0275fac=function(i){return new(i||r)(X(id),X(g4),X(gf,8),X(koe,8),X(Poe,8),X(lg))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),cd=(()=>{class r{constructor(i,s,a){this.element=i,this.markdownService=s,this.viewContainerRef=a,this.error=new ne,this.load=new ne,this.ready=new ne,this._commandLine=!1,this._clipboard=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Me}get inline(){return this._inline}set inline(i){this._inline=this.coerceBooleanProperty(i)}get clipboard(){return this._clipboard}set clipboard(i){this._clipboard=this.coerceBooleanProperty(i)}get emoji(){return this._emoji}set emoji(i){this._emoji=this.coerceBooleanProperty(i)}get katex(){return this._katex}set katex(i){this._katex=this.coerceBooleanProperty(i)}get mermaid(){return this._mermaid}set mermaid(i){this._mermaid=this.coerceBooleanProperty(i)}get lineHighlight(){return this._lineHighlight}set lineHighlight(i){this._lineHighlight=this.coerceBooleanProperty(i)}get lineNumbers(){return this._lineNumbers}set lineNumbers(i){this._lineNumbers=this.coerceBooleanProperty(i)}get commandLine(){return this._commandLine}set commandLine(i){this._commandLine=this.coerceBooleanProperty(i)}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Rt(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(i,s=!1){const l={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},c=this.markdownService.parse(i,{decodeHtml:s,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid});this.element.nativeElement.innerHTML=c,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,l,this.viewContainerRef),this.ready.emit()}coerceBooleanProperty(i){return null!=i&&"false"!=`${String(i)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:i=>{this.render(i),this.load.emit(i)},error:i=>this.error.emit(i)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,Sg.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,Sg.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(i,s){const a=i.querySelectorAll("pre");for(let l=0;l<a.length;l++){const c=s instanceof Array?s:[s];a.item(l).classList.add(...c)}}setPluginOptions(i,s){const a=i.querySelectorAll("pre");for(let l=0;l<a.length;l++)Object.keys(s).forEach(c=>{const u=s[c];if(u){const d=this.toLispCase(c);a.item(l).setAttribute(d,u.toString())}})}toLispCase(i){const s=i.match(/([A-Z])/g);if(!s)return i;let a=i.toString();for(let l=0,c=s.length;l<c;l++)a=a.replace(new RegExp(s[l]),"-"+s[l].toLowerCase());return"-"===a.slice(0,1)&&(a=a.slice(1)),a}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ES),I(ii))},r.\u0275cmp=Be({type:r,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[Ri],ngContentSelectors:Doe,decls:1,vars:0,template:function(i,s){1&i&&(Bi(),bn(0))},encapsulation:2}),r})(),Es=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[ES,i&&i.loader||[],i&&i.clipboardOptions||[],i&&i.markedOptions||[],{provide:g4,useValue:i&&null!=i.sanitize?i.sanitize:Mn.HTML}]}}static forChild(){return{ngModule:r}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fo]}),r})();var _4;!function(r){let n;var a;let i,s;(a=n=r.SecurityLevel||(r.SecurityLevel={})).Strict="strict",a.Loose="loose",a.Antiscript="antiscript",a.Sandbox="sandbox",function(a){a.Base="base",a.Forest="forest",a.Dark="dark",a.Default="default",a.Neutral="neutral"}(i=r.Theme||(r.Theme={})),function(a){a[a.Debug=1]="Debug",a[a.Info=2]="Info",a[a.Warn=3]="Warn",a[a.Error=4]="Error",a[a.Fatal=5]="Fatal"}(s=r.LogLevel||(r.LogLevel={}))}(_4||(_4={}));let SS;try{SS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{SS=!1}let Dg,NA,ud,DS,Sr=(()=>{class r{constructor(i){this._platformId=i,this.isBrowser=this._platformId?ja(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!SS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(i){return new(i||r)(X(id))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ig(r){return function Voe(){if(null==Dg&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dg=!0}))}finally{Dg=Dg||!1}return Dg}()?r:!!r.capture}function y4(){if(null==ud){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ud=!1,ud;if("scrollBehavior"in document.documentElement.style)ud=!0;else{const r=Element.prototype.scrollTo;ud=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return ud}function Tg(){if("object"!=typeof document||!document)return 0;if(null==NA){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",r.appendChild(i),document.body.appendChild(r),NA=0,0===r.scrollLeft&&(r.scrollLeft=1,NA=0===r.scrollLeft?1:2),r.remove()}return NA}function IS(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}function dd(r){return r.composedPath?r.composedPath()[0]:r.target}function TS(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function No(r,...n){return n.length?n.some(i=>r[i]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function zA(r,n=PA){return zt((i,s)=>{let a=null,l=null,c=null;const u=()=>{if(a){a.unsubscribe(),a=null;const h=l;l=null,s.next(h)}};function d(){const h=c+r,f=n.now();if(f<h)return a=this.schedule(void 0,h-f),void s.add(a);u()}i.subscribe(vt(s,h=>{l=h,c=n.now(),a||(a=n.schedule(d,r),s.add(a))},()=>{u(),s.complete()},void 0,()=>{l=a=null}))})}function an(r){return null!=r&&"false"!=`${r}`}function Vl(r,n=0){return v4(r)?Number(r):n}function v4(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function HA(r){return Array.isArray(r)?r:[r]}function hr(r){return null==r?"":"string"==typeof r?r:`${r}px`}function pd(r){return r instanceof We?r.nativeElement:r}let w4=(()=>{class r{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),eae=(()=>{class r{constructor(i){this._mutationObserverFactory=i,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){const s=pd(i);return new dt(a=>{const c=this._observeElement(s).subscribe(a);return()=>{c.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const s=new Me,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:a,stream:s,count:1})}return this._observedElements.get(i).stream}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:s,stream:a}=this._observedElements.get(i);s&&s.disconnect(),a.complete(),this._observedElements.delete(i)}}}return r.\u0275fac=function(i){return new(i||r)(X(w4))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),tae=(()=>{class r{constructor(i,s,a){this._contentObserver=i,this._elementRef=s,this._ngZone=a,this.event=new ne,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(i){this._disabled=an(i),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(i){this._debounce=Vl(i),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?i.pipe(zA(this.debounce)):i).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(I(eae),I(We),I(ht))},r.\u0275dir=de({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),r})(),RS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[w4]}),r})();const C4=new Set;let Mf,nae=(()=>{class r{constructor(i){this._platform=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):rae}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function iae(r){if(!C4.has(r))try{Mf||(Mf=document.createElement("style"),Mf.setAttribute("type","text/css"),document.head.appendChild(Mf)),Mf.sheet&&(Mf.sheet.insertRule(`@media ${r} {body{ }}`,0),C4.add(r))}catch(n){console.error(n)}}(i),this._matchMedia(i)}}return r.\u0275fac=function(i){return new(i||r)(X(Sr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function rae(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let sae=(()=>{class r{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new Me}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return x4(HA(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let l=Gs(x4(HA(i)).map(c=>this._registerQuery(c).observable));return l=hg(l.pipe(Qn(1)),l.pipe(kA(1),zA(0))),l.pipe(Oe(c=>{const u={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:h})=>{u.matches=u.matches||d,u.breakpoints[h]=d}),u}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const s=this._mediaMatcher.matchMedia(i),l={observable:new dt(c=>{const u=d=>this._zone.run(()=>c.next(d));return s.addListener(u),()=>{s.removeListener(u)}}).pipe(Er(s),Oe(({matches:c})=>({query:i,matches:c})),Rt(this._destroySubject)),mql:s};return this._queries.set(i,l),l}}return r.\u0275fac=function(i){return new(i||r)(X(nae),X(ht))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function x4(r){return r.map(n=>n.split(",")).reduce((n,i)=>n.concat(i)).map(n=>n.trim())}function GA(r,n){return(r.getAttribute(n)||"").match(/\S+/g)||[]}const E4="cdk-describedby-message",QA="cdk-describedby-host";let PS=0,lae=(()=>{class r{constructor(i,s){this._platform=s,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+PS++,this._document=i,this._id=Kr(df)+"-"+PS++}describe(i,s,a){if(!this._canBeDescribed(i,s))return;const l=OS(s,a);"string"!=typeof s?(S4(s,this._id),this._messageRegistry.set(l,{messageElement:s,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(s,a),this._isElementDescribedByMessage(i,l)||this._addMessageReference(i,l)}removeDescription(i,s,a){if(!s||!this._isElementNode(i))return;const l=OS(s,a);if(this._isElementDescribedByMessage(i,l)&&this._removeMessageReference(i,l),"string"==typeof s){const c=this._messageRegistry.get(l);c&&0===c.referenceCount&&this._deleteMessageElement(l)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const i=this._document.querySelectorAll(`[${QA}="${this._id}"]`);for(let s=0;s<i.length;s++)this._removeCdkDescribedByReferenceIds(i[s]),i[s].removeAttribute(QA);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,s){const a=this._document.createElement("div");S4(a,this._id),a.textContent=i,s&&a.setAttribute("role",s),this._createMessagesContainer(),this._messagesContainer.appendChild(a),this._messageRegistry.set(OS(i,s),{messageElement:a,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;const i="cdk-describedby-message-container",s=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let l=0;l<s.length;l++)s[l].remove();const a=this._document.createElement("div");a.style.visibility="hidden",a.classList.add(i),a.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&a.setAttribute("platform","server"),this._document.body.appendChild(a),this._messagesContainer=a}_removeCdkDescribedByReferenceIds(i){const s=GA(i,"aria-describedby").filter(a=>0!=a.indexOf(E4));i.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(i,s){const a=this._messageRegistry.get(s);(function oae(r,n,i){const s=GA(r,n);s.some(a=>a.trim()==i.trim())||(s.push(i.trim()),r.setAttribute(n,s.join(" ")))})(i,"aria-describedby",a.messageElement.id),i.setAttribute(QA,this._id),a.referenceCount++}_removeMessageReference(i,s){const a=this._messageRegistry.get(s);a.referenceCount--,function aae(r,n,i){const a=GA(r,n).filter(l=>l!=i.trim());a.length?r.setAttribute(n,a.join(" ")):r.removeAttribute(n)}(i,"aria-describedby",a.messageElement.id),i.removeAttribute(QA)}_isElementDescribedByMessage(i,s){const a=GA(i,"aria-describedby"),l=this._messageRegistry.get(s),c=l&&l.messageElement.id;return!!c&&-1!=a.indexOf(c)}_canBeDescribed(i,s){if(!this._isElementNode(i))return!1;if(s&&"object"==typeof s)return!0;const a=null==s?"":`${s}`.trim(),l=i.getAttribute("aria-label");return!(!a||l&&l.trim()===a)}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(Sr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function OS(r,n){return"string"==typeof r?`${n||""}/${r}`:r}function S4(r,n){r.id||(r.id=`${E4}-${n}-${PS++}`)}class D4{constructor(n){this._items=n,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Me,this._typeaheadSubscription=sn.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new Me,this.change=new Me,n instanceof Nc&&n.changes.subscribe(i=>{if(this._activeItem){const a=i.toArray().indexOf(this._activeItem);a>-1&&a!==this._activeItemIndex&&(this._activeItemIndex=a)}})}skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(er(i=>this._pressedLetters.push(i)),zA(n),Ln(()=>this._pressedLetters.length>0),Oe(()=>this._pressedLetters.join(""))).subscribe(i=>{const s=this._getItemsArray();for(let a=1;a<s.length+1;a++){const l=(this._activeItemIndex+a)%s.length,c=s[l];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(i)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}setActiveItem(n){const i=this._activeItem;this.updateActiveItem(n),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(n){const i=n.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!n[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;default:return void((a||No(n,"shiftKey"))&&(n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))))}this._pressedLetters=[],n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const i=this._getItemsArray(),s="number"==typeof n?n:i.indexOf(n);this._activeItem=i[s]??null,this._activeItemIndex=s}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const i=this._getItemsArray();for(let s=1;s<=i.length;s++){const a=(this._activeItemIndex+n*s+i.length)%i.length;if(!this._skipPredicateFn(i[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,i){const s=this._getItemsArray();if(s[n]){for(;this._skipPredicateFn(s[n]);)if(!s[n+=i])return;this.setActiveItem(n)}}_getItemsArray(){return this._items instanceof Nc?this._items.toArray():this._items}}class cae extends D4{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class BS extends D4{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}let Og=(()=>{class r{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function dae(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const s=function uae(r){try{return r.frameElement}catch{return null}}(function Aae(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(i));if(s&&(-1===T4(s)||!this.isVisible(s)))return!1;let a=i.nodeName.toLowerCase(),l=T4(i);return i.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function _ae(r){let n=r.nodeName.toLowerCase(),i="input"===n&&r.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===a?!!i.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,s){return function bae(r){return!function fae(r){return function mae(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function hae(r){let n=r.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(r)||function pae(r){return function gae(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||I4(r))}(i)&&!this.isDisabled(i)&&(s?.ignoreVisibility||this.isVisible(i))}}return r.\u0275fac=function(i){return new(i||r)(X(Sr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function I4(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let n=r.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function T4(r){if(!I4(r))return null;const n=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class yae{constructor(n,i,s,a,l=!1){this._element=n,this._checker=i,this._ngZone=s,this._document=a,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const s=this._getFirstTabbableElement(i);return s?.focus(n),!!s}return i.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const i=this._getRegionBoundary("start");return i&&i.focus(n),!!i}focusLastTabbableElement(n){const i=this._getRegionBoundary("end");return i&&i.focus(n),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=0;s<i.length;s++){const a=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(a)return a}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=i.length-1;s>=0;s--){const a=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(a)return a}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._ngZone.isStable?n():this._ngZone.onStable.pipe(Qn(1)).subscribe(n)}}let $A=(()=>{class r{constructor(i,s,a){this._checker=i,this._ngZone=s,this._document=a}create(i,s=!1){return new yae(i,this._checker,this._ngZone,this._document,s)}}return r.\u0275fac=function(i){return new(i||r)(X(Og),X(ht),X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function LS(r){return 0===r.buttons||0===r.offsetX&&0===r.offsetY}function FS(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const vae=new Ae("cdk-input-modality-detector-options"),wae={ignoreKeys:[18,17,224,91,16]},Ef=Ig({passive:!0,capture:!0});let Cae=(()=>{class r{constructor(i,s,a,l){this._platform=i,this._mostRecentTarget=null,this._modality=new mi(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(u=>u===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=dd(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(LS(c)?"keyboard":"mouse"),this._mostRecentTarget=dd(c))},this._onTouchstart=c=>{FS(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=dd(c))},this._options={...wae,...l},this.modalityDetected=this._modality.pipe(kA(1)),this.modalityChanged=this.modalityDetected.pipe(wf()),i.isBrowser&&s.runOutsideAngular(()=>{a.addEventListener("keydown",this._onKeydown,Ef),a.addEventListener("mousedown",this._onMousedown,Ef),a.addEventListener("touchstart",this._onTouchstart,Ef)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ef),document.removeEventListener("mousedown",this._onMousedown,Ef),document.removeEventListener("touchstart",this._onTouchstart,Ef))}}return r.\u0275fac=function(i){return new(i||r)(X(Sr),X(ht),X(At),X(vae,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const xae=new Ae("liveAnnouncerElement",{providedIn:"root",factory:function Mae(){return null}}),Eae=new Ae("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Sae=(()=>{class r{constructor(i,s,a,l){this._ngZone=s,this._defaultOptions=l,this._document=a,this._liveElement=i||this._createLiveElement()}announce(i,...s){const a=this._defaultOptions;let l,c;return 1===s.length&&"number"==typeof s[0]?c=s[0]:[l,c]=s,this.clear(),clearTimeout(this._previousTimeout),l||(l=a&&a.politeness?a.politeness:"polite"),null==c&&a&&(c=a.duration),this._liveElement.setAttribute("aria-live",l),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(u=>this._currentResolve=u)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const i="cdk-live-announcer-element",s=this._document.getElementsByClassName(i),a=this._document.createElement("div");for(let l=0;l<s.length;l++)s[l].remove();return a.classList.add(i),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),this._document.body.appendChild(a),a}}return r.\u0275fac=function(i){return new(i||r)(X(xae,8),X(ht),X(At),X(Eae,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Dae=new Ae("cdk-focus-monitor-default-options"),WA=Ig({passive:!0,capture:!0});let ma=(()=>{class r{constructor(i,s,a,l,c){this._ngZone=i,this._platform=s,this._inputModalityDetector=a,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Me,this._rootNodeFocusAndBlurListener=u=>{const d=dd(u),h="focus"===u.type?this._onFocus:this._onBlur;for(let f=d;f;f=f.parentElement)h.call(this,u,f)},this._document=l,this._detectionMode=c?.detectionMode||0}monitor(i,s=!1){const a=pd(i);if(!this._platform.isBrowser||1!==a.nodeType)return Ye(null);const l=function Hoe(r){if(function zoe(){if(null==DS){const r=typeof document<"u"?document.head:null;DS=!(!r||!r.createShadowRoot&&!r.attachShadow)}return DS}()){const n=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(a)||this._getDocument(),c=this._elementInfo.get(a);if(c)return s&&(c.checkChildren=!0),c.subject;const u={checkChildren:s,subject:new Me,rootNode:l};return this._elementInfo.set(a,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(i){const s=pd(i),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(i,s,a){const l=pd(i);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([u,d])=>this._originChanged(u,s,d)):(this._setOrigin(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused","touch"===s),i.classList.toggle("cdk-keyboard-focused","keyboard"===s),i.classList.toggle("cdk-mouse-focused","mouse"===s),i.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&s,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,s){const a=this._elementInfo.get(s),l=dd(i);!a||!a.checkChildren&&s!==l||this._originChanged(s,this._getFocusOrigin(l),a)}_onBlur(i,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(a,null))}_emitOrigin(i,s){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const s=i.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,WA),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,WA)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Rt(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(i){const s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,WA),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,WA),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,a){this._setClasses(i,s),this._emitOrigin(a,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){const s=[];return this._elementInfo.forEach((a,l)=>{(l===i||a.checkChildren&&l.contains(i))&&s.push([l,a])}),s}}return r.\u0275fac=function(i){return new(i||r)(X(ht),X(Sr),X(Cae),X(At,8),X(Dae,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Iae=(()=>{class r{constructor(i,s){this._elementRef=i,this._focusMonitor=s,this.cdkFocusChange=new ne}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>this.cdkFocusChange.emit(s))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ma))},r.\u0275dir=de({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),r})();const R4="cdk-high-contrast-black-on-white",P4="cdk-high-contrast-white-on-black",NS="cdk-high-contrast-active";let O4=(()=>{class r{constructor(i,s){this._platform=i,this._document=s,this._breakpointSubscription=Kr(sae).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(i):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),l){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(NS,R4,P4),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?i.add(NS,R4):2===s&&i.add(NS,P4)}}}return r.\u0275fac=function(i){return new(i||r)(X(Sr),X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),B4=(()=>{class r{constructor(i){i._applyBodyHighContrastModeCssClasses()}}return r.\u0275fac=function(i){return new(i||r)(X(O4))},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[RS]}),r})();const Tae=new Ae("cdk-dir-doc",{providedIn:"root",factory:function kae(){return Kr(At)}}),Rae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ss=(()=>{class r{constructor(i){if(this.value="ltr",this.change=new ne,i){const a=i.documentElement?i.documentElement.dir:null;this.value=function Pae(r){const n=r?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?Rae.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((i.body?i.body.dir:null)||a||"ltr")}}ngOnDestroy(){this.change.complete()}}return r.\u0275fac=function(i){return new(i||r)(X(Tae,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Bg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();function Oae(r,n){if(1&r&&pe(0,"mat-pseudo-checkbox",4),2&r){const i=ie();B("state",i.selected?"checked":"unchecked")("disabled",i.disabled)}}function Bae(r,n){if(1&r&&(q(0,"span",5),re(1),W()),2&r){const i=ie();N(1),In("(",i.group.label,")")}}const Lae=["*"];let Fae=(()=>{class r{}return r.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",r.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",r.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",r.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",r})(),Nae=(()=>{class r{}return r.COMPLEX="375ms",r.ENTERING="225ms",r.EXITING="195ms",r})();const Vae=new Ae("mat-sanity-checks",{providedIn:"root",factory:function Uae(){return!0}});let vn=(()=>{class r{constructor(i,s,a){this._sanityChecks=s,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!TS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return r.\u0275fac=function(i){return new(i||r)(X(O4),X(Vae,8),X(At))},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Bg,Bg]}),r})();function Wc(r){return class extends r{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=an(n)}}}function jA(r,n){return class extends r{constructor(...i){super(...i),this.defaultColor=n,this.color=n}get color(){return this._color}set color(i){const s=i||this.defaultColor;s!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),s&&this._elementRef.nativeElement.classList.add(`mat-${s}`),this._color=s)}}}function Sf(r){return class extends r{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=an(n)}}}function N4(r,n=0){return class extends r{constructor(...i){super(...i),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=null!=i?Vl(i):this.defaultTabIndex}}}function zae(r){return class extends r{constructor(...n){super(...n),this.errorState=!1}updateErrorState(){const n=this.errorState,l=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);l!==n&&(this.errorState=l,this.stateChanges.next())}}}function Hae(r){return class extends r{constructor(...n){super(...n),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new dt(i=>{this._isInitialized?this._notifySubscriber(i):this._pendingSubscribers.push(i)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(n){n.next(),n.complete()}}}const Gae=new Ae("MAT_DATE_LOCALE",{providedIn:"root",factory:function Qae(){return Kr($a)}});class U4{constructor(){this._localeChanges=new Me,this.localeChanges=this._localeChanges}getValidDateOrNull(n){return this.isDateInstance(n)&&this.isValid(n)?n:null}deserialize(n){return null==n||this.isDateInstance(n)&&this.isValid(n)?n:this.invalid()}setLocale(n){this.locale=n,this._localeChanges.next()}compareDate(n,i){return this.getYear(n)-this.getYear(i)||this.getMonth(n)-this.getMonth(i)||this.getDate(n)-this.getDate(i)}sameDate(n,i){if(n&&i){let s=this.isValid(n),a=this.isValid(i);return s&&a?!this.compareDate(n,i):s==a}return n==i}clampDate(n,i,s){return i&&this.compareDate(n,i)<0?i:s&&this.compareDate(n,s)>0?s:n}}const $ae=new Ae("mat-date-formats"),Wae=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function US(r,n){const i=Array(r);for(let s=0;s<r;s++)i[s]=n(s);return i}let jae=(()=>{class r extends U4{constructor(i,s){super(),this.useUtcForDisplay=!1,super.setLocale(i)}getYear(i){return i.getFullYear()}getMonth(i){return i.getMonth()}getDate(i){return i.getDate()}getDayOfWeek(i){return i.getDay()}getMonthNames(i){const s=new Intl.DateTimeFormat(this.locale,{month:i,timeZone:"utc"});return US(12,a=>this._format(s,new Date(2017,a,1)))}getDateNames(){const i=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return US(31,s=>this._format(i,new Date(2017,0,s+1)))}getDayOfWeekNames(i){const s=new Intl.DateTimeFormat(this.locale,{weekday:i,timeZone:"utc"});return US(7,a=>this._format(s,new Date(2017,0,a+1)))}getYearName(i){const s=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(s,i)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(i){return this.getDate(this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+1,0))}clone(i){return new Date(i.getTime())}createDate(i,s,a){let l=this._createDateWithOverflow(i,s,a);return l.getMonth(),l}today(){return new Date}parse(i){return"number"==typeof i?new Date(i):i?new Date(Date.parse(i)):null}format(i,s){if(!this.isValid(i))throw Error("NativeDateAdapter: Cannot format invalid date.");const a=new Intl.DateTimeFormat(this.locale,{...s,timeZone:"utc"});return this._format(a,i)}addCalendarYears(i,s){return this.addCalendarMonths(i,12*s)}addCalendarMonths(i,s){let a=this._createDateWithOverflow(this.getYear(i),this.getMonth(i)+s,this.getDate(i));return this.getMonth(a)!=((this.getMonth(i)+s)%12+12)%12&&(a=this._createDateWithOverflow(this.getYear(a),this.getMonth(a),0)),a}addCalendarDays(i,s){return this._createDateWithOverflow(this.getYear(i),this.getMonth(i),this.getDate(i)+s)}toIso8601(i){return[i.getUTCFullYear(),this._2digit(i.getUTCMonth()+1),this._2digit(i.getUTCDate())].join("-")}deserialize(i){if("string"==typeof i){if(!i)return null;if(Wae.test(i)){let s=new Date(i);if(this.isValid(s))return s}}return super.deserialize(i)}isDateInstance(i){return i instanceof Date}isValid(i){return!isNaN(i.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(i,s,a){const l=new Date;return l.setFullYear(i,s,a),l.setHours(0,0,0,0),l}_2digit(i){return("00"+i).slice(-2)}_format(i,s){const a=new Date;return a.setUTCFullYear(s.getFullYear(),s.getMonth(),s.getDate()),a.setUTCHours(s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()),i.format(a)}}return r.\u0275fac=function(i){return new(i||r)(X(Gae,8),X(Sr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const qae={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Yae=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[{provide:U4,useClass:jae}]}),r})(),Xae=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[{provide:$ae,useValue:qae}],imports:[Yae]}),r})(),Kae=(()=>{class r{isErrorState(i,s){return!!(i&&i.invalid&&(i.touched||s&&s.submitted))}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),V4=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})();class ele{constructor(n,i,s,a=!1){this._renderer=n,this.element=i,this.config=s,this._animationForciblyDisabledThroughCss=a,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const z4={enterDuration:225,exitDuration:150},VS=Ig({passive:!0}),H4=["mousedown","touchstart"],G4=["mouseup","mouseleave","touchend","touchcancel"];class nle{constructor(n,i,s,a){this._target=n,this._ngZone=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=pd(s))}fadeInRipple(n,i,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...z4,...s.animation};s.centered&&(n=a.left+a.width/2,i=a.top+a.height/2);const c=s.radius||function ile(r,n,i){const s=Math.max(Math.abs(r-i.left),Math.abs(r-i.right)),a=Math.max(Math.abs(n-i.top),Math.abs(n-i.bottom));return Math.sqrt(s*s+a*a)}(n,i,a),u=n-a.left,d=i-a.top,h=l.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=u-c+"px",f.style.top=d-c+"px",f.style.height=2*c+"px",f.style.width=2*c+"px",null!=s.color&&(f.style.backgroundColor=s.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);const p=window.getComputedStyle(f),g=p.transitionDuration,_="none"===p.transitionProperty||"0s"===g||"0s, 0s"===g,A=new ele(this,f,s,_);f.style.transform="scale3d(1, 1, 1)",A.state=0,s.persistent||(this._mostRecentTransientRipple=A);let b=null;return!_&&(h||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const y=()=>this._finishRippleTransition(A),w=()=>this._destroyRipple(A);f.addEventListener("transitionend",y),f.addEventListener("transitioncancel",w),b={onTransitionEnd:y,onTransitionCancel:w}}),this._activeRipples.set(A,b),(_||!h)&&this._finishRippleTransition(A),A}fadeOutRipple(n){if(2===n.state||3===n.state)return;const i=n.element,s={...z4,...n.config.animation};i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const i=pd(n);!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,this._registerEvents(H4))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(G4),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const i=n===this._mostRecentTransientRipple,{persistent:s}=n.config;n.state=1,!s&&(!i||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const i=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==i&&(n.element.removeEventListener("transitionend",i.onTransitionEnd),n.element.removeEventListener("transitioncancel",i.onTransitionCancel)),n.element.remove()}_onMousedown(n){const i=LS(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!FS(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=n.changedTouches;for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(i=>{this._triggerElement.addEventListener(i,this,VS)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(H4.forEach(n=>{this._triggerElement.removeEventListener(n,this,VS)}),this._pointerUpEventsRegistered&&G4.forEach(n=>{this._triggerElement.removeEventListener(n,this,VS)}))}}const rle=new Ae("mat-ripple-global-options");let jc=(()=>{class r{constructor(i,s,a,l,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new nle(this,s,i,a)}get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,a){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,s,{...this.rippleConfig,...a}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ht),I(Sr),I(rle,8),I(ts,8))},r.\u0275dir=de({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,s){2&i&&$t("mat-ripple-unbounded",s.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),r})(),Df=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})(),Q4=(()=>{class r{constructor(i){this._animationMode=i,this.state="unchecked",this.disabled=!1}}return r.\u0275fac=function(i){return new(i||r)(I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(i,s){2&i&&$t("mat-pseudo-checkbox-indeterminate","indeterminate"===s.state)("mat-pseudo-checkbox-checked","checked"===s.state)("mat-pseudo-checkbox-disabled",s.disabled)("_mat-animation-noopable","NoopAnimations"===s._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(i,s){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),r})(),zS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn]}),r})();const $4=new Ae("MAT_OPTION_PARENT_COMPONENT"),W4=new Ae("MatOptgroup");let sle=0;class ole{constructor(n,i=!1){this.source=n,this.isUserInput=i}}let ale=(()=>{class r{constructor(i,s,a,l){this._element=i,this._changeDetectorRef=s,this._parent=a,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+sle++,this.onSelectionChange=new ne,this._stateChanges=new Me}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=an(i)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(i,s){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!No(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue=i,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new ole(this,i))}}return r.\u0275fac=function(i){Fm()},r.\u0275dir=de({type:r,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),r})(),HS=(()=>{class r extends ale{constructor(i,s,a,l){super(i,s,a,l)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I($4,8),I(W4,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(i,s){1&i&&tt("click",function(){return s._selectViaInteraction()})("keydown",function(l){return s._handleKeydown(l)}),2&i&&(Qm("id",s.id),nn("tabindex",s._getTabIndex())("aria-selected",s._getAriaSelected())("aria-disabled",s.disabled.toString()),$t("mat-selected",s.selected)("mat-option-multiple",s.multiple)("mat-active",s.active)("mat-option-disabled",s.disabled))},exportAs:["matOption"],features:[Ie],ngContentSelectors:Lae,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(i,s){1&i&&(Bi(),K(0,Oae,1,2,"mat-pseudo-checkbox",0),q(1,"span",1),bn(2),W(),K(3,Bae,2,1,"span",2),pe(4,"div",3)),2&i&&(B("ngIf",s.multiple),N(3),B("ngIf",s.group&&s.group._inert),N(1),B("matRippleTrigger",s._getHostElement())("matRippleDisabled",s.disabled||s.disableRipple))},dependencies:[jc,Rr,Q4],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}"],encapsulation:2,changeDetection:0}),r})();function j4(r,n,i){if(i.length){let s=n.toArray(),a=i.toArray(),l=0;for(let c=0;c<r+1;c++)s[c].group&&s[c].group===a[l]&&l++;return l}return 0}let q4=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Df,fo,vn,zS]}),r})();const cle=["*",[["mat-card-footer"]]],ule=["*","mat-card-footer"],dle=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hle=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let GS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),r})(),fle=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),r})(),Y4=(()=>{class r{constructor(){this.align="start"}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(i,s){2&i&&$t("mat-card-actions-align-end","end"===s.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),r})(),ple=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),r})(),Xa=(()=>{class r{constructor(i){this._animationMode=i}}return r.\u0275fac=function(i){return new(i||r)(I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(i,s){2&i&&$t("_mat-animation-noopable","NoopAnimations"===s._animationMode)},exportAs:["matCard"],ngContentSelectors:ule,decls:2,vars:0,template:function(i,s){1&i&&(Bi(cle),bn(0),bn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),r})(),mle=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:hle,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(i,s){1&i&&(Bi(dle),bn(0),q(1,"div",0),bn(2,1),W(),bn(3,2))},encapsulation:2,changeDetection:0}),r})(),$s=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})();function gle(r,n){if(1&r&&(q(0,"mat-card",1)(1,"div",2),pe(2,"img",3),W(),q(3,"div",4)(4,"div",5),re(5),W(),q(6,"div",6),re(7),W()()()),2&r){const i=n.$implicit;N(2),B("src",i.image,yn),N(3),In(" ",i.title," "),N(2),In(" ",i.subtitle," ")}}let qA=(()=>{class r{constructor(){this.headerCard=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-page-header"]],inputs:{headerCard:"headerCard"},decls:1,vars:1,consts:[["class","header-card",4,"ngFor","ngForOf"],[1,"header-card"],[1,"icon"],[1,"card-image",3,"src"],[1,"body"],[1,"card-heading"],[1,"card-subheading"]],template:function(i,s){1&i&&K(0,gle,8,3,"mat-card",0),2&i&&B("ngForOf",s.headerCard)},dependencies:[pi,Xa],styles:["[_nghost-%COMP%]   .header-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:77rem}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{height:10rem;background-color:#444a65}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding-left:1.5rem;align-self:center}[_nghost-%COMP%]   .card-heading[_ngcontent-%COMP%]{display:flex;flex-direction:column wrap;font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   .card-subheading[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:2.5rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0rem 1rem 0rem 0rem;flex-direction:row;display:flex;overflow:hidden}@media (max-width: 62.5rem){[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .card-heading[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.75rem}[_nghost-%COMP%]   .card-subheading[_ngcontent-%COMP%]{line-height:1.5rem}}"]}),r})();function _le(r,n){if(1&r&&(q(0,"div")(1,"div",1),re(2),W(),q(3,"div",2)(4,"markdown"),re(5),W()()()),2&r){const i=n.$implicit;N(2),Ut(i.heading),N(3),Ut(i.descriptions)}}let Fg=(()=>{class r{constructor(){this.data=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-page-data"]],inputs:{data:"data"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"body-title"],[1,"body-description"]],template:function(i,s){1&i&&K(0,_le,6,2,"div",0),2&i&&B("ngForOf",s.data)},dependencies:[pi,cd],styles:['[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .body-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:2.125rem;color:#000;padding-bottom:1rem}[_nghost-%COMP%]   .body-description[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#000;text-decoration:none;overflow-wrap:anywhere}[_nghost-%COMP%]     a:-webkit-any-link{color:#3d72bf;cursor:pointer;text-decoration:none;font-weight:500}[_nghost-%COMP%]     a:-webkit-any-link:hover{text-decoration:underline;text-decoration-thickness:2px}[_nghost-%COMP%]     h2, [_nghost-%COMP%]     h4{margin:0}[_nghost-%COMP%]     h4{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#000;text-decoration:none}[_nghost-%COMP%]     p{margin:0 0 1rem}[_nghost-%COMP%]     h4:before{display:block;content:" ";margin-top:-3.75rem;height:3.75rem;visibility:hidden;pointer-events:none}']}),r})();const X4=["mat-button",""],K4=["*"],yle=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vle=jA(Wc(Sf(class{constructor(r){this._elementRef=r}})));let Ng=(()=>{class r extends vle{constructor(i,s,a){super(i),this._focusMonitor=s,this._animationMode=a,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const l of yle)this._hasHostAttributes(l)&&this._getHostElement().classList.add(l);i.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i,s){i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...i){return i.some(s=>this._getHostElement().hasAttribute(s))}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ma),I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(i,s){if(1&i&&pn(jc,5),2&i){let a;je(a=qe())&&(s.ripple=a.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(i,s){2&i&&(nn("disabled",s.disabled||null),$t("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ie],attrs:X4,ngContentSelectors:K4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(Bi(),q(0,"span",0),bn(1),W(),pe(2,"span",1)(3,"span",2)),2&i&&(N(2),$t("mat-button-ripple-round",s.isRoundButton||s.isIconButton),B("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},dependencies:[jc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),r})(),md=(()=>{class r extends Ng{constructor(i,s,a,l){super(s,i,a),this._ngZone=l,this._haltDisabledEvents=c=>{this.disabled&&(c.preventDefault(),c.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return r.\u0275fac=function(i){return new(i||r)(I(ma),I(We),I(ts,8),I(ht,8))},r.\u0275cmp=Be({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(i,s){2&i&&(nn("tabindex",s.disabled?-1:s.tabIndex)("disabled",s.disabled||null)("aria-disabled",s.disabled.toString()),$t("_mat-animation-noopable","NoopAnimations"===s._animationMode)("mat-button-disabled",s.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[Ie],attrs:X4,ngContentSelectors:K4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(i,s){1&i&&(Bi(),q(0,"span",0),bn(1),W(),pe(2,"span",1)(3,"span",2)),2&i&&(N(2),$t("mat-button-ripple-round",s.isRoundButton||s.isIconButton),B("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",s.isIconButton)("matRippleTrigger",s._getHostElement()))},dependencies:[jc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}"],encapsulation:2,changeDetection:0}),r})(),Ka=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Df,vn,vn]}),r})();function wle(r,n){if(1&r&&(q(0,"a",2),re(1),W()),2&r){const i=ie();za("href",i.buttonData.url,yn),N(1),Ut(i.buttonData.text)}}const Cle=function(r){return["",r]};function xle(r,n){if(1&r&&(q(0,"a",3),re(1),W()),2&r){const i=ie();B("routerLink",Cs(2,Cle,i.buttonData.route)),N(1),Ut(i.buttonData.text)}}let QS=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-use-button"]],inputs:{buttonData:"buttonData"},decls:3,vars:2,consts:[["mat-raised-button","","target","_blank",3,"href",4,"ngIf","ngIfElse"],["route",""],["mat-raised-button","","target","_blank",3,"href"],["mat-raised-button","",3,"routerLink"]],template:function(i,s){if(1&i&&(K(0,wle,2,2,"a",0),K(1,xle,2,4,"ng-template",null,1,es)),2&i){const a=Oi(2);B("ngIf",s.buttonData.url)("ngIfElse",a)}},dependencies:[Rr,md,$c],styles:["[_nghost-%COMP%]{display:block;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#e4e9e9}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{width:calc(100vw - 2rem);line-height:1.25rem;padding:.5rem 1rem}}"]}),r})();function Mle(r,n){if(1&r&&(q(0,"li")(1,"a",3),re(2),W()()),2&r){const i=n.$implicit;N(1),za("href",i.href,yn),N(1),Ut(i.urls)}}let $S=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-sop-links"]],inputs:{links:"links"},decls:5,vars:2,consts:[[1,"sop-title"],[1,"sop-items"],[4,"ngFor","ngForOf"],["target","_blank",1,"text",3,"href"]],template:function(i,s){1&i&&(q(0,"div",0),re(1),W(),q(2,"div",1)(3,"ul"),K(4,Mle,3,2,"li",2),W()()),2&i&&(N(1),In(" ",s.links.title,"\n"),N(3),B("ngForOf",s.links.href))},dependencies:[pi],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .sop-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005rem;color:#000}[_nghost-%COMP%]   .sop-items[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#0a6ebd}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:2px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#3d72bf}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:link{color:#3d72bf}@media (max-width: 26.75rem){[_nghost-%COMP%]   .sop-title[_ngcontent-%COMP%]{line-height:2.125rem}}"]}),r})();function Ele(r,n){if(1&r&&(q(0,"div",3)(1,"div",4),pe(2,"img",5),W(),q(3,"div",6)(4,"markdown"),re(5),W()()()),2&r){const i=n.$implicit;N(2),B("src",i.image,yn),N(3),Ut(i.description)}}let Sle=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-board-members"]],inputs:{membersData:"membersData"},decls:4,vars:1,consts:[[1,"member-container"],[1,"members-title"],["class","member",4,"ngFor","ngForOf"],[1,"member"],[1,"image"],[3,"src"],[1,"about"]],template:function(i,s){1&i&&(q(0,"div",0)(1,"p",1),re(2,"Board Members"),W(),K(3,Ele,6,2,"div",2),W()),2&i&&(N(3),B("ngForOf",s.membersData))},dependencies:[pi,cd],styles:["[_nghost-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:1rem}[_nghost-%COMP%]   .members-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005em}[_nghost-%COMP%]   .member-container[_ngcontent-%COMP%]{padding-bottom:2.5rem}[_nghost-%COMP%]   .about[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;margin-left:2.5rem}@media (max-width: 26.75rem){[_nghost-%COMP%]   .member[_ngcontent-%COMP%]{align-items:flex-start}}"]}),r})();function Z4(...r){const n=H0(r),{args:i,keys:s}=GN(r),a=new dt(l=>{const{length:c}=i;if(!c)return void l.complete();const u=new Array(c);let d=c,h=c;for(let f=0;f<c;f++){let p=!1;Ns(i[f]).subscribe(vt(l,m=>{p||(p=!0,h--),u[f]=m},()=>d--,void 0,()=>{(!d||!p)&&(h||l.next(s?QN(s,u):u),l.complete())}))}});return n?a.pipe(ug(n)):a}const Dle=["*"];let YA;function Ug(r){return function Ile(){if(void 0===YA&&(YA=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(YA=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return YA}()?.createHTML(r)||r}function J4(r){return Error(`Unable to find icon with the name "${r}"`)}function eU(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function tU(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class gd{constructor(n,i,s){this.url=n,this.svgText=i,this.options=s}}let XA=(()=>{class r{constructor(i,s,a,l){this._httpClient=i,this._sanitizer=s,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons"],this._document=a}addSvgIcon(i,s,a){return this.addSvgIconInNamespace("",i,s,a)}addSvgIconLiteral(i,s,a){return this.addSvgIconLiteralInNamespace("",i,s,a)}addSvgIconInNamespace(i,s,a,l){return this._addSvgIconConfig(i,s,new gd(a,null,l))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,s,a,l){const c=this._sanitizer.sanitize(Mn.HTML,a);if(!c)throw tU(a);const u=Ug(c);return this._addSvgIconConfig(i,s,new gd("",u,l))}addSvgIconSet(i,s){return this.addSvgIconSetInNamespace("",i,s)}addSvgIconSetLiteral(i,s){return this.addSvgIconSetLiteralInNamespace("",i,s)}addSvgIconSetInNamespace(i,s,a){return this._addSvgIconSetConfig(i,new gd(s,null,a))}addSvgIconSetLiteralInNamespace(i,s,a){const l=this._sanitizer.sanitize(Mn.HTML,s);if(!l)throw tU(s);const c=Ug(l);return this._addSvgIconSetConfig(i,new gd("",c,a))}registerFontClassAlias(i,s=i){return this._fontCssClassesByAlias.set(i,s),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const s=this._sanitizer.sanitize(Mn.RESOURCE_URL,i);if(!s)throw eU(i);const a=this._cachedIconsByUrl.get(s);return a?Ye(KA(a)):this._loadSvgIconFromConfig(new gd(i,null)).pipe(er(l=>this._cachedIconsByUrl.set(s,l)),Oe(l=>KA(l)))}getNamedSvgIcon(i,s=""){const a=nU(s,i);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,i),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(s);return c?this._getSvgFromIconSetConfigs(i,c):_f(J4(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Ye(KA(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(Oe(s=>KA(s)))}_getSvgFromIconSetConfigs(i,s){const a=this._extractIconWithNameFromAnySet(i,s);return a?Ye(a):Z4(s.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Hc(u=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(Mn.RESOURCE_URL,c.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(h)),Ye(null)})))).pipe(Oe(()=>{const c=this._extractIconWithNameFromAnySet(i,s);if(!c)throw J4(i);return c}))}_extractIconWithNameFromAnySet(i,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.toString().indexOf(i)>-1){const c=this._svgElementFromConfig(l),u=this._extractSvgIconFromSet(c,i,l.options);if(u)return u}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(er(s=>i.svgText=s),Oe(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Ye(null):this._fetchIcon(i).pipe(er(s=>i.svgText=s))}_extractSvgIconFromSet(i,s,a){const l=i.querySelector(`[id="${s}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,a);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),a);const u=this._svgElementFromString(Ug("<svg></svg>"));return u.appendChild(c),this._setSvgAttributes(u,a)}_svgElementFromString(i){const s=this._document.createElement("DIV");s.innerHTML=i;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(i){const s=this._svgElementFromString(Ug("<svg></svg>")),a=i.attributes;for(let l=0;l<a.length;l++){const{name:c,value:u}=a[l];"id"!==c&&s.setAttribute(c,u)}for(let l=0;l<i.childNodes.length;l++)i.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(i.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(i,s){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),s&&s.viewBox&&i.setAttribute("viewBox",s.viewBox),i}_fetchIcon(i){const{url:s,options:a}=i,l=a?.withCredentials??!1;if(!this._httpClient)throw function Tle(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const c=this._sanitizer.sanitize(Mn.RESOURCE_URL,s);if(!c)throw eU(s);const u=this._inProgressUrlFetches.get(c);if(u)return u;const d=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe(Oe(h=>Ug(h)),gA(()=>this._inProgressUrlFetches.delete(c)),BC());return this._inProgressUrlFetches.set(c,d),d}_addSvgIconConfig(i,s,a){return this._svgIconConfigs.set(nU(i,s),a),this}_addSvgIconSetConfig(i,s){const a=this._iconSetConfigs.get(i);return a?a.push(s):this._iconSetConfigs.set(i,[s]),this}_svgElementFromConfig(i){if(!i.svgElement){const s=this._svgElementFromString(i.svgText);this._setSvgAttributes(s,i.options),i.svgElement=s}return i.svgElement}_getIconConfigFromResolvers(i,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,i);if(l)return Rle(l)?new gd(l.url,null,l.options):new gd(l,null)}}}return r.\u0275fac=function(i){return new(i||r)(X(gf,8),X(lg),X(At,8),X(Na))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function KA(r){return r.cloneNode(!0)}function nU(r,n){return r+":"+n}function Rle(r){return!(!r.url||!r.options)}const Ple=jA(class{constructor(r){this._elementRef=r}}),Ole=new Ae("MAT_ICON_DEFAULT_OPTIONS"),Ble=new Ae("mat-icon-location",{providedIn:"root",factory:function Lle(){const r=Kr(At),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),iU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Fle=iU.map(r=>`[${r}]`).join(", "),Nle=/^url\(['"]?#(.*?)['"]?\)$/;let _d=(()=>{class r extends Ple{constructor(i,s,a,l,c,u){super(i),this._iconRegistry=s,this._location=l,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=sn.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),a||i.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(i){this._inline=an(i)}get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}get fontSet(){return this._fontSet}set fontSet(i){const s=this._cleanupFontValue(i);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(i){const s=this._cleanupFontValue(i);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_splitIconName(i){if(!i)return["",""];const s=i.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let s=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=i.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,s=(this.fontSet?[this._iconRegistry.classNameForFontAlias(this.fontSet)]:this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>i.classList.remove(a)),s.forEach(a=>i.classList.add(a)),this._previousFontSetClass=s,this.fontIcon!==this._previousFontIconClass&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(c=>{l.setAttribute(c.name,`url('${i}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(i){const s=i.querySelectorAll(Fle),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)iU.forEach(c=>{const u=s[l],d=u.getAttribute(c),h=d?d.match(Nle):null;if(h){let f=a.get(u);f||(f=[],a.set(u,f)),f.push({name:c,value:h[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[s,a]=this._splitIconName(i);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(Qn(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(XA),Ba("aria-hidden"),I(Ble),I(Na),I(Ole,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(i,s){2&i&&(nn("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet),$t("mat-icon-inline",s.inline)("mat-icon-no-color","primary"!==s.color&&"accent"!==s.color&&"warn"!==s.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ie],ngContentSelectors:Dle,decls:1,vars:0,template:function(i,s){1&i&&(Bi(),bn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),r})(),zl=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})();function Ule(r,n){1&r&&vs(0)}const Vle=function(){return{$implicit:!0}};function zle(r,n){if(1&r&&(q(0,"a",5),K(1,Ule,1,0,"ng-container",6),W()),2&r){const i=ie().$implicit,s=Oi(5);B("href",i.externalLink,yn),N(1),B("ngTemplateOutlet",s)("ngTemplateOutletContext",Il(3,Vle))}}function Hle(r,n){1&r&&vs(0)}function Gle(r,n){1&r&&K(0,Hle,1,0,"ng-container",7),2&r&&(ie(),B("ngTemplateOutlet",Oi(5)))}function Qle(r,n){1&r&&(q(0,"mat-icon",14),re(1,"open_in_new"),W())}function $le(r,n){if(1&r&&(q(0,"div",8),pe(1,"img",9),W(),q(2,"div",10)(3,"div",11)(4,"span"),re(5),K(6,Qle,2,0,"mat-icon",12),W()(),q(7,"div",13),re(8),W()()),2&r){const i=n.$implicit,s=ie().$implicit;Ha("background-color",s.color),N(1),B("src",s.icon,yn),N(4),In("",s.title," "),N(1),B("ngIf",i),N(2),In(" ",s.body," ")}}function Wle(r,n){if(1&r){const i=di();q(0,"mat-card",1),tt("click",function(){const l=Cn(i).$implicit;return xn(ie().cardRoutes.emit(l))}),K(1,zle,2,4,"a",2),K(2,Gle,1,1,"ng-template",null,3,es),K(4,$le,9,6,"ng-template",null,4,es),W()}if(2&r){const i=n.$implicit,s=Oi(3);N(1),B("ngIf",i.externalLink)("ngIfElse",s)}}let rU=(()=>{class r{constructor(){this.cardRoutes=new ne}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-card-button-long"]],inputs:{longButtonItems:"longButtonItems"},outputs:{cardRoutes:"cardRoutes"},decls:1,vars:1,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["route",""],["content",""],["target","_blank",3,"href"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"symbol"],[1,"card-image",3,"src"],[1,"body"],[1,"nav-card-title"],["class","external-icon",4,"ngIf"],[1,"nav-card-description"],[1,"external-icon"]],template:function(i,s){1&i&&K(0,Wle,6,2,"mat-card",0),2&i&&B("ngForOf",s.longButtonItems)},dependencies:[pi,Rr,RE,Xa,_d],styles:["[_nghost-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;cursor:pointer;box-sizing:content-box}[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:8rem;max-width:8rem}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:unset;margin-bottom:.063rem;display:flex}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{width:100%;display:flex}[_nghost-%COMP%]   .body[_ngcontent-%COMP%], [_nghost-%COMP%]   a[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{margin-left:1.5rem;overflow-x:hidden;display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .nav-card-title[_ngcontent-%COMP%]{display:flex;font-weight:400;font-size:1.25rem;line-height:1.75rem;letter-spacing:.005em;color:#0a6ebd}[_nghost-%COMP%]   .nav-card-description[_ngcontent-%COMP%]{padding-top:.5rem;font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#0a6ebd;font-weight:unset}[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:1.313rem}@media (max-width: 26.75rem){[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0rem}[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:auto;width:80px;min-width:80px;background-color:#444c65}}@media (max-width: 80rem){[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:auto;width:80px;min-width:80px;background-color:#444c65}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem}}"]}),r})();function jle(r,n){if(1&r&&(q(0,"div",1),pe(1,"markdown",2),W()),2&r){const i=n.$implicit;N(1),B("data",i.title)}}let qle=(()=>{class r{constructor(){this.definitions=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-simple-tile"]],inputs:{definitions:"definitions"},decls:1,vars:1,consts:[["class","mat-card",4,"ngFor","ngForOf"],[1,"mat-card"],[3,"data"]],template:function(i,s){1&i&&K(0,jle,2,1,"div",0),2&i&&B("ngForOf",s.definitions)},dependencies:[pi,cd],styles:["[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;box-shadow:0 .125rem .063rem #00000029;letter-spacing:.005em;line-height:1.5rem;margin-bottom:.5rem}[_nghost-%COMP%]     markdown p{margin:0!important}"]}),r})();const Yle=function(r){return["/release-notes/",r]};function Xle(r,n){if(1&r&&(q(0,"div"),re(1),q(2,"a",4),re(3),W(),re(4),W()),2&r){const i=ie().$implicit;N(1),In(" ",i.message," "),N(1),B("routerLink",Cs(4,Yle,i.route)),N(1),Ut(i.routeText),N(1),In(" ",i.emoji," ")}}function Kle(r,n){if(1&r&&re(0),2&r){const i=ie().$implicit;FM(" ",i.message," ",i.emoji," ")}}function Zle(r,n){if(1&r&&(q(0,"mat-card",1),K(1,Xle,5,6,"div",2),K(2,Kle,1,2,"ng-template",null,3,es),W()),2&r){const i=n.$implicit,s=Oi(3);N(1),B("ngIf",i.route)("ngIfElse",s)}}let WS=(()=>{class r{constructor(){this.messages=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["announcement-card"]],inputs:{messages:"messages"},decls:1,vars:1,consts:[["class","page-data",4,"ngFor","ngForOf"],[1,"page-data"],[4,"ngIf","ngIfElse"],["text",""],[3,"routerLink"]],template:function(i,s){1&i&&K(0,Zle,4,2,"mat-card",0),2&i&&B("ngForOf",s.messages)},dependencies:[pi,Rr,Xa,$c],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-bottom:.5rem}"]}),r})();function sU(r,n,i){return i?sU(r,n).pipe(ug(i)):new dt(s=>{const a=(...c)=>s.next(1===c.length?c[0]:c),l=r(a);return tn(n)?()=>n(a,l):void 0})}const ece={connector:()=>new Me};function oU(r,n=ece){const{connector:i}=n;return zt((s,a)=>{const l=i();Zi(r(function Jle(r){return new dt(n=>r.subscribe(n))}(l))).subscribe(a),a.add(s.subscribe(l))})}function jS(...r){const n=H0(r);return zt((i,s)=>{const a=r.length,l=new Array(a);let c=r.map(()=>!1),u=!1;for(let d=0;d<a;d++)Ns(r[d]).subscribe(vt(s,h=>{l[d]=h,!u&&!c[d]&&(c[d]=!0,(u=c.every(Mt))&&(c=null))},Ia));i.subscribe(vt(s,d=>{if(u){const h=[d,...l];s.next(n?n(...h):h)}}))})}const{isArray:ice}=Array;function rce(r){return 1===r.length&&ice(r[0])?r[0]:r}function aU(...r){const n=H0(r);return n?cn(aU(...r),ug(n)):zt((i,s)=>{$N([i,...rce(r)])(s)})}const oce=["youtubeContainer"];let uU=(()=>{class r{constructor(i,s){this._ngZone=i,this._youtubeContainer=new Me,this._destroyed=new Me,this._playerChanges=new mi(void 0),this._videoId=new mi(void 0),this._height=new mi(390),this._width=new mi(640),this._startSeconds=new mi(void 0),this._endSeconds=new mi(void 0),this._suggestedQuality=new mi(void 0),this._playerVars=new mi(void 0),this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange"),this._isBrowser=ja(s)}get videoId(){return this._videoId.value}set videoId(i){this._videoId.next(i)}get height(){return this._height.value}set height(i){this._height.next(i||390)}get width(){return this._width.value}set width(i){this._width.next(i||640)}set startSeconds(i){this._startSeconds.next(i)}set endSeconds(i){this._endSeconds.next(i)}set suggestedQuality(i){this._suggestedQuality.next(i)}get playerVars(){return this._playerVars.value}set playerVars(i){this._playerVars.next(i)}ngOnInit(){if(!this._isBrowser)return;let i=Ye(!0);if(!window.YT||!window.YT.Player){const a=new Me;this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback&&this._existingApiReadyCallback(),this._ngZone.run(()=>a.next(!0))},i=a.pipe(Qn(1),Er(!1))}const s=function uce(r,n,i,s,a,l,c){const u=Gs([n,l]).pipe(jS(Gs([s,a])),Oe(([d,h])=>{const[f,p]=d,[m,g]=h;return f?{videoId:f,playerVars:p,width:m,height:g}:void 0}));return Gs([r,u,Ye(c)]).pipe(function dce(r){return cn(aU(r),function sce(r){return zt((n,i)=>{let s=!1,a=0;n.subscribe(vt(i,l=>(s||(s=!r(l,a++)))&&i.next(l)))})}(([n,i])=>!i),Oe(([n])=>n))}(i),XE(hce,void 0),wf())}(this._youtubeContainer,this._videoId,i,this._width,this._height,this._playerVars,this._ngZone).pipe(er(a=>{this._playerChanges.next(a)}),function cce(r){return ar(n=>n?dU(n)?Ye(n):new dt(i=>{let s=!1,a=!1;const l=c=>{a=!0,s||(c.target.removeEventListener("onReady",l),i.next(c.target))};return n.addEventListener("onReady",l),()=>{s=!0,a||r(n)}}).pipe(Qn(1),Er(void 0)):Ye(void 0))}(a=>{dU(a)||a.destroy()}),Rt(this._destroyed),function nce(r){return r?n=>oU(r)(n):n=>function tce(r,n){const i=tn(r)?r:()=>r;return tn(n)?oU(n,{connector:i}):s=>new YE(s,i)}(new Me)(n)}());s.subscribe(a=>{this._player=a,a&&this._pendingPlayerState&&this._initializePlayer(a,this._pendingPlayerState),this._pendingPlayerState=void 0}),function ace(r,n,i){Gs([r,n,i]).subscribe(([s,a,l])=>s&&s.setSize(a,l))}(s,this._width,this._height),function lce(r,n){Gs([r,n]).subscribe(([i,s])=>i&&s&&i.setPlaybackQuality(s))}(s,this._suggestedQuality),function fce(r,n,i,s,a,l){const c=Gs([i,s]).pipe(Oe(([f,p])=>({startSeconds:f,endSeconds:p}))),u=c.pipe(qS(r,f=>!!f&&!function pce(r){const n=r.getPlayerState();return n!==YT.PlayerState.UNSTARTED&&n!==YT.PlayerState.CUED}(f))),d=n.pipe(qS(r,(f,p)=>!!f&&f.videoId!==p));yr(r.pipe(qS(Gs([n,c]),([f,p],m)=>!(!m||f==m.videoId&&!p.startSeconds&&!p.endSeconds))),d,u).pipe(jS(Gs([r,n,c,a])),Oe(([f,p])=>p),Rt(l)).subscribe(([f,p,m,g])=>{!p||!f||(f.videoId=p,f.cueVideoById({videoId:p,suggestedQuality:g,...m}))})}(s,this._videoId,this._startSeconds,this._endSeconds,this._suggestedQuality,this._destroyed),s.connect()}ngAfterViewInit(){this._youtubeContainer.next(this.youtubeContainer.nativeElement)}ngOnDestroy(){this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._videoId.complete(),this._height.complete(),this._width.complete(),this._startSeconds.complete(),this._endSeconds.complete(),this._suggestedQuality.complete(),this._youtubeContainer.complete(),this._playerVars.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(i,s){this._player?this._player.seekTo(i,s):this._getPendingState().seek={seconds:i,allowSeekAhead:s}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(i){this._player?this._player.setVolume(i):this._getPendingState().volume=i}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(i){if(this._player)return this._player.setPlaybackRate(i);this._getPendingState().playbackRate=i}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_initializePlayer(i,s){const{playbackState:a,playbackRate:l,volume:c,muted:u,seek:d}=s;switch(a){case YT.PlayerState.PLAYING:i.playVideo();break;case YT.PlayerState.PAUSED:i.pauseVideo();break;case YT.PlayerState.CUED:i.stopVideo()}null!=l&&i.setPlaybackRate(l),null!=c&&i.setVolume(c),null!=u&&(u?i.mute():i.unMute()),null!=d&&i.seekTo(d.seconds,d.allowSeekAhead)}_getLazyEmitter(i){return this._playerChanges.pipe(Qs(s=>s?sU(a=>{s.addEventListener(i,a)},a=>{try{s.removeEventListener&&s.removeEventListener(i,a)}catch{}}):Ye()),s=>new dt(a=>s.subscribe({next:l=>this._ngZone.run(()=>a.next(l)),error:l=>a.error(l),complete:()=>a.complete()})),Rt(this._destroyed))}}return r.\u0275fac=function(i){return new(i||r)(I(ht),I(id))},r.\u0275cmp=Be({type:r,selectors:[["youtube-player"]],viewQuery:function(i,s){if(1&i&&pn(oce,5),2&i){let a;je(a=qe())&&(s.youtubeContainer=a.first)}},inputs:{videoId:"videoId",height:"height",width:"width",startSeconds:"startSeconds",endSeconds:"endSeconds",suggestedQuality:"suggestedQuality",playerVars:"playerVars",showBeforeIframeApiLoads:"showBeforeIframeApiLoads"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},decls:2,vars:0,consts:[["youtubeContainer",""]],template:function(i,s){1&i&&pe(0,"div",null,0)},encapsulation:2,changeDetection:0}),r})();function hce(r,[n,i,s]){if(r&&i&&r.playerVars!==i.playerVars)r.destroy();else{if(!i)return void(r&&r.destroy());if(r)return r}const a=s.runOutsideAngular(()=>new YT.Player(n,i));return a.videoId=i.videoId,a.playerVars=i.playerVars,a}function dU(r){return"getPlayerStatus"in r}function qS(r,n){return cn(jS(r),Ln(([i,s])=>n(s,i)),Oe(([i])=>i))}let mce=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})(),hU=!1,gce=(()=>{class r{constructor(){this.isMobile=!1}ngOnInit(){if(!hU){const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",document.body.appendChild(i),hU=!0}this.isMobile=document.body.getBoundingClientRect().width<=428}onResize(){this.playerSize()}playerSize(){this.playerData.width=.8*window.innerWidth,this.playerData.height=.5625*this.playerData.width}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["youtube-model"]],hostBindings:function(i,s){1&i&&tt("resize",function(l){return s.onResize(l)},!1,CO)},inputs:{playerData:"playerData"},decls:4,vars:5,consts:[[1,"youtube-container"],[1,"player-title"],[3,"height","width","videoId","title"]],template:function(i,s){1&i&&(q(0,"div",0)(1,"p",1),re(2),W(),pe(3,"youtube-player",2),W()),2&i&&(N(2),Ut(s.playerData.playerTitle),N(1),B("height",s.playerData.height)("width",s.playerData.width)("videoId",s.playerData.videoId)("title",s.playerData.title))},dependencies:[uU],styles:["[_nghost-%COMP%]   .youtube-container[_ngcontent-%COMP%]{padding-bottom:3rem}[_nghost-%COMP%]   .player-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:2.125rem;letter-spacing:.005rem}[_nghost-%COMP%]     youtube-player iframe{width:100%;max-height:584px}@media (max-width: 26.75rem){[_nghost-%COMP%]     youtube-player iframe{height:232px}}"]}),r})();function _ce(r,n){if(1&r){const i=di();ci(0),q(1,"div",1),re(2),W(),q(3,"ccf-card-button-long",2),tt("cardRoutes",function(a){return Cn(i),xn(ie().clicked(a))}),W(),ui()}if(2&r){const i=n.$implicit;N(1),xr(i.headerSize),za("id",i.id),N(1),Ut(i.heading),N(1),B("longButtonItems",i.cardData)}}let bce=(()=>{class r{constructor(i,s){this.router=i}clicked(i){this.router.navigate([i.route])}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["card-with-header"]],inputs:{cardBlockData:"cardBlockData"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"heading",3,"id"],[3,"longButtonItems","cardRoutes"]],template:function(i,s){1&i&&K(0,_ce,4,5,"ng-container",0),2&i&&B("ngForOf",s.cardBlockData)},dependencies:[pi,rU],styles:["[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-bottom:1rem}"]}),r})();const Ace=["addListener","removeListener"],yce=["addEventListener","removeEventListener"],vce=["on","off"];function qc(r,n,i,s){if(tn(i)&&(s=i,i=void 0),s)return qc(r,n,i).pipe(ug(s));const[a,l]=function xce(r){return tn(r.addEventListener)&&tn(r.removeEventListener)}(r)?yce.map(c=>u=>r[c](n,u,i)):function wce(r){return tn(r.addListener)&&tn(r.removeListener)}(r)?Ace.map(fU(r,n)):function Cce(r){return tn(r.on)&&tn(r.off)}(r)?vce.map(fU(r,n)):[];if(!a&&PC(r))return ar(c=>qc(c,n,i))(Ns(r));if(!a)throw new TypeError("Invalid event target");return new dt(c=>{const u=(...d)=>c.next(1<d.length?d:d[0]);return a(u),()=>l(u)})}function fU(r,n){return i=>s=>r[i](n,s)}const Vg={schedule(r){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:s}=Vg;s&&(n=s.requestAnimationFrame,i=s.cancelAnimationFrame);const a=n(l=>{i=void 0,r(l)});return new sn(()=>i?.(a))},requestAnimationFrame(...r){const{delegate:n}=Vg;return(n?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=Vg;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};new class Ece extends CS{flush(n){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let a;n=n||s.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===i&&s.shift());if(this._active=!1,a){for(;(n=s[0])&&n.id===i&&s.shift();)n.unsubscribe();throw a}}}(class Mce extends vS{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=Vg.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);n.actions.some(a=>a.id===i)||(Vg.cancelAnimationFrame(i),n._scheduled=void 0)}});let YS,Dce=1;const ZA={};function pU(r){return r in ZA&&(delete ZA[r],!0)}const Ice={setImmediate(r){const n=Dce++;return ZA[n]=!0,YS||(YS=Promise.resolve()),YS.then(()=>pU(n)&&r()),n},clearImmediate(r){pU(r)}},{setImmediate:Tce,clearImmediate:kce}=Ice,JA={setImmediate(...r){const{delegate:n}=JA;return(n?.setImmediate||Tce)(...r)},clearImmediate(r){const{delegate:n}=JA;return(n?.clearImmediate||kce)(r)},delegate:void 0},XS=new class Pce extends CS{flush(n){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let a;n=n||s.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===i&&s.shift());if(this._active=!1,a){for(;(n=s[0])&&n.id===i&&s.shift();)n.unsubscribe();throw a}}}(class Rce extends vS{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=JA.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,i,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(n,i,s);n.actions.some(a=>a.id===i)||(JA.clearImmediate(i),n._scheduled=void 0)}});function mU(r,n=PA){return function Oce(r){return zt((n,i)=>{let s=!1,a=null,l=null,c=!1;const u=()=>{if(l?.unsubscribe(),l=null,s){s=!1;const h=a;a=null,i.next(h)}c&&i.complete()},d=()=>{l=null,c&&i.complete()};n.subscribe(vt(i,h=>{s=!0,a=h,l||Ns(r(h)).subscribe(l=vt(i,u,d))},()=>{c=!0,(!s||!l||l.closed)&&i.complete()}))})}(()=>OA(r,n))}let KS=(()=>{class r{constructor(i,s,a){this._ngZone=i,this._platform=s,this._scrolled=new Me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=a}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new dt(s=>{this._globalSubscription||this._addGlobalListener();const a=i>0?this._scrolled.pipe(mU(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ye()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){const a=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(Ln(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(i){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,i)&&s.push(l)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,s){let a=pd(s),l=i.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qc(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return r.\u0275fac=function(i){return new(i||r)(X(ht),X(Sr),X(At,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ey=(()=>{class r{constructor(i,s,a,l){this.elementRef=i,this.scrollDispatcher=s,this.ngZone=a,this.dir=l,this._destroyed=new Me,this._elementScrolled=new dt(c=>this.ngZone.runOutsideAngular(()=>qc(this.elementRef.nativeElement,"scroll").pipe(Rt(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=a?i.end:i.start),null==i.right&&(i.right=a?i.start:i.end),null!=i.bottom&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),a&&0!=Tg()?(null!=i.left&&(i.right=s.scrollWidth-s.clientWidth-i.left),2==Tg()?i.left=i.right:1==Tg()&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const s=this.elementRef.nativeElement;y4()?s.scrollTo(i):(null!=i.top&&(s.scrollTop=i.top),null!=i.left&&(s.scrollLeft=i.left))}measureScrollOffset(i){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==i)return l.scrollTop;if("bottom"==i)return l.scrollHeight-l.clientHeight-l.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==i?i=c?a:s:"end"==i&&(i=c?s:a),c&&2==Tg()?i==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:c&&1==Tg()?i==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:i==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(KS),I(ht),I(Ss,8))},r.\u0275dir=de({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),r})(),Yc=(()=>{class r{constructor(i,s,a){this._platform=i,this._change=new Me,this._changeListener=l=>{this._change.next(l)},this._document=a,s.runOutsideAngular(()=>{if(i.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+a,right:i.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,s=this._getWindow(),a=i.documentElement,l=a.getBoundingClientRect();return{top:-l.top||i.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||i.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(mU(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return r.\u0275fac=function(i){return new(i||r)(X(Sr),X(ht),X(At,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),If=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})(),ty=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Bg,If,Bg,If]}),r})();class ZS{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class JS extends ZS{constructor(n,i,s,a){super(),this.component=n,this.viewContainerRef=i,this.injector=s,this.componentFactoryResolver=a}}class Tf extends ZS{constructor(n,i,s,a){super(),this.templateRef=n,this.viewContainerRef=i,this.context=s,this.injector=a}get origin(){return this.templateRef.elementRef}attach(n,i=this.context){return this.context=i,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Fce extends ZS{constructor(n){super(),this.element=n instanceof We?n.nativeElement:n}}class e1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof JS?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Tf?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Fce?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Nce extends e1{constructor(n,i,s,a,l){super(),this.outletElement=n,this._componentFactoryResolver=i,this._appRef=s,this._defaultInjector=a,this.attachDomPortal=c=>{const u=c.element,d=this._document.createComment("dom-portal");u.parentNode.insertBefore(d,u),this.outletElement.appendChild(u),this._attachedPortal=c,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(u,d)})},this._document=l}attachComponentPortal(n){const s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let a;return n.viewContainerRef?(a=n.viewContainerRef.createComponent(s,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>a.destroy())):(a=s.create(n.injector||this._defaultInjector||Pi.NULL),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(a.hostView),a.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(a)),this._attachedPortal=n,a}attachTemplatePortal(n){let i=n.viewContainerRef,s=i.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=i.indexOf(s);-1!==a&&i.remove(a)}),this._attachedPortal=n,s}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Uce=(()=>{class r extends Tf{constructor(i,s){super(i,s)}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(ii))},r.\u0275dir=de({type:r,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ie]}),r})(),kf=(()=>{class r extends e1{constructor(i,s,a){super(),this._componentFactoryResolver=i,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new ne,this.attachDomPortal=l=>{const c=l.element,u=this._document.createComment("dom-portal");l.setAttachedHost(this),c.parentNode.insertBefore(u,c),this._getRootNode().appendChild(c),this._attachedPortal=l,super.setDisposeFn(()=>{u.parentNode&&u.parentNode.replaceChild(c,u)})},this._document=a}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(i){i.setAttachedHost(this);const s=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,l=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),c=s.createComponent(l,s.length,i.injector||s.injector);return s!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=i,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(i){i.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return r.\u0275fac=function(i){return new(i||r)(I(Oc),I(ii),I(At))},r.\u0275dir=de({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ie]}),r})(),zg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();const gU=y4();class zce{constructor(n,i){this._viewportRuler=n,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=hr(-this._previousScrollPosition.left),n.style.top=hr(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,a=this._document.body.style,l=s.scrollBehavior||"",c=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),gU&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),gU&&(s.scrollBehavior=l,a.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}}class Hce{constructor(n,i,s,a){this._scrollDispatcher=n,this._ngZone=i,this._viewportRuler=s,this._config=a,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class _U{enable(){}disable(){}attach(){}}function t1(r,n){return n.some(i=>r.bottom<i.top||r.top>i.bottom||r.right<i.left||r.left>i.right)}function bU(r,n){return n.some(i=>r.top<i.top||r.bottom>i.bottom||r.left<i.left||r.right>i.right)}class Gce{constructor(n,i,s,a){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this._config=a,this._scrollSubscription=null}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();t1(i,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qce=(()=>{class r{constructor(i,s,a,l){this._scrollDispatcher=i,this._viewportRuler=s,this._ngZone=a,this.noop=()=>new _U,this.close=c=>new Hce(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new zce(this._viewportRuler,this._document),this.reposition=c=>new Gce(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=l}}return r.\u0275fac=function(i){return new(i||r)(X(KS),X(Yc),X(ht),X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class ny{constructor(n){if(this.scrollStrategy=new _U,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,n){const i=Object.keys(n);for(const s of i)void 0!==n[s]&&(this[s]=n[s])}}}class $ce{constructor(n,i){this.connectionPair=n,this.scrollableViewProperties=i}}let AU=(()=>{class r{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}}return r.\u0275fac=function(i){return new(i||r)(X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Wce=(()=>{class r extends AU{constructor(i,s){super(i),this._ngZone=s,this._keydownListener=a=>{const l=this._attachedOverlays;for(let c=l.length-1;c>-1;c--)if(l[c]._keydownEvents.observers.length>0){const u=l[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(a)):u.next(a);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(ht,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),jce=(()=>{class r extends AU{constructor(i,s,a){super(i),this._platform=s,this._ngZone=a,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=dd(l)},this._clickListener=l=>{const c=dd(l),u="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const f=d[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(f.overlayElement.contains(c)||f.overlayElement.contains(u))break;const p=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(l)):p.next(l)}}}add(i){if(super.add(i),!this._isAttached){const s=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(s)):this._addEventListeners(s),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(Sr),X(ht,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),iy=(()=>{class r{constructor(i,s){this._platform=s,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||TS()){const a=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].remove()}const s=this._document.createElement("div");s.classList.add(i),TS()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(Sr))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();class Hg{constructor(n,i,s,a,l,c,u,d,h,f=!1){this._portalOutlet=n,this._host=i,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=c,this._document=u,this._location=d,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new Me,this._attachments=new Me,this._detachments=new Me,this._locationChanges=sn.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Me,this._outsidePointerEvents=new Me,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,n&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=hr(this._config.width),n.height=hr(this._config.height),n.minWidth=hr(this._config.minWidth),n.minHeight=hr(this._config.minHeight),n.maxWidth=hr(this._config.maxWidth),n.maxHeight=hr(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(n)})}):this._backdropElement.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const n=this._backdropElement;if(n){if(this._animationsDisabled)return void this._disposeBackdrop(n);n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{n.addEventListener("transitionend",this._backdropTransitionendHandler)}),n.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(n)},500))}}_toggleClasses(n,i,s){const a=HA(i||[]).filter(l=>!!l);a.length&&(s?n.classList.add(...a):n.classList.remove(...a))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const n=this._ngZone.onStable.pipe(Rt(yr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n&&(n.disable(),n.detach&&n.detach())}_disposeBackdrop(n){n&&(n.removeEventListener("click",this._backdropClickHandler),n.removeEventListener("transitionend",this._backdropTransitionendHandler),n.remove(),this._backdropElement===n&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const yU="cdk-overlay-connected-position-bounding-box",qce=/([A-Za-z%]+)$/;class Yce{constructor(n,i,s,a,l){this._viewportRuler=i,this._document=s,this._platform=a,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Me,this._resizeSubscription=sn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(n)}get positions(){return this._preferredPositions}attach(n){this._validatePositions(),n.hostElement.classList.add(yU),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,i=this._overlayRect,s=this._viewportRect,a=this._containerRect,l=[];let c;for(let u of this._preferredPositions){let d=this._getOriginPoint(n,a,u),h=this._getOverlayPoint(d,i,u),f=this._getOverlayFit(h,i,s,u);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,d);this._canFitWithFlexibleDimensions(f,h,s)?l.push({position:u,origin:d,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(d,u)}):(!c||c.overlayFit.visibleArea<f.visibleArea)&&(c={overlayFit:f,overlayPoint:h,originPoint:d,position:u,overlayRect:i})}if(l.length){let u=null,d=-1;for(const h of l){const f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>d&&(d=f,u=h)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&bd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(yU),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,i)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,i,s){let a,l;if("center"==s.originX)a=n.left+n.width/2;else{const c=this._isRtl()?n.right:n.left,u=this._isRtl()?n.left:n.right;a="start"==s.originX?c:u}return i.left<0&&(a-=i.left),l="center"==s.originY?n.top+n.height/2:"top"==s.originY?n.top:n.bottom,i.top<0&&(l-=i.top),{x:a,y:l}}_getOverlayPoint(n,i,s){let a,l;return a="center"==s.overlayX?-i.width/2:"start"===s.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,l="center"==s.overlayY?-i.height/2:"top"==s.overlayY?0:-i.height,{x:n.x+a,y:n.y+l}}_getOverlayFit(n,i,s,a){const l=wU(i);let{x:c,y:u}=n,d=this._getOffset(a,"x"),h=this._getOffset(a,"y");d&&(c+=d),h&&(u+=h);let m=0-u,g=u+l.height-s.height,_=this._subtractOverflows(l.width,0-c,c+l.width-s.width),A=this._subtractOverflows(l.height,m,g),b=_*A;return{visibleArea:b,isCompletelyWithinViewport:l.width*l.height===b,fitsInViewportVertically:A===l.height,fitsInViewportHorizontally:_==l.width}}_canFitWithFlexibleDimensions(n,i,s){if(this._hasFlexibleDimensions){const a=s.bottom-i.y,l=s.right-i.x,c=vU(this._overlayRef.getConfig().minHeight),u=vU(this._overlayRef.getConfig().minWidth),h=n.fitsInViewportHorizontally||null!=u&&u<=l;return(n.fitsInViewportVertically||null!=c&&c<=a)&&h}return!1}_pushOverlayOnScreen(n,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const a=wU(i),l=this._viewportRect,c=Math.max(n.x+a.width-l.width,0),u=Math.max(n.y+a.height-l.height,0),d=Math.max(l.top-s.top-n.y,0),h=Math.max(l.left-s.left-n.x,0);let f=0,p=0;return f=a.width<=l.width?h||-c:n.x<this._viewportMargin?l.left-s.left-n.x:0,p=a.height<=l.height?d||-u:n.y<this._viewportMargin?l.top-s.top-n.y:0,this._previousPushAmount={x:f,y:p},{x:n.x+f,y:n.y+p}}_applyPosition(n,i){if(this._setTransformOrigin(n),this._setOverlayElementStyles(i,n),this._setBoundingBoxStyles(i,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._lastPosition=n,this._positionChanges.observers.length){const s=this._getScrollVisibility(),a=new $ce(n,s);this._positionChanges.next(a)}this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let l=0;l<i.length;l++)i[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(n,i){const s=this._viewportRect,a=this._isRtl();let l,c,u,f,p,m;if("top"===i.overlayY)c=n.y,l=s.height-c+this._viewportMargin;else if("bottom"===i.overlayY)u=s.height-n.y+2*this._viewportMargin,l=s.height-u+this._viewportMargin;else{const g=Math.min(s.bottom-n.y+s.top,n.y),_=this._lastBoundingBoxSize.height;l=2*g,c=n.y-g,l>_&&!this._isInitialRender&&!this._growAfterOpen&&(c=n.y-_/2)}if("end"===i.overlayX&&!a||"start"===i.overlayX&&a)m=s.width-n.x+this._viewportMargin,f=n.x-this._viewportMargin;else if("start"===i.overlayX&&!a||"end"===i.overlayX&&a)p=n.x,f=s.right-n.x;else{const g=Math.min(s.right-n.x+s.left,n.x),_=this._lastBoundingBoxSize.width;f=2*g,p=n.x-g,f>_&&!this._isInitialRender&&!this._growAfterOpen&&(p=n.x-_/2)}return{top:c,left:p,bottom:u,right:m,width:f,height:l}}_setBoundingBoxStyles(n,i){const s=this._calculateBoundingBoxRect(n,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;a.height=hr(s.height),a.top=hr(s.top),a.bottom=hr(s.bottom),a.width=hr(s.width),a.left=hr(s.left),a.right=hr(s.right),a.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",a.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=hr(l)),c&&(a.maxWidth=hr(c))}this._lastBoundingBoxSize=s,bd(this._boundingBox.style,a)}_resetBoundingBoxStyles(){bd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){bd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,i){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(a){const f=this._viewportRuler.getViewportScrollPosition();bd(s,this._getExactOverlayY(i,n,f)),bd(s,this._getExactOverlayX(i,n,f))}else s.position="static";let u="",d=this._getOffset(i,"x"),h=this._getOffset(i,"y");d&&(u+=`translateX(${d}px) `),h&&(u+=`translateY(${h}px)`),s.transform=u.trim(),c.maxHeight&&(a?s.maxHeight=hr(c.maxHeight):l&&(s.maxHeight="")),c.maxWidth&&(a?s.maxWidth=hr(c.maxWidth):l&&(s.maxWidth="")),bd(this._pane.style,s)}_getExactOverlayY(n,i,s){let a={top:"",bottom:""},l=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),"bottom"===n.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=hr(l.y),a}_getExactOverlayX(n,i,s){let c,a={left:"",right:""},l=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),c=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===c?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=hr(l.x),a}_getScrollVisibility(){const n=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bU(n,s),isOriginOutsideView:t1(n,s),isOverlayClipped:bU(i,s),isOverlayOutsideView:t1(i,s)}}_subtractOverflows(n,...i){return i.reduce((s,a)=>s-Math.max(a,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:n-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,i){return"x"===i?n.offsetX??this._offsetX:n.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&HA(n).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof We)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const i=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+i,height:s,width:i}}}function bd(r,n){for(let i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}function vU(r){if("number"!=typeof r&&null!=r){const[n,i]=r.split(qce);return i&&"px"!==i?null:parseFloat(n)}return r||null}function wU(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const CU="cdk-global-overlay-wrapper";class Xce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(n){const i=n.getConfig();this._overlayRef=n,this._width&&!i.width&&n.updateSize({width:this._width}),this._height&&!i.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(CU),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:c,maxHeight:u}=s,d=!("100%"!==a&&"100vw"!==a||c&&"100%"!==c&&"100vw"!==c),h=!("100%"!==l&&"100vh"!==l||u&&"100%"!==u&&"100vh"!==u),f=this._xPosition,p=this._xOffset,m="rtl"===this._overlayRef.getConfig().direction;let g="",_="",A="";d?A="flex-start":"center"===f?(A="center",m?_=p:g=p):m?"left"===f||"end"===f?(A="flex-end",g=p):("right"===f||"start"===f)&&(A="flex-start",_=p):"left"===f||"start"===f?(A="flex-start",g=p):("right"===f||"end"===f)&&(A="flex-end",_=p),n.position=this._cssPosition,n.marginLeft=d?"0":g,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=d?"0":_,i.justifyContent=A,i.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(CU),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let Kce=(()=>{class r{constructor(i,s,a,l){this._viewportRuler=i,this._document=s,this._platform=a,this._overlayContainer=l}global(){return new Xce}flexibleConnectedTo(i){return new Yce(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return r.\u0275fac=function(i){return new(i||r)(X(Yc),X(At),X(Sr),X(iy))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Zce=0,ga=(()=>{class r{constructor(i,s,a,l,c,u,d,h,f,p,m,g){this.scrollStrategies=i,this._overlayContainer=s,this._componentFactoryResolver=a,this._positionBuilder=l,this._keyboardDispatcher=c,this._injector=u,this._ngZone=d,this._document=h,this._directionality=f,this._location=p,this._outsideClickDispatcher=m,this._animationsModuleType=g}create(i){const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),c=new ny(i);return c.direction=c.direction||this._directionality.value,new Hg(l,s,a,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const s=this._document.createElement("div");return s.id="cdk-overlay-"+Zce++,s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(hf)),new Nce(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return r.\u0275fac=function(i){return new(i||r)(X(Qce),X(iy),X(Oc),X(Kce),X(Wce),X(Pi),X(ht),X(At),X(Ss),X(ng),X(jce),X(ts,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const Jce=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],xU=new Ae("cdk-connected-overlay-scroll-strategy");let n1=(()=>{class r{constructor(i){this.elementRef=i}}return r.\u0275fac=function(i){return new(i||r)(I(We))},r.\u0275dir=de({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),r})(),r1=(()=>{class r{constructor(i,s,a,l,c){this._overlay=i,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=sn.EMPTY,this._attachSubscription=sn.EMPTY,this._detachSubscription=sn.EMPTY,this._positionSubscription=sn.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ne,this.positionChange=new ne,this.attach=new ne,this.detach=new ne,this.overlayKeydown=new ne,this.overlayOutsideClick=new ne,this._templatePortal=new Tf(s,a),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=an(i)}get lockPosition(){return this._lockPosition}set lockPosition(i){this._lockPosition=an(i)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(i){this._flexibleDimensions=an(i)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(i){this._growAfterOpen=an(i)}get push(){return this._push}set push(i){this._push=an(i)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Jce);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!No(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{this.overlayOutsideClick.next(s)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),s=new ny({direction:this._dir,positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(i){const s=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return i.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(i),i}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof n1?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Vce(r,n=!1){return zt((i,s)=>{let a=0;i.subscribe(vt(s,l=>{const c=r(l,a++);(c||n)&&s.next(l),!c&&s.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this.positionChange.emit(i),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(I(ga),I(hi),I(ii),I(xU),I(Ss,8))},r.\u0275dir=de({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Ri]}),r})();const tue={provide:xU,deps:[ga],useFactory:function eue(r){return()=>r.scrollStrategies.reposition()}};let Gg=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[ga,tue],imports:[Bg,zg,ty,ty]}),r})();function nue(r,n){}class ry{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let MU=(()=>{class r extends e1{constructor(i,s,a,l,c,u,d,h){super(),this._elementRef=i,this._focusTrapFactory=s,this._config=l,this._interactivityChecker=c,this._ngZone=u,this._overlayRef=d,this._focusMonitor=h,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=f=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(f);return this._contentAttached(),p},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=a}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),s}attachTemplatePortal(i){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),s}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{i.removeEventListener("blur",a),i.removeEventListener("mousedown",a),i.removeAttribute("tabindex")};i.addEventListener("blur",a),i.addEventListener("mousedown",a)})),i.focus(s)}_focusByCssSelector(i,s){let a=this._elementRef.nativeElement.querySelector(i);a&&this._forceFocus(a,s)}_trapFocus(){const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{s||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const i=this._config.restoreFocus;let s=null;if("string"==typeof i?s=this._document.querySelector(i):"boolean"==typeof i?s=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(s=i),this._config.restoreFocus&&s&&"function"==typeof s.focus){const a=IS(),l=this._elementRef.nativeElement;(!a||a===this._document.body||a===l||l.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const i=this._elementRef.nativeElement,s=IS();return i===s||i.contains(s)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=IS())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return r.\u0275fac=function(i){return new(i||r)(I(We),I($A),I(At,8),I(ry),I(Og),I(ht),I(Hg),I(ma))},r.\u0275cmp=Be({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(i,s){if(1&i&&pn(kf,7),2&i){let a;je(a=qe())&&(s._portalOutlet=a.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,s){2&i&&nn("id",s._config.id||null)("role",s._config.role)("aria-modal",s._config.ariaModal)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null)},features:[Ie],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){1&i&&K(0,nue,0,0,"ng-template",0)},dependencies:[kf],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),r})();class s1{constructor(n,i){this.overlayRef=n,this.config=i,this.closed=new Me,this.disableClose=i.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(s=>{27===s.keyCode&&!this.disableClose&&!No(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(n,i){if(this.containerInstance){const s=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this.overlayRef.dispose(),s.next(n),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",i=""){return this.overlayRef.updateSize({width:n,height:i}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const EU=new Ae("DialogScrollStrategy"),iue=new Ae("DialogData"),rue=new Ae("DefaultDialogConfig"),oue={provide:EU,deps:[ga],useFactory:function sue(r){return()=>r.scrollStrategies.block()}};let aue=0,SU=(()=>{class r{constructor(i,s,a,l,c,u){this._overlay=i,this._injector=s,this._defaultOptions=a,this._parentDialog=l,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._ariaHiddenElements=new Map,this.afterAllClosed=fg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._scrollStrategy=u}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(i,s){(s={...this._defaultOptions||new ry,...s}).id=s.id||"cdk-dialog-"+aue++,s.id&&this.getDialogById(s.id);const l=this._getOverlayConfig(s),c=this._overlay.create(l),u=new s1(c,s),d=this._attachContainer(c,u,s);return u.containerInstance=d,this._attachDialogContent(i,u,d,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.closed.subscribe(()=>this._removeOpenDialog(u,!0)),this.afterOpened.next(u),u}closeAll(){o1(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){o1(this._openDialogsAtThisLevel,i=>{!1===i.config.closeOnDestroy&&this._removeOpenDialog(i,!1)}),o1(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){const s=new ny({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(s.backdropClass=i.backdropClass),s}_attachContainer(i,s,a){const l=a.injector??a.viewContainerRef?.injector,c=[{provide:ry,useValue:a},{provide:s1,useValue:s},{provide:Hg,useValue:i}];let u;a.container?"function"==typeof a.container?u=a.container:(u=a.container.type,c.push(...a.container.providers(a))):u=MU;const d=new JS(u,a.viewContainerRef,Pi.create({parent:l||this._injector,providers:c}),a.componentFactoryResolver);return i.attach(d).instance}_attachDialogContent(i,s,a,l){const c=this._createInjector(l,s,a);if(i instanceof hi){let u={$implicit:l.data,dialogRef:s};l.templateContext&&(u={...u,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),a.attachTemplatePortal(new Tf(i,null,u,c))}else{const u=a.attachComponentPortal(new JS(i,l.viewContainerRef,c,l.componentFactoryResolver));s.componentInstance=u.instance}}_createInjector(i,s,a){const l=i&&i.viewContainerRef&&i.viewContainerRef.injector,c=[{provide:iue,useValue:i.data},{provide:s1,useValue:s}];return i.providers&&("function"==typeof i.providers?c.push(...i.providers(s,i,a)):c.push(...i.providers)),i.direction&&(!l||!l.get(Ss,null,_t.Optional))&&c.push({provide:Ss,useValue:{value:i.direction,change:Ye()}}),Pi.create({parent:l||this._injector,providers:c})}_removeOpenDialog(i,s){const a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,c)=>{l?c.setAttribute("aria-hidden",l):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const i=this._overlayContainer.getContainerElement();if(i.parentElement){const s=i.parentElement.children;for(let a=s.length-1;a>-1;a--){const l=s[a];l!==i&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return r.\u0275fac=function(i){return new(i||r)(X(ga),X(Pi),X(rue,8),X(r,12),X(iy),X(EU))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();function o1(r,n){let i=r.length;for(;i--;)n(r[i])}let lue=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[SU,oue],imports:[Gg,zg,B4,zg]}),r})();class DU{}const Hl="*";function Ws(r,n){return{type:7,name:r,definitions:n,options:{}}}function ji(r,n=null){return{type:4,styles:n,timings:r}}function IU(r,n=null){return{type:3,steps:r,options:n}}function TU(r,n=null){return{type:2,steps:r,options:n}}function Wt(r){return{type:6,styles:r,offset:null}}function vi(r,n,i){return{type:0,name:r,styles:n,options:i}}function sy(r){return{type:5,steps:r}}function Di(r,n,i=null){return{type:1,expr:r,animation:n,options:i}}function oy(r=null){return{type:9,options:r}}function ay(r,n,i=null){return{type:11,selector:r,animation:n,options:i}}function kU(r){Promise.resolve(null).then(r)}class Qg{constructor(n=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){kU(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class RU{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let i=0,s=0,a=0;const l=this.players.length;0==l?kU(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++i==l&&this._onFinish()}),c.onDestroy(()=>{++s==l&&this._onDestroy()}),c.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,u)=>Math.max(c,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(a)})}getPosition(){const n=this.players.reduce((i,s)=>null===i||s.totalTime>i.totalTime?s:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}function uue(r,n){}const Rf={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},due={dialogContainer:Ws("dialogContainer",[vi("void, exit",Wt({opacity:0,transform:"scale(0.7)"})),vi("enter",Wt({transform:"none"})),Di("* => enter",IU([ji("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Wt({transform:"none",opacity:1})),ay("@*",oy(),{optional:!0})]),Rf),Di("* => void, * => exit",IU([ji("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Wt({opacity:0})),ay("@*",oy(),{optional:!0})]),Rf)])};class ly{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Rf.params.enterAnimationDuration,this.exitAnimationDuration=Rf.params.exitAnimationDuration}}let hue=(()=>{class r extends MU{constructor(i,s,a,l,c,u,d,h){super(i,s,a,l,c,u,d,h),this._animationStateChanged=new ne}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}}return r.\u0275fac=function(i){return new(i||r)(I(We),I($A),I(At,8),I(ly),I(Og),I(ht),I(Hg),I(ma))},r.\u0275cmp=Be({type:r,selectors:[["ng-component"]],features:[Ie],decls:0,vars:0,template:function(i,s){},encapsulation:2}),r})(),fue=(()=>{class r extends hue{constructor(i,s,a,l,c,u,d,h,f){super(i,s,a,l,c,u,d,f),this._changeDetectorRef=h,this._state="enter"}_onAnimationDone({toState:i,totalTime:s}){"enter"===i?this._openAnimationDone(s):"exit"===i&&this._animationStateChanged.next({state:"closed",totalTime:s})}_onAnimationStart({toState:i,totalTime:s}){"enter"===i?this._animationStateChanged.next({state:"opening",totalTime:s}):("exit"===i||"void"===i)&&this._animationStateChanged.next({state:"closing",totalTime:s})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Rf.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Rf.params.exitAnimationDuration}}}}return r.\u0275fac=function(i){return new(i||r)(I(We),I($A),I(At,8),I(ly),I(Og),I(ht),I(Hg),I(yi),I(ma))},r.\u0275cmp=Be({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(i,s){1&i&&Pb("@dialogContainer.start",function(l){return s._onAnimationStart(l)})("@dialogContainer.done",function(l){return s._onAnimationDone(l)}),2&i&&(Qm("id",s._config.id),nn("aria-modal",s._config.ariaModal)("role",s._config.role)("aria-labelledby",s._config.ariaLabel?null:s._ariaLabelledBy)("aria-label",s._config.ariaLabel)("aria-describedby",s._config.ariaDescribedBy||null),Bb("@dialogContainer",s._getAnimationState()))},features:[Ie],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,s){1&i&&K(0,uue,0,0,"ng-template",0)},dependencies:[kf],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[due.dialogContainer]}}),r})();class l1{constructor(n,i,s){this._ref=n,this._containerInstance=s,this._afterOpened=new Me,this._beforeClosed=new Me,this._state=0,this.disableClose=i.disableClose,this.id=n.id,s._animationStateChanged.pipe(Ln(a=>"opened"===a.state),Qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe(Ln(a=>"closed"===a.state),Qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),yr(this.backdropClick(),this.keydownEvents().pipe(Ln(a=>27===a.keyCode&&!this.disableClose&&!No(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),PU(this,"keydown"===a.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(Ln(i=>"closing"===i.state),Qn(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let i=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?i.left(n.left):i.right(n.right):i.centerHorizontally(),n&&(n.top||n.bottom)?n.top?i.top(n.top):i.bottom(n.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",i=""){return this._ref.updateSize(n,i),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function PU(r,n,i){return r._closeInteractionType=n,r.close(i)}const pue=new Ae("MatDialogData"),mue=new Ae("mat-dialog-default-options"),OU=new Ae("mat-dialog-scroll-strategy"),_ue={provide:OU,deps:[ga],useFactory:function gue(r){return()=>r.scrollStrategies.block()}};let bue=0,Aue=(()=>{class r{constructor(i,s,a,l,c,u,d,h,f,p){this._overlay=i,this._defaultOptions=a,this._parentDialog=l,this._dialogRefConstructor=d,this._dialogContainerType=h,this._dialogDataToken=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Me,this._afterOpenedAtThisLevel=new Me,this._idPrefix="mat-dialog-",this.afterAllClosed=fg(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Er(void 0))),this._scrollStrategy=u,this._dialog=s.get(SU)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(i,s){let a;(s={...this._defaultOptions||new ly,...s}).id=s.id||`${this._idPrefix}${bue++}`,s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(i,{...s,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:ly,useValue:s},{provide:ry,useValue:s}]},templateContext:()=>({dialogRef:a}),providers:(c,u,d)=>(a=new this._dialogRefConstructor(c,s,d),a.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentInstance=l.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(a);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let s=i.length;for(;s--;)i[s].close()}}return r.\u0275fac=function(i){Fm()},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),$g=(()=>{class r extends Aue{constructor(i,s,a,l,c,u,d,h){super(i,s,l,u,d,c,l1,fue,pue,h)}}return r.\u0275fac=function(i){return new(i||r)(X(ga),X(Pi),X(ng,8),X(mue,8),X(OU),X(r,12),X(iy),X(ts,8))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),yue=0,BU=(()=>{class r{constructor(i,s,a){this.dialogRef=i,this._elementRef=s,this._dialog=a,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=FU(this._elementRef,this._dialog.openDialogs))}ngOnChanges(i){const s=i._matDialogClose||i._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(i){PU(this.dialogRef,0===i.screenX&&0===i.screenY?"keyboard":"mouse",this.dialogResult)}}return r.\u0275fac=function(i){return new(i||r)(I(l1,8),I(We),I($g))},r.\u0275dir=de({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,s){1&i&&tt("click",function(l){return s._onButtonClick(l)}),2&i&&nn("aria-label",s.ariaLabel||null)("type",s.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Ri]}),r})(),LU=(()=>{class r{constructor(i,s,a){this._dialogRef=i,this._elementRef=s,this._dialog=a,this.id="mat-dialog-title-"+yue++}ngOnInit(){this._dialogRef||(this._dialogRef=FU(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const i=this._dialogRef._containerInstance;i&&!i._ariaLabelledBy&&(i._ariaLabelledBy=this.id)})}}return r.\u0275fac=function(i){return new(i||r)(I(l1,8),I(We),I($g))},r.\u0275dir=de({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(i,s){2&i&&Qm("id",s.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),r})();function FU(r,n){let i=r.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?n.find(s=>s.id===i.id):null}let NU=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[$g,_ue],imports:[lue,Gg,zg,vn,vn]}),r})(),Ad=(()=>{class r{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(i){this._vertical=an(i)}get inset(){return this._inset}set inset(i){this._inset=an(i)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,s){2&i&&(nn("aria-orientation",s.vertical?"vertical":"horizontal"),$t("mat-divider-vertical",s.vertical)("mat-divider-horizontal",!s.vertical)("mat-divider-inset",s.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(i,s){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),r})(),Xc=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})();function vue(r,n){if(1&r&&(q(0,"div",5)(1,"span",6),re(2),W(),pe(3,"div",7),q(4,"button",8)(5,"mat-icon"),re(6,"close"),W()()(),pe(7,"img",9)),2&r){const i=ie().$implicit;N(2),Ut(i.title),N(2),B("disableRipple",!0),N(3),B("src",i.image_dialog,yn)}}function wue(r,n){if(1&r){const i=di();q(0,"mat-card",1)(1,"mat-card-header"),re(2),W(),pe(3,"mat-divider"),q(4,"div",2)(5,"markdown"),re(6),W()(),q(7,"mat-card-actions")(8,"img",3),tt("click",function(){Cn(i);const a=Oi(10);return xn(ie().openImageViewer(a))}),W(),K(9,vue,8,3,"ng-template",null,4,es),W()()}if(2&r){const i=n.$implicit;N(2),In(" ",i.title," "),N(4),Ut(i.description),N(2),B("src",i.image,yn)}}let Cue=(()=>{class r{constructor(i){this.dialog=i,this.imageInfo=[]}openImageViewer(i){this.dialog.open(i,{panelClass:"custom-modal"})}}return r.\u0275fac=function(i){return new(i||r)(I($g))},r.\u0275cmp=Be({type:r,selectors:[["ccf-simple-image"]],inputs:{imageInfo:"imageInfo"},decls:1,vars:1,consts:[["class","simple-image-card",4,"ngFor","ngForOf"],[1,"simple-image-card"],[1,"description"],[3,"src","click"],["imageViewerContent",""],[1,"dialog-header"],["mat-dialog-title",""],[2,"flex-grow","1"],["mat-dialog-close","","mat-button","",3,"disableRipple"],[3,"src"]],template:function(i,s){1&i&&K(0,wue,11,3,"mat-card",0),2&i&&B("ngForOf",s.imageInfo)},dependencies:[pi,Xa,mle,Y4,Ad,BU,LU,Ng,_d,cd],styles:["[_nghost-%COMP%]{display:block;padding-bottom:2rem}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{padding:1.5rem 2rem;font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em}[_nghost-%COMP%]   mat-card-header[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005rem;padding:1rem 2rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:unset;padding-bottom:1rem!important}[_nghost-%COMP%]   .simple-image-card[_ngcontent-%COMP%]{padding:unset}[_nghost-%COMP%]     .mat-card-header-text{margin:unset!important}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-card-header[_ngcontent-%COMP%]{font-size:1.125rem;padding:1rem}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{pointer-events:none}}  .custom-modal mat-dialog-container{display:flex;flex-direction:column}  .custom-modal .mat-icon{padding-bottom:.625rem;height:1.75rem}  .custom-modal .dialog-header{display:flex;flex-direction:row;width:100%}  .custom-modal .mat-button-toggle-focus-overlay{display:none}  .custom-modal .mat-dialog-title{font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005rem;margin:unset}"]}),r})();function UU(r){return null!==r&&"object"==typeof r&&"constructor"in r&&r.constructor===Object}function c1(r={},n={}){Object.keys(n).forEach(i=>{typeof r[i]>"u"?r[i]=n[i]:UU(n[i])&&UU(r[i])&&Object.keys(n[i]).length>0&&c1(r[i],n[i])})}const VU={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Gr(){const r=typeof document<"u"?document:{};return c1(r,VU),r}const xue={document:VU,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:r=>typeof setTimeout>"u"?(r(),null):setTimeout(r,0),cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function Or(){const r=typeof window<"u"?window:{};return c1(r,xue),r}class Kc extends Array{constructor(n){"number"==typeof n?super(n):(super(...n||[]),function Mue(r){const n=r.__proto__;Object.defineProperty(r,"__proto__",{get:()=>n,set(i){n.__proto__=i}})}(this))}}function Wg(r=[]){const n=[];return r.forEach(i=>{Array.isArray(i)?n.push(...Wg(i)):n.push(i)}),n}function zU(r,n){return Array.prototype.filter.call(r,n)}function jt(r,n){const i=Or(),s=Gr();let a=[];if(!n&&r instanceof Kc)return r;if(!r)return new Kc(a);if("string"==typeof r){const l=r.trim();if(l.indexOf("<")>=0&&l.indexOf(">")>=0){let c="div";0===l.indexOf("<li")&&(c="ul"),0===l.indexOf("<tr")&&(c="tbody"),(0===l.indexOf("<td")||0===l.indexOf("<th"))&&(c="tr"),0===l.indexOf("<tbody")&&(c="table"),0===l.indexOf("<option")&&(c="select");const u=s.createElement(c);u.innerHTML=l;for(let d=0;d<u.childNodes.length;d+=1)a.push(u.childNodes[d])}else a=function Due(r,n){if("string"!=typeof r)return[r];const i=[],s=n.querySelectorAll(r);for(let a=0;a<s.length;a+=1)i.push(s[a]);return i}(r.trim(),n||s)}else if(r.nodeType||r===i||r===s)a.push(r);else if(Array.isArray(r)){if(r instanceof Kc)return r;a=r}return new Kc(function Eue(r){const n=[];for(let i=0;i<r.length;i+=1)-1===n.indexOf(r[i])&&n.push(r[i]);return n}(a))}jt.fn=Kc.prototype;const dde="resize scroll".split(" ");function qi(r){return function n(...i){if(typeof i[0]>"u"){for(let s=0;s<this.length;s+=1)dde.indexOf(r)<0&&(r in this[s]?this[s][r]():jt(this[s]).trigger(r));return this}return this.on(r,...i)}}qi("click"),qi("blur"),qi("focus"),qi("focusin"),qi("focusout"),qi("keyup"),qi("keydown"),qi("keypress"),qi("submit"),qi("change"),qi("mousedown"),qi("mousemove"),qi("mouseup"),qi("mouseenter"),qi("mouseleave"),qi("mouseout"),qi("mouseover"),qi("touchstart"),qi("touchend"),qi("touchmove"),qi("resize"),qi("scroll");const HU={addClass:function Iue(...r){const n=Wg(r.map(i=>i.split(" ")));return this.forEach(i=>{i.classList.add(...n)}),this},removeClass:function Tue(...r){const n=Wg(r.map(i=>i.split(" ")));return this.forEach(i=>{i.classList.remove(...n)}),this},hasClass:function Rue(...r){const n=Wg(r.map(i=>i.split(" ")));return zU(this,i=>n.filter(s=>i.classList.contains(s)).length>0).length>0},toggleClass:function kue(...r){const n=Wg(r.map(i=>i.split(" ")));this.forEach(i=>{n.forEach(s=>{i.classList.toggle(s)})})},attr:function Pue(r,n){if(1===arguments.length&&"string"==typeof r)return this[0]?this[0].getAttribute(r):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(r,n);else for(const s in r)this[i][s]=r[s],this[i].setAttribute(s,r[s]);return this},removeAttr:function Oue(r){for(let n=0;n<this.length;n+=1)this[n].removeAttribute(r);return this},transform:function Bue(r){for(let n=0;n<this.length;n+=1)this[n].style.transform=r;return this},transition:function Lue(r){for(let n=0;n<this.length;n+=1)this[n].style.transitionDuration="string"!=typeof r?`${r}ms`:r;return this},on:function Fue(...r){let[n,i,s,a]=r;function l(h){const f=h.target;if(!f)return;const p=h.target.dom7EventData||[];if(p.indexOf(h)<0&&p.unshift(h),jt(f).is(i))s.apply(f,p);else{const m=jt(f).parents();for(let g=0;g<m.length;g+=1)jt(m[g]).is(i)&&s.apply(m[g],p)}}function c(h){const f=h&&h.target&&h.target.dom7EventData||[];f.indexOf(h)<0&&f.unshift(h),s.apply(this,f)}"function"==typeof r[1]&&([n,s,a]=r,i=void 0),a||(a=!1);const u=n.split(" ");let d;for(let h=0;h<this.length;h+=1){const f=this[h];if(i)for(d=0;d<u.length;d+=1){const p=u[d];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:s,proxyListener:l}),f.addEventListener(p,l,a)}else for(d=0;d<u.length;d+=1){const p=u[d];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:s,proxyListener:c}),f.addEventListener(p,c,a)}}return this},off:function Nue(...r){let[n,i,s,a]=r;"function"==typeof r[1]&&([n,s,a]=r,i=void 0),a||(a=!1);const l=n.split(" ");for(let c=0;c<l.length;c+=1){const u=l[c];for(let d=0;d<this.length;d+=1){const h=this[d];let f;if(!i&&h.dom7Listeners?f=h.dom7Listeners[u]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[u]),f&&f.length)for(let p=f.length-1;p>=0;p-=1){const m=f[p];s&&m.listener===s||s&&m.listener&&m.listener.dom7proxy&&m.listener.dom7proxy===s?(h.removeEventListener(u,m.proxyListener,a),f.splice(p,1)):s||(h.removeEventListener(u,m.proxyListener,a),f.splice(p,1))}}}return this},trigger:function Uue(...r){const n=Or(),i=r[0].split(" "),s=r[1];for(let a=0;a<i.length;a+=1){const l=i[a];for(let c=0;c<this.length;c+=1){const u=this[c];if(n.CustomEvent){const d=new n.CustomEvent(l,{detail:s,bubbles:!0,cancelable:!0});u.dom7EventData=r.filter((h,f)=>f>0),u.dispatchEvent(d),u.dom7EventData=[],delete u.dom7EventData}}}return this},transitionEnd:function Vue(r){const n=this;return r&&n.on("transitionend",function i(s){s.target===this&&(r.call(this,s),n.off("transitionend",i))}),this},outerWidth:function zue(r){if(this.length>0){if(r){const n=this.styles();return this[0].offsetWidth+parseFloat(n.getPropertyValue("margin-right"))+parseFloat(n.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function Hue(r){if(this.length>0){if(r){const n=this.styles();return this[0].offsetHeight+parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function Que(){const r=Or();return this[0]?r.getComputedStyle(this[0],null):{}},offset:function Gue(){if(this.length>0){const r=Or(),n=Gr(),i=this[0],s=i.getBoundingClientRect(),a=n.body;return{top:s.top+(i===r?r.scrollY:i.scrollTop)-(i.clientTop||a.clientTop||0),left:s.left+(i===r?r.scrollX:i.scrollLeft)-(i.clientLeft||a.clientLeft||0)}}return null},css:function $ue(r,n){const i=Or();let s;if(1===arguments.length){if("string"!=typeof r){for(s=0;s<this.length;s+=1)for(const a in r)this[s].style[a]=r[a];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(r)}if(2===arguments.length&&"string"==typeof r){for(s=0;s<this.length;s+=1)this[s].style[r]=n;return this}return this},each:function Wue(r){return r?(this.forEach((n,i)=>{r.apply(n,[n,i])}),this):this},html:function que(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(let n=0;n<this.length;n+=1)this[n].innerHTML=r;return this},text:function Yue(r){if(typeof r>"u")return this[0]?this[0].textContent.trim():null;for(let n=0;n<this.length;n+=1)this[n].textContent=r;return this},is:function Xue(r){const n=Or(),i=Gr(),s=this[0];let a,l;if(!s||typeof r>"u")return!1;if("string"==typeof r){if(s.matches)return s.matches(r);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(r);if(s.msMatchesSelector)return s.msMatchesSelector(r);for(a=jt(r),l=0;l<a.length;l+=1)if(a[l]===s)return!0;return!1}if(r===i)return s===i;if(r===n)return s===n;if(r.nodeType||r instanceof Kc){for(a=r.nodeType?[r]:r,l=0;l<a.length;l+=1)if(a[l]===s)return!0;return!1}return!1},index:function Kue(){let n,r=this[0];if(r){for(n=0;null!==(r=r.previousSibling);)1===r.nodeType&&(n+=1);return n}},eq:function Zue(r){if(typeof r>"u")return this;const n=this.length;if(r>n-1)return jt([]);if(r<0){const i=n+r;return jt(i<0?[]:[this[i]])}return jt([this[r]])},append:function Jue(...r){let n;const i=Gr();for(let s=0;s<r.length;s+=1){n=r[s];for(let a=0;a<this.length;a+=1)if("string"==typeof n){const l=i.createElement("div");for(l.innerHTML=n;l.firstChild;)this[a].appendChild(l.firstChild)}else if(n instanceof Kc)for(let l=0;l<n.length;l+=1)this[a].appendChild(n[l]);else this[a].appendChild(n)}return this},prepend:function ede(r){const n=Gr();let i,s;for(i=0;i<this.length;i+=1)if("string"==typeof r){const a=n.createElement("div");for(a.innerHTML=r,s=a.childNodes.length-1;s>=0;s-=1)this[i].insertBefore(a.childNodes[s],this[i].childNodes[0])}else if(r instanceof Kc)for(s=0;s<r.length;s+=1)this[i].insertBefore(r[s],this[i].childNodes[0]);else this[i].insertBefore(r,this[i].childNodes[0]);return this},next:function tde(r){return this.length>0?r?this[0].nextElementSibling&&jt(this[0].nextElementSibling).is(r)?jt([this[0].nextElementSibling]):jt([]):jt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):jt([])},nextAll:function nde(r){const n=[];let i=this[0];if(!i)return jt([]);for(;i.nextElementSibling;){const s=i.nextElementSibling;r?jt(s).is(r)&&n.push(s):n.push(s),i=s}return jt(n)},prev:function ide(r){if(this.length>0){const n=this[0];return r?n.previousElementSibling&&jt(n.previousElementSibling).is(r)?jt([n.previousElementSibling]):jt([]):jt(n.previousElementSibling?[n.previousElementSibling]:[])}return jt([])},prevAll:function rde(r){const n=[];let i=this[0];if(!i)return jt([]);for(;i.previousElementSibling;){const s=i.previousElementSibling;r?jt(s).is(r)&&n.push(s):n.push(s),i=s}return jt(n)},parent:function sde(r){const n=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(r?jt(this[i].parentNode).is(r)&&n.push(this[i].parentNode):n.push(this[i].parentNode));return jt(n)},parents:function ode(r){const n=[];for(let i=0;i<this.length;i+=1){let s=this[i].parentNode;for(;s;)r?jt(s).is(r)&&n.push(s):n.push(s),s=s.parentNode}return jt(n)},closest:function ade(r){let n=this;return typeof r>"u"?jt([]):(n.is(r)||(n=n.parents(r).eq(0)),n)},find:function lde(r){const n=[];for(let i=0;i<this.length;i+=1){const s=this[i].querySelectorAll(r);for(let a=0;a<s.length;a+=1)n.push(s[a])}return jt(n)},children:function cde(r){const n=[];for(let i=0;i<this.length;i+=1){const s=this[i].children;for(let a=0;a<s.length;a+=1)(!r||jt(s[a]).is(r))&&n.push(s[a])}return jt(n)},filter:function jue(r){return jt(zU(this,r))},remove:function ude(){for(let r=0;r<this.length;r+=1)this[r].parentNode&&this[r].parentNode.removeChild(this[r]);return this}};Object.keys(HU).forEach(r=>{Object.defineProperty(jt.fn,r,{value:HU[r],writable:!0})});const Tn=jt;function cy(r,n){return void 0===n&&(n=0),setTimeout(r,n)}function jg(){return Date.now()}function uy(r){return"object"==typeof r&&null!==r&&r.constructor&&"Object"===Object.prototype.toString.call(r).slice(8,-1)}function mde(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)}function po(){const r=Object(arguments.length<=0?void 0:arguments[0]),n=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&!mde(s)){const a=Object.keys(Object(s)).filter(l=>n.indexOf(l)<0);for(let l=0,c=a.length;l<c;l+=1){const u=a[l],d=Object.getOwnPropertyDescriptor(s,u);void 0!==d&&d.enumerable&&(uy(r[u])&&uy(s[u])?s[u].__swiper__?r[u]=s[u]:po(r[u],s[u]):!uy(r[u])&&uy(s[u])?(r[u]={},s[u].__swiper__?r[u]=s[u]:po(r[u],s[u])):r[u]=s[u])}}}return r}function dy(r,n,i){r.style.setProperty(n,i)}function GU(r){let{swiper:n,targetPosition:i,side:s}=r;const a=Or(),l=-n.translate;let u,c=null;const d=n.params.speed;n.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(n.cssModeFrameID);const h=i>l?"next":"prev",f=(m,g)=>"next"===h&&m>=g||"prev"===h&&m<=g,p=()=>{u=(new Date).getTime(),null===c&&(c=u);const m=Math.max(Math.min((u-c)/d,1),0),g=.5-Math.cos(m*Math.PI)/2;let _=l+g*(i-l);if(f(_,i)&&(_=i),n.wrapperEl.scrollTo({[s]:_}),f(_,i))return n.wrapperEl.style.overflow="hidden",n.wrapperEl.style.scrollSnapType="",setTimeout(()=>{n.wrapperEl.style.overflow="",n.wrapperEl.scrollTo({[s]:_})}),void a.cancelAnimationFrame(n.cssModeFrameID);n.cssModeFrameID=a.requestAnimationFrame(p)};p()}let u1,d1,h1;function QU(){return u1||(u1=function gde(){const r=Or(),n=Gr();return{smoothScroll:n.documentElement&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&n instanceof r.DocumentTouch),passiveListener:function(){let s=!1;try{const a=Object.defineProperty({},"passive",{get(){s=!0}});r.addEventListener("testPassiveListener",null,a)}catch{}return s}(),gestures:"ongesturestart"in r}}()),u1}const Cde={on(r,n,i){const s=this;if(!s.eventsListeners||s.destroyed||"function"!=typeof n)return s;const a=i?"unshift":"push";return r.split(" ").forEach(l=>{s.eventsListeners[l]||(s.eventsListeners[l]=[]),s.eventsListeners[l][a](n)}),s},once(r,n,i){const s=this;if(!s.eventsListeners||s.destroyed||"function"!=typeof n)return s;function a(){s.off(r,a),a.__emitterProxy&&delete a.__emitterProxy;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];n.apply(s,c)}return a.__emitterProxy=n,s.on(r,a,i)},onAny(r,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof r)return i;const s=n?"unshift":"push";return i.eventsAnyListeners.indexOf(r)<0&&i.eventsAnyListeners[s](r),i},offAny(r){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;const i=n.eventsAnyListeners.indexOf(r);return i>=0&&n.eventsAnyListeners.splice(i,1),n},off(r,n){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||r.split(" ").forEach(s=>{typeof n>"u"?i.eventsListeners[s]=[]:i.eventsListeners[s]&&i.eventsListeners[s].forEach((a,l)=>{(a===n||a.__emitterProxy&&a.__emitterProxy===n)&&i.eventsListeners[s].splice(l,1)})}),i},emit(){const r=this;if(!r.eventsListeners||r.destroyed||!r.eventsListeners)return r;let n,i,s;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return"string"==typeof l[0]||Array.isArray(l[0])?(n=l[0],i=l.slice(1,l.length),s=r):(n=l[0].events,i=l[0].data,s=l[0].context||r),i.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(d=>{r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(h=>{h.apply(s,[d,...i])}),r.eventsListeners&&r.eventsListeners[d]&&r.eventsListeners[d].forEach(h=>{h.apply(s,i)})}),r}},Pde={updateSize:function xde(){const r=this;let n,i;const s=r.$el;n=typeof r.params.width<"u"&&null!==r.params.width?r.params.width:s[0].clientWidth,i=typeof r.params.height<"u"&&null!==r.params.height?r.params.height:s[0].clientHeight,!(0===n&&r.isHorizontal()||0===i&&r.isVertical())&&(n=n-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),i=i-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(i)&&(i=0),Object.assign(r,{width:n,height:i,size:r.isHorizontal()?n:i}))},updateSlides:function Mde(){const r=this;function n(T){return r.isHorizontal()?T:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[T]}function i(T,k){return parseFloat(T.getPropertyValue(n(k))||0)}const s=r.params,{$wrapperEl:a,size:l,rtlTranslate:c,wrongRTL:u}=r,d=r.virtual&&s.virtual.enabled,h=d?r.virtual.slides.length:r.slides.length,f=a.children(`.${r.params.slideClass}`),p=d?r.virtual.slides.length:f.length;let m=[];const g=[],_=[];let A=s.slidesOffsetBefore;"function"==typeof A&&(A=s.slidesOffsetBefore.call(r));let b=s.slidesOffsetAfter;"function"==typeof b&&(b=s.slidesOffsetAfter.call(r));const y=r.snapGrid.length,w=r.slidesGrid.length;let v=s.spaceBetween,C=-A,M=0,E=0;if(typeof l>"u")return;"string"==typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*l),r.virtualSize=-v,f.css(c?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(dy(r.wrapperEl,"--swiper-centered-offset-before",""),dy(r.wrapperEl,"--swiper-centered-offset-after",""));const S=s.grid&&s.grid.rows>1&&r.grid;let x;S&&r.grid.initSlides(p);const D="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(T=>typeof s.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<p;T+=1){x=0;const k=f.eq(T);if(S&&r.grid.updateSlide(T,k,p,n),"none"!==k.css("display")){if("auto"===s.slidesPerView){D&&(f[T].style[n("width")]="");const R=getComputedStyle(k[0]),F=k[0].style.transform,O=k[0].style.webkitTransform;if(F&&(k[0].style.transform="none"),O&&(k[0].style.webkitTransform="none"),s.roundLengths)x=r.isHorizontal()?k.outerWidth(!0):k.outerHeight(!0);else{const j=i(R,"width"),G=i(R,"padding-left"),P=i(R,"padding-right"),z=i(R,"margin-left"),V=i(R,"margin-right"),Y=R.getPropertyValue("box-sizing");if(Y&&"border-box"===Y)x=j+z+V;else{const{clientWidth:oe,offsetWidth:ae}=k[0];x=j+G+P+z+V+(ae-oe)}}F&&(k[0].style.transform=F),O&&(k[0].style.webkitTransform=O),s.roundLengths&&(x=Math.floor(x))}else x=(l-(s.slidesPerView-1)*v)/s.slidesPerView,s.roundLengths&&(x=Math.floor(x)),f[T]&&(f[T].style[n("width")]=`${x}px`);f[T]&&(f[T].swiperSlideSize=x),_.push(x),s.centeredSlides?(C=C+x/2+M/2+v,0===M&&0!==T&&(C=C-l/2-v),0===T&&(C=C-l/2-v),Math.abs(C)<.001&&(C=0),s.roundLengths&&(C=Math.floor(C)),E%s.slidesPerGroup==0&&m.push(C),g.push(C)):(s.roundLengths&&(C=Math.floor(C)),(E-Math.min(r.params.slidesPerGroupSkip,E))%r.params.slidesPerGroup==0&&m.push(C),g.push(C),C=C+x+v),r.virtualSize+=x+v,M=x,E+=1}}if(r.virtualSize=Math.max(r.virtualSize,l)+b,c&&u&&("slide"===s.effect||"coverflow"===s.effect)&&a.css({width:`${r.virtualSize+s.spaceBetween}px`}),s.setWrapperSize&&a.css({[n("width")]:`${r.virtualSize+s.spaceBetween}px`}),S&&r.grid.updateWrapperSize(x,m,n),!s.centeredSlides){const T=[];for(let k=0;k<m.length;k+=1){let R=m[k];s.roundLengths&&(R=Math.floor(R)),m[k]<=r.virtualSize-l&&T.push(R)}m=T,Math.floor(r.virtualSize-l)-Math.floor(m[m.length-1])>1&&m.push(r.virtualSize-l)}if(0===m.length&&(m=[0]),0!==s.spaceBetween){const T=r.isHorizontal()&&c?"marginLeft":n("marginRight");f.filter((k,R)=>!s.cssMode||R!==f.length-1).css({[T]:`${v}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let T=0;_.forEach(R=>{T+=R+(s.spaceBetween?s.spaceBetween:0)}),T-=s.spaceBetween;const k=T-l;m=m.map(R=>R<0?-A:R>k?k+b:R)}if(s.centerInsufficientSlides){let T=0;if(_.forEach(k=>{T+=k+(s.spaceBetween?s.spaceBetween:0)}),T-=s.spaceBetween,T<l){const k=(l-T)/2;m.forEach((R,F)=>{m[F]=R-k}),g.forEach((R,F)=>{g[F]=R+k})}}if(Object.assign(r,{slides:f,snapGrid:m,slidesGrid:g,slidesSizesGrid:_}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){dy(r.wrapperEl,"--swiper-centered-offset-before",-m[0]+"px"),dy(r.wrapperEl,"--swiper-centered-offset-after",r.size/2-_[_.length-1]/2+"px");const T=-r.snapGrid[0],k=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(R=>R+T),r.slidesGrid=r.slidesGrid.map(R=>R+k)}if(p!==h&&r.emit("slidesLengthChange"),m.length!==y&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),g.length!==w&&r.emit("slidesGridLengthChange"),s.watchSlidesProgress&&r.updateSlidesOffset(),!(d||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const T=`${s.containerModifierClass}backface-hidden`,k=r.$el.hasClass(T);p<=s.maxBackfaceHiddenSlides?k||r.$el.addClass(T):k&&r.$el.removeClass(T)}},updateAutoHeight:function Ede(r){const n=this,i=[],s=n.virtual&&n.params.virtual.enabled;let l,a=0;"number"==typeof r?n.setTransition(r):!0===r&&n.setTransition(n.params.speed);const c=u=>s?n.slides.filter(d=>parseInt(d.getAttribute("data-swiper-slide-index"),10)===u)[0]:n.slides.eq(u)[0];if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||Tn([])).each(u=>{i.push(u)});else for(l=0;l<Math.ceil(n.params.slidesPerView);l+=1){const u=n.activeIndex+l;if(u>n.slides.length&&!s)break;i.push(c(u))}else i.push(c(n.activeIndex));for(l=0;l<i.length;l+=1)if(typeof i[l]<"u"){const u=i[l].offsetHeight;a=u>a?u:a}(a||0===a)&&n.$wrapperEl.css("height",`${a}px`)},updateSlidesOffset:function Sde(){const r=this,n=r.slides;for(let i=0;i<n.length;i+=1)n[i].swiperSlideOffset=r.isHorizontal()?n[i].offsetLeft:n[i].offsetTop},updateSlidesProgress:function Dde(r){void 0===r&&(r=this&&this.translate||0);const n=this,i=n.params,{slides:s,rtlTranslate:a,snapGrid:l}=n;if(0===s.length)return;typeof s[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let c=-r;a&&(c=r),s.removeClass(i.slideVisibleClass),n.visibleSlidesIndexes=[],n.visibleSlides=[];for(let u=0;u<s.length;u+=1){const d=s[u];let h=d.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(h-=s[0].swiperSlideOffset);const f=(c+(i.centeredSlides?n.minTranslate():0)-h)/(d.swiperSlideSize+i.spaceBetween),p=(c-l[0]+(i.centeredSlides?n.minTranslate():0)-h)/(d.swiperSlideSize+i.spaceBetween),m=-(c-h),g=m+n.slidesSizesGrid[u];(m>=0&&m<n.size-1||g>1&&g<=n.size||m<=0&&g>=n.size)&&(n.visibleSlides.push(d),n.visibleSlidesIndexes.push(u),s.eq(u).addClass(i.slideVisibleClass)),d.progress=a?-f:f,d.originalProgress=a?-p:p}n.visibleSlides=Tn(n.visibleSlides)},updateProgress:function Ide(r){const n=this;if(typeof r>"u"){const h=n.rtlTranslate?-1:1;r=n&&n.translate&&n.translate*h||0}const i=n.params,s=n.maxTranslate()-n.minTranslate();let{progress:a,isBeginning:l,isEnd:c}=n;const u=l,d=c;0===s?(a=0,l=!0,c=!0):(a=(r-n.minTranslate())/s,l=a<=0,c=a>=1),Object.assign(n,{progress:a,isBeginning:l,isEnd:c}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&n.updateSlidesProgress(r),l&&!u&&n.emit("reachBeginning toEdge"),c&&!d&&n.emit("reachEnd toEdge"),(u&&!l||d&&!c)&&n.emit("fromEdge"),n.emit("progress",a)},updateSlidesClasses:function Tde(){const r=this,{slides:n,params:i,$wrapperEl:s,activeIndex:a,realIndex:l}=r,c=r.virtual&&i.virtual.enabled;let u;n.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),u=c?r.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${a}"]`):n.eq(a),u.addClass(i.slideActiveClass),i.loop&&(u.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l}"]`).addClass(i.slideDuplicateActiveClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l}"]`).addClass(i.slideDuplicateActiveClass));let d=u.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===d.length&&(d=n.eq(0),d.addClass(i.slideNextClass));let h=u.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===h.length&&(h=n.eq(-1),h.addClass(i.slidePrevClass)),i.loop&&(d.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${d.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),h.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),r.emitSlidesClasses()},updateActiveIndex:function kde(r){const n=this,i=n.rtlTranslate?n.translate:-n.translate,{slidesGrid:s,snapGrid:a,params:l,activeIndex:c,realIndex:u,snapIndex:d}=n;let f,h=r;if(typeof h>"u"){for(let m=0;m<s.length;m+=1)typeof s[m+1]<"u"?i>=s[m]&&i<s[m+1]-(s[m+1]-s[m])/2?h=m:i>=s[m]&&i<s[m+1]&&(h=m+1):i>=s[m]&&(h=m);l.normalizeSlideIndex&&(h<0||typeof h>"u")&&(h=0)}if(a.indexOf(i)>=0)f=a.indexOf(i);else{const m=Math.min(l.slidesPerGroupSkip,h);f=m+Math.floor((h-m)/l.slidesPerGroup)}if(f>=a.length&&(f=a.length-1),h===c)return void(f!==d&&(n.snapIndex=f,n.emit("snapIndexChange")));const p=parseInt(n.slides.eq(h).attr("data-swiper-slide-index")||h,10);Object.assign(n,{snapIndex:f,realIndex:p,previousIndex:c,activeIndex:h}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")},updateClickedSlide:function Rde(r){const n=this,i=n.params,s=Tn(r).closest(`.${i.slideClass}`)[0];let l,a=!1;if(s)for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===s){a=!0,l=c;break}if(!s||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(Tn(s).attr("data-swiper-slide-index"),10):l,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},Ude={getTranslate:function Ode(r){void 0===r&&(r=this.isHorizontal()?"x":"y");const{params:i,rtlTranslate:s,translate:a,$wrapperEl:l}=this;if(i.virtualTranslate)return s?-a:a;if(i.cssMode)return a;let c=function pde(r,n){void 0===n&&(n="x");const i=Or();let s,a,l;const c=function fde(r){const n=Or();let i;return n.getComputedStyle&&(i=n.getComputedStyle(r,null)),!i&&r.currentStyle&&(i=r.currentStyle),i||(i=r.style),i}(r);return i.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(u=>u.replace(",",".")).join(", ")),l=new i.WebKitCSSMatrix("none"===a?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=l.toString().split(",")),"x"===n&&(a=i.WebKitCSSMatrix?l.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===n&&(a=i.WebKitCSSMatrix?l.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),a||0}(l[0],r);return s&&(c=-c),c||0},setTranslate:function Bde(r,n){const i=this,{rtlTranslate:s,params:a,$wrapperEl:l,wrapperEl:c,progress:u}=i;let p,d=0,h=0;i.isHorizontal()?d=s?-r:r:h=r,a.roundLengths&&(d=Math.floor(d),h=Math.floor(h)),a.cssMode?c[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-d:-h:a.virtualTranslate||l.transform(`translate3d(${d}px, ${h}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?d:h;const m=i.maxTranslate()-i.minTranslate();p=0===m?0:(r-i.minTranslate())/m,p!==u&&i.updateProgress(r),i.emit("setTranslate",i.translate,n)},minTranslate:function Lde(){return-this.snapGrid[0]},maxTranslate:function Fde(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Nde(r,n,i,s,a){void 0===r&&(r=0),void 0===n&&(n=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);const l=this,{params:c,wrapperEl:u}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const d=l.minTranslate(),h=l.maxTranslate();let f;if(f=s&&r>d?d:s&&r<h?h:r,l.updateProgress(f),c.cssMode){const p=l.isHorizontal();if(0===n)u[p?"scrollLeft":"scrollTop"]=-f;else{if(!l.support.smoothScroll)return GU({swiper:l,targetPosition:-f,side:p?"left":"top"}),!0;u.scrollTo({[p?"left":"top"]:-f,behavior:"smooth"})}return!0}return 0===n?(l.setTransition(0),l.setTranslate(f),i&&(l.emit("beforeTransitionStart",n,a),l.emit("transitionEnd"))):(l.setTransition(n),l.setTranslate(f),i&&(l.emit("beforeTransitionStart",n,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(m){!l||l.destroyed||m.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,i&&l.emit("transitionEnd"))}),l.$wrapperEl[0].addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd))),!0}};function $U(r){let{swiper:n,runCallbacks:i,direction:s,step:a}=r;const{activeIndex:l,previousIndex:c}=n;let u=s;if(u||(u=l>c?"next":l<c?"prev":"reset"),n.emit(`transition${a}`),i&&l!==c){if("reset"===u)return void n.emit(`slideResetTransition${a}`);n.emit(`slideChangeTransition${a}`),n.emit("next"===u?`slideNextTransition${a}`:`slidePrevTransition${a}`)}}const Gde={setTransition:function Vde(r,n){const i=this;i.params.cssMode||i.$wrapperEl.transition(r),i.emit("setTransition",r,n)},transitionStart:function zde(r,n){void 0===r&&(r=!0);const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),$U({swiper:i,runCallbacks:r,direction:n,step:"Start"}))},transitionEnd:function Hde(r,n){void 0===r&&(r=!0);const i=this,{params:s}=i;i.animating=!1,!s.cssMode&&(i.setTransition(0),$U({swiper:i,runCallbacks:r,direction:n,step:"End"}))}},Kde={slideTo:function Qde(r,n,i,s,a){if(void 0===r&&(r=0),void 0===n&&(n=this.params.speed),void 0===i&&(i=!0),"number"!=typeof r&&"string"!=typeof r)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof r}] given.`);if("string"==typeof r){const v=parseInt(r,10);if(!isFinite(v))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=v}const l=this;let c=r;c<0&&(c=0);const{params:u,snapGrid:d,slidesGrid:h,previousIndex:f,activeIndex:p,rtlTranslate:m,wrapperEl:g,enabled:_}=l;if(l.animating&&u.preventInteractionOnTransition||!_&&!s&&!a)return!1;const A=Math.min(l.params.slidesPerGroupSkip,c);let b=A+Math.floor((c-A)/l.params.slidesPerGroup);b>=d.length&&(b=d.length-1),(p||u.initialSlide||0)===(f||0)&&i&&l.emit("beforeSlideChangeStart");const y=-d[b];if(l.updateProgress(y),u.normalizeSlideIndex)for(let v=0;v<h.length;v+=1){const C=-Math.floor(100*y),M=Math.floor(100*h[v]),E=Math.floor(100*h[v+1]);typeof h[v+1]<"u"?C>=M&&C<E-(E-M)/2?c=v:C>=M&&C<E&&(c=v+1):C>=M&&(c=v)}if(l.initialized&&c!==p&&(!l.allowSlideNext&&y<l.translate&&y<l.minTranslate()||!l.allowSlidePrev&&y>l.translate&&y>l.maxTranslate()&&(p||0)!==c))return!1;let w;if(w=c>p?"next":c<p?"prev":"reset",m&&-y===l.translate||!m&&y===l.translate)return l.updateActiveIndex(c),u.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),"slide"!==u.effect&&l.setTranslate(y),"reset"!==w&&(l.transitionStart(i,w),l.transitionEnd(i,w)),!1;if(u.cssMode){const v=l.isHorizontal(),C=m?y:-y;if(0===n){const M=l.virtual&&l.params.virtual.enabled;M&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),g[v?"scrollLeft":"scrollTop"]=C,M&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._swiperImmediateVirtual=!1})}else{if(!l.support.smoothScroll)return GU({swiper:l,targetPosition:C,side:v?"left":"top"}),!0;g.scrollTo({[v?"left":"top"]:C,behavior:"smooth"})}return!0}return l.setTransition(n),l.setTranslate(y),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",n,s),l.transitionStart(i,w),0===n?l.transitionEnd(i,w):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(C){!l||l.destroyed||C.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(i,w))}),l.$wrapperEl[0].addEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function $de(r,n,i,s){if(void 0===r&&(r=0),void 0===n&&(n=this.params.speed),void 0===i&&(i=!0),"string"==typeof r){const c=parseInt(r,10);if(!isFinite(c))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=c}const a=this;let l=r;return a.params.loop&&(l+=a.loopedSlides),a.slideTo(l,n,i,s)},slideNext:function Wde(r,n,i){void 0===r&&(r=this.params.speed),void 0===n&&(n=!0);const s=this,{animating:a,enabled:l,params:c}=s;if(!l)return s;let u=c.slidesPerGroup;"auto"===c.slidesPerView&&1===c.slidesPerGroup&&c.slidesPerGroupAuto&&(u=Math.max(s.slidesPerViewDynamic("current",!0),1));const d=s.activeIndex<c.slidesPerGroupSkip?1:u;if(c.loop){if(a&&c.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return s.slideTo(c.rewind&&s.isEnd?0:s.activeIndex+d,r,n,i)},slidePrev:function jde(r,n,i){void 0===r&&(r=this.params.speed),void 0===n&&(n=!0);const s=this,{params:a,animating:l,snapGrid:c,slidesGrid:u,rtlTranslate:d,enabled:h}=s;if(!h)return s;if(a.loop){if(l&&a.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function p(b){return b<0?-Math.floor(Math.abs(b)):Math.floor(b)}const m=p(d?s.translate:-s.translate),g=c.map(b=>p(b));let _=c[g.indexOf(m)-1];if(typeof _>"u"&&a.cssMode){let b;c.forEach((y,w)=>{m>=y&&(b=w)}),typeof b<"u"&&(_=c[b>0?b-1:b])}let A=0;return typeof _<"u"&&(A=u.indexOf(_),A<0&&(A=s.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(A=A-s.slidesPerViewDynamic("previous",!0)+1,A=Math.max(A,0))),s.slideTo(a.rewind&&s.isBeginning?s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1:A,r,n,i)},slideReset:function qde(r,n,i){return void 0===r&&(r=this.params.speed),void 0===n&&(n=!0),this.slideTo(this.activeIndex,r,n,i)},slideToClosest:function Yde(r,n,i,s){void 0===r&&(r=this.params.speed),void 0===n&&(n=!0),void 0===s&&(s=.5);const a=this;let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),u=c+Math.floor((l-c)/a.params.slidesPerGroup),d=a.rtlTranslate?a.translate:-a.translate;if(d>=a.snapGrid[u]){const h=a.snapGrid[u];d-h>(a.snapGrid[u+1]-h)*s&&(l+=a.params.slidesPerGroup)}else{const h=a.snapGrid[u-1];d-h<=(a.snapGrid[u]-h)*s&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,r,n,i)},slideToClickedSlide:function Xde(){const r=this,{params:n,$wrapperEl:i}=r,s="auto"===n.slidesPerView?r.slidesPerViewDynamic():n.slidesPerView;let l,a=r.clickedIndex;if(n.loop){if(r.animating)return;l=parseInt(Tn(r.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<r.loopedSlides-s/2||a>r.slides.length-r.loopedSlides+s/2?(r.loopFix(),a=i.children(`.${n.slideClass}[data-swiper-slide-index="${l}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),cy(()=>{r.slideTo(a)})):r.slideTo(a):a>r.slides.length-s?(r.loopFix(),a=i.children(`.${n.slideClass}[data-swiper-slide-index="${l}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),cy(()=>{r.slideTo(a)})):r.slideTo(a)}else r.slideTo(a)}},the={loopCreate:function Zde(){const r=this,n=Gr(),{params:i,$wrapperEl:s}=r,a=s.children().length>0?Tn(s.children()[0].parentNode):s;a.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let l=a.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const d=i.slidesPerGroup-l.length%i.slidesPerGroup;if(d!==i.slidesPerGroup){for(let h=0;h<d;h+=1){const f=Tn(n.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);a.append(f)}l=a.children(`.${i.slideClass}`)}}"auto"===i.slidesPerView&&!i.loopedSlides&&(i.loopedSlides=l.length),r.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),r.loopedSlides+=i.loopAdditionalSlides,r.loopedSlides>l.length&&(r.loopedSlides=l.length);const c=[],u=[];l.each((d,h)=>{const f=Tn(d);h<r.loopedSlides&&u.push(d),h<l.length&&h>=l.length-r.loopedSlides&&c.push(d),f.attr("data-swiper-slide-index",h)});for(let d=0;d<u.length;d+=1)a.append(Tn(u[d].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let d=c.length-1;d>=0;d-=1)a.prepend(Tn(c[d].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function Jde(){const r=this;r.emit("beforeLoopFix");const{activeIndex:n,slides:i,loopedSlides:s,allowSlidePrev:a,allowSlideNext:l,snapGrid:c,rtlTranslate:u}=r;let d;r.allowSlidePrev=!0,r.allowSlideNext=!0;const f=-c[n]-r.getTranslate();n<s?(d=i.length-3*s+n,d+=s,r.slideTo(d,0,!1,!0)&&0!==f&&r.setTranslate((u?-r.translate:r.translate)-f)):n>=i.length-s&&(d=-i.length+n+s,d+=s,r.slideTo(d,0,!1,!0)&&0!==f&&r.setTranslate((u?-r.translate:r.translate)-f)),r.allowSlidePrev=a,r.allowSlideNext=l,r.emit("loopFix")},loopDestroy:function ehe(){const{$wrapperEl:n,params:i,slides:s}=this;n.children(`.${i.slideClass}.${i.slideDuplicateClass},.${i.slideClass}.${i.slideBlankClass}`).remove(),s.removeAttr("data-swiper-slide-index")}};function ohe(r){const n=this,i=Gr(),s=Or(),a=n.touchEventsData,{params:l,touches:c,enabled:u}=n;if(!u||n.animating&&l.preventInteractionOnTransition)return;!n.animating&&l.cssMode&&l.loop&&n.loopFix();let d=r;d.originalEvent&&(d=d.originalEvent);let h=Tn(d.target);if("wrapper"===l.touchEventsTarget&&!h.closest(n.wrapperEl).length||(a.isTouchEvent="touchstart"===d.type,!a.isTouchEvent&&"which"in d&&3===d.which)||!a.isTouchEvent&&"button"in d&&d.button>0||a.isTouched&&a.isMoved)return;l.noSwipingClass&&""!==l.noSwipingClass&&d.target&&d.target.shadowRoot&&r.path&&r.path[0]&&(h=Tn(r.path[0]));const p=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`;if(l.noSwiping&&(d.target&&d.target.shadowRoot?function she(r,n){return void 0===n&&(n=this),function i(s){if(!s||s===Gr()||s===Or())return null;s.assignedSlot&&(s=s.assignedSlot);const a=s.closest(r);return a||s.getRootNode?a||i(s.getRootNode().host):null}(n)}(p,h[0]):h.closest(p)[0]))return void(n.allowClick=!0);if(l.swipeHandler&&!h.closest(l.swipeHandler)[0])return;c.currentX="touchstart"===d.type?d.targetTouches[0].pageX:d.pageX,c.currentY="touchstart"===d.type?d.targetTouches[0].pageY:d.pageY;const g=c.currentX,_=c.currentY,A=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,b=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(A&&(g<=b||g>=s.innerWidth-b)){if("prevent"!==A)return;r.preventDefault()}if(Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=g,c.startY=_,a.touchStartTime=jg(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==d.type){let y=!0;h.is(a.focusableElements)&&(y=!1,"SELECT"===h[0].nodeName&&(a.isTouched=!1)),i.activeElement&&Tn(i.activeElement).is(a.focusableElements)&&i.activeElement!==h[0]&&i.activeElement.blur();const w=y&&n.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||w)&&!h[0].isContentEditable&&d.preventDefault()}n.params.freeMode&&n.params.freeMode.enabled&&n.freeMode&&n.animating&&!l.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",d)}function ahe(r){const n=Gr(),i=this,s=i.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:u}=i;if(!u)return;let d=r;if(d.originalEvent&&(d=d.originalEvent),!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",d));if(s.isTouchEvent&&"touchmove"!==d.type)return;const h="touchmove"===d.type&&d.targetTouches&&(d.targetTouches[0]||d.changedTouches[0]),f="touchmove"===d.type?h.pageX:d.pageX,p="touchmove"===d.type?h.pageY:d.pageY;if(d.preventedByNestedSwiper)return l.startX=f,void(l.startY=p);if(!i.allowTouchMove)return Tn(d.target).is(s.focusableElements)||(i.allowClick=!1),void(s.isTouched&&(Object.assign(l,{startX:f,startY:p,currentX:f,currentY:p}),s.touchStartTime=jg()));if(s.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(i.isVertical()){if(p<l.startY&&i.translate<=i.maxTranslate()||p>l.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(f<l.startX&&i.translate<=i.maxTranslate()||f>l.startX&&i.translate>=i.minTranslate())return;if(s.isTouchEvent&&n.activeElement&&d.target===n.activeElement&&Tn(d.target).is(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);if(s.allowTouchCallbacks&&i.emit("touchMove",d),d.targetTouches&&d.targetTouches.length>1)return;l.currentX=f,l.currentY=p;const m=l.currentX-l.startX,g=l.currentY-l.startY;if(i.params.threshold&&Math.sqrt(m**2+g**2)<i.params.threshold)return;if(typeof s.isScrolling>"u"){let y;i.isHorizontal()&&l.currentY===l.startY||i.isVertical()&&l.currentX===l.startX?s.isScrolling=!1:m*m+g*g>=25&&(y=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,s.isScrolling=i.isHorizontal()?y>a.touchAngle:90-y>a.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",d),typeof s.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(s.startMoving=!0),s.isScrolling)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!a.cssMode&&d.cancelable&&d.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&d.stopPropagation(),s.isMoved||(a.loop&&!a.cssMode&&i.loopFix(),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,a.grabCursor&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",d)),i.emit("sliderMove",d),s.isMoved=!0;let _=i.isHorizontal()?m:g;l.diff=_,_*=a.touchRatio,c&&(_=-_),i.swipeDirection=_>0?"prev":"next",s.currentTranslate=_+s.startTranslate;let A=!0,b=a.resistanceRatio;if(a.touchReleaseOnEdges&&(b=0),_>0&&s.currentTranslate>i.minTranslate()?(A=!1,a.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+_)**b)):_<0&&s.currentTranslate<i.maxTranslate()&&(A=!1,a.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-_)**b)),A&&(d.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(s.currentTranslate=s.startTranslate),a.threshold>0){if(!(Math.abs(_)>a.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,s.currentTranslate=s.startTranslate,void(l.diff=i.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY)}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&i.freeMode||a.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&a.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}function lhe(r){const n=this,i=n.touchEventsData,{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:u}=n;if(!u)return;let d=r;if(d.originalEvent&&(d=d.originalEvent),i.allowTouchCallbacks&&n.emit("touchEnd",d),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&n.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!1);const h=jg(),f=h-i.touchStartTime;if(n.allowClick){const w=d.path||d.composedPath&&d.composedPath();n.updateClickedSlide(w&&w[0]||d.target),n.emit("tap click",d),f<300&&h-i.lastClickTime<300&&n.emit("doubleTap doubleClick",d)}if(i.lastClickTime=jg(),cy(()=>{n.destroyed||(n.allowClick=!0)}),!i.isTouched||!i.isMoved||!n.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let p;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=s.followFinger?l?n.translate:-n.translate:-i.currentTranslate,s.cssMode)return;if(n.params.freeMode&&s.freeMode.enabled)return void n.freeMode.onTouchEnd({currentPos:p});let m=0,g=n.slidesSizesGrid[0];for(let w=0;w<c.length;w+=w<s.slidesPerGroupSkip?1:s.slidesPerGroup){const v=w<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[w+v]<"u"?p>=c[w]&&p<c[w+v]&&(m=w,g=c[w+v]-c[w]):p>=c[w]&&(m=w,g=c[c.length-1]-c[c.length-2])}let _=null,A=null;s.rewind&&(n.isBeginning?A=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(_=0));const b=(p-c[m])/g,y=m<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes)return void n.slideTo(n.activeIndex);"next"===n.swipeDirection&&n.slideTo(b>=s.longSwipesRatio?s.rewind&&n.isEnd?_:m+y:m),"prev"===n.swipeDirection&&(b>1-s.longSwipesRatio?n.slideTo(m+y):null!==A&&b<0&&Math.abs(b)>s.longSwipesRatio?n.slideTo(A):n.slideTo(m))}else{if(!s.shortSwipes)return void n.slideTo(n.activeIndex);!n.navigation||d.target!==n.navigation.nextEl&&d.target!==n.navigation.prevEl?("next"===n.swipeDirection&&n.slideTo(null!==_?_:m+y),"prev"===n.swipeDirection&&n.slideTo(null!==A?A:m)):n.slideTo(d.target===n.navigation.nextEl?m+y:m)}}function WU(){const r=this,{params:n,el:i}=r;if(i&&0===i.offsetWidth)return;n.breakpoints&&r.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:a,snapGrid:l}=r;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses(),r.slideTo(("auto"===n.slidesPerView||n.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides?r.slides.length-1:r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.run(),r.allowSlidePrev=a,r.allowSlideNext=s,r.params.watchOverflow&&l!==r.snapGrid&&r.checkOverflow()}function che(r){const n=this;!n.enabled||n.allowClick||(n.params.preventClicks&&r.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(r.stopPropagation(),r.stopImmediatePropagation()))}function uhe(){const r=this,{wrapperEl:n,rtlTranslate:i,enabled:s}=r;if(!s)return;let a;r.previousTranslate=r.translate,r.translate=r.isHorizontal()?-n.scrollLeft:-n.scrollTop,0===r.translate&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();const l=r.maxTranslate()-r.minTranslate();a=0===l?0:(r.translate-r.minTranslate())/l,a!==r.progress&&r.updateProgress(i?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}let jU=!1;function dhe(){}const qU=(r,n)=>{const i=Gr(),{params:s,touchEvents:a,el:l,wrapperEl:c,device:u,support:d}=r,h=!!s.nested,f="on"===n?"addEventListener":"removeEventListener",p=n;if(d.touch){const m=!("touchstart"!==a.start||!d.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};l[f](a.start,r.onTouchStart,m),l[f](a.move,r.onTouchMove,d.passiveListener?{passive:!1,capture:h}:h),l[f](a.end,r.onTouchEnd,m),a.cancel&&l[f](a.cancel,r.onTouchEnd,m)}else l[f](a.start,r.onTouchStart,!1),i[f](a.move,r.onTouchMove,h),i[f](a.end,r.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&l[f]("click",r.onClick,!0),s.cssMode&&c[f]("scroll",r.onScroll),r[p](s.updateOnWindowResize?u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",WU,!0)},phe={attachEvents:function hhe(){const r=this,n=Gr(),{params:i,support:s}=r;r.onTouchStart=ohe.bind(r),r.onTouchMove=ahe.bind(r),r.onTouchEnd=lhe.bind(r),i.cssMode&&(r.onScroll=uhe.bind(r)),r.onClick=che.bind(r),s.touch&&!jU&&(n.addEventListener("touchstart",dhe),jU=!0),qU(r,"on")},detachEvents:function fhe(){qU(this,"off")}},YU=(r,n)=>r.grid&&n.grid&&n.grid.rows>1,_he={setBreakpoint:function mhe(){const r=this,{activeIndex:n,initialized:i,loopedSlides:s=0,params:a,$el:l}=r,c=a.breakpoints;if(!c||c&&0===Object.keys(c).length)return;const u=r.getBreakpoint(c,r.params.breakpointsBase,r.el);if(!u||r.currentBreakpoint===u)return;const h=(u in c?c[u]:void 0)||r.originalParams,f=YU(r,a),p=YU(r,h),m=a.enabled;f&&!p?(l.removeClass(`${a.containerModifierClass}grid ${a.containerModifierClass}grid-column`),r.emitContainerClasses()):!f&&p&&(l.addClass(`${a.containerModifierClass}grid`),(h.grid.fill&&"column"===h.grid.fill||!h.grid.fill&&"column"===a.grid.fill)&&l.addClass(`${a.containerModifierClass}grid-column`),r.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(b=>{const y=a[b]&&a[b].enabled,w=h[b]&&h[b].enabled;y&&!w&&r[b].disable(),!y&&w&&r[b].enable()});const g=h.direction&&h.direction!==a.direction,_=a.loop&&(h.slidesPerView!==a.slidesPerView||g);g&&i&&r.changeDirection(),po(r.params,h);const A=r.params.enabled;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),m&&!A?r.disable():!m&&A&&r.enable(),r.currentBreakpoint=u,r.emit("_beforeBreakpoint",h),_&&i&&(r.loopDestroy(),r.loopCreate(),r.updateSlides(),r.slideTo(n-s+r.loopedSlides,0,!1)),r.emit("breakpoint",h)},getBreakpoint:function ghe(r,n,i){if(void 0===n&&(n="window"),!r||"container"===n&&!i)return;let s=!1;const a=Or(),l="window"===n?a.innerHeight:i.clientHeight,c=Object.keys(r).map(u=>{if("string"==typeof u&&0===u.indexOf("@")){const d=parseFloat(u.substr(1));return{value:l*d,point:u}}return{value:u,point:u}});c.sort((u,d)=>parseInt(u.value,10)-parseInt(d.value,10));for(let u=0;u<c.length;u+=1){const{point:d,value:h}=c[u];"window"===n?a.matchMedia(`(min-width: ${h}px)`).matches&&(s=d):h<=i.clientWidth&&(s=d)}return s||"max"}},vhe={addClasses:function Ahe(){const r=this,{classNames:n,params:i,rtl:s,$el:a,device:l,support:c}=r,u=function bhe(r,n){const i=[];return r.forEach(s=>{"object"==typeof s?Object.keys(s).forEach(a=>{s[a]&&i.push(n+a)}):"string"==typeof s&&i.push(n+s)}),i}(["initialized",i.direction,{"pointer-events":!c.touch},{"free-mode":r.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:l.android},{ios:l.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);n.push(...u),a.addClass([...n].join(" ")),r.emitContainerClasses()},removeClasses:function yhe(){const{$el:n,classNames:i}=this;n.removeClass(i.join(" ")),this.emitContainerClasses()}},xhe={loadImage:function whe(r,n,i,s,a,l){const c=Or();let u;function d(){l&&l()}Tn(r).parent("picture")[0]||r.complete&&a||!n?d():(u=new c.Image,u.onload=d,u.onerror=d,s&&(u.sizes=s),i&&(u.srcset=i),n&&(u.src=n))},preloadImages:function Che(){const r=this;function n(){typeof r>"u"||null===r||!r||r.destroyed||(void 0!==r.imagesLoaded&&(r.imagesLoaded+=1),r.imagesLoaded===r.imagesToLoad.length&&(r.params.updateOnImagesReady&&r.update(),r.emit("imagesReady")))}r.imagesToLoad=r.$el.find("img");for(let i=0;i<r.imagesToLoad.length;i+=1){const s=r.imagesToLoad[i];r.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,n)}}},XU={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function She(r,n){return function(s){void 0===s&&(s={});const a=Object.keys(s)[0],l=s[a];"object"==typeof l&&null!==l?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===r[a]&&(r[a]={auto:!0}),a in r&&"enabled"in l?(!0===r[a]&&(r[a]={enabled:!0}),"object"==typeof r[a]&&!("enabled"in r[a])&&(r[a].enabled=!0),r[a]||(r[a]={enabled:!1}),po(n,s)):po(n,s)):po(n,s)}}const f1={eventsEmitter:Cde,update:Pde,translate:Ude,transition:Gde,slide:Kde,loop:the,grabCursor:{setGrabCursor:function nhe(r){const n=this;if(n.support.touch||!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const i="container"===n.params.touchEventsTarget?n.el:n.wrapperEl;i.style.cursor="move",i.style.cursor=r?"grabbing":"grab"},unsetGrabCursor:function ihe(){const r=this;r.support.touch||r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r["container"===r.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:phe,breakpoints:_he,checkOverflow:{checkOverflow:function Mhe(){const r=this,{isLocked:n,params:i}=r,{slidesOffsetBefore:s}=i;if(s){const a=r.slides.length-1;r.isLocked=r.size>r.slidesGrid[a]+r.slidesSizesGrid[a]+2*s}else r.isLocked=1===r.snapGrid.length;!0===i.allowSlideNext&&(r.allowSlideNext=!r.isLocked),!0===i.allowSlidePrev&&(r.allowSlidePrev=!r.isLocked),n&&n!==r.isLocked&&(r.isEnd=!1),n!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}},classes:vhe,images:xhe},p1={};class Uo{constructor(){let n,i;for(var s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(1===a.length&&a[0].constructor&&"Object"===Object.prototype.toString.call(a[0]).slice(8,-1)?i=a[0]:[n,i]=a,i||(i={}),i=po({},i),n&&!i.el&&(i.el=n),i.el&&Tn(i.el).length>1){const h=[];return Tn(i.el).each(f=>{const p=po({},i,{el:f});h.push(new Uo(p))}),h}const c=this;c.__swiper__=!0,c.support=QU(),c.device=function bde(r){return void 0===r&&(r={}),d1||(d1=function _de(r){let{userAgent:n}=void 0===r?{}:r;const i=QU(),s=Or(),a=s.navigator.platform,l=n||s.navigator.userAgent,c={ios:!1,android:!1},u=s.screen.width,d=s.screen.height,h=l.match(/(Android);?[\s\/]+([\d.]+)?/);let f=l.match(/(iPad).*OS\s([\d_]+)/);const p=l.match(/(iPod)(.*OS\s([\d_]+))?/),m=!f&&l.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===a;let _="MacIntel"===a;return!f&&_&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${u}x${d}`)>=0&&(f=l.match(/(Version)\/([\d.]+)/),f||(f=[0,1,"13_0_0"]),_=!1),h&&!g&&(c.os="android",c.android=!0),(f||m||p)&&(c.os="ios",c.ios=!0),c}(r)),d1}({userAgent:i.userAgent}),c.browser=function yde(){return h1||(h1=function Ade(){const r=Or();return{isSafari:function n(){const i=r.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}()),h1}(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],i.modules&&Array.isArray(i.modules)&&c.modules.push(...i.modules);const u={};c.modules.forEach(h=>{h({swiper:c,extendParams:She(i,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const d=po({},XU,u);return c.params=po({},d,p1,i),c.originalParams=po({},c.params),c.passedParams=po({},i),c.params&&c.params.on&&Object.keys(c.params.on).forEach(h=>{c.on(h,c.params.on[h])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),c.$=Tn,Object.assign(c,{enabled:c.params.enabled,el:n,classNames:[],slides:Tn(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===c.params.direction,isVertical:()=>"vertical"===c.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],p=["pointerdown","pointermove","pointerup"];return c.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},c.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},c.support.touch||!c.params.simulateTouch?c.touchEventsTouch:c.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:jg(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;!n.enabled||(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,i){const s=this;n=Math.min(Math.max(n,0),1);const a=s.minTranslate(),c=(s.maxTranslate()-a)*n+a;s.translateTo(c,typeof i>"u"?0:i),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const i=n.el.className.split(" ").filter(s=>0===s.indexOf("swiper")||0===s.indexOf(n.params.containerModifierClass));n.emit("_containerClasses",i.join(" "))}getSlideClasses(n){const i=this;return i.destroyed?"":n.className.split(" ").filter(s=>0===s.indexOf("swiper-slide")||0===s.indexOf(i.params.slideClass)).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const i=[];n.slides.each(s=>{const a=n.getSlideClasses(s);i.push({slideEl:s,classNames:a}),n.emit("_slideClass",s,a)}),n.emit("_slideClasses",i)}slidesPerViewDynamic(n,i){void 0===n&&(n="current"),void 0===i&&(i=!1);const{params:a,slides:l,slidesGrid:c,slidesSizesGrid:u,size:d,activeIndex:h}=this;let f=1;if(a.centeredSlides){let m,p=l[h].swiperSlideSize;for(let g=h+1;g<l.length;g+=1)l[g]&&!m&&(p+=l[g].swiperSlideSize,f+=1,p>d&&(m=!0));for(let g=h-1;g>=0;g-=1)l[g]&&!m&&(p+=l[g].swiperSlideSize,f+=1,p>d&&(m=!0))}else if("current"===n)for(let p=h+1;p<l.length;p+=1)(i?c[p]+u[p]-c[h]<d:c[p]-c[h]<d)&&(f+=1);else for(let p=h-1;p>=0;p-=1)c[h]-c[p]<d&&(f+=1);return f}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:i,params:s}=n;function a(){const u=Math.min(Math.max(n.rtlTranslate?-1*n.translate:n.translate,n.maxTranslate()),n.minTranslate());n.setTranslate(u),n.updateActiveIndex(),n.updateSlidesClasses()}let l;s.breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode&&n.params.freeMode.enabled?(a(),n.params.autoHeight&&n.updateAutoHeight()):(l=n.slideTo(("auto"===n.params.slidesPerView||n.params.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),l||a()),s.watchOverflow&&i!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,i){void 0===i&&(i=!0);const s=this,a=s.params.direction;return n||(n="horizontal"===a?"vertical":"horizontal"),n===a||"horizontal"!==n&&"vertical"!==n||(s.$el.removeClass(`${s.params.containerModifierClass}${a}`).addClass(`${s.params.containerModifierClass}${n}`),s.emitContainerClasses(),s.params.direction=n,s.slides.each(l=>{"vertical"===n?l.style.width="":l.style.height=""}),s.emit("changeDirection"),i&&s.update()),s}changeLanguageDirection(n){const i=this;i.rtl&&"rtl"===n||!i.rtl&&"ltr"===n||(i.rtl="rtl"===n,i.rtlTranslate="horizontal"===i.params.direction&&i.rtl,i.rtl?(i.$el.addClass(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.$el.removeClass(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(n){const i=this;if(i.mounted)return!0;const s=Tn(n||i.params.el);if(!(n=s[0]))return!1;n.swiper=i;const a=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){const u=Tn(n.shadowRoot.querySelector(a()));return u.children=d=>s.children(d),u}return s.children?s.children(a()):Tn(s).children(a())})();if(0===c.length&&i.params.createElements){const d=Gr().createElement("div");c=Tn(d),d.className=i.params.wrapperClass,s.append(d),s.children(`.${i.params.slideClass}`).each(h=>{c.append(h)})}return Object.assign(i,{$el:s,el:n,$wrapperEl:c,wrapperEl:c[0],mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===c.css("display")}),!0}init(n){const i=this;return i.initialized||!1===i.mount(n)||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.params.loop&&i.loopCreate(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.preloadImages&&i.preloadImages(),i.slideTo(i.params.loop?i.params.initialSlide+i.loopedSlides:i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.attachEvents(),i.initialized=!0,i.emit("init"),i.emit("afterInit")),i}destroy(n,i){void 0===n&&(n=!0),void 0===i&&(i=!0);const s=this,{params:a,$el:l,$wrapperEl:c,slides:u}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),i&&(s.removeClasses(),l.removeAttr("style"),c.removeAttr("style"),u&&u.length&&u.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(d=>{s.off(d)}),!1!==n&&(s.$el[0].swiper=null,function hde(r){const n=r;Object.keys(n).forEach(i=>{try{n[i]=null}catch{}try{delete n[i]}catch{}})}(s)),s.destroyed=!0),null}static extendDefaults(n){po(p1,n)}static get extendedDefaults(){return p1}static get defaults(){return XU}static installModule(n){Uo.prototype.__modules__||(Uo.prototype.__modules__=[]);const i=Uo.prototype.__modules__;"function"==typeof n&&i.indexOf(n)<0&&i.push(n)}static use(n){return Array.isArray(n)?(n.forEach(i=>Uo.installModule(i)),Uo):(Uo.installModule(n),Uo)}}Object.keys(f1).forEach(r=>{Object.keys(f1[r]).forEach(n=>{Uo.prototype[n]=f1[r][n]})}),Uo.use([function vde(r){let{swiper:n,on:i,emit:s}=r;const a=Or();let l=null,c=null;const u=()=>{!n||n.destroyed||!n.initialized||(s("beforeResize"),s("resize"))},f=()=>{!n||n.destroyed||!n.initialized||s("orientationchange")};i("init",()=>{n.params.resizeObserver&&typeof a.ResizeObserver<"u"?!n||n.destroyed||!n.initialized||(l=new ResizeObserver(p=>{c=a.requestAnimationFrame(()=>{const{width:m,height:g}=n;let _=m,A=g;p.forEach(b=>{let{contentBoxSize:y,contentRect:w,target:v}=b;v&&v!==n.el||(_=w?w.width:(y[0]||y).inlineSize,A=w?w.height:(y[0]||y).blockSize)}),(_!==m||A!==g)&&u()})}),l.observe(n.el)):(a.addEventListener("resize",u),a.addEventListener("orientationchange",f))}),i("destroy",()=>{c&&a.cancelAnimationFrame(c),l&&l.unobserve&&n.el&&(l.unobserve(n.el),l=null),a.removeEventListener("resize",u),a.removeEventListener("orientationchange",f)})},function wde(r){let{swiper:n,extendParams:i,on:s,emit:a}=r;const l=[],c=Or(),u=function(f,p){void 0===p&&(p={});const g=new(c.MutationObserver||c.WebkitMutationObserver)(_=>{if(1===_.length)return void a("observerUpdate",_[0]);const A=function(){a("observerUpdate",_[0])};c.requestAnimationFrame?c.requestAnimationFrame(A):c.setTimeout(A,0)});g.observe(f,{attributes:typeof p.attributes>"u"||p.attributes,childList:typeof p.childList>"u"||p.childList,characterData:typeof p.characterData>"u"||p.characterData}),l.push(g)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(n.params.observer){if(n.params.observeParents){const f=n.$el.parents();for(let p=0;p<f.length;p+=1)u(f[p])}u(n.$el[0],{childList:n.params.observeSlideChildren}),u(n.$wrapperEl[0],{attributes:!1})}}),s("destroy",()=>{l.forEach(f=>{f.disconnect()}),l.splice(0,l.length)})}]);const qg=Uo;function KU(r,n,i,s){const a=Gr();return r.params.createElements&&Object.keys(s).forEach(l=>{if(!i[l]&&!0===i.auto){let c=r.$el.children(`.${s[l]}`)[0];c||(c=a.createElement("div"),c.className=s[l],r.$el.append(c)),i[l]=c,n[l]=c}}),i}function Pf(r){return void 0===r&&(r=""),`.${r.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Rhe(r,n){return r.transformEl?n.find(r.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):n}const Bhe=["prevElRef"],Lhe=["nextElRef"],Fhe=["scrollbarElRef"],Nhe=["paginationElRef"];function Uhe(r,n){1&r&&(ci(0),pe(1,"div",6,7)(3,"div",8,9),ui())}function Vhe(r,n){1&r&&pe(0,"div",10,11)}function zhe(r,n){1&r&&pe(0,"div",12,13)}function Hhe(r,n){}function Ghe(r,n){1&r&&K(0,Hhe,0,0,"ng-template")}function Qhe(r,n){}function $he(r,n){1&r&&K(0,Qhe,0,0,"ng-template")}function Whe(r,n){}function jhe(r,n){1&r&&K(0,Whe,0,0,"ng-template")}function qhe(r,n){}const ZU=function(r){return{$implicit:r}};function Yhe(r,n){if(1&r&&(q(0,"div",3),K(1,qhe,0,0,"ng-template",18),W()),2&r){const i=ie().$implicit;B("ngClass",ie(2).zoomContainerClass),N(1),B("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Cs(3,ZU,i.slideData))}}function Xhe(r,n){}function Khe(r,n){if(1&r&&(ci(0),K(1,Xhe,0,0,"ng-template",18),ui()),2&r){const i=ie().$implicit;N(1),B("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Cs(2,ZU,i.slideData))}}function Zhe(r,n){if(1&r&&(q(0,"div",15),K(1,Yhe,2,5,"div",16),K(2,Khe,2,4,"ng-container",17),W()),2&r){const i=n.$implicit,s=ie().key,a=ie();xr(a.style),B("ngClass",(i.class?i.class+" ":"")+a.slideClass+(""!==s?" "+a.slideDuplicateClass:""))("ngSwitch",i.zoom),nn("data-swiper-slide-index",i.virtualIndex?i.virtualIndex:i.slideIndex)("data-swiper-autoplay",i.autoplayDelay),N(1),B("ngSwitchCase",!0)}}function Jhe(r,n){1&r&&(K(0,Zhe,3,7,"div",14),Lc(1,"async")),2&r&&B("ngForOf",Fc(1,1,n.loopSlides))}const efe=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],tfe=function(r){return{loopSlides:r,key:"prepend"}},nfe=function(r){return{loopSlides:r,key:""}},ife=function(r){return{loopSlides:r,key:"append"}},rfe=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],JU=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function Of(r){return"object"==typeof r&&null!==r&&r.constructor&&"Object"===Object.prototype.toString.call(r).slice(8,-1)}function m1(r){return typeof r<"u"&&"boolean"!=typeof r&&!0===r.enabled}function eV(r,n,i){return!0===hy(r)&&n&&!n.el||!("boolean"!=typeof n&&n.el!==i?.nativeElement&&("string"==typeof n.el||"object"==typeof n.el))}function Zc(r,n){const i=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>i.indexOf(s)<0).forEach(s=>{typeof r[s]>"u"?r[s]=n[s]:r[s]&&!n[s]||(Of(n[s])&&Of(r[s])&&Object.keys(n[s]).length>0?n[s].__swiper__?r[s]=n[s]:Zc(r[s],n[s]):r[s]=n[s])})}function hy(r){return null!=r&&"false"!=`${r}`}const sfe=["pagination","navigation","scrollbar","virtual"];function fy(r,n={}){return Of(r)?r:!0===hy(r)&&n}function g1(r={}){const n={on:{}},i={};Zc(n,qg.defaults),Zc(n,qg.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},a=JU.map(l=>l.replace(/_/,""));return Object.keys(r).forEach(l=>{const c=l.replace(/^_/,"");a.indexOf(c)>=0?Of(r[l])?(n[c]={},i[c]={},Zc(n[c],r[l]),Zc(i[c],r[l])):(n[c]=r[l],i[c]=r[l]):s[c]=r[l]}),["navigation","pagination","scrollbar"].forEach(l=>{!0===n[l]&&(n[l]={}),!1===n[l]&&delete n[l]}),{params:n,passedParams:i,rest:s}}JU.map(r=>r.replace(/_/,""));let tV=(()=>{class r{constructor(i){this.template=i,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(i){this.class=[this.class||"",i].join(" ")}set zoom(i){this._zoom=hy(i)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(i){this._classNames!==i&&(this._classNames=i,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(i){return i.some(s=>this._classNames.indexOf(s)>=0)}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:["data-swiper-autoplay","autoplayDelay"],zoom:"zoom"}}),r})(),ofe=(()=>{class r{constructor(i,s,a,l){this._ngZone=i,this.elementRef=s,this._changeDetectorRef=a,this._platformId=l,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new ne,this.s__containerClasses=new ne,this.s__slideClass=new ne,this.s__swiper=new ne,this.s_activeIndexChange=new ne,this.s_afterInit=new ne,this.s_autoplay=new ne,this.s_autoplayStart=new ne,this.s_autoplayStop=new ne,this.s_autoplayPause=new ne,this.s_autoplayResume=new ne,this.s_beforeDestroy=new ne,this.s_beforeInit=new ne,this.s_beforeLoopFix=new ne,this.s_beforeResize=new ne,this.s_beforeSlideChangeStart=new ne,this.s_beforeTransitionStart=new ne,this.s_breakpoint=new ne,this.s_changeDirection=new ne,this.s_click=new ne,this.s_doubleTap=new ne,this.s_doubleClick=new ne,this.s_destroy=new ne,this.s_fromEdge=new ne,this.s_hashChange=new ne,this.s_hashSet=new ne,this.s_imagesReady=new ne,this.s_init=new ne,this.s_keyPress=new ne,this.s_lazyImageLoad=new ne,this.s_lazyImageReady=new ne,this.s_loopFix=new ne,this.s_momentumBounce=new ne,this.s_navigationHide=new ne,this.s_navigationShow=new ne,this.s_navigationPrev=new ne,this.s_navigationNext=new ne,this.s_observerUpdate=new ne,this.s_orientationchange=new ne,this.s_paginationHide=new ne,this.s_paginationRender=new ne,this.s_paginationShow=new ne,this.s_paginationUpdate=new ne,this.s_progress=new ne,this.s_reachBeginning=new ne,this.s_reachEnd=new ne,this.s_realIndexChange=new ne,this.s_resize=new ne,this.s_scroll=new ne,this.s_scrollbarDragEnd=new ne,this.s_scrollbarDragMove=new ne,this.s_scrollbarDragStart=new ne,this.s_setTransition=new ne,this.s_setTranslate=new ne,this.s_slideChange=new ne,this.s_slideChangeTransitionEnd=new ne,this.s_slideChangeTransitionStart=new ne,this.s_slideNextTransitionEnd=new ne,this.s_slideNextTransitionStart=new ne,this.s_slidePrevTransitionEnd=new ne,this.s_slidePrevTransitionStart=new ne,this.s_slideResetTransitionStart=new ne,this.s_slideResetTransitionEnd=new ne,this.s_sliderMove=new ne,this.s_sliderFirstMove=new ne,this.s_slidesLengthChange=new ne,this.s_slidesGridLengthChange=new ne,this.s_snapGridLengthChange=new ne,this.s_snapIndexChange=new ne,this.s_tap=new ne,this.s_toEdge=new ne,this.s_touchEnd=new ne,this.s_touchMove=new ne,this.s_touchMoveOpposite=new ne,this.s_touchStart=new ne,this.s_transitionEnd=new ne,this.s_transitionStart=new ne,this.s_update=new ne,this.s_zoomChange=new ne,this.s_swiper=new ne,this.s_lock=new ne,this.s_unlock=new ne,this._activeSlides=new Me,this.containerClasses="swiper",this.slidesChanges=c=>{this.slides=c.map((u,d)=>(u.slideIndex=d,u.classNames=this.slideClass||"",u)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=Ye(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=Ye(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=c=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===c.from&&this.currentVirtualData.to===c.to&&this.currentVirtualData.offset===c.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${c.offset}px`}:{top:`${c.offset}px`},this.currentVirtualData=c,this._activeSlides.next(c.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),m1(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(i){var s,a,l;const c="boolean"!=typeof this._navigation&&""!==this._navigation?null===(s=this._navigation)||void 0===s?void 0:s.nextEl:null,u="boolean"!=typeof this._navigation&&""!==this._navigation?null===(a=this._navigation)||void 0===a?void 0:a.prevEl:null;this._navigation=fy(i,{nextEl:c||null,prevEl:u||null}),this.showNavigation=!(!0!==hy(i)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(l=this._prevElRef)||void 0===l?void 0:l.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(i){var s;const a="boolean"!=typeof this._pagination&&""!==this._pagination?null===(s=this._pagination)||void 0===s?void 0:s.el:null;this._pagination=fy(i,{el:a||null}),this.showPagination=eV(i,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(i){var s;const a="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(s=this._scrollbar)||void 0===s?void 0:s.el:null;this._scrollbar=fy(i,{el:a||null}),this.showScrollbar=eV(i,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(i){this._virtual=fy(i)}get virtual(){return this._virtual}set config(i){this.updateSwiper(i);const{params:s}=g1(i);Object.assign(this,s)}set prevElRef(i){this._prevElRef=i,this._setElement(i,this.navigation,"navigation","prevEl")}set nextElRef(i){this._nextElRef=i,this._setElement(i,this.navigation,"navigation","nextEl")}set scrollbarElRef(i){this._scrollbarElRef=i,this._setElement(i,this.scrollbar,"scrollbar")}set paginationElRef(i){this._paginationElRef=i,this._setElement(i,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:Ye(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(i,s,a,l="el"){if(!s||!i)return;if(i.nativeElement){if(s[l]===i.nativeElement)return;s[l]=i.nativeElement}const c={};c[a]=!0,this.updateInitSwiper(c)}ngOnInit(){const{params:i}=g1(this);Object.assign(this,i)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:i}=g1(this);Object.assign(this,i),this._ngZone.runOutsideAngular(()=>{i.init=!1,i.virtual||(i.observer=!0),i.onAny=(d,...h)=>{const f=this["s_"+d];f&&f.emit([...h])},Object.assign(i.on,{_containerClasses:(d,h)=>{setTimeout(()=>{this.containerClasses=h})},_slideClasses:(d,h)=>{h.forEach(({slideEl:f,classNames:p},m)=>{const g=f.getAttribute("data-swiper-slide-index"),_=g?parseInt(g):m;if(this.virtual){const A=this.slides.find(b=>b.virtualIndex&&b.virtualIndex===_);if(A)return void(A.classNames=p)}this.slides[_]&&(this.slides[_].classNames=p)}),this._changeDetectorRef.detectChanges()}});const c=new qg(i);c.loopCreate=()=>{},c.loopDestroy=()=>{},i.loop&&(c.loopedSlides=this.loopedSlides);const u=m1(c.params.virtual);if(c.virtual&&u){c.virtual.slides=this.slides;const d={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};Zc(c.params.virtual,d),Zc(c.originalParams.virtual,d)}if(ja(this._platformId)){this.swiperRef=c.init(this.elementRef.nativeElement);const d=m1(this.swiperRef.params.virtual);this.swiperRef.virtual&&d&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(i){this.updateSwiper(i),this._changeDetectorRef.detectChanges()}updateInitSwiper(i){!i||!this.swiperRef||this.swiperRef.destroyed||this._ngZone.runOutsideAngular(()=>{const{pagination:a,navigation:l,scrollbar:c,thumbs:d}=this.swiperRef;i.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&a&&!a.el?(this.updateParameter("pagination",this.pagination),a.init(),a.render(),a.update()):(a.destroy(),a.el=null)),i.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&c&&!c.el?(this.updateParameter("scrollbar",this.scrollbar),c.init(),c.updateSize(),c.setTranslate()):(c.destroy(),c.el=null)),i.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&l&&!l.prevEl&&!l.nextEl?(this.updateParameter("navigation",this.navigation),l.init(),l.update()):l.prevEl&&l.nextEl&&(l.destroy(),l.nextEl=null,l.prevEl=null)),i.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),d.init()&&d.update(!0)),i.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(i){this._ngZone.runOutsideAngular(()=>{var s,a;if(!i.config&&i&&this.swiperRef&&!this.swiperRef.destroyed){for(const l in i){if(sfe.indexOf(l)>=0)continue;const c=null!==(a=null===(s=i[l])||void 0===s?void 0:s.currentValue)&&void 0!==a?a:i[l];this.updateParameter(l,c)}i.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),i.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),i.direction&&this.swiperRef.changeDirection(this.direction,!1),i.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(i.thumbs||i.controller)&&this.updateInitSwiper(i),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let i=this.slidesPerView;if(this.breakpoints){const a=qg.prototype.getBreakpoint(this.breakpoints),l=a in this.breakpoints?this.breakpoints[a]:void 0;l&&l.slidesPerView&&(i=l.slidesPerView)}if("auto"===i)return this.loopedSlides=this.slides.length,this.slides.length;let s=this.loopedSlides||i;return!!s&&(this.loopAdditionalSlides&&(s+=this.loopAdditionalSlides),s>this.slides.length&&(s=this.slides.length),this.loopedSlides=s,!0)}updateParameter(i,s){if(!this.swiperRef||this.swiperRef.destroyed)return;const a=i.replace(/^_/,""),l=Of(this.swiperRef.params[a]);"enabled"!==a?l&&Of(s)?Zc(this.swiperRef.params[a],s):this.swiperRef.params[a]=s:!0===s?this.swiperRef.enable():!1===s&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var i;null===(i=this.swiperRef)||void 0===i||i.destroy(!0,!1)})}}return r.\u0275fac=function(i){return new(i||r)(I(ht),I(We),I(yi),I(id))},r.\u0275cmp=Be({type:r,selectors:[["swiper"],["","swiper",""]],contentQueries:function(i,s,a){if(1&i&&Bn(a,tV,4),2&i){let l;je(l=qe())&&(s.slidesEl=l)}},viewQuery:function(i,s){if(1&i&&(pn(Bhe,5),pn(Lhe,5),pn(Fhe,5),pn(Nhe,5)),2&i){let a;je(a=qe())&&(s.prevElRef=a.first),je(a=qe())&&(s.nextElRef=a.first),je(a=qe())&&(s.scrollbarElRef=a.first),je(a=qe())&&(s.paginationElRef=a.first)}},hostVars:2,hostBindings:function(i,s){2&i&&Ga(s.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},features:[Ri],ngContentSelectors:rfe,decls:13,vars:17,consts:[[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["slidesTemplate",""],[1,"swiper-button-prev"],["prevElRef",""],[1,"swiper-button-next"],["nextElRef",""],[1,"swiper-scrollbar"],["scrollbarElRef",""],[1,"swiper-pagination"],["paginationElRef",""],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){if(1&i&&(Bi(efe),bn(0),K(1,Uhe,5,0,"ng-container",0),K(2,Vhe,2,0,"div",1),K(3,zhe,2,0,"div",2),q(4,"div",3),bn(5,1),K(6,Ghe,1,0,null,4),K(7,$he,1,0,null,4),K(8,jhe,1,0,null,4),bn(9,2),W(),bn(10,3),K(11,Jhe,2,3,"ng-template",null,5,es)),2&i){const a=Oi(12);N(1),B("ngIf",s.navigation&&s.showNavigation),N(1),B("ngIf",s.scrollbar&&s.showScrollbar),N(1),B("ngIf",s.pagination&&s.showPagination),N(1),B("ngClass",s.wrapperClass),nn("id",s.id),N(2),B("ngTemplateOutlet",a)("ngTemplateOutletContext",Cs(11,tfe,s.prependSlides)),N(1),B("ngTemplateOutlet",a)("ngTemplateOutletContext",Cs(13,nfe,s.activeSlides)),N(1),B("ngTemplateOutlet",a)("ngTemplateOutletContext",Cs(15,ife,s.appendSlides))}},dependencies:[Rr,ff,RE,pi,pf,lA,kE,sg],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),r})(),afe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[[fo]]}),r})();function lfe(r,n){if(1&r&&(q(0,"a",11),re(1),W()),2&r){const i=ie(2).$implicit;B("href",i.url,yn),N(1),Ut(i.buttonText)}}const cfe=function(r){return["",r]};function ufe(r,n){if(1&r&&(q(0,"a",12),re(1,"Get Started"),W()),2&r){const i=ie(2).$implicit;B("routerLink",Cs(1,cfe,i.route))}}function dfe(r,n){if(1&r&&(q(0,"div",3)(1,"div",4)(2,"div",5),re(3),W(),q(4,"div",6),re(5),W(),K(6,lfe,2,2,"a",7),K(7,ufe,2,3,"ng-template",null,8,es),W(),q(9,"div",9),pe(10,"img",10),W()()),2&r){const i=Oi(8),s=ie().$implicit;N(3),Ut(s.title),N(2),Ut(s.body),N(1),B("ngIf",s.url)("ngIfElse",i),N(4),B("src",s.image,yn)}}function hfe(r,n){1&r&&K(0,dfe,11,5,"ng-template",2)}qg.use([function The(r){let l,{swiper:n,extendParams:i,on:s,emit:a}=r;function c(){const b=n.slides.eq(n.activeIndex);let y=n.params.autoplay.delay;b.attr("data-swiper-autoplay")&&(y=b.attr("data-swiper-autoplay")||n.params.autoplay.delay),clearTimeout(l),l=cy(()=>{let w;n.params.autoplay.reverseDirection?n.params.loop?(n.loopFix(),w=n.slidePrev(n.params.speed,!0,!0),a("autoplay")):n.isBeginning?n.params.autoplay.stopOnLastSlide?d():(w=n.slideTo(n.slides.length-1,n.params.speed,!0,!0),a("autoplay")):(w=n.slidePrev(n.params.speed,!0,!0),a("autoplay")):n.params.loop?(n.loopFix(),w=n.slideNext(n.params.speed,!0,!0),a("autoplay")):n.isEnd?n.params.autoplay.stopOnLastSlide?d():(w=n.slideTo(0,n.params.speed,!0,!0),a("autoplay")):(w=n.slideNext(n.params.speed,!0,!0),a("autoplay")),(n.params.cssMode&&n.autoplay.running||!1===w)&&c()},y)}function u(){return!(typeof l<"u"||n.autoplay.running||(n.autoplay.running=!0,a("autoplayStart"),c(),0))}function d(){return!(!n.autoplay.running||typeof l>"u"||(l&&(clearTimeout(l),l=void 0),n.autoplay.running=!1,a("autoplayStop"),0))}function h(b){!n.autoplay.running||n.autoplay.paused||(l&&clearTimeout(l),n.autoplay.paused=!0,0!==b&&n.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(y=>{n.$wrapperEl[0].addEventListener(y,p)}):(n.autoplay.paused=!1,c()))}function f(){const b=Gr();"hidden"===b.visibilityState&&n.autoplay.running&&h(),"visible"===b.visibilityState&&n.autoplay.paused&&(c(),n.autoplay.paused=!1)}function p(b){!n||n.destroyed||!n.$wrapperEl||b.target===n.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(y=>{n.$wrapperEl[0].removeEventListener(y,p)}),n.autoplay.paused=!1,n.autoplay.running?c():d())}function m(){n.params.autoplay.disableOnInteraction?d():(a("autoplayPause"),h()),["transitionend","webkitTransitionEnd"].forEach(b=>{n.$wrapperEl[0].removeEventListener(b,p)})}function g(){n.params.autoplay.disableOnInteraction||(n.autoplay.paused=!1,a("autoplayResume"),c())}n.autoplay={running:!1,paused:!1},i({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),s("init",()=>{n.params.autoplay.enabled&&(u(),Gr().addEventListener("visibilitychange",f),function _(){n.params.autoplay.pauseOnMouseEnter&&(n.$el.on("mouseenter",m),n.$el.on("mouseleave",g))}())}),s("beforeTransitionStart",(b,y,w)=>{n.autoplay.running&&(w||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(y):d())}),s("sliderFirstMove",()=>{n.autoplay.running&&(n.params.autoplay.disableOnInteraction?d():h())}),s("touchEnd",()=>{n.params.cssMode&&n.autoplay.paused&&!n.params.autoplay.disableOnInteraction&&c()}),s("destroy",()=>{(function A(){n.$el.off("mouseenter",m),n.$el.off("mouseleave",g)})(),n.autoplay.running&&d(),Gr().removeEventListener("visibilitychange",f)}),Object.assign(n.autoplay,{pause:h,run:c,start:u,stop:d})},function Ihe(r){let{swiper:n,extendParams:i,on:s,emit:a}=r;const l="swiper-pagination";i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:`${l}-bullet`,bulletActiveClass:`${l}-bullet-active`,modifierClass:`${l}-`,currentClass:`${l}-current`,totalClass:`${l}-total`,hiddenClass:`${l}-hidden`,progressbarFillClass:`${l}-progressbar-fill`,progressbarOppositeClass:`${l}-progressbar-opposite`,clickableClass:`${l}-clickable`,lockClass:`${l}-lock`,horizontalClass:`${l}-horizontal`,verticalClass:`${l}-vertical`,paginationDisabledClass:`${l}-disabled`}}),n.pagination={el:null,$el:null,bullets:[]};let c,u=0;function d(){return!n.params.pagination.el||!n.pagination.el||!n.pagination.$el||0===n.pagination.$el.length}function h(b,y){const{bulletActiveClass:w}=n.params.pagination;b[y]().addClass(`${w}-${y}`)[y]().addClass(`${w}-${y}-${y}`)}function f(){const b=n.rtl,y=n.params.pagination;if(d())return;const w=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,v=n.pagination.$el;let C;const M=n.params.loop?Math.ceil((w-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;if(n.params.loop?(C=Math.ceil((n.activeIndex-n.loopedSlides)/n.params.slidesPerGroup),C>w-1-2*n.loopedSlides&&(C-=w-2*n.loopedSlides),C>M-1&&(C-=M),C<0&&"bullets"!==n.params.paginationType&&(C=M+C)):C=typeof n.snapIndex<"u"?n.snapIndex:n.activeIndex||0,"bullets"===y.type&&n.pagination.bullets&&n.pagination.bullets.length>0){const E=n.pagination.bullets;let S,x,D;if(y.dynamicBullets&&(c=E.eq(0)[n.isHorizontal()?"outerWidth":"outerHeight"](!0),v.css(n.isHorizontal()?"width":"height",c*(y.dynamicMainBullets+4)+"px"),y.dynamicMainBullets>1&&void 0!==n.previousIndex&&(u+=C-(n.previousIndex-n.loopedSlides||0),u>y.dynamicMainBullets-1?u=y.dynamicMainBullets-1:u<0&&(u=0)),S=Math.max(C-u,0),x=S+(Math.min(E.length,y.dynamicMainBullets)-1),D=(x+S)/2),E.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${y.bulletActiveClass}${T}`).join(" ")),v.length>1)E.each(T=>{const k=Tn(T),R=k.index();R===C&&k.addClass(y.bulletActiveClass),y.dynamicBullets&&(R>=S&&R<=x&&k.addClass(`${y.bulletActiveClass}-main`),R===S&&h(k,"prev"),R===x&&h(k,"next"))});else{const T=E.eq(C),k=T.index();if(T.addClass(y.bulletActiveClass),y.dynamicBullets){const R=E.eq(S),F=E.eq(x);for(let O=S;O<=x;O+=1)E.eq(O).addClass(`${y.bulletActiveClass}-main`);if(n.params.loop)if(k>=E.length){for(let O=y.dynamicMainBullets;O>=0;O-=1)E.eq(E.length-O).addClass(`${y.bulletActiveClass}-main`);E.eq(E.length-y.dynamicMainBullets-1).addClass(`${y.bulletActiveClass}-prev`)}else h(R,"prev"),h(F,"next");else h(R,"prev"),h(F,"next")}}if(y.dynamicBullets){const T=Math.min(E.length,y.dynamicMainBullets+4),k=(c*T-c)/2-D*c,R=b?"right":"left";E.css(n.isHorizontal()?R:"top",`${k}px`)}}if("fraction"===y.type&&(v.find(Pf(y.currentClass)).text(y.formatFractionCurrent(C+1)),v.find(Pf(y.totalClass)).text(y.formatFractionTotal(M))),"progressbar"===y.type){let E;E=y.progressbarOpposite?n.isHorizontal()?"vertical":"horizontal":n.isHorizontal()?"horizontal":"vertical";const S=(C+1)/M;let x=1,D=1;"horizontal"===E?x=S:D=S,v.find(Pf(y.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${x}) scaleY(${D})`).transition(n.params.speed)}"custom"===y.type&&y.renderCustom?(v.html(y.renderCustom(n,C+1,M)),a("paginationRender",v[0])):a("paginationUpdate",v[0]),n.params.watchOverflow&&n.enabled&&v[n.isLocked?"addClass":"removeClass"](y.lockClass)}function p(){const b=n.params.pagination;if(d())return;const y=n.virtual&&n.params.virtual.enabled?n.virtual.slides.length:n.slides.length,w=n.pagination.$el;let v="";if("bullets"===b.type){let C=n.params.loop?Math.ceil((y-2*n.loopedSlides)/n.params.slidesPerGroup):n.snapGrid.length;n.params.freeMode&&n.params.freeMode.enabled&&!n.params.loop&&C>y&&(C=y);for(let M=0;M<C;M+=1)v+=b.renderBullet?b.renderBullet.call(n,M,b.bulletClass):`<${b.bulletElement} class="${b.bulletClass}"></${b.bulletElement}>`;w.html(v),n.pagination.bullets=w.find(Pf(b.bulletClass))}"fraction"===b.type&&(v=b.renderFraction?b.renderFraction.call(n,b.currentClass,b.totalClass):`<span class="${b.currentClass}"></span> / <span class="${b.totalClass}"></span>`,w.html(v)),"progressbar"===b.type&&(v=b.renderProgressbar?b.renderProgressbar.call(n,b.progressbarFillClass):`<span class="${b.progressbarFillClass}"></span>`,w.html(v)),"custom"!==b.type&&a("paginationRender",n.pagination.$el[0])}function m(){n.params.pagination=KU(n,n.originalParams.pagination,n.params.pagination,{el:"swiper-pagination"});const b=n.params.pagination;if(!b.el)return;let y=Tn(b.el);0!==y.length&&(n.params.uniqueNavElements&&"string"==typeof b.el&&y.length>1&&(y=n.$el.find(b.el),y.length>1&&(y=y.filter(w=>Tn(w).parents(".swiper")[0]===n.el))),"bullets"===b.type&&b.clickable&&y.addClass(b.clickableClass),y.addClass(b.modifierClass+b.type),y.addClass(n.isHorizontal()?b.horizontalClass:b.verticalClass),"bullets"===b.type&&b.dynamicBullets&&(y.addClass(`${b.modifierClass}${b.type}-dynamic`),u=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),"progressbar"===b.type&&b.progressbarOpposite&&y.addClass(b.progressbarOppositeClass),b.clickable&&y.on("click",Pf(b.bulletClass),function(v){v.preventDefault();let C=Tn(this).index()*n.params.slidesPerGroup;n.params.loop&&(C+=n.loopedSlides),n.slideTo(C)}),Object.assign(n.pagination,{$el:y,el:y[0]}),n.enabled||y.addClass(b.lockClass))}function g(){const b=n.params.pagination;if(d())return;const y=n.pagination.$el;y.removeClass(b.hiddenClass),y.removeClass(b.modifierClass+b.type),y.removeClass(n.isHorizontal()?b.horizontalClass:b.verticalClass),n.pagination.bullets&&n.pagination.bullets.removeClass&&n.pagination.bullets.removeClass(b.bulletActiveClass),b.clickable&&y.off("click",Pf(b.bulletClass))}s("init",()=>{!1===n.params.pagination.enabled?A():(m(),p(),f())}),s("activeIndexChange",()=>{(n.params.loop||typeof n.snapIndex>"u")&&f()}),s("snapIndexChange",()=>{n.params.loop||f()}),s("slidesLengthChange",()=>{n.params.loop&&(p(),f())}),s("snapGridLengthChange",()=>{n.params.loop||(p(),f())}),s("destroy",()=>{g()}),s("enable disable",()=>{const{$el:b}=n.pagination;b&&b[n.enabled?"removeClass":"addClass"](n.params.pagination.lockClass)}),s("lock unlock",()=>{f()}),s("click",(b,y)=>{const w=y.target,{$el:v}=n.pagination;if(n.params.pagination.el&&n.params.pagination.hideOnClick&&v&&v.length>0&&!Tn(w).hasClass(n.params.pagination.bulletClass)){if(n.navigation&&(n.navigation.nextEl&&w===n.navigation.nextEl||n.navigation.prevEl&&w===n.navigation.prevEl))return;const C=v.hasClass(n.params.pagination.hiddenClass);a(!0===C?"paginationShow":"paginationHide"),v.toggleClass(n.params.pagination.hiddenClass)}});const A=()=>{n.$el.addClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.addClass(n.params.pagination.paginationDisabledClass),g()};Object.assign(n.pagination,{enable:()=>{n.$el.removeClass(n.params.pagination.paginationDisabledClass),n.pagination.$el&&n.pagination.$el.removeClass(n.params.pagination.paginationDisabledClass),m(),p(),f()},disable:A,render:p,update:f,init:m,destroy:g})},function Dhe(r){let{swiper:n,extendParams:i,on:s,emit:a}=r;function l(_){let A;return _&&(A=Tn(_),n.params.uniqueNavElements&&"string"==typeof _&&A.length>1&&1===n.$el.find(_).length&&(A=n.$el.find(_))),A}function c(_,A){const b=n.params.navigation;_&&_.length>0&&(_[A?"addClass":"removeClass"](b.disabledClass),_[0]&&"BUTTON"===_[0].tagName&&(_[0].disabled=A),n.params.watchOverflow&&n.enabled&&_[n.isLocked?"addClass":"removeClass"](b.lockClass))}function u(){if(n.params.loop)return;const{$nextEl:_,$prevEl:A}=n.navigation;c(A,n.isBeginning&&!n.params.rewind),c(_,n.isEnd&&!n.params.rewind)}function d(_){_.preventDefault(),(!n.isBeginning||n.params.loop||n.params.rewind)&&(n.slidePrev(),a("navigationPrev"))}function h(_){_.preventDefault(),(!n.isEnd||n.params.loop||n.params.rewind)&&(n.slideNext(),a("navigationNext"))}function f(){const _=n.params.navigation;if(n.params.navigation=KU(n,n.originalParams.navigation,n.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!_.nextEl&&!_.prevEl)return;const A=l(_.nextEl),b=l(_.prevEl);A&&A.length>0&&A.on("click",h),b&&b.length>0&&b.on("click",d),Object.assign(n.navigation,{$nextEl:A,nextEl:A&&A[0],$prevEl:b,prevEl:b&&b[0]}),n.enabled||(A&&A.addClass(_.lockClass),b&&b.addClass(_.lockClass))}function p(){const{$nextEl:_,$prevEl:A}=n.navigation;_&&_.length&&(_.off("click",h),_.removeClass(n.params.navigation.disabledClass)),A&&A.length&&(A.off("click",d),A.removeClass(n.params.navigation.disabledClass))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),n.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",()=>{!1===n.params.navigation.enabled?g():(f(),u())}),s("toEdge fromEdge lock unlock",()=>{u()}),s("destroy",()=>{p()}),s("enable disable",()=>{const{$nextEl:_,$prevEl:A}=n.navigation;_&&_[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass),A&&A[n.enabled?"removeClass":"addClass"](n.params.navigation.lockClass)}),s("click",(_,A)=>{const{$nextEl:b,$prevEl:y}=n.navigation,w=A.target;if(n.params.navigation.hideOnClick&&!Tn(w).is(y)&&!Tn(w).is(b)){if(n.pagination&&n.params.pagination&&n.params.pagination.clickable&&(n.pagination.el===w||n.pagination.el.contains(w)))return;let v;b?v=b.hasClass(n.params.navigation.hiddenClass):y&&(v=y.hasClass(n.params.navigation.hiddenClass)),a(!0===v?"navigationShow":"navigationHide"),b&&b.toggleClass(n.params.navigation.hiddenClass),y&&y.toggleClass(n.params.navigation.hiddenClass)}});const g=()=>{n.$el.addClass(n.params.navigation.navigationDisabledClass),p()};Object.assign(n.navigation,{enable:()=>{n.$el.removeClass(n.params.navigation.navigationDisabledClass),f(),u()},disable:g,update:u,init:f,destroy:p})},function Ohe(r){let{swiper:n,extendParams:i,on:s}=r;i({fadeEffect:{crossFade:!1,transformEl:null}}),function khe(r){const{effect:n,swiper:i,on:s,setTranslate:a,setTransition:l,overwriteParams:c,perspective:u,recreateShadows:d,getEffectParams:h}=r;let f;s("beforeInit",()=>{if(i.params.effect!==n)return;i.classNames.push(`${i.params.containerModifierClass}${n}`),u&&u()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const p=c?c():{};Object.assign(i.params,p),Object.assign(i.originalParams,p)}),s("setTranslate",()=>{i.params.effect===n&&a()}),s("setTransition",(p,m)=>{i.params.effect===n&&l(m)}),s("transitionEnd",()=>{if(i.params.effect===n&&d){if(!h||!h().slideShadows)return;i.slides.each(p=>{i.$(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),d()}}),s("virtualUpdate",()=>{i.params.effect===n&&(i.slides.length||(f=!0),requestAnimationFrame(()=>{f&&i.slides&&i.slides.length&&(a(),f=!1)}))})}({effect:"fade",swiper:n,on:s,setTranslate:()=>{const{slides:c}=n,u=n.params.fadeEffect;for(let d=0;d<c.length;d+=1){const h=n.slides.eq(d);let p=-h[0].swiperSlideOffset;n.params.virtualTranslate||(p-=n.translate);let m=0;n.isHorizontal()||(m=p,p=0);const g=n.params.fadeEffect.crossFade?Math.max(1-Math.abs(h[0].progress),0):1+Math.min(Math.max(h[0].progress,-1),0);Rhe(u,h).css({opacity:g}).transform(`translate3d(${p}px, ${m}px, 0px)`)}},setTransition:c=>{const{transformEl:u}=n.params.fadeEffect;(u?n.slides.find(u):n.slides).transition(c),function Phe(r){let{swiper:n,duration:i,transformEl:s,allSlides:a}=r;const{slides:l,activeIndex:c,$wrapperEl:u}=n;if(n.params.virtualTranslate&&0!==i){let h,d=!1;h=a?s?l.find(s):l:s?l.eq(c).find(s):l.eq(c),h.transitionEnd(()=>{if(d||!n||n.destroyed)return;d=!0,n.animating=!1;const f=["webkitTransitionEnd","transitionend"];for(let p=0;p<f.length;p+=1)u.trigger(f[p])})}}({swiper:n,duration:c,transformEl:u,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!n.params.cssMode})})}]);let ffe=(()=>{class r{constructor(){this.carouselInfo=[],this.buttonRoute=new ne,this.config={autoplay:{delay:1e14,disableOnInteraction:!1},effect:"fade",fadeEffect:{crossFade:!0},navigation:!0,pagination:{enabled:!0,clickable:!0},resizeObserver:!1,rewind:!0}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-carousel"]],inputs:{carouselInfo:"carouselInfo"},outputs:{buttonRoute:"buttonRoute"},decls:2,vars:2,consts:[[1,"carousel",3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"slide"],[1,"slide-info"],[1,"content-titles"],[1,"content-body"],["mat-stroked-button","","class","get-button","target","_blank",3,"href",4,"ngIf","ngIfElse"],["route",""],[1,"slide-image"],[3,"src"],["mat-stroked-button","","target","_blank",1,"get-button",3,"href"],["mat-stroked-button","",1,"get-button",3,"routerLink"]],template:function(i,s){1&i&&(q(0,"swiper",0),K(1,hfe,1,0,null,1),W()),2&i&&(B("config",s.config),N(1),B("ngForOf",s.carouselInfo))},dependencies:[ofe,tV,$c,md,pi,Rr],styles:['@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA) format("woff");font-weight:400;font-style:normal}:root{--swiper-theme-color: #007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-cube-shadow{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-fade.swiper-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-fade .swiper-slide-active,.swiper-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}:root{--swiper-navigation-size: 44px}.swiper-button-prev,.swiper-button-next{position:absolute;top:50%;width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size) / 2);z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-prev.swiper-button-disabled,.swiper-button-next.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev.swiper-button-hidden,.swiper-button-next.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-prev,.swiper-navigation-disabled .swiper-button-next{display:none!important}.swiper-button-prev:after,.swiper-button-next:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-feature-settings:;font-variant:initial;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-pagination-fraction,.swiper-pagination-custom,.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-vertical>.swiper-pagination-bullets,.swiper-pagination-vertical.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-vertical>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.mat-badge-content{font-weight:600;font-size:12px;font-family:Inter,sans-serif}.mat-badge-small .mat-badge-content{font-size:9px}.mat-badge-large .mat-badge-content{font-size:24px}.mat-h1,.mat-headline,.mat-typography .mat-h1,.mat-typography .mat-headline,.mat-typography h1{font:400 24px/32px Inter,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-title,.mat-typography .mat-h2,.mat-typography .mat-title,.mat-typography h2{font:500 20px/32px Inter,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h3,.mat-subheading-2,.mat-typography .mat-h3,.mat-typography .mat-subheading-2,.mat-typography h3{font:400 16px/28px Inter,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h4,.mat-subheading-1,.mat-typography .mat-h4,.mat-typography .mat-subheading-1,.mat-typography h4{font:400 15px/24px Inter,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h5,.mat-typography .mat-h5,.mat-typography h5{font:400 11.62px/20px Inter,sans-serif;margin:0 0 12px}.mat-h6,.mat-typography .mat-h6,.mat-typography h6{font:400 9.38px/20px Inter,sans-serif;margin:0 0 12px}.mat-body-strong,.mat-body-2,.mat-typography .mat-body-strong,.mat-typography .mat-body-2{font:500 14px/24px Inter,sans-serif;letter-spacing:normal}.mat-body,.mat-body-1,.mat-typography .mat-body,.mat-typography .mat-body-1,.mat-typography{font:400 14px/20px Inter,sans-serif;letter-spacing:normal}.mat-body p,.mat-body-1 p,.mat-typography .mat-body p,.mat-typography .mat-body-1 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption,.mat-typography .mat-small,.mat-typography .mat-caption{font:400 12px/20px Inter,sans-serif;letter-spacing:normal}.mat-display-4,.mat-typography .mat-display-4{font:300 112px/112px Inter,sans-serif;letter-spacing:-.05em;margin:0 0 56px}.mat-display-3,.mat-typography .mat-display-3{font:400 56px/56px Inter,sans-serif;letter-spacing:-.02em;margin:0 0 64px}.mat-display-2,.mat-typography .mat-display-2{font:400 45px/48px Inter,sans-serif;letter-spacing:-.005em;margin:0 0 64px}.mat-display-1,.mat-typography .mat-display-1{font:400 34px/40px Inter,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-bottom-sheet-container{font:400 14px/20px Inter,sans-serif;letter-spacing:normal}.mat-button,.mat-raised-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button,.mat-fab,.mat-mini-fab{font-family:Inter,sans-serif;font-size:14px;font-weight:500}.mat-button-toggle,.mat-card{font-family:Inter,sans-serif}.mat-card-title{font-size:24px;font-weight:500}.mat-card-header .mat-card-title{font-size:20px}.mat-card-subtitle,.mat-card-content{font-size:14px}.mat-checkbox{font-family:Inter,sans-serif}.mat-checkbox-layout .mat-checkbox-label{line-height:24px}.mat-chip{font-size:14px;font-weight:500}.mat-chip .mat-chip-trailing-icon.mat-icon,.mat-chip .mat-chip-remove.mat-icon{font-size:18px}.mat-table{font-family:Inter,sans-serif}.mat-header-cell{font-size:12px;font-weight:500}.mat-cell,.mat-footer-cell{font-size:14px}.mat-calendar{font-family:Inter,sans-serif}.mat-calendar-body{font-size:13px}.mat-calendar-body-label,.mat-calendar-period-button{font-size:14px;font-weight:500}.mat-calendar-table-header th{font-size:11px;font-weight:400}.mat-dialog-title{font:500 20px/32px Inter,sans-serif;letter-spacing:normal}.mat-expansion-panel-header{font-family:Inter,sans-serif;font-size:15px;font-weight:400}.mat-expansion-panel-content{font:400 14px/20px Inter,sans-serif;letter-spacing:normal}.mat-form-field{font-size:inherit;font-weight:400;line-height:1.125;font-family:Inter,sans-serif;letter-spacing:normal}.mat-form-field-wrapper{padding-bottom:1.34375em}.mat-form-field-prefix .mat-icon,.mat-form-field-suffix .mat-icon{font-size:150%;line-height:1.125}.mat-form-field-prefix .mat-icon-button,.mat-form-field-suffix .mat-icon-button{height:1.5em;width:1.5em}.mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-suffix .mat-icon-button .mat-icon{height:1.125em;line-height:1.125}.mat-form-field-infix{padding:.5em 0;border-top:.84375em solid transparent}.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34375em) scale(.75);width:133.3333333333%}.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.34374em) scale(.75);width:133.3333433333%}.mat-form-field-label-wrapper{top:-.84375em;padding-top:.84375em}.mat-form-field-label{top:1.34375em}.mat-form-field-underline{bottom:1.34375em}.mat-form-field-subscript-wrapper{font-size:75%;margin-top:.6666666667em;top:calc(100% - 1.7916666667em)}.mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-infix{padding:.4375em 0}.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.001px);width:133.3333333333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00101px);width:133.3333433333%}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28125em) scale(.75) perspective(100px) translateZ(.00102px);width:133.3333533333%}.mat-form-field-appearance-legacy .mat-form-field-label{top:1.28125em}.mat-form-field-appearance-legacy .mat-form-field-underline{bottom:1.25em}.mat-form-field-appearance-legacy .mat-form-field-subscript-wrapper{margin-top:.5416666667em;top:calc(100% - 1.6666666667em)}@media print{.mat-form-field-appearance-legacy.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28122em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.28121em) scale(.75)}.mat-form-field-appearance-legacy.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.2812em) scale(.75)}}.mat-form-field-appearance-fill .mat-form-field-infix{padding:.25em 0 .75em}.mat-form-field-appearance-fill .mat-form-field-label{top:1.09375em;margin-top:-.5em}.mat-form-field-appearance-fill.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-fill.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-.59374em) scale(.75);width:133.3333433333%}.mat-form-field-appearance-outline .mat-form-field-infix{padding:1em 0}.mat-form-field-appearance-outline .mat-form-field-label{top:1.84375em;margin-top:-.25em}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label,.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59375em) scale(.75);width:133.3333333333%}.mat-form-field-appearance-outline.mat-form-field-can-float .mat-input-server[label]:not(:label-shown)+.mat-form-field-label-wrapper .mat-form-field-label{transform:translateY(-1.59374em) scale(.75);width:133.3333433333%}.mat-grid-tile-header,.mat-grid-tile-footer{font-size:14px}.mat-grid-tile-header .mat-line,.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2),.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:12px}input.mat-input-element{margin-top:-.0625em}.mat-menu-item{font-family:Inter,sans-serif;font-size:14px;font-weight:400}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{font-family:Inter,sans-serif;font-size:12px}.mat-radio-button,.mat-select{font-family:Inter,sans-serif}.mat-select-trigger{height:1.125em}.mat-slide-toggle-content{font-family:Inter,sans-serif}.mat-slider-thumb-label-text{font-family:Inter,sans-serif;font-size:12px;font-weight:500}.mat-stepper-vertical,.mat-stepper-horizontal{font-family:Inter,sans-serif}.mat-step-label{font-size:14px;font-weight:400}.mat-step-sub-label-error{font-weight:400}.mat-step-label-error{font-size:14px}.mat-step-label-selected{font-size:14px;font-weight:500}.mat-tab-group{font-family:Inter,sans-serif}.mat-tab-label,.mat-tab-link{font-family:Inter,sans-serif;font-size:14px;font-weight:500}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font:500 20px/32px Inter,sans-serif;letter-spacing:normal;margin:0}.mat-tooltip{font-family:Inter,sans-serif;font-size:10px;padding-top:6px;padding-bottom:6px}.mat-tooltip-handset{font-size:14px;padding-top:8px;padding-bottom:8px}.mat-list-item,.mat-list-option{font-family:Inter,sans-serif}.mat-list-base .mat-list-item{font-size:16px}.mat-list-base .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-item .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-list-option{font-size:16px}.mat-list-base .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base .mat-list-option .mat-line:nth-child(n+2){font-size:14px}.mat-list-base .mat-subheader{font-family:Inter,sans-serif;font-size:14px;font-weight:500}.mat-list-base[dense] .mat-list-item{font-size:12px}.mat-list-base[dense] .mat-list-item .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-item .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-list-option{font-size:12px}.mat-list-base[dense] .mat-list-option .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-list-base[dense] .mat-list-option .mat-line:nth-child(n+2){font-size:12px}.mat-list-base[dense] .mat-subheader{font-family:Inter,sans-serif;font-size:12px;font-weight:500}.mat-option{font-family:Inter,sans-serif;font-size:16px}.mat-optgroup-label{font:500 14px/24px Inter,sans-serif;letter-spacing:normal}.mat-simple-snackbar{font-family:Inter,sans-serif;font-size:14px}.mat-simple-snackbar-action{line-height:1;font-family:inherit;font-size:inherit;font-weight:500}.mat-tree{font-family:Inter,sans-serif}.mat-tree-node,.mat-nested-tree-node{font-weight:400;font-size:14px}.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0,0,.2,1);transform:scale3d(0,0,0)}.cdk-high-contrast-active .mat-ripple-element{display:none}.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed;z-index:1000}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute;z-index:1000}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;z-index:1000;display:flex;max-width:100%;max-height:100%}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1000;pointer-events:auto;-webkit-tap-highlight-color:transparent;transition:opacity .4s cubic-bezier(.25,.8,.25,1);opacity:0}.cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:1}.cdk-high-contrast-active .cdk-overlay-backdrop.cdk-overlay-backdrop-showing{opacity:.6}.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;z-index:1000;display:flex;flex-direction:column;min-width:1px;min-height:1px}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0!important;box-sizing:content-box!important;height:auto!important;overflow:hidden!important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0!important;box-sizing:content-box!important;height:0!important}@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}.mat-focus-indicator,.mat-mdc-focus-indicator{position:relative}.mat-ripple-element{background-color:#0000001a}.mat-option{color:#000000de}.mat-option:hover:not(.mat-option-disabled),.mat-option:focus:not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-selected:not(.mat-option-multiple):not(.mat-option-disabled){background:rgba(0,0,0,.04)}.mat-option.mat-active{background:rgba(0,0,0,.04);color:#000000de}.mat-option.mat-option-disabled{color:#00000061}.mat-primary .mat-option.mat-selected:not(.mat-option-disabled){color:#444c65}.mat-accent .mat-option.mat-selected:not(.mat-option-disabled){color:#444c65}.mat-warn .mat-option.mat-selected:not(.mat-option-disabled){color:#f44336}.mat-optgroup-label{color:#0000008a}.mat-optgroup-disabled .mat-optgroup-label{color:#00000061}.mat-pseudo-checkbox{color:#0000008a}.mat-pseudo-checkbox:after{color:#fafafa}.mat-pseudo-checkbox-disabled{color:#b0b0b0}.mat-primary .mat-pseudo-checkbox-checked,.mat-primary .mat-pseudo-checkbox-indeterminate,.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-indeterminate,.mat-accent .mat-pseudo-checkbox-checked,.mat-accent .mat-pseudo-checkbox-indeterminate{background:#444c65}.mat-warn .mat-pseudo-checkbox-checked,.mat-warn .mat-pseudo-checkbox-indeterminate{background:#f44336}.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background:#b0b0b0}.mat-app-background{background-color:#fafafa;color:#000000de}.mat-elevation-z0{box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-elevation-z1{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-elevation-z2{box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-elevation-z3{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-elevation-z4{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-elevation-z5{box-shadow:0 3px 5px -1px #0003,0 5px 8px #00000024,0 1px 14px #0000001f}.mat-elevation-z6{box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-elevation-z7{box-shadow:0 4px 5px -2px #0003,0 7px 10px 1px #00000024,0 2px 16px 1px #0000001f}.mat-elevation-z8{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-elevation-z9{box-shadow:0 5px 6px -3px #0003,0 9px 12px 1px #00000024,0 3px 16px 2px #0000001f}.mat-elevation-z10{box-shadow:0 6px 6px -3px #0003,0 10px 14px 1px #00000024,0 4px 18px 3px #0000001f}.mat-elevation-z11{box-shadow:0 6px 7px -4px #0003,0 11px 15px 1px #00000024,0 4px 20px 3px #0000001f}.mat-elevation-z12{box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-elevation-z13{box-shadow:0 7px 8px -4px #0003,0 13px 19px 2px #00000024,0 5px 24px 4px #0000001f}.mat-elevation-z14{box-shadow:0 7px 9px -4px #0003,0 14px 21px 2px #00000024,0 5px 26px 4px #0000001f}.mat-elevation-z15{box-shadow:0 8px 9px -5px #0003,0 15px 22px 2px #00000024,0 6px 28px 5px #0000001f}.mat-elevation-z16{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-elevation-z17{box-shadow:0 8px 11px -5px #0003,0 17px 26px 2px #00000024,0 6px 32px 5px #0000001f}.mat-elevation-z18{box-shadow:0 9px 11px -5px #0003,0 18px 28px 2px #00000024,0 7px 34px 6px #0000001f}.mat-elevation-z19{box-shadow:0 9px 12px -6px #0003,0 19px 29px 2px #00000024,0 7px 36px 6px #0000001f}.mat-elevation-z20{box-shadow:0 10px 13px -6px #0003,0 20px 31px 3px #00000024,0 8px 38px 7px #0000001f}.mat-elevation-z21{box-shadow:0 10px 13px -6px #0003,0 21px 33px 3px #00000024,0 8px 40px 7px #0000001f}.mat-elevation-z22{box-shadow:0 10px 14px -6px #0003,0 22px 35px 3px #00000024,0 8px 42px 7px #0000001f}.mat-elevation-z23{box-shadow:0 11px 14px -7px #0003,0 23px 36px 3px #00000024,0 9px 44px 8px #0000001f}.mat-elevation-z24{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-theme-loaded-marker{display:none}.mat-autocomplete-panel{background:white;color:#000000de}.mat-autocomplete-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover){background:white}.mat-autocomplete-panel .mat-option.mat-selected:not(.mat-active):not(:hover):not(.mat-option-disabled){color:#000000de}.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-hidden .mat-badge-content{display:none}.mat-badge-content{position:absolute;text-align:center;display:inline-block;border-radius:50%;transition:transform .2s ease-in-out;transform:scale(.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:16px;height:16px;line-height:16px}.mat-badge-small.mat-badge-above .mat-badge-content{top:-8px}.mat-badge-small.mat-badge-below .mat-badge-content{bottom:-8px}.mat-badge-small.mat-badge-before .mat-badge-content{left:-16px}[dir=rtl] .mat-badge-small.mat-badge-before .mat-badge-content{left:auto;right:-16px}.mat-badge-small.mat-badge-after .mat-badge-content{right:-16px}[dir=rtl] .mat-badge-small.mat-badge-after .mat-badge-content{right:auto;left:-16px}.mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-8px}.mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-8px}[dir=rtl] .mat-badge-small.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-8px}.mat-badge-medium .mat-badge-content{width:22px;height:22px;line-height:22px}.mat-badge-medium.mat-badge-above .mat-badge-content{top:-11px}.mat-badge-medium.mat-badge-below .mat-badge-content{bottom:-11px}.mat-badge-medium.mat-badge-before .mat-badge-content{left:-22px}[dir=rtl] .mat-badge-medium.mat-badge-before .mat-badge-content{left:auto;right:-22px}.mat-badge-medium.mat-badge-after .mat-badge-content{right:-22px}[dir=rtl] .mat-badge-medium.mat-badge-after .mat-badge-content{right:auto;left:-22px}.mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-11px}.mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-11px}[dir=rtl] .mat-badge-medium.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-11px}.mat-badge-large .mat-badge-content{width:28px;height:28px;line-height:28px}.mat-badge-large.mat-badge-above .mat-badge-content{top:-14px}.mat-badge-large.mat-badge-below .mat-badge-content{bottom:-14px}.mat-badge-large.mat-badge-before .mat-badge-content{left:-28px}[dir=rtl] .mat-badge-large.mat-badge-before .mat-badge-content{left:auto;right:-28px}.mat-badge-large.mat-badge-after .mat-badge-content{right:-28px}[dir=rtl] .mat-badge-large.mat-badge-after .mat-badge-content{right:auto;left:-28px}.mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-before .mat-badge-content{left:auto;right:-14px}.mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:-14px}[dir=rtl] .mat-badge-large.mat-badge-overlap.mat-badge-after .mat-badge-content{right:auto;left:-14px}.mat-badge-content{color:#fff;background:#444c65}.cdk-high-contrast-active .mat-badge-content{outline:solid 1px;border-radius:0}.mat-badge-accent .mat-badge-content{background:#444c65;color:#fff}.mat-badge-warn .mat-badge-content{color:#fff;background:#f44336}.mat-badge-disabled .mat-badge-content{background:#b9b9b9;color:#00000061}.mat-bottom-sheet-container{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background:white;color:#000000de}.mat-button,.mat-icon-button,.mat-stroked-button{color:inherit;background:transparent}.mat-button.mat-primary,.mat-icon-button.mat-primary,.mat-stroked-button.mat-primary,.mat-button.mat-accent,.mat-icon-button.mat-accent,.mat-stroked-button.mat-accent{color:#444c65}.mat-button.mat-warn,.mat-icon-button.mat-warn,.mat-stroked-button.mat-warn{color:#f44336}.mat-button.mat-primary.mat-button-disabled,.mat-button.mat-accent.mat-button-disabled,.mat-button.mat-warn.mat-button-disabled,.mat-button.mat-button-disabled.mat-button-disabled,.mat-icon-button.mat-primary.mat-button-disabled,.mat-icon-button.mat-accent.mat-button-disabled,.mat-icon-button.mat-warn.mat-button-disabled,.mat-icon-button.mat-button-disabled.mat-button-disabled,.mat-stroked-button.mat-primary.mat-button-disabled,.mat-stroked-button.mat-accent.mat-button-disabled,.mat-stroked-button.mat-warn.mat-button-disabled,.mat-stroked-button.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-button.mat-primary .mat-button-focus-overlay,.mat-icon-button.mat-primary .mat-button-focus-overlay,.mat-stroked-button.mat-primary .mat-button-focus-overlay,.mat-button.mat-accent .mat-button-focus-overlay,.mat-icon-button.mat-accent .mat-button-focus-overlay,.mat-stroked-button.mat-accent .mat-button-focus-overlay{background-color:#444c65}.mat-button.mat-warn .mat-button-focus-overlay,.mat-icon-button.mat-warn .mat-button-focus-overlay,.mat-stroked-button.mat-warn .mat-button-focus-overlay{background-color:#f44336}.mat-button.mat-button-disabled .mat-button-focus-overlay,.mat-icon-button.mat-button-disabled .mat-button-focus-overlay,.mat-stroked-button.mat-button-disabled .mat-button-focus-overlay{background-color:transparent}.mat-button .mat-ripple-element,.mat-icon-button .mat-ripple-element,.mat-stroked-button .mat-ripple-element{opacity:.1;background-color:currentColor}.mat-button-focus-overlay{background:black}.mat-stroked-button:not(.mat-button-disabled){border-color:#0000001f}.mat-flat-button,.mat-raised-button,.mat-fab,.mat-mini-fab{color:#000000de;background-color:#fff}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary,.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent,.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{color:#fff}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{color:#00000042}.mat-flat-button.mat-primary,.mat-raised-button.mat-primary,.mat-fab.mat-primary,.mat-mini-fab.mat-primary,.mat-flat-button.mat-accent,.mat-raised-button.mat-accent,.mat-fab.mat-accent,.mat-mini-fab.mat-accent{background-color:#444c65}.mat-flat-button.mat-warn,.mat-raised-button.mat-warn,.mat-fab.mat-warn,.mat-mini-fab.mat-warn{background-color:#f44336}.mat-flat-button.mat-primary.mat-button-disabled,.mat-flat-button.mat-accent.mat-button-disabled,.mat-flat-button.mat-warn.mat-button-disabled,.mat-flat-button.mat-button-disabled.mat-button-disabled,.mat-raised-button.mat-primary.mat-button-disabled,.mat-raised-button.mat-accent.mat-button-disabled,.mat-raised-button.mat-warn.mat-button-disabled,.mat-raised-button.mat-button-disabled.mat-button-disabled,.mat-fab.mat-primary.mat-button-disabled,.mat-fab.mat-accent.mat-button-disabled,.mat-fab.mat-warn.mat-button-disabled,.mat-fab.mat-button-disabled.mat-button-disabled,.mat-mini-fab.mat-primary.mat-button-disabled,.mat-mini-fab.mat-accent.mat-button-disabled,.mat-mini-fab.mat-warn.mat-button-disabled,.mat-mini-fab.mat-button-disabled.mat-button-disabled{background-color:#0000001f}.mat-flat-button.mat-primary .mat-ripple-element,.mat-raised-button.mat-primary .mat-ripple-element,.mat-fab.mat-primary .mat-ripple-element,.mat-mini-fab.mat-primary .mat-ripple-element,.mat-flat-button.mat-accent .mat-ripple-element,.mat-raised-button.mat-accent .mat-ripple-element,.mat-fab.mat-accent .mat-ripple-element,.mat-mini-fab.mat-accent .mat-ripple-element,.mat-flat-button.mat-warn .mat-ripple-element,.mat-raised-button.mat-warn .mat-ripple-element,.mat-fab.mat-warn .mat-ripple-element,.mat-mini-fab.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-stroked-button:not([class*=mat-elevation-z]),.mat-flat-button:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-raised-button:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-raised-button:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.mat-raised-button.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-fab:not([class*=mat-elevation-z]),.mat-mini-fab:not([class*=mat-elevation-z]){box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]),.mat-mini-fab:not(.mat-button-disabled):active:not([class*=mat-elevation-z]){box-shadow:0 7px 8px -4px #0003,0 12px 17px 2px #00000024,0 5px 22px 4px #0000001f}.mat-fab.mat-button-disabled:not([class*=mat-elevation-z]),.mat-mini-fab.mat-button-disabled:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.mat-button-toggle{color:#00000061}.mat-button-toggle .mat-button-toggle-focus-overlay{background-color:#0000001f}.mat-button-toggle-appearance-standard{color:#000000de;background:white}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:#000}.mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:solid 1px #e0e0e0}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:solid 1px #e0e0e0}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle+.mat-button-toggle{border-left:none;border-right:none;border-top:solid 1px #e0e0e0}.mat-button-toggle-checked{background-color:#e0e0e0;color:#0000008a}.mat-button-toggle-checked.mat-button-toggle-appearance-standard{color:#000000de}.mat-button-toggle-disabled{color:#00000042;background-color:#eee}.mat-button-toggle-disabled.mat-button-toggle-appearance-standard{background:white}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:#bdbdbd}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border:solid 1px #e0e0e0}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:48px}.mat-card{background:white;color:#000000de}.mat-card:not([class*=mat-elevation-z]){box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f}.mat-card.mat-card-flat:not([class*=mat-elevation-z]){box-shadow:0 0 #0003,0 0 #00000024,0 0 #0000001f}.mat-card-subtitle{color:#0000008a}.mat-checkbox-frame{border-color:#0000008a}.mat-checkbox-checkmark{fill:#fafafa}.mat-checkbox-checkmark-path{stroke:#fafafa!important}.mat-checkbox-mixedmark{background-color:#fafafa}.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background,.mat-checkbox-checked.mat-primary .mat-checkbox-background,.mat-checkbox-indeterminate.mat-accent .mat-checkbox-background,.mat-checkbox-checked.mat-accent .mat-checkbox-background{background-color:#444c65}.mat-checkbox-indeterminate.mat-warn .mat-checkbox-background,.mat-checkbox-checked.mat-warn .mat-checkbox-background{background-color:#f44336}.mat-checkbox-disabled.mat-checkbox-checked .mat-checkbox-background,.mat-checkbox-disabled.mat-checkbox-indeterminate .mat-checkbox-background{background-color:#b0b0b0}.mat-checkbox-disabled:not(.mat-checkbox-checked) .mat-checkbox-frame{border-color:#b0b0b0}.mat-checkbox-disabled .mat-checkbox-label{color:#00000061}.mat-checkbox .mat-ripple-element{background-color:#000}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-primary .mat-ripple-element{background:#444c65}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-accent .mat-ripple-element{background:#444c65}.mat-checkbox-checked:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element,.mat-checkbox:active:not(.mat-checkbox-disabled).mat-warn .mat-ripple-element{background:#f44336}.mat-chip.mat-standard-chip{background-color:#e0e0e0;color:#000000de}.mat-chip.mat-standard-chip .mat-chip-remove{color:#000000de;opacity:.4}.mat-chip.mat-standard-chip:not(.mat-chip-disabled):active{box-shadow:0 3px 3px -2px #0003,0 3px 4px #00000024,0 1px 8px #0000001f}.mat-chip.mat-standard-chip:not(.mat-chip-disabled) .mat-chip-remove:hover{opacity:.54}.mat-chip.mat-standard-chip.mat-chip-disabled{opacity:.4}.mat-chip.mat-standard-chip:after{background:black}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary{background-color:#444c65;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-primary .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn{background-color:#f44336;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-warn .mat-ripple-element{background-color:#ffffff1a}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent{background-color:#444c65;color:#fff}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-chip-remove{color:#fff;opacity:.4}.mat-chip.mat-standard-chip.mat-chip-selected.mat-accent .mat-ripple-element{background-color:#ffffff1a}.mat-table{background:white}.mat-table thead,.mat-table tbody,.mat-table tfoot,mat-header-row,mat-row,mat-footer-row,[mat-header-row],[mat-row],[mat-footer-row],.mat-table-sticky{background:inherit}mat-row,mat-header-row,mat-footer-row,th.mat-header-cell,td.mat-cell,td.mat-footer-cell{border-bottom-color:#0000001f}.mat-header-cell{color:#0000008a}.mat-cell,.mat-footer-cell{color:#000000de}.mat-calendar-arrow{fill:#0000008a}.mat-datepicker-toggle,.mat-datepicker-content .mat-calendar-next-button,.mat-datepicker-content .mat-calendar-previous-button{color:#0000008a}.mat-calendar-table-header-divider:after{background:rgba(0,0,0,.12)}.mat-calendar-table-header,.mat-calendar-body-label{color:#0000008a}.mat-calendar-body-cell-content,.mat-date-range-input-separator{color:#000000de;border-color:transparent}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:#00000061}.mat-form-field-disabled .mat-date-range-input-separator{color:#00000061}.mat-calendar-body-in-preview{color:#0000003d}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#00000061}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:#0000002e}.mat-calendar-body-in-range:before{background:rgba(68,76,101,.2)}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-calendar-body-comparison-bridge-start:before,[dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(68,76,101,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-comparison-bridge-end:before,[dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(68,76,101,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-calendar-body-selected{background-color:#444c65;color:#fff}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#444c6566}.mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#444c654d}@media (hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#444c654d}}.mat-datepicker-content{box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;background-color:#fff;color:#000000de}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range:before{background:rgba(68,76,101,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(68,76,101,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-accent [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(68,76,101,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-accent .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-accent .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-accent .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-accent .mat-calendar-body-selected{background-color:#444c65;color:#fff}.mat-datepicker-content.mat-accent .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#444c6566}.mat-datepicker-content.mat-accent .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-accent .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-accent .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#444c654d}@media (hover: hover){.mat-datepicker-content.mat-accent .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#444c654d}}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range:before{background:rgba(244,67,54,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range:before{background:rgba(249,171,0,.2)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-start:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-end:before{background:linear-gradient(to right,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-bridge-end:before,.mat-datepicker-content.mat-warn [dir=rtl] .mat-calendar-body-comparison-bridge-start:before{background:linear-gradient(to left,rgba(244,67,54,.2) 50%,rgba(249,171,0,.2) 50%)}.mat-datepicker-content.mat-warn .mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range.mat-calendar-body-in-range:after{background:#a8dab5}.mat-datepicker-content.mat-warn .mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-datepicker-content.mat-warn .mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:#46a35e}.mat-datepicker-content.mat-warn .mat-calendar-body-selected{background-color:#f44336;color:#fff}.mat-datepicker-content.mat-warn .mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:#f4433666}.mat-datepicker-content.mat-warn .mat-calendar-body-today.mat-calendar-body-selected{box-shadow:inset 0 0 0 1px #fff}.mat-datepicker-content.mat-warn .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.mat-datepicker-content.mat-warn .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}@media (hover: hover){.mat-datepicker-content.mat-warn .mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:#f443364d}}.mat-datepicker-content-touch{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}.mat-datepicker-toggle-active,.mat-datepicker-toggle-active.mat-accent{color:#444c65}.mat-datepicker-toggle-active.mat-warn{color:#f44336}.mat-date-range-input-inner[disabled]{color:#00000061}.mat-dialog-container{box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f;background:white;color:#000000de}.mat-divider{border-top-color:#0000001f}.mat-divider-vertical{border-right-color:#0000001f}.mat-expansion-panel{background:white;color:#000000de}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f}.mat-action-row{border-top-color:#0000001f}.mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true]),.mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true]),.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true]){background:rgba(0,0,0,.04)}@media (hover: none){.mat-expansion-panel:not(.mat-expanded):not([aria-disabled=true]) .mat-expansion-panel-header:hover{background:white}}.mat-expansion-panel-header-title{color:#000000de}.mat-expansion-panel-header-description,.mat-expansion-indicator:after{color:#0000008a}.mat-expansion-panel-header[aria-disabled=true]{color:#00000042}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header{height:48px}.mat-expansion-panel-header.mat-expanded{height:64px}.mat-form-field-label,.mat-hint{color:#0009}.mat-form-field.mat-focused .mat-form-field-label,.mat-form-field.mat-focused .mat-form-field-label.mat-accent{color:#444c65}.mat-form-field.mat-focused .mat-form-field-label.mat-warn{color:#f44336}.mat-focused .mat-form-field-required-marker{color:#444c65}.mat-form-field-ripple{background-color:#000000de}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-focused .mat-form-field-ripple.mat-accent{background-color:#444c65}.mat-form-field.mat-focused .mat-form-field-ripple.mat-warn{background-color:#f44336}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid) .mat-form-field-infix:after{color:#444c65}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-accent .mat-form-field-infix:after{color:#444c65}.mat-form-field-type-mat-native-select.mat-focused:not(.mat-form-field-invalid).mat-warn .mat-form-field-infix:after{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-label,.mat-form-field.mat-form-field-invalid .mat-form-field-label.mat-accent,.mat-form-field.mat-form-field-invalid .mat-form-field-label .mat-form-field-required-marker{color:#f44336}.mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple.mat-accent{background-color:#f44336}.mat-error{color:#f44336}.mat-form-field-appearance-legacy .mat-form-field-label,.mat-form-field-appearance-legacy .mat-hint{color:#0000008a}.mat-form-field-appearance-legacy .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-standard .mat-form-field-underline{background-color:#0000006b}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-image:linear-gradient(to right,rgba(0,0,0,.42) 0%,rgba(0,0,0,.42) 33%,transparent 0%);background-size:4px 100%;background-repeat:repeat-x}.mat-form-field-appearance-fill .mat-form-field-flex{background-color:#0000000a}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{background-color:#00000005}.mat-form-field-appearance-fill .mat-form-field-underline:before{background-color:#0000006b}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-underline:before{background-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline{color:#0000001f}.mat-form-field-appearance-outline .mat-form-field-outline-thick{color:#000000de}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-focused.mat-accent .mat-form-field-outline-thick{color:#444c65}.mat-form-field-appearance-outline.mat-focused.mat-warn .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid.mat-form-field-invalid .mat-form-field-outline-thick{color:#f44336}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-label{color:#00000061}.mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:#0000000f}.mat-icon.mat-primary,.mat-icon.mat-accent{color:#444c65}.mat-icon.mat-warn{color:#f44336}.mat-form-field-type-mat-native-select .mat-form-field-infix:after{color:#0000008a}.mat-input-element:disabled,.mat-form-field-type-mat-native-select.mat-form-field-disabled .mat-form-field-infix:after{color:#00000061}.mat-input-element{caret-color:#444c65}.mat-input-element::placeholder{color:#0000006b}.mat-input-element::-moz-placeholder{color:#0000006b}.mat-input-element::-webkit-input-placeholder{color:#0000006b}.mat-input-element:-ms-input-placeholder{color:#0000006b}.mat-form-field.mat-accent .mat-input-element{caret-color:#444c65}.mat-form-field.mat-warn .mat-input-element,.mat-form-field-invalid .mat-input-element{caret-color:#f44336}.mat-form-field-type-mat-native-select.mat-form-field-invalid .mat-form-field-infix:after{color:#f44336}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{color:#000000de}.mat-list-base .mat-subheader{color:#0000008a}.mat-list-base .mat-list-item-disabled{background-color:#eee;color:#00000061}.mat-list-option:hover,.mat-list-option:focus,.mat-nav-list .mat-list-item:hover,.mat-nav-list .mat-list-item:focus,.mat-action-list .mat-list-item:hover,.mat-action-list .mat-list-item:focus{background:rgba(0,0,0,.04)}.mat-list-single-selected-option,.mat-list-single-selected-option:hover,.mat-list-single-selected-option:focus{background:rgba(0,0,0,.12)}.mat-menu-panel{background:white}.mat-menu-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-menu-item{background:transparent;color:#000000de}.mat-menu-item[disabled],.mat-menu-item[disabled] .mat-menu-submenu-icon,.mat-menu-item[disabled] .mat-icon-no-color{color:#00000061}.mat-menu-item .mat-icon-no-color,.mat-menu-submenu-icon{color:#0000008a}.mat-menu-item:hover:not([disabled]),.mat-menu-item.cdk-program-focused:not([disabled]),.mat-menu-item.cdk-keyboard-focused:not([disabled]),.mat-menu-item-highlighted:not([disabled]){background:rgba(0,0,0,.04)}.mat-paginator{background:white}.mat-paginator,.mat-paginator-page-size .mat-select-trigger{color:#0000008a}.mat-paginator-decrement,.mat-paginator-increment{border-top:2px solid rgba(0,0,0,.54);border-right:2px solid rgba(0,0,0,.54)}.mat-paginator-first,.mat-paginator-last{border-top:2px solid rgba(0,0,0,.54)}.mat-icon-button[disabled] .mat-paginator-decrement,.mat-icon-button[disabled] .mat-paginator-increment,.mat-icon-button[disabled] .mat-paginator-first,.mat-icon-button[disabled] .mat-paginator-last{border-color:#00000061}.mat-paginator-container{min-height:56px}.mat-progress-bar-background{fill:#cdcfd5}.mat-progress-bar-buffer{background-color:#cdcfd5}.mat-progress-bar-fill:after{background-color:#444c65}.mat-progress-bar.mat-accent .mat-progress-bar-background{fill:#cdcfd5}.mat-progress-bar.mat-accent .mat-progress-bar-buffer{background-color:#cdcfd5}.mat-progress-bar.mat-accent .mat-progress-bar-fill:after{background-color:#444c65}.mat-progress-bar.mat-warn .mat-progress-bar-background{fill:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-buffer{background-color:#f9ccc9}.mat-progress-bar.mat-warn .mat-progress-bar-fill:after{background-color:#f44336}.mat-progress-spinner circle,.mat-spinner circle{stroke:#444c65}.mat-progress-spinner.mat-accent circle,.mat-spinner.mat-accent circle{stroke:#444c65}.mat-progress-spinner.mat-warn circle,.mat-spinner.mat-warn circle{stroke:#f44336}.mat-radio-outer-circle{border-color:#0000008a}.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-outer-circle{border-color:#444c65}.mat-radio-button.mat-primary .mat-radio-inner-circle,.mat-radio-button.mat-primary .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-primary.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-primary:active .mat-radio-persistent-ripple{background-color:#444c65}.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#444c65}.mat-radio-button.mat-accent .mat-radio-inner-circle,.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-accent:active .mat-radio-persistent-ripple{background-color:#444c65}.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-outer-circle{border-color:#f44336}.mat-radio-button.mat-warn .mat-radio-inner-circle,.mat-radio-button.mat-warn .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple),.mat-radio-button.mat-warn.mat-radio-checked .mat-radio-persistent-ripple,.mat-radio-button.mat-warn:active .mat-radio-persistent-ripple{background-color:#f44336}.mat-radio-button.mat-radio-disabled.mat-radio-checked .mat-radio-outer-circle,.mat-radio-button.mat-radio-disabled .mat-radio-outer-circle{border-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-ripple .mat-ripple-element,.mat-radio-button.mat-radio-disabled .mat-radio-inner-circle{background-color:#00000061}.mat-radio-button.mat-radio-disabled .mat-radio-label-content{color:#00000061}.mat-radio-button .mat-ripple-element{background-color:#000}.mat-select-value{color:#000000de}.mat-select-placeholder{color:#0000006b}.mat-select-disabled .mat-select-value{color:#00000061}.mat-select-arrow{color:#0000008a}.mat-select-panel{background:white}.mat-select-panel:not([class*=mat-elevation-z]){box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background:rgba(0,0,0,.12)}.mat-form-field.mat-focused.mat-primary .mat-select-arrow,.mat-form-field.mat-focused.mat-accent .mat-select-arrow{color:#444c65}.mat-form-field.mat-focused.mat-warn .mat-select-arrow,.mat-form-field .mat-select.mat-select-invalid .mat-select-arrow{color:#f44336}.mat-form-field .mat-select.mat-select-disabled .mat-select-arrow{color:#00000061}.mat-drawer-container{background-color:#fafafa;color:#000000de}.mat-drawer{background-color:#fff;color:#000000de}.mat-drawer.mat-drawer-push{background-color:#fff}.mat-drawer:not(.mat-drawer-side){box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f}.mat-drawer-side{border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-side.mat-drawer-end,[dir=rtl] .mat-drawer-side{border-left:solid 1px rgba(0,0,0,.12);border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-left:none;border-right:solid 1px rgba(0,0,0,.12)}.mat-drawer-backdrop.mat-drawer-shown{background-color:#0009}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#444c65}.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#444c658a}.mat-slide-toggle.mat-checked .mat-ripple-element,.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-thumb{background-color:#444c65}.mat-slide-toggle.mat-primary.mat-checked .mat-slide-toggle-bar{background-color:#444c658a}.mat-slide-toggle.mat-primary.mat-checked .mat-ripple-element{background-color:#444c65}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-thumb{background-color:#f44336}.mat-slide-toggle.mat-warn.mat-checked .mat-slide-toggle-bar{background-color:#f443368a}.mat-slide-toggle.mat-warn.mat-checked .mat-ripple-element{background-color:#f44336}.mat-slide-toggle:not(.mat-checked) .mat-ripple-element{background-color:#000}.mat-slide-toggle-thumb{box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;background-color:#fafafa}.mat-slide-toggle-bar{background-color:#00000061}.mat-slider-track-background{background-color:#00000042}.mat-slider.mat-primary .mat-slider-track-fill,.mat-slider.mat-primary .mat-slider-thumb,.mat-slider.mat-primary .mat-slider-thumb-label{background-color:#444c65}.mat-slider.mat-primary .mat-slider-thumb-label-text{color:#fff}.mat-slider.mat-primary .mat-slider-focus-ring{background-color:#444c6533}.mat-slider.mat-accent .mat-slider-track-fill,.mat-slider.mat-accent .mat-slider-thumb,.mat-slider.mat-accent .mat-slider-thumb-label{background-color:#444c65}.mat-slider.mat-accent .mat-slider-thumb-label-text{color:#fff}.mat-slider.mat-accent .mat-slider-focus-ring{background-color:#444c6533}.mat-slider.mat-warn .mat-slider-track-fill,.mat-slider.mat-warn .mat-slider-thumb,.mat-slider.mat-warn .mat-slider-thumb-label{background-color:#f44336}.mat-slider.mat-warn .mat-slider-thumb-label-text{color:#fff}.mat-slider.mat-warn .mat-slider-focus-ring{background-color:#f4433633}.mat-slider:hover .mat-slider-track-background,.mat-slider.cdk-focused .mat-slider-track-background{background-color:#00000061}.mat-slider.mat-slider-disabled .mat-slider-track-background,.mat-slider.mat-slider-disabled .mat-slider-track-fill,.mat-slider.mat-slider-disabled .mat-slider-thumb,.mat-slider.mat-slider-disabled:hover .mat-slider-track-background{background-color:#00000042}.mat-slider.mat-slider-min-value .mat-slider-focus-ring{background-color:#0000001f}.mat-slider.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb,.mat-slider.mat-slider-min-value.mat-slider-thumb-label-showing .mat-slider-thumb-label{background-color:#000000de}.mat-slider.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb,.mat-slider.mat-slider-min-value.mat-slider-thumb-label-showing.cdk-focused .mat-slider-thumb-label{background-color:#00000042}.mat-slider.mat-slider-min-value:not(.mat-slider-thumb-label-showing) .mat-slider-thumb{border-color:#00000042;background-color:transparent}.mat-slider.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover .mat-slider-thumb,.mat-slider.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused .mat-slider-thumb{border-color:#00000061}.mat-slider.mat-slider-min-value:not(.mat-slider-thumb-label-showing):hover.mat-slider-disabled .mat-slider-thumb,.mat-slider.mat-slider-min-value:not(.mat-slider-thumb-label-showing).cdk-focused.mat-slider-disabled .mat-slider-thumb{border-color:#00000042}.mat-slider-has-ticks .mat-slider-wrapper:after{border-color:#000000b3}.mat-slider-horizontal .mat-slider-ticks{background-image:repeating-linear-gradient(to right,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent);background-image:-moz-repeating-linear-gradient(.0001deg,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-slider-vertical .mat-slider-ticks{background-image:repeating-linear-gradient(to bottom,rgba(0,0,0,.7),rgba(0,0,0,.7) 2px,transparent 0,transparent)}.mat-step-header.cdk-keyboard-focused,.mat-step-header.cdk-program-focused,.mat-step-header:hover:not([aria-disabled]),.mat-step-header:hover[aria-disabled=false]{background-color:#0000000a}.mat-step-header:hover[aria-disabled=true]{cursor:default}@media (hover: none){.mat-step-header:hover{background:none}}.mat-step-header .mat-step-label,.mat-step-header .mat-step-optional{color:#0000008a}.mat-step-header .mat-step-icon{background-color:#0000008a;color:#fff}.mat-step-header .mat-step-icon-selected,.mat-step-header .mat-step-icon-state-done,.mat-step-header .mat-step-icon-state-edit{background-color:#444c65;color:#fff}.mat-step-header.mat-accent .mat-step-icon{color:#fff}.mat-step-header.mat-accent .mat-step-icon-selected,.mat-step-header.mat-accent .mat-step-icon-state-done,.mat-step-header.mat-accent .mat-step-icon-state-edit{background-color:#444c65;color:#fff}.mat-step-header.mat-warn .mat-step-icon{color:#fff}.mat-step-header.mat-warn .mat-step-icon-selected,.mat-step-header.mat-warn .mat-step-icon-state-done,.mat-step-header.mat-warn .mat-step-icon-state-edit{background-color:#f44336;color:#fff}.mat-step-header .mat-step-icon-state-error{background-color:transparent;color:#f44336}.mat-step-header .mat-step-label.mat-step-label-active{color:#000000de}.mat-step-header .mat-step-label.mat-step-label-error{color:#f44336}.mat-stepper-horizontal,.mat-stepper-vertical{background-color:#fff}.mat-stepper-vertical-line:before{border-left-color:#0000001f}.mat-horizontal-stepper-header:before,.mat-horizontal-stepper-header:after,.mat-stepper-horizontal-line{border-top-color:#0000001f}.mat-horizontal-stepper-header{height:72px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header,.mat-vertical-stepper-header{padding:24px}.mat-stepper-vertical-line:before{top:-16px;bottom:-16px}.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:after,.mat-stepper-label-position-bottom .mat-horizontal-stepper-header:before{top:36px}.mat-stepper-label-position-bottom .mat-stepper-horizontal-line{top:36px}.mat-sort-header-arrow{color:#757575}.mat-tab-nav-bar,.mat-tab-header{border-bottom:1px solid rgba(0,0,0,.12)}.mat-tab-group-inverted-header .mat-tab-nav-bar,.mat-tab-group-inverted-header .mat-tab-header{border-top:1px solid rgba(0,0,0,.12);border-bottom:none}.mat-tab-label,.mat-tab-link{color:#000000de}.mat-tab-label.mat-tab-disabled,.mat-tab-link.mat-tab-disabled{color:#00000061}.mat-tab-header-pagination-chevron{border-color:#000000de}.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#00000061}.mat-tab-group[class*=mat-background-]>.mat-tab-header,.mat-tab-nav-bar[class*=mat-background-]{border-bottom:none;border-top:none}.mat-tab-group.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#b9c1db4d}.mat-tab-group.mat-primary .mat-ink-bar,.mat-tab-nav-bar.mat-primary .mat-ink-bar{background-color:#444c65}.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-primary.mat-background-primary>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#b9c1db4d}.mat-tab-group.mat-accent .mat-ink-bar,.mat-tab-nav-bar.mat-accent .mat-ink-bar{background-color:#444c65}.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-accent.mat-background-accent>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-warn .mat-ink-bar,.mat-tab-nav-bar.mat-warn .mat-ink-bar{background-color:#f44336}.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-group.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-header .mat-ink-bar,.mat-tab-nav-bar.mat-warn.mat-background-warn>.mat-tab-link-container .mat-ink-bar{background-color:#fff}.mat-tab-group.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-primary .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#b9c1db4d}.mat-tab-group.mat-background-primary>.mat-tab-header,.mat-tab-group.mat-background-primary>.mat-tab-link-container,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination{background-color:#444c65}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-primary>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-primary>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-tab-group.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-accent .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#b9c1db4d}.mat-tab-group.mat-background-accent>.mat-tab-header,.mat-tab-group.mat-background-accent>.mat-tab-link-container,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination{background-color:#444c65}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-accent>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-accent>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-tab-group.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-group.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-label.cdk-program-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-keyboard-focused:not(.mat-tab-disabled),.mat-tab-nav-bar.mat-background-warn .mat-tab-link.cdk-program-focused:not(.mat-tab-disabled){background-color:#ffcdd24d}.mat-tab-group.mat-background-warn>.mat-tab-header,.mat-tab-group.mat-background-warn>.mat-tab-link-container,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination{background-color:#f44336}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link{color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-label.mat-tab-disabled,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-tab-link.mat-tab-disabled{color:#fff6}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-group.mat-background-warn>.mat-tab-header .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-focus-indicator:before,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-focus-indicator:before{border-color:#fff}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination-disabled .mat-tab-header-pagination-chevron{border-color:#fff;opacity:.4}.mat-tab-group.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-group.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-link-container .mat-ripple-element,.mat-tab-nav-bar.mat-background-warn>.mat-tab-header-pagination .mat-ripple-element{background-color:#fff;opacity:.12}.mat-toolbar{background:whitesmoke;color:#000000de}.mat-toolbar.mat-primary,.mat-toolbar.mat-accent{background:#444c65;color:#fff}.mat-toolbar.mat-warn{background:#f44336;color:#fff}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar-multiple-rows{min-height:64px}.mat-toolbar-row,.mat-toolbar-single-row{height:64px}@media (max-width: 599px){.mat-toolbar-multiple-rows{min-height:56px}.mat-toolbar-row,.mat-toolbar-single-row{height:56px}}.mat-tooltip{background:rgba(97,97,97,.9)}.mat-tree{background:white}.mat-tree-node,.mat-nested-tree-node{color:#000000de}.mat-tree-node{min-height:48px}.mat-snack-bar-container{color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f}.mat-simple-snackbar-action{color:#444c65}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}html,body{height:100%;background-color:#fafafa;scroll-behavior:smooth}body{margin:0;font-family:Inter,sans-serif;font-style:normal}a:-webkit-any-link{color:#3d72bf;cursor:pointer;text-decoration:none!important;font-weight:500}a:-webkit-any-link:hover{text-decoration:underline;text-decoration-thickness:2px}.content-title{font-weight:300;font-size:1.5rem}.page-data{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem}.accuracy-prizes{font-weight:400;font-size:1.25rem;line-height:1.4202rem;padding-bottom:1rem;padding-top:1.5rem}.list-links{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#0a6ebd}.list-links:hover{text-decoration:underline;text-decoration-thickness:2px}.description,.button-container{margin-bottom:2.5rem}.page-title{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-top:2rem;padding-bottom:1rem}.hra-bold{font-weight:500}strong{font-weight:400;font-weight:500}.page-header{display:block;margin-top:3.5rem;margin-bottom:1.5rem}.datasets{font-size:1rem;line-height:.5rem;flex-basis:0%;padding-bottom:2rem;min-width:200px;letter-spacing:.005rem;flex-grow:1}@media (max-width: 28.75rem){.datasets{text-align:center}}@media (max-width: 38.5rem){.landing-title{font-size:1.75rem!important}.landing-subtitle{font-size:1.25rem!important;line-height:1.5rem!important}.landing-img{width:48px!important;height:112px!important;max-height:unset!important}.card-title{font-size:1.375rem!important;margin-bottom:1rem!important}}@media (max-width: 80rem){.page-title{font-size:1.75rem}}:root{--swiper-navigation-size: .6rem;--swiper-theme-color: #444a65}.carousel{min-height:30.5rem;margin-bottom:1rem}.carousel .slide{display:grid;grid-template-columns:1fr 2fr;grid-template-areas:"info image"}.carousel .slide-image{display:block;grid-area:image}.carousel .slide-image img{width:100%}.carousel .slide-info{grid-area:info;margin-right:.5rem}.carousel .swiper-slide{width:unset;min-width:unset;max-width:unset}.carousel .content-titles{font-weight:300;font-size:1.75rem;margin-bottom:1rem;line-height:2.125rem;letter-spacing:.005em}.carousel .content-body{font-weight:300;font-size:1rem;line-height:1.5rem;padding-bottom:1rem;letter-spacing:.005em}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:20px;bottom:0px}.carousel .swiper-pagination-bullet-active{background-color:#444a65!important;box-sizing:border-box;width:1rem;height:1rem}.carousel .swiper-pagination-bullet{border:.125rem solid #444a65!important;box-sizing:border-box;width:1rem;height:1rem;background:unset;opacity:unset}.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem .5rem}.carousel .get-button{display:flex;align-items:center;justify-content:center;position:absolute;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}.carousel .swiper-button-prev{top:97%;color:#444a65;left:.313rem;background-image:url(swiper_left.svg);background-repeat:no-repeat;background-size:100% auto;background-position:center;width:6.59px;height:11.17px}.carousel .swiper-button-prev:hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a;border-radius:.25rem}.carousel .swiper-button-next{top:97%;left:10%;color:#444a65;background-image:url(swiper_right.svg);background-repeat:no-repeat;background-size:100% auto;background-position:center;width:6.59px;height:11.17px;z-index:1000}.carousel .swiper-button-next:hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a;border-radius:.25rem}.carousel .swiper-pagination-bullet:not(.swiper-pagination-bullet-active):hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a}@media (max-width: 75rem){.carousel .swiper-button-next{right:calc(100vw - 164px);left:unset}}@media (max-width: 38.5rem){.carousel .slide-image{width:100%;max-height:216px;margin-bottom:1rem}.carousel .slide-image img{height:100%}.carousel .slide{grid-template-columns:1fr;grid-template-rows:1fr 1fr;grid-template-areas:"image" "info"}.carousel .swiper-button-next{left:unset;right:calc(100vw - 244px)}.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem 1.3rem}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:19px;bottom:0px}}@media (max-width: 26.125rem){.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem 1rem}.carousel .swiper-button-next{left:12rem;right:unset}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:29px;bottom:0px}}\n'],encapsulation:2}),r})();function pfe(r,n){if(1&r&&(q(0,"mat-card")(1,"mat-card-content"),pe(2,"img",1),q(3,"p",2),re(4),W(),q(5,"p",3),re(6),W()()()),2&r){const i=n.$implicit;N(2),B("src",i.image,yn),N(2),Ut(i.count),N(2),Ut(i.text)}}let mfe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["count-info-card"]],inputs:{cardInformation:"cardInformation"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"src"],[1,"card-count"],[1,"card-text"]],template:function(i,s){1&i&&K(0,pfe,7,3,"mat-card",0),2&i&&B("ngForOf",s.cardInformation)},dependencies:[pi,Xa,GS],styles:["[_nghost-%COMP%]{display:flex;font-weight:300;flex-wrap:wrap}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;height:11.5rem;width:7.6rem;justify-content:center;border:.0625rem solid #e0e0e0;box-shadow:0 .125rem .0625rem #00000029;border-radius:.25rem;margin-right:1rem;margin-bottom:1rem;padding:unset}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]:last-child{margin-right:unset}[_nghost-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem;width:2.3125rem;margin-top:1.5rem;margin-bottom:1rem}[_nghost-%COMP%]   .card-count[_ngcontent-%COMP%]{font-size:1.5rem;text-align:center}[_nghost-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.875rem;padding:0rem .5rem}@media (max-width: 80rem){[_nghost-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;width:unset}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{width:unset;margin-right:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]:nth-child(3n){margin-right:unset}}@media (max-width: 25.125rem){[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{height:14rem}}"]}),r})();const gfe=function(r){return["",r]};function _fe(r,n){if(1&r&&(q(0,"mat-card",1)(1,"div",2),pe(2,"img",3)(3,"img",4),W(),q(4,"mat-card-content")(5,"p",5),re(6),W(),q(7,"p",6),re(8),W()()()),2&r){const i=n.$implicit;N(1),B("routerLink",Cs(5,gfe,i.route)),N(1),B("src",i.image,yn),N(1),B("src",i.gif,yn),N(3),Ut(i.title),N(2),Ut(i.description)}}let bfe=(()=>{class r{constructor(){this.cards=[],this.cardRoutes=new ne}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-section-card"]],inputs:{cards:"cards"},outputs:{cardRoutes:"cardRoutes"},decls:1,vars:1,consts:[["class","card-button",4,"ngFor","ngForOf"],[1,"card-button"],[1,"image-container",3,"routerLink"],["alt","Images of Card",1,"static",3,"src"],["alt","Images of Card",1,"gif",3,"src"],[1,"nav-card-title"],[1,"description"]],template:function(i,s){1&i&&K(0,_fe,9,7,"mat-card",0),2&i&&B("ngForOf",s.cards)},dependencies:[Xa,GS,pi,vf],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;line-height:normal;flex-wrap:wrap;justify-content:space-between}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0rem}[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:2.21875rem 2rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:2rem;cursor:pointer;display:flex;height:28rem;width:37.3125rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]:hover{box-shadow:0 .25rem .5rem #0003,0 .375rem 1.25rem #00000030}[_nghost-%COMP%]   .nav-card-title[_ngcontent-%COMP%]{font-size:1.125rem;letter-spacing:.5%;color:#0a6ebd;font-weight:400;line-height:1.4202rem;text-decoration:none}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.4202rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .static[_ngcontent-%COMP%], [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:99.7%;height:20rem;border:solid 1px #e0e0e0;border-top-left-radius:.25rem;border-top-right-radius:.25rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover   .static[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover   .gif[_ngcontent-%COMP%]{display:unset}@media (max-width: 26.75rem){[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem 2rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]{width:auto;height:auto}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .static[_ngcontent-%COMP%]{height:13rem}}"]}),r})();var Afe=Lu(28);let nV=(()=>{class r{constructor(i){this.http=i}getData(i,s){const a={header:!0,dynamicTyping:!0,skipEmptyLines:"greedy"};return this.http.get(`assets/table-data/${i}`,{responseType:"text"}).pipe(Oe(d=>(0,Afe.parse)(d,a))).pipe(Oe(d=>({columns:this.filterColumns(d.meta.fields??[],s),data:d.data}))).pipe(r4(1))}filterColumns(i,s){const a=new Set(s);return i.filter(l=>a.has(l))}}return r.\u0275fac=function(i){return new(i||r)(X(gf))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),xfe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r}),r})();const Mfe=new Ae("MatFormField");let _1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fo,vn,RS,vn]}),r})();class iV{}function py(r){return r&&"function"==typeof r.connect}class rV{applyChanges(n,i,s,a,l){n.forEachOperation((c,u,d)=>{let h,f;if(null==c.previousIndex){const p=s(c,u,d);h=i.createEmbeddedView(p.templateRef,p.context,p.index),f=1}else null==d?(i.remove(u),f=3):(h=i.get(u),i.move(h,d),f=2);l&&l({context:h?.context,operation:f,record:c})})}detach(){}}class my{constructor(n=!1,i,s=!0){this._multiple=n,this._emitChanges=s,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Me,i&&i.length&&(n?i.forEach(a=>this._markSelected(a)):this._markSelected(i[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...n){this._verifyValueAssignment(n),n.forEach(i=>this._markSelected(i)),this._emitChangeEvent()}deselect(...n){this._verifyValueAssignment(n),n.forEach(i=>this._unmarkSelected(i)),this._emitChangeEvent()}toggle(n){this.isSelected(n)?this.deselect(n):this.select(n)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(n){return this._selection.has(n)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){this.isSelected(n)||(this._multiple||this._unmarkAll(),this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}}const Yg=new Ae("_ViewRepeater");function Jc(r){return null==r||("string"==typeof r||Array.isArray(r))&&0===r.length}function lV(r){return null!=r&&"number"==typeof r.length}const ns=new Ae("NgValidators"),eu=new Ae("NgAsyncValidators"),kfe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rfe{static min(n){return function cV(r){return n=>{if(Jc(n.value)||Jc(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function uV(r){return n=>{if(Jc(n.value)||Jc(r))return null;const i=parseFloat(n.value);return!isNaN(i)&&i>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function dV(r){return Jc(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function hV(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function fV(r){return Jc(r.value)||kfe.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function pV(r){return n=>Jc(n.value)||!lV(n.value)?null:n.value.length<r?{minlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function mV(r){return n=>lV(n.value)&&n.value.length>r?{maxlength:{requiredLength:r,actualLength:n.value.length}}:null}(n)}static pattern(n){return function gV(r){if(!r)return gy;let n,i;return"string"==typeof r?(i="","^"!==r.charAt(0)&&(i+="^"),i+=r,"$"!==r.charAt(r.length-1)&&(i+="$"),n=new RegExp(i)):(i=r.toString(),n=r),s=>{if(Jc(s.value))return null;const a=s.value;return n.test(a)?null:{pattern:{requiredPattern:i,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return wV(n)}static composeAsync(n){return CV(n)}}function gy(r){return null}function _V(r){return null!=r}function bV(r){return Hm(r)?Zi(r):r}function AV(r){let n={};return r.forEach(i=>{n=null!=i?{...n,...i}:n}),0===Object.keys(n).length?null:n}function yV(r,n){return n.map(i=>i(r))}function vV(r){return r.map(n=>function Pfe(r){return!r.validate}(n)?n:i=>n.validate(i))}function wV(r){if(!r)return null;const n=r.filter(_V);return 0==n.length?null:function(i){return AV(yV(i,n))}}function A1(r){return null!=r?wV(vV(r)):null}function CV(r){if(!r)return null;const n=r.filter(_V);return 0==n.length?null:function(i){return Z4(yV(i,n).map(bV)).pipe(Oe(AV))}}function y1(r){return null!=r?CV(vV(r)):null}function xV(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function MV(r){return r._rawValidators}function EV(r){return r._rawAsyncValidators}function v1(r){return r?Array.isArray(r)?r:[r]:[]}function _y(r,n){return Array.isArray(r)?r.includes(n):r===n}function SV(r,n){const i=v1(n);return v1(r).forEach(a=>{_y(i,a)||i.push(a)}),i}function DV(r,n){return v1(n).filter(i=>!_y(r,i))}class IV{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=A1(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=y1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class Ds extends IV{get formDirective(){return null}get path(){return null}}class Gl extends IV{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const Xg="VALID",Ay="INVALID",Bf="PENDING",Kg="DISABLED";function M1(r){return(yy(r)?r.validators:r)||null}function RV(r){return Array.isArray(r)?A1(r):r||null}function E1(r,n){return(yy(n)?n.asyncValidators:r)||null}function PV(r){return Array.isArray(r)?y1(r):r||null}function yy(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class LV{constructor(n,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=i,this._composedValidatorFn=RV(this._rawValidators),this._composedAsyncValidatorFn=PV(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Xg}get invalid(){return this.status===Ay}get pending(){return this.status==Bf}get disabled(){return this.status===Kg}get enabled(){return this.status!==Kg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=RV(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=PV(n)}addValidators(n){this.setValidators(SV(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(SV(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(DV(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(DV(n,this._rawAsyncValidators))}hasValidator(n){return _y(this._rawValidators,n)}hasAsyncValidator(n){return _y(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Bf,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=Kg,this.errors=null,this._forEachChild(s=>{s.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:i}),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=Xg,this._forEachChild(s=>{s.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:i}),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xg||this.status===Bf)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kg:Xg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Bf,this._hasOwnPendingAsyncValidator=!0;const i=bV(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent)}get(n){let i=n;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((s,a)=>s&&s._find(a),this)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new ne,this.statusChanges=new ne}_calculateStatus(){return this._allControlsDisabled()?Kg:this.errors?Ay:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bf)?Bf:this._anyControlsHaveStatus(Ay)?Ay:Xg}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){yy(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}}class S1 extends LV{constructor(n,i,s){super(M1(i),E1(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,s={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){(function BV(r,n,i){r._forEachChild((s,a)=>{if(void 0===i[a])throw new Te(1002,"")})})(this,0,n),Object.keys(n).forEach(s=>{(function OV(r,n,i){const s=r.controls;if(!(n?Object.keys(s):s).length)throw new Te(1e3,"");if(!s[i])throw new Te(1001,"")})(this,!0,s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(s=>{const a=this.controls[s];a&&a.patchValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((s,a)=>{s.reset(n[a],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,s)=>(n[s]=i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,s)=>!!s._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const s=this.controls[i];s&&n(s,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[i,s]of Object.entries(this.controls))if(this.contains(i)&&n(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,s,a)=>((s.enabled||this.disabled)&&(i[a]=s.value),i))}_reduceChildren(n,i){let s=n;return this._forEachChild((a,l)=>{s=i(s,a,l)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}function Zg(r,n){D1(r,n),n.valueAccessor.writeValue(r.value),r.disabled&&n.valueAccessor.setDisabledState?.(!0),function Qfe(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&FV(r,n)})}(r,n),function Wfe(r,n){const i=(s,a)=>{n.valueAccessor.writeValue(s),a&&n.viewToModelUpdate(s)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,n),function $fe(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&FV(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function Gfe(r,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,n)}function wy(r,n,i=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),xy(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Cy(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function D1(r,n){const i=MV(r);null!==n.validator?r.setValidators(xV(i,n.validator)):"function"==typeof i&&r.setValidators([i]);const s=EV(r);null!==n.asyncValidator?r.setAsyncValidators(xV(s,n.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const a=()=>r.updateValueAndValidity();Cy(n._rawValidators,a),Cy(n._rawAsyncValidators,a)}function xy(r,n){let i=!1;if(null!==r){if(null!==n.validator){const a=MV(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(c=>c!==n.validator);l.length!==a.length&&(i=!0,r.setValidators(l))}}if(null!==n.asyncValidator){const a=EV(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(c=>c!==n.asyncValidator);l.length!==a.length&&(i=!0,r.setAsyncValidators(l))}}}const s=()=>{};return Cy(n._rawValidators,s),Cy(n._rawAsyncValidators,s),i}function FV(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function NV(r,n){D1(r,n)}function VV(r,n){r._syncPendingControls(),n.forEach(i=>{const s=i.control;"submit"===s.updateOn&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}const Kfe={provide:Ds,useExisting:Nn(()=>My)},Jg=(()=>Promise.resolve(null))();let My=(()=>{class r extends Ds{constructor(i,s){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new ne,this.form=new S1({},A1(i),y1(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Jg.then(()=>{const s=this._findContainer(i.path);i.control=s.registerControl(i.name,i.control),Zg(i.control,i),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Jg.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Jg.then(()=>{const s=this._findContainer(i.path),a=new S1({});NV(a,i),s.registerControl(i.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Jg.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,s){Jg.then(()=>{this.form.get(i.path).setValue(s)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,VV(this.form,this._directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return r.\u0275fac=function(i){return new(i||r)(I(ns,10),I(eu,10))},r.\u0275dir=de({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){1&i&&tt("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([Kfe]),Ie]}),r})();function zV(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}function HV(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const GV=class extends LV{constructor(n=null,i,s){super(M1(i),E1(s,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yy(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=HV(n)?n.value:n)}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=this.defaultValue,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){zV(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){zV(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){HV(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let YV=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();const k1=new Ae("NgModelWithFormControlWarning"),ape={provide:Ds,useExisting:Nn(()=>Ey)};let Ey=(()=>{class r extends Ds{constructor(i,s){super(),this.validators=i,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ne,this._setValidators(i),this._setAsyncValidators(s)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const s=this.form.get(i.path);return Zg(s,i),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),s}getControl(i){return this.form.get(i.path)}removeControl(i){wy(i.control||null,i,!1),function Xfe(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,s){this.form.get(i.path).setValue(s)}onSubmit(i){return this.submitted=!0,VV(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const s=i.control,a=this.form.get(i.path);s!==a&&(wy(s||null,i),(r=>r instanceof GV)(a)&&(Zg(a,i),i.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const s=this.form.get(i.path);NV(s,i),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const s=this.form.get(i.path);s&&function jfe(r,n){return xy(r,n)}(s,i)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){D1(this.form,this),this._oldForm&&xy(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(i){return new(i||r)(I(ns,10),I(eu,10))},r.\u0275dir=de({type:r,selectors:[["","formGroup",""]],hostBindings:function(i,s){1&i&&tt("submit",function(l){return s.onSubmit(l)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([ape]),Ie,Ri]}),r})(),hz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[YV]}),r})(),Mpe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[hz]}),r})(),Epe=(()=>{class r{static withConfig(i){return{ngModule:r,providers:[{provide:k1,useValue:i.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[hz]}),r})();const Dpe=["trigger"],Ipe=["panel"];function Tpe(r,n){if(1&r&&(q(0,"span",8),re(1),W()),2&r){const i=ie();N(1),Ut(i.placeholder)}}function kpe(r,n){if(1&r&&(q(0,"span",12),re(1),W()),2&r){const i=ie(2);N(1),Ut(i.triggerValue)}}function Rpe(r,n){1&r&&bn(0,0,["*ngSwitchCase","true"])}function Ppe(r,n){1&r&&(q(0,"span",9),K(1,kpe,2,1,"span",10),K(2,Rpe,1,0,"ng-content",11),W()),2&r&&(B("ngSwitch",!!ie().customTrigger),N(2),B("ngSwitchCase",!0))}function Ope(r,n){if(1&r){const i=di();q(0,"div",13)(1,"div",14,15),tt("@transformPanel.done",function(a){return Cn(i),xn(ie()._panelDoneAnimatingStream.next(a.toState))})("keydown",function(a){return Cn(i),xn(ie()._handleKeydown(a))}),bn(3,1),W()()}if(2&r){const i=ie();B("@transformPanelWrap",void 0),N(1),function qB(r,n,i){ua(co,Qa,jh(we(),r,n,i),!0)}("mat-select-panel ",i._getPanelTheme(),""),Ha("transform-origin",i._transformOrigin)("font-size",i._triggerFontSize,"px"),B("ngClass",i.panelClass)("@transformPanel",i.multiple?"showing-multiple":"showing"),nn("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const Bpe=[[["mat-select-trigger"]],"*"],Lpe=["mat-select-trigger","*"],fz={transformPanelWrap:Ws("transformPanelWrap",[Di("* => void",ay("@transformPanel",[oy()],{optional:!0}))]),transformPanel:Ws("transformPanel",[vi("void",Wt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),vi("showing",Wt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),vi("showing-multiple",Wt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Di("void => *",ji("120ms cubic-bezier(0, 0, 0.2, 1)")),Di("* => void",ji("100ms 25ms linear",Wt({opacity:0})))])};let pz=0;const gz=new Ae("mat-select-scroll-strategy"),Vpe=new Ae("MAT_SELECT_CONFIG"),zpe={provide:gz,deps:[ga],useFactory:function Upe(r){return()=>r.scrollStrategies.reposition()}};class Hpe{constructor(n,i){this.source=n,this.value=i}}const Gpe=Sf(N4(Wc(zae(class{constructor(r,n,i,s,a){this._elementRef=r,this._defaultErrorStateMatcher=n,this._parentForm=i,this._parentFormGroup=s,this.ngControl=a,this.stateChanges=new Me}})))),Qpe=new Ae("MatSelectTrigger");let $pe=(()=>{class r extends Gpe{constructor(i,s,a,l,c,u,d,h,f,p,m,g,_,A){super(c,l,d,h,p),this._viewportRuler=i,this._changeDetectorRef=s,this._ngZone=a,this._dir=u,this._parentFormField=f,this._liveAnnouncer=_,this._defaultOptions=A,this._panelOpen=!1,this._compareWith=(b,y)=>b===y,this._uid="mat-select-"+pz++,this._triggerAriaLabelledBy=null,this._destroy=new Me,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+pz++,this._panelDoneAnimatingStream=new Me,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=fg(()=>{const b=this.options;return b?b.changes.pipe(Er(b),Qs(()=>yr(...b.map(y=>y.onSelectionChange)))):this._ngZone.onStable.pipe(Qn(1),Qs(()=>this.optionSelectionChanges))}),this.openedChange=new ne,this._openedStream=this.openedChange.pipe(Ln(b=>b),Oe(()=>{})),this._closedStream=this.openedChange.pipe(Ln(b=>!b),Oe(()=>{})),this.selectionChange=new ne,this.valueChange=new ne,this.ngControl&&(this.ngControl.valueAccessor=this),null!=A?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._scrollStrategyFactory=g,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(m)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Rfe.required)??!1}set required(i){this._required=an(i),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(i){this._multiple=an(i)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(i){this._disableOptionCentering=an(i)}get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(i){this._typeaheadDebounceInterval=Vl(i)}get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new my(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(wf(),Rt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Rt(this._destroy)).subscribe(i=>{i.added.forEach(s=>s.select()),i.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(Er(null),Rt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby(),s=this.ngControl;if(i!==this._triggerAriaLabelledBy){const a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?a.setAttribute("aria-labelledby",i):a.removeAttribute("aria-labelledby")}s&&(this._previousControl!==s.control&&(void 0!==this._previousControl&&null!==s.disabled&&s.disabled!==this.disabled&&(this.disabled=s.disabled),this._previousControl=s.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const s=i.keyCode,a=40===s||38===s||37===s||39===s,l=13===s||32===s,c=this._keyManager;if(!c.isTyping()&&l&&!No(i)||(this.multiple||i.altKey)&&a)i.preventDefault(),this.open();else if(!this.multiple){const u=this.selected;c.onKeydown(i);const d=this.selected;d&&u!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(i){const s=this._keyManager,a=i.keyCode,l=40===a||38===a,c=s.isTyping();if(l&&i.altKey)i.preventDefault(),this.close();else if(c||13!==a&&32!==a||!s.activeItem||No(i))if(!c&&this._multiple&&65===a&&i.ctrlKey){i.preventDefault();const u=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(u?d.select():d.deselect())})}else{const u=s.activeItemIndex;s.onKeydown(i),this._multiple&&l&&i.shiftKey&&s.activeItem&&s.activeItemIndex!==u&&s.activeItem._selectViaInteraction()}else i.preventDefault(),s.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this._selectionModel.selected.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(s=>this._selectOptionByValue(s)),this._sortValues();else{const s=this._selectOptionByValue(i);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){const s=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,i)}catch{return!1}});return s&&this._selectionModel.select(s),s}_assignValue(i){return!!(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i,!0)}_initKeyManager(){this._keyManager=new cae(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Rt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Rt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=yr(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Rt(i)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),yr(...this.options.map(s=>s._stateChanges)).pipe(Rt(i)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(i,s){const a=this._selectionModel.isSelected(i);null!=i.value||this._multiple?(a!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),s&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),s&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),a!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((s,a)=>this.sortComparator?this.sortComparator(s,a,i):i.indexOf(s)-i.indexOf(a)),this.stateChanges.next()}}_propagateChanges(i){let s=null;s=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:i,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(i){this.openedChange.emit(i)}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return r.\u0275fac=function(i){return new(i||r)(I(Yc),I(yi),I(ht),I(Kae),I(We),I(Ss,8),I(My,8),I(Ey,8),I(Mfe,8),I(Gl,10),Ba("tabindex"),I(gz),I(Sae),I(Vpe,8))},r.\u0275dir=de({type:r,viewQuery:function(i,s){if(1&i&&(pn(Dpe,5),pn(Ipe,5),pn(r1,5)),2&i){let a;je(a=qe())&&(s.trigger=a.first),je(a=qe())&&(s.panel=a.first),je(a=qe())&&(s._overlayDir=a.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Ie,Ri]}),r})(),_z=(()=>{class r extends $pe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(i,s,a){const l=this._getItemHeight();return Math.min(Math.max(0,l*i-s+l/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Rt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(i){const s=j4(i,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=0===i&&1===s?0:function lle(r,n,i,s){return r<i?r:r+n>i+s?Math.max(0,r-s+n):i}((i+s)*a,a,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(i){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(i)}_getChangeEvent(i){return new Hpe(this,i)}_calculateOverlayOffsetX(){const i=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),s=this._viewportRuler.getViewportSize(),a=this._isRtl(),l=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let h=this._selectionModel.selected[0]||this.options.first;c=h&&h.group?32:16}a||(c*=-1);const u=0-(i.left+c-(a?l:0)),d=i.right+c-s.width+(a?0:l);u>0?c+=u+8:d>0&&(c-=d+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(i,s,a){const l=this._getItemHeight(),c=(l-this._triggerRect.height)/2,u=Math.floor(256/l);let d;return this.disableOptionCentering?0:(d=0===this._scrollTop?i*l:this._scrollTop===a?(i-(this._getItemCount()-u))*l+(l-(this._getItemCount()*l-256)%l):s-l/2,Math.round(-1*d-c))}_checkOverlayWithinViewport(i){const s=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),l=this._triggerRect.top-8,c=a.height-this._triggerRect.bottom-8,u=Math.abs(this._offsetY),h=Math.min(this._getItemCount()*s,256)-u-this._triggerRect.height;h>c?this._adjustPanelUp(h,c):u>l?this._adjustPanelDown(u,l,i):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(i,s){const a=Math.round(i-s);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(i,s,a){const l=Math.round(i-s);if(this._scrollTop+=l,this._offsetY+=l,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const i=this._getItemHeight(),s=this._getItemCount(),a=Math.min(s*i,256),c=s*i-a;let u;u=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),u+=j4(u,this.options,this.optionGroups);const d=a/2;this._scrollTop=this._calculateOverlayScroll(u,d,c),this._offsetY=this._calculateOverlayOffsetY(u,d,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const i=this._getItemHeight(),s=(i-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-s+i/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-select"]],contentQueries:function(i,s,a){if(1&i&&(Bn(a,Qpe,5),Bn(a,HS,5),Bn(a,W4,5)),2&i){let l;je(l=qe())&&(s.customTrigger=l.first),je(l=qe())&&(s.options=l),je(l=qe())&&(s.optionGroups=l)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(i,s){1&i&&tt("keydown",function(l){return s._handleKeydown(l)})("focus",function(){return s._onFocus()})("blur",function(){return s._onBlur()}),2&i&&(nn("id",s.id)("tabindex",s.tabIndex)("aria-controls",s.panelOpen?s.id+"-panel":null)("aria-expanded",s.panelOpen)("aria-label",s.ariaLabel||null)("aria-required",s.required.toString())("aria-disabled",s.disabled.toString())("aria-invalid",s.errorState)("aria-activedescendant",s._getAriaActiveDescendant()),$t("mat-select-disabled",s.disabled)("mat-select-invalid",s.errorState)("mat-select-required",s.required)("mat-select-empty",s.empty)("mat-select-multiple",s.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[ft([{provide:xfe,useExisting:r},{provide:$4,useExisting:r}]),Ie],ngContentSelectors:Lpe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(i,s){if(1&i&&(Bi(Bpe),q(0,"div",0,1),tt("click",function(){return s.toggle()}),q(3,"div",2),K(4,Tpe,2,1,"span",3),K(5,Ppe,3,2,"span",4),W(),q(6,"div",5),pe(7,"div",6),W()(),K(8,Ope,4,14,"ng-template",7),tt("backdropClick",function(){return s.close()})("attach",function(){return s._onAttached()})("detach",function(){return s.close()})),2&i){const a=Oi(1);nn("aria-owns",s.panelOpen?s.id+"-panel":null),N(3),B("ngSwitch",s.empty),nn("id",s._valueId),N(1),B("ngSwitchCase",!0),N(1),B("ngSwitchCase",!1),N(3),B("cdkConnectedOverlayPanelClass",s._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",s._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",s.panelOpen)("cdkConnectedOverlayPositions",s._positions)("cdkConnectedOverlayMinWidth",null==s._triggerRect?null:s._triggerRect.width)("cdkConnectedOverlayOffsetY",s._offsetY)}},dependencies:[ff,pf,lA,kE,r1,n1],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[fz.transformPanelWrap,fz.transformPanel]},changeDetection:0}),r})(),bz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[zpe],imports:[fo,Gg,q4,vn,If,_1,q4,vn]}),r})();function Wpe(r,n){if(1&r){const i=di();q(0,"mat-option",2),tt("click",function(){const l=Cn(i).$implicit;return xn(ie().selectedVersion.emit(l))}),re(1),W()}if(2&r){const i=n.$implicit;B("value",i),N(1),In(" ",i.release," ")}}let F1=(()=>{class r{constructor(){this.releaseDate=[],this.selectedVersion=new ne}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-choose-version"]],inputs:{releaseDate:"releaseDate",selectedDate:"selectedDate"},outputs:{selectedVersion:"selectedVersion"},decls:2,vars:2,consts:[["panelClass","versions-panel","disableOptionCentering","","disableRipple","",1,"versions",3,"value","valueChange"],["class","mat-select-value-text",3,"value","click",4,"ngFor","ngForOf"],[1,"mat-select-value-text",3,"value","click"]],template:function(i,s){1&i&&(q(0,"mat-select",0),tt("valueChange",function(l){return s.selectedDate=l}),K(1,Wpe,2,2,"mat-option",1),W()),2&i&&(B("value",s.selectedDate),N(1),B("ngForOf",s.releaseDate))},dependencies:[pi,_z,HS],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:21rem;height:2.5rem;font-weight:400;font-size:.875rem;line-height:1.4202rem;letter-spacing:.005rem;color:#444c65;border:1px solid #444c65;border-radius:2px}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-trigger{height:100%;justify-content:space-between;padding:0rem 1rem}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-trigger .mat-select-value{width:unset}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-left:12px}@media (max-width: 26.75rem){[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:100%}}  .mat-option-text{font-weight:300;font-size:14px;line-height:24px;letter-spacing:.005rem;color:#444a65}  .versions-panel{position:relative;top:41px;left:1rem;min-width:unset!important}  .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background-color:unset}  .mat-select-panel{max-width:unset!important}"]}),r})();const jpe=["mat-sort-header",""];function qpe(r,n){if(1&r){const i=di();q(0,"div",3),tt("@arrowPosition.start",function(){return Cn(i),xn(ie()._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){return Cn(i),xn(ie()._disableViewStateAnimation=!1)}),pe(1,"div",4),q(2,"div",5),pe(3,"div",6)(4,"div",7)(5,"div",8),W()()}if(2&r){const i=ie();B("@arrowOpacity",i._getArrowViewState())("@arrowPosition",i._getArrowViewState())("@allowChildren",i._getArrowDirectionState()),N(2),B("@indicator",i._getArrowDirectionState()),N(1),B("@leftPointer",i._getArrowDirectionState()),N(1),B("@rightPointer",i._getArrowDirectionState())}}const Ype=["*"],Az=new Ae("MAT_SORT_DEFAULT_OPTIONS"),Xpe=Hae(Wc(class{}));let t_=(()=>{class r extends Xpe{constructor(i){super(),this._defaultOptions=i,this.sortables=new Map,this._stateChanges=new Me,this.start="asc",this._direction="",this.sortChange=new ne}get direction(){return this._direction}set direction(i){this._direction=i}get disableClear(){return this._disableClear}set disableClear(i){this._disableClear=an(i)}register(i){this.sortables.set(i.id,i)}deregister(i){this.sortables.delete(i.id)}sort(i){this.active!=i.id?(this.active=i.id,this.direction=i.start?i.start:this.start):this.direction=this.getNextSortDirection(i),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(i){if(!i)return"";let a=function Kpe(r,n){let i=["asc","desc"];return"desc"==r&&i.reverse(),n||i.push(""),i}(i.start||this.start,i?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),l=a.indexOf(this.direction)+1;return l>=a.length&&(l=0),a[l]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return r.\u0275fac=function(i){return new(i||r)(I(Az,8))},r.\u0275dir=de({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[Ie,Ri]}),r})();const tu=Nae.ENTERING+" "+Fae.STANDARD_CURVE,Ff={indicator:Ws("indicator",[vi("active-asc, asc",Wt({transform:"translateY(0px)"})),vi("active-desc, desc",Wt({transform:"translateY(10px)"})),Di("active-asc <=> active-desc",ji(tu))]),leftPointer:Ws("leftPointer",[vi("active-asc, asc",Wt({transform:"rotate(-45deg)"})),vi("active-desc, desc",Wt({transform:"rotate(45deg)"})),Di("active-asc <=> active-desc",ji(tu))]),rightPointer:Ws("rightPointer",[vi("active-asc, asc",Wt({transform:"rotate(45deg)"})),vi("active-desc, desc",Wt({transform:"rotate(-45deg)"})),Di("active-asc <=> active-desc",ji(tu))]),arrowOpacity:Ws("arrowOpacity",[vi("desc-to-active, asc-to-active, active",Wt({opacity:1})),vi("desc-to-hint, asc-to-hint, hint",Wt({opacity:.54})),vi("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",Wt({opacity:0})),Di("* => asc, * => desc, * => active, * => hint, * => void",ji("0ms")),Di("* <=> *",ji(tu))]),arrowPosition:Ws("arrowPosition",[Di("* => desc-to-hint, * => desc-to-active",ji(tu,sy([Wt({transform:"translateY(-25%)"}),Wt({transform:"translateY(0)"})]))),Di("* => hint-to-desc, * => active-to-desc",ji(tu,sy([Wt({transform:"translateY(0)"}),Wt({transform:"translateY(25%)"})]))),Di("* => asc-to-hint, * => asc-to-active",ji(tu,sy([Wt({transform:"translateY(25%)"}),Wt({transform:"translateY(0)"})]))),Di("* => hint-to-asc, * => active-to-asc",ji(tu,sy([Wt({transform:"translateY(0)"}),Wt({transform:"translateY(-25%)"})]))),vi("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",Wt({transform:"translateY(0)"})),vi("hint-to-desc, active-to-desc, desc",Wt({transform:"translateY(-25%)"})),vi("hint-to-asc, active-to-asc, asc",Wt({transform:"translateY(25%)"}))]),allowChildren:Ws("allowChildren",[Di("* <=> *",[ay("@*",oy(),{optional:!0})])])};let Dy=(()=>{class r{constructor(){this.changes=new Me}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Jpe={provide:Dy,deps:[[new Ro,new qu,Dy]],useFactory:function Zpe(r){return r||new Dy}},eme=Wc(class{});let yz=(()=>{class r extends eme{constructor(i,s,a,l,c,u,d,h){super(),this._intl=i,this._changeDetectorRef=s,this._sort=a,this._columnDef=l,this._focusMonitor=c,this._elementRef=u,this._ariaDescriber=d,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this._sortActionDescription="Sort",h?.arrowPosition&&(this.arrowPosition=h?.arrowPosition),this._handleStateChanges()}get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(i){this._updateSortActionDescription(i)}get disableClear(){return this._disableClear}set disableClear(i){this._disableClear=an(i)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(i=>{const s=!!i;s!==this._showIndicatorHint&&(this._setIndicatorHintVisible(s),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe()}_setIndicatorHintVisible(i){this._isDisabled()&&i||(this._showIndicatorHint=i,this._isSorted()||(this._updateArrowDirection(),this._setAnimationTransitionState(this._showIndicatorHint?{fromState:this._arrowDirection,toState:"hint"}:{fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(i){this._viewState=i||{},this._disableViewStateAnimation&&(this._viewState={toState:i.toState})}_toggleOnInteraction(){this._sort.sort(this),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(i){!this._isDisabled()&&(32===i.keyCode||13===i.keyCode)&&(i.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){const i=this._viewState.fromState;return(i?`${i}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(i){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,i)),this._sortActionDescription=i}_handleStateChanges(){this._rerenderSubscription=yr(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),("hint"===this._viewState.toState||"active"===this._viewState.toState)&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&"active"===this._viewState.toState&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(i){return new(i||r)(I(Dy),I(yi),I(t_,8),I("MAT_SORT_HEADER_COLUMN_DEF",8),I(ma),I(We),I(lae,8),I(Az,8))},r.\u0275cmp=Be({type:r,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(i,s){1&i&&tt("click",function(){return s._handleClick()})("keydown",function(l){return s._handleKeydown(l)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),2&i&&(nn("aria-sort",s._getAriaSortAttribute()),$t("mat-sort-header-disabled",s._isDisabled()))},inputs:{disabled:"disabled",id:["mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",sortActionDescription:"sortActionDescription",disableClear:"disableClear"},exportAs:["matSortHeader"],features:[Ie],attrs:jpe,ngContentSelectors:Ype,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],["class","mat-sort-header-arrow",4,"ngIf"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(i,s){1&i&&(Bi(),q(0,"div",0)(1,"div",1),bn(2),W(),K(3,qpe,6,6,"div",2),W()),2&i&&($t("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before","before"===s.arrowPosition),nn("tabindex",s._isDisabled()?null:0)("role",s._isDisabled()?null:"button"),N(3),B("ngIf",s._renderArrow()))},dependencies:[Rr],styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[Ff.indicator,Ff.leftPointer,Ff.rightPointer,Ff.arrowOpacity,Ff.arrowPosition,Ff.allowChildren]},changeDetection:0}),r})(),vz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[Jpe],imports:[fo,vn]}),r})();function Iy(r){return!!r&&(r instanceof dt||tn(r.lift)&&tn(r.subscribe))}const tme=[[["caption"]],[["colgroup"],["col"]]],nme=["caption","colgroup, col"];function N1(r){return class extends r{constructor(...n){super(...n),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(n){const i=this._sticky;this._sticky=an(n),this._hasStickyChanged=i!==this._sticky}hasStickyChanged(){const n=this._hasStickyChanged;return this._hasStickyChanged=!1,n}resetStickyChanged(){this._hasStickyChanged=!1}}}const Nf=new Ae("CDK_TABLE");let Uf=(()=>{class r{constructor(i){this.template=i}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["","cdkCellDef",""]]}),r})(),Vf=(()=>{class r{constructor(i){this.template=i}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["","cdkHeaderCellDef",""]]}),r})(),Ty=(()=>{class r{constructor(i){this.template=i}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["","cdkFooterCellDef",""]]}),r})();class ome{}const ame=N1(ome);let Ql=(()=>{class r extends ame{constructor(i){super(),this._table=i,this._stickyEnd=!1}get name(){return this._name}set name(i){this._setNameInput(i)}get stickyEnd(){return this._stickyEnd}set stickyEnd(i){const s=this._stickyEnd;this._stickyEnd=an(i),this._hasStickyChanged=s!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(i){i&&(this._name=i,this.cssClassFriendlyName=i.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return r.\u0275fac=function(i){return new(i||r)(I(Nf,8))},r.\u0275dir=de({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,s,a){if(1&i&&(Bn(a,Uf,5),Bn(a,Vf,5),Bn(a,Ty,5)),2&i){let l;je(l=qe())&&(s.cell=l.first),je(l=qe())&&(s.headerCell=l.first),je(l=qe())&&(s.footerCell=l.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[ft([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),Ie]}),r})();class U1{constructor(n,i){i.nativeElement.classList.add(...n._columnCssClassName)}}let V1=(()=>{class r extends U1{constructor(i,s){super(i,s)}}return r.\u0275fac=function(i){return new(i||r)(I(Ql),I(We))},r.\u0275dir=de({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Ie]}),r})(),wz=(()=>{class r extends U1{constructor(i,s){if(super(i,s),1===i._table?._elementRef.nativeElement.nodeType){const a=i._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return r.\u0275fac=function(i){return new(i||r)(I(Ql),I(We))},r.\u0275dir=de({type:r,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[Ie]}),r})(),z1=(()=>{class r extends U1{constructor(i,s){if(super(i,s),1===i._table?._elementRef.nativeElement.nodeType){const a=i._table._elementRef.nativeElement.getAttribute("role");s.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return r.\u0275fac=function(i){return new(i||r)(I(Ql),I(We))},r.\u0275dir=de({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Ie]}),r})();class Cz{constructor(){this.tasks=[],this.endTasks=[]}}const H1=new Ae("_COALESCED_STYLE_SCHEDULER");let xz=(()=>{class r{constructor(i){this._ngZone=i,this._currentSchedule=null,this._destroyed=new Me}schedule(i){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(i)}scheduleEnd(i){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(i)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Cz,this._getScheduleObservable().pipe(Rt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const i=this._currentSchedule;this._currentSchedule=new Cz;for(const s of i.tasks)s();for(const s of i.endTasks)s()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Zi(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Qn(1))}}return r.\u0275fac=function(i){return new(i||r)(X(ht))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),G1=(()=>{class r{constructor(i,s){this.template=i,this._differs=s}ngOnChanges(i){if(!this._columnsDiffer){const s=i.columns&&i.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(i){return this instanceof n_?i.headerCell.template:this instanceof i_?i.footerCell.template:i.cell.template}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(Oo))},r.\u0275dir=de({type:r,features:[Ri]}),r})();class lme extends G1{}const cme=N1(lme);let n_=(()=>{class r extends cme{constructor(i,s,a){super(i,s),this._table=a}ngOnChanges(i){super.ngOnChanges(i)}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(Oo),I(Nf,8))},r.\u0275dir=de({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Ie,Ri]}),r})();class ume extends G1{}const dme=N1(ume);let i_=(()=>{class r extends dme{constructor(i,s,a){super(i,s),this._table=a}ngOnChanges(i){super.ngOnChanges(i)}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(Oo),I(Nf,8))},r.\u0275dir=de({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Ie,Ri]}),r})(),ky=(()=>{class r extends G1{constructor(i,s,a){super(i,s),this._table=a}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(Oo),I(Nf,8))},r.\u0275dir=de({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Ie]}),r})(),$l=(()=>{class r{constructor(i){this._viewContainer=i,r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}}return r.mostRecentCellOutlet=null,r.\u0275fac=function(i){return new(i||r)(I(ii))},r.\u0275dir=de({type:r,selectors:[["","cdkCellOutlet",""]]}),r})(),Q1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),$1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),W1=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),Ry=(()=>{class r{constructor(i){this.templateRef=i,this._contentClassName="cdk-no-data-row"}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["ng-template","cdkNoDataRow",""]]}),r})();const Mz=["top","bottom","left","right"];class hme{constructor(n,i,s,a,l=!0,c=!0,u){this._isNativeHtmlTable=n,this._stickCellCss=i,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=c,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(n,i){const s=[];for(const a of n)if(a.nodeType===a.ELEMENT_NODE){s.push(a);for(let l=0;l<a.children.length;l++)s.push(a.children[l])}this._coalescedStyleScheduler.schedule(()=>{for(const a of s)this._removeStickyStyle(a,i)})}updateStickyColumns(n,i,s,a=!0){if(!n.length||!this._isBrowser||!i.some(m=>m)&&!s.some(m=>m))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const l=n[0],c=l.children.length,u=this._getCellWidths(l,a),d=this._getStickyStartColumnPositions(u,i),h=this._getStickyEndColumnPositions(u,s),f=i.lastIndexOf(!0),p=s.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const m="rtl"===this.direction,g=m?"right":"left",_=m?"left":"right";for(const A of n)for(let b=0;b<c;b++){const y=A.children[b];i[b]&&this._addStickyStyle(y,g,d[b],b===f),s[b]&&this._addStickyStyle(y,_,h[b],b===p)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===f?[]:u.slice(0,f+1).map((A,b)=>i[b]?A:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===p?[]:u.slice(p).map((A,b)=>s[b+p]?A:null).reverse()}))})}stickRows(n,i,s){if(!this._isBrowser)return;const a="bottom"===s?n.slice().reverse():n,l="bottom"===s?i.slice().reverse():i,c=[],u=[],d=[];for(let f=0,p=0;f<a.length;f++){if(!l[f])continue;c[f]=p;const m=a[f];d[f]=this._isNativeHtmlTable?Array.from(m.children):[m];const g=m.getBoundingClientRect().height;p+=g,u[f]=g}const h=l.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let f=0;f<a.length;f++){if(!l[f])continue;const p=c[f],m=f===h;for(const g of d[f])this._addStickyStyle(g,s,p,m)}"top"===s?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:c,elements:d}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:c,elements:d})})}updateStickyFooterContainer(n,i){if(!this._isNativeHtmlTable)return;const s=n.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{i.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1)})}_removeStickyStyle(n,i){for(const a of i)n.style[a]="",n.classList.remove(this._borderCellCss[a]);Mz.some(a=>-1===i.indexOf(a)&&n.style[a])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,i,s,a){n.classList.add(this._stickCellCss),a&&n.classList.add(this._borderCellCss[i]),n.style[i]=`${s}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const i={top:100,bottom:10,left:1,right:1};let s=0;for(const a of Mz)n.style[a]&&(s+=i[a]);return s?`${s}`:""}_getCellWidths(n,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=n.children;for(let l=0;l<a.length;l++)s.push(a[l].getBoundingClientRect().width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(n,i){const s=[];let a=0;for(let l=0;l<n.length;l++)i[l]&&(s[l]=a,a+=n[l]);return s}_getStickyEndColumnPositions(n,i){const s=[];let a=0;for(let l=n.length;l>0;l--)i[l]&&(s[l]=a,a+=n[l]);return s}}const j1=new Ae("CDK_SPL");let Py=(()=>{class r{constructor(i,s){this.viewContainer=i,this.elementRef=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(We))},r.\u0275dir=de({type:r,selectors:[["","rowOutlet",""]]}),r})(),Oy=(()=>{class r{constructor(i,s){this.viewContainer=i,this.elementRef=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(We))},r.\u0275dir=de({type:r,selectors:[["","headerRowOutlet",""]]}),r})(),By=(()=>{class r{constructor(i,s){this.viewContainer=i,this.elementRef=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(We))},r.\u0275dir=de({type:r,selectors:[["","footerRowOutlet",""]]}),r})(),Ly=(()=>{class r{constructor(i,s){this.viewContainer=i,this.elementRef=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(We))},r.\u0275dir=de({type:r,selectors:[["","noDataRowOutlet",""]]}),r})(),Fy=(()=>{class r{constructor(i,s,a,l,c,u,d,h,f,p,m,g){this._differs=i,this._changeDetectorRef=s,this._elementRef=a,this._dir=c,this._platform=d,this._viewRepeater=h,this._coalescedStyleScheduler=f,this._viewportRuler=p,this._stickyPositioningListener=m,this._ngZone=g,this._onDestroy=new Me,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new ne,this.viewChange=new mi({start:0,end:Number.MAX_VALUE}),l||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(i){this._trackByFn=i}get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(i){this._multiTemplateDataRows=an(i),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(i){this._fixedLayout=an(i),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((i,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(Rt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(i=>{i.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),py(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const i=this._dataDiffer.diff(this._renderRows);if(!i)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(i,s,(a,l,c)=>this._getEmbeddedViewArgs(a.item,c),a=>a.item.data,a=>{1===a.operation&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),i.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this._ngZone&&ht.isInAngularZone()?this._ngZone.onStable.pipe(Qn(1),Rt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(i){this._customColumnDefs.add(i)}removeColumnDef(i){this._customColumnDefs.delete(i)}addRowDef(i){this._customRowDefs.add(i)}removeRowDef(i){this._customRowDefs.delete(i)}addHeaderRowDef(i){this._customHeaderRowDefs.add(i),this._headerRowDefChanged=!0}removeHeaderRowDef(i){this._customHeaderRowDefs.delete(i),this._headerRowDefChanged=!0}addFooterRowDef(i){this._customFooterRowDefs.add(i),this._footerRowDefChanged=!0}removeFooterRowDef(i){this._customFooterRowDefs.delete(i),this._footerRowDefChanged=!0}setNoDataRow(i){this._customNoDataRow=i}updateStickyHeaderRowStyles(){const i=this._getRenderedRows(this._headerRowOutlet),a=this._elementRef.nativeElement.querySelector("thead");a&&(a.style.display=i.length?"":"none");const l=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(i,["top"]),this._stickyStyler.stickRows(i,l,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const i=this._getRenderedRows(this._footerRowOutlet),a=this._elementRef.nativeElement.querySelector("tfoot");a&&(a.style.display=i.length?"":"none");const l=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(i,["bottom"]),this._stickyStyler.stickRows(i,l,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,l),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const i=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...i,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),i.forEach((l,c)=>{this._addStickyColumnStyles([l],this._headerRowDefs[c])}),this._rowDefs.forEach(l=>{const c=[];for(let u=0;u<s.length;u++)this._renderRows[u].rowDef===l&&c.push(s[u]);this._addStickyColumnStyles(c,l)}),a.forEach((l,c)=>{this._addStickyColumnStyles([l],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_getAllRenderRows(){const i=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const c=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let u=0;u<c.length;u++){let d=c[u];const h=this._cachedRenderRowsMap.get(d.data);h.has(d.rowDef)?h.get(d.rowDef).push(d):h.set(d.rowDef,[d]),i.push(d)}}return i}_getRenderRowsForData(i,s,a){return this._getRowDefs(i,s).map(c=>{const u=a&&a.has(c)?a.get(c):[];if(u.length){const d=u.shift();return d.dataIndex=s,d}return{data:i,rowDef:c,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Ny(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=Ny(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Ny(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Ny(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const i=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=i[0]}_renderUpdatedColumns(){const i=(c,u)=>c||!!u.getColumnsDiff(),s=this._rowDefs.reduce(i,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(i,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(i,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(i){this._data=[],py(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),i||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=i}_observeRenderChanges(){if(!this.dataSource)return;let i;py(this.dataSource)?i=this.dataSource.connect(this):Iy(this.dataSource)?i=this.dataSource:Array.isArray(this.dataSource)&&(i=Ye(this.dataSource)),this._renderChangeSubscription=i.pipe(Rt(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((i,s)=>this._renderRow(this._headerRowOutlet,i,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((i,s)=>this._renderRow(this._footerRowOutlet,i,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(i,s){const a=Array.from(s.columns||[]).map(u=>this._columnDefsByName.get(u)),l=a.map(u=>u.sticky),c=a.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(i,l,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(i){const s=[];for(let a=0;a<i.viewContainer.length;a++){const l=i.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(i,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,i));else{let l=this._rowDefs.find(c=>c.when&&c.when(s,i))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(i,s){return{templateRef:i.rowDef.template,context:{$implicit:i.data},index:s}}_renderRow(i,s,a,l={}){const c=i.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),c}_renderCellTemplateForItem(i,s){for(let a of this._getCellTemplates(i))$l.mostRecentCellOutlet&&$l.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const i=this._rowOutlet.viewContainer;for(let s=0,a=i.length;s<a;s++){const c=i.get(s).context;c.count=a,c.first=0===s,c.last=s===a-1,c.even=s%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[s].dataIndex,c.renderIndex=s):c.index=this._renderRows[s].dataIndex}}_getCellTemplates(i){return i&&i.columns?Array.from(i.columns,s=>{const a=this._columnDefsByName.get(s);return i.extractCellTemplate(a)}):[]}_applyNativeTableSections(){const i=this._document.createDocumentFragment(),s=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const a of s){const l=this._document.createElement(a.tag);l.setAttribute("role","rowgroup");for(const c of a.outlets)l.appendChild(c.elementRef.nativeElement);i.appendChild(l)}this._elementRef.nativeElement.appendChild(i)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const i=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(i,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(i,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(i,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new hme(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ye()).pipe(Rt(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(i){return i.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const i=this._customNoDataRow||this._noDataRow;if(!i)return;const s=0===this._rowOutlet.viewContainer.length;if(s===this._isShowingNoDataRow)return;const a=this._noDataRowOutlet.viewContainer;if(s){const l=a.createEmbeddedView(i.templateRef),c=l.rootNodes[0];1===l.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(i._contentClassName))}else a.clear();this._isShowingNoDataRow=s}}return r.\u0275fac=function(i){return new(i||r)(I(Oo),I(yi),I(We),Ba("role"),I(Ss,8),I(At),I(Sr),I(Yg),I(H1),I(Yc),I(j1,12),I(ht,8))},r.\u0275cmp=Be({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,s,a){if(1&i&&(Bn(a,Ry,5),Bn(a,Ql,5),Bn(a,ky,5),Bn(a,n_,5),Bn(a,i_,5)),2&i){let l;je(l=qe())&&(s._noDataRow=l.first),je(l=qe())&&(s._contentColumnDefs=l),je(l=qe())&&(s._contentRowDefs=l),je(l=qe())&&(s._contentHeaderRowDefs=l),je(l=qe())&&(s._contentFooterRowDefs=l)}},viewQuery:function(i,s){if(1&i&&(pn(Py,7),pn(Oy,7),pn(By,7),pn(Ly,7)),2&i){let a;je(a=qe())&&(s._rowOutlet=a.first),je(a=qe())&&(s._headerRowOutlet=a.first),je(a=qe())&&(s._footerRowOutlet=a.first),je(a=qe())&&(s._noDataRowOutlet=a.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,s){2&i&&$t("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[ft([{provide:Nf,useExisting:r},{provide:Yg,useClass:rV},{provide:H1,useClass:xz},{provide:j1,useValue:null}])],ngContentSelectors:nme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,s){1&i&&(Bi(tme),bn(0),bn(1,1),vs(2,0)(3,1)(4,2)(5,3))},dependencies:[Py,Oy,By,Ly],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})();function Ny(r,n){return r.concat(Array.from(n))}let pme=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[ty]}),r})();const mme=[[["caption"]],[["colgroup"],["col"]]],gme=["caption","colgroup, col"];let q1=(()=>{class r extends Fy{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(i,s){2&i&&$t("mat-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],features:[ft([{provide:Yg,useClass:rV},{provide:Fy,useExisting:r},{provide:Nf,useExisting:r},{provide:H1,useClass:xz},{provide:j1,useValue:null}]),Ie],ngContentSelectors:gme,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,s){1&i&&(Bi(mme),bn(0),bn(1,1),vs(2,0)(3,1)(4,2)(5,3))},dependencies:[Py,Oy,By,Ly],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),r})(),Uy=(()=>{class r extends Uf{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matCellDef",""]],features:[ft([{provide:Uf,useExisting:r}]),Ie]}),r})(),Vy=(()=>{class r extends Vf{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matHeaderCellDef",""]],features:[ft([{provide:Vf,useExisting:r}]),Ie]}),r})(),Sz=(()=>{class r extends Ty{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matFooterCellDef",""]],features:[ft([{provide:Ty,useExisting:r}]),Ie]}),r})(),zy=(()=>{class r extends Ql{get name(){return this._name}set name(i){this._setNameInput(i)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[ft([{provide:Ql,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),Ie]}),r})(),Hy=(()=>{class r extends V1{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Ie]}),r})(),Dz=(()=>{class r extends wz{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:["role","gridcell",1,"mat-footer-cell"],features:[Ie]}),r})(),Gy=(()=>{class r extends z1{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Ie]}),r})(),Y1=(()=>{class r extends n_{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[ft([{provide:n_,useExisting:r}]),Ie]}),r})(),Iz=(()=>{class r extends i_{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matFooterRowDef",""]],inputs:{columns:["matFooterRowDef","columns"],sticky:["matFooterRowDefSticky","sticky"]},features:[ft([{provide:i_,useExisting:r}]),Ie]}),r})(),X1=(()=>{class r extends ky{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[ft([{provide:ky,useExisting:r}]),Ie]}),r})(),K1=(()=>{class r extends Q1{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[ft([{provide:Q1,useExisting:r}]),Ie],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),Tz=(()=>{class r extends $1{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-footer-row"],exportAs:["matFooterRow"],features:[ft([{provide:$1,useExisting:r}]),Ie],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),Z1=(()=>{class r extends W1{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[ft([{provide:W1,useExisting:r}]),Ie],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[$l],encapsulation:2}),r})(),kz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[pme,vn,vn]}),r})();class Cme extends iV{constructor(n=[]){super(),this._renderData=new mi([]),this._filter=new mi(""),this._internalPageChanges=new Me,this._renderChangesSubscription=null,this.sortingDataAccessor=(i,s)=>{const a=i[s];if(v4(a)){const l=Number(a);return l<9007199254740991?l:a}return a},this.sortData=(i,s)=>{const a=s.active,l=s.direction;return a&&""!=l?i.sort((c,u)=>{let d=this.sortingDataAccessor(c,a),h=this.sortingDataAccessor(u,a);const f=typeof d,p=typeof h;f!==p&&("number"===f&&(d+=""),"number"===p&&(h+=""));let m=0;return null!=d&&null!=h?d>h?m=1:d<h&&(m=-1):null!=d?m=1:null!=h&&(m=-1),m*("asc"==l?1:-1)}):i},this.filterPredicate=(i,s)=>{const a=Object.keys(i).reduce((c,u)=>c+i[u]+"\u25ec","").toLowerCase(),l=s.trim().toLowerCase();return-1!=a.indexOf(l)},this._data=new mi(n),this._updateChangeSubscription()}get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}_updateChangeSubscription(){const n=this._sort?yr(this._sort.sortChange,this._sort.initialized):Ye(null),i=this._paginator?yr(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ye(null),a=Gs([this._data,this._filter]).pipe(Oe(([u])=>this._filterData(u))),l=Gs([a,n]).pipe(Oe(([u])=>this._orderData(u))),c=Gs([l,i]).pipe(Oe(([u])=>this._pageData(u)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(u=>this._renderData.next(u))}_filterData(n){return this.filteredData=null==this.filter||""===this.filter?n:n.filter(i=>this.filterPredicate(i,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;const i=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(i,i+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{const i=this.paginator;if(i&&(i.length=n,i.pageIndex>0)){const s=Math.ceil(i.length/i.pageSize)-1||0,a=Math.min(i.pageIndex,s);a!==i.pageIndex&&(i.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Rz extends Cme{}function xme(r,n){if(1&r&&(q(0,"th",8),re(1),W()),2&r){const i=ie().$implicit;let s,a;nn("colspan",null!==(s=i.colspan)&&void 0!==s?s:1)("rowspan",null!==(a=i.rowspan)&&void 0!==a?a:1),N(1),In(" ",i.header," ")}}function Mme(r,n){1&r&&(ci(0,6),K(1,xme,2,3,"th",7),ui()),2&r&&B("matColumnDef",n.$implicit.columnDef)}function Eme(r,n){if(1&r&&(ci(0),K(1,Mme,2,1,"ng-container",2),ui()),2&r){const i=ie();N(1),B("ngForOf",i.cellHeaders)}}function Sme(r,n){if(1&r&&(q(0,"th",8),re(1),W()),2&r){const i=ie().$implicit;let s,a;nn("colspan",null!==(s=i.colspan)&&void 0!==s?s:1)("rowspan",null!==(a=i.rowspan)&&void 0!==a?a:1),N(1),In(" ",i.header," ")}}function Dme(r,n){1&r&&(ci(0,6),K(1,Sme,2,3,"th",7),ui()),2&r&&B("matColumnDef",n.$implicit.columnDef)}function Ime(r,n){if(1&r&&(ci(0),K(1,Dme,2,1,"ng-container",2),ui()),2&r){const i=ie();N(1),B("ngForOf",i.additionalHeaders)}}function Tme(r,n){if(1&r&&(q(0,"th",13),re(1),W()),2&r){const i=ie(2).$implicit;Ga(ie().getAlignmentClass(i)),N(1),In(" ",i.header," ")}}function kme(r,n){1&r&&(ci(0),K(1,Tme,2,3,"th",12),ui())}function Rme(r,n){if(1&r&&(q(0,"th",15),re(1),W()),2&r){const i=ie(2).$implicit;N(1),Ut(i.header)}}function Pme(r,n){1&r&&K(0,Rme,2,1,"th",14)}function Ome(r,n){if(1&r&&pe(0,"td",16),2&r){const i=n.$implicit,s=ie().$implicit,a=ie();Ga(a.getAlignmentClass(s)),$t("transform",a.isOrgan),B("innerHtml",a.formatData(s.cell(i)),mO)}}function Bme(r,n){if(1&r&&(ci(0),re(1),ui()),2&r){const i=ie(3).$implicit,s=ie();N(1),In(" ",s.getTotal(i.columnDef)," ")}}function Lme(r,n){1&r&&(ci(0),re(1,"Totals"),ui())}function Fme(r,n){1&r&&K(0,Lme,2,0,"ng-container",1),2&r&&B("ngIf",ie(3).$implicit.isTotalRequired)}function Nme(r,n){if(1&r&&(q(0,"td",18),K(1,Bme,2,1,"ng-container",9),K(2,Fme,1,1,"ng-template",null,19,es),W()),2&r){const i=Oi(3),s=ie(2).$implicit,a=ie();N(1),B("ngIf",a.isNumericColumn(s.columnDef))("ngIfElse",i)}}function Ume(r,n){1&r&&(ci(0),K(1,Nme,4,2,"td",17),ui())}function Vme(r,n){if(1&r&&(ci(0,6),K(1,kme,2,0,"ng-container",9),K(2,Pme,1,0,"ng-template",null,10,es),K(4,Ome,1,5,"td",11),K(5,Ume,2,0,"ng-container",1),ui()),2&r){const i=n.$implicit,s=Oi(3),a=ie();let l;B("matColumnDef",i.columnDef),N(1),B("ngIf",null===(l=i.sorting)||void 0===l||l)("ngIfElse",s),N(4),B("ngIf",a.isTotal)}}function zme(r,n){1&r&&pe(0,"tr",21)}function Hme(r,n){if(1&r&&(ci(0),K(1,zme,1,0,"tr",20),ui()),2&r){const i=ie();N(1),B("matHeaderRowDef",i.cellHeadersData)}}function Gme(r,n){1&r&&pe(0,"tr",21)}function Qme(r,n){if(1&r&&(ci(0),K(1,Gme,1,0,"tr",20),ui()),2&r){const i=ie();N(1),B("matHeaderRowDef",i.additionalColumnsData)}}function $me(r,n){1&r&&pe(0,"tr",22)}function Wme(r,n){1&r&&pe(0,"tr",23)}function jme(r,n){1&r&&pe(0,"tr",25)}function qme(r,n){if(1&r&&(q(0,"div"),K(1,jme,1,0,"tr",24),W()),2&r){const i=ie();N(1),B("matFooterRowDef",i.displayedColumns)}}let Pz=(()=>{class r{constructor(){this.displayedColumns=[],this.columns=[],this.isTotal=!1,this.dataSource=new Rz([])}set sort(i){this.dataSource.sort=i}set typeCount(i){this.dataSource.data=i}get firstColumnId(){return this.columns[0]?.columnDef??""}getTotal(i){return this.dataSource.data.filter(a=>"number"==typeof a[i]).reduce((a,l)=>a+l[i],0).toLocaleString()}isNumericColumn(i){if("tableVersion"===i)return!1;let s=!1;for(const{[i]:a}of this.dataSource.data)if(null!==a){if("number"!=typeof a)return!1;s=!0}return s}isTotalRequired(i){return i.isTotalRequired}getAlignmentClass(i){return`alignment-${i.alignment??"default"}`}formatData(i){return null!==i?`${i}`:"no data"}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-table"]],viewQuery:function(i,s){if(1&i&&pn(t_,7),2&i){let a;je(a=qe())&&(s.sort=a.first)}},inputs:{isOrgan:"isOrgan",typeCount:"typeCount",displayedColumns:"displayedColumns",columns:"columns",isTotal:"isTotal",additionalHeaders:"additionalHeaders",additionalColumnsData:"additionalColumnsData",cellHeaders:"cellHeaders",cellHeadersData:"cellHeadersData"},decls:10,vars:10,consts:[["mat-table","","matSort","","matSortDirection","asc",1,"mat-elevation-z8","data-table",3,"dataSource","matSortActive"],[4,"ngIf"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","","class","row-one",4,"matHeaderRowDef"],[1,"first-column"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","class","table-title additional-header",4,"matHeaderCellDef"],["mat-header-cell","",1,"table-title","additional-header"],[4,"ngIf","ngIfElse"],["noSortHeader",""],["mat-cell","","class","table-cell",3,"innerHtml","transform","class",4,"matCellDef"],["mat-header-cell","","class","table-title","mat-sort-header","",3,"class",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",1,"table-title"],["mat-header-cell","","class","table-title",4,"matHeaderCellDef"],["mat-header-cell","",1,"table-title"],["mat-cell","",1,"table-cell",3,"innerHtml"],["mat-footer-cell","","class","table-footer",4,"matFooterCellDef"],["mat-footer-cell","",1,"table-footer"],["totalLabel",""],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row",""],["mat-header-row","",1,"row-one"],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(i,s){1&i&&(q(0,"table",0),K(1,Eme,2,1,"ng-container",1),K(2,Ime,2,1,"ng-container",1),K(3,Vme,6,4,"ng-container",2),K(4,Hme,2,1,"ng-container",1),K(5,Qme,2,1,"ng-container",1),K(6,$me,1,0,"tr",3),q(7,"div",4),K(8,Wme,1,0,"tr",5),W(),K(9,qme,2,1,"div",1),W()),2&i&&(B("dataSource",s.dataSource)("matSortActive",s.firstColumnId),N(1),B("ngIf",null==s.cellHeaders?null:s.cellHeaders.length),N(1),B("ngIf",null==s.additionalHeaders?null:s.additionalHeaders.length),N(1),B("ngForOf",s.columns),N(1),B("ngIf",null==s.cellHeaders?null:s.cellHeaders.length),N(1),B("ngIf",null==s.additionalHeaders?null:s.additionalHeaders.length),N(1),B("matHeaderRowDef",s.displayedColumns),N(2),B("matRowDefColumns",s.displayedColumns),N(1),B("ngIf",s.isTotal))},dependencies:[pi,Rr,q1,Vy,Y1,zy,Uy,X1,Sz,Iz,Hy,Gy,Dz,K1,Z1,Tz,t_,yz],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow-x:auto}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]{table-layout:fixed;min-width:100%;background-color:#fff;border:.063rem solid #e0e0e0;box-shadow:0 .125rem .063rem #00000029}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;min-width:6.125rem;color:#212121;text-overflow:ellipsis;white-space:normal}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{vertical-align:text-top;padding:1rem;max-width:150px}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{font-weight:300;box-sizing:border-box}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]:not(:first-child){text-align:right;box-sizing:border-box;white-space:unset;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-default[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>*{justify-content:end}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>* .mat-sort-header-content{text-align:right}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-start[_ngcontent-%COMP%]{text-align:left;padding-left:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>*{justify-content:start}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>* .mat-sort-header-content{text-align:left}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-end[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>*{justify-content:end}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>* .mat-sort-header-content{text-align:right}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-center[_ngcontent-%COMP%]{text-align:""}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>*{justify-content:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>* .mat-sort-header-content{text-align:""}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow{color:#212121!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow:hover{transform:rotate(180deg)!important;color:#ebebeb!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .additional-header[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow{opacity:.54!important;transform:rotate(180deg)!important;color:#ebebeb!important;size:3rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow:hover{color:#8b8383!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-content{white-space:normal}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-column-csv{white-space:nowrap!important;align-items:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     td.mat-column-csv{text-align:left!important;padding-left:1rem;padding-right:unset!important}']}),r})();function Yme(r,n){if(1&r){const i=di();q(0,"ccf-choose-version",2),tt("selectedVersion",function(a){return Cn(i),xn(ie().setData(a))}),W()}if(2&r){const i=ie();B("releaseDate",i.versionData)("selectedDate",i.release)}}const Oz=function(){return[]};let Xme=(()=>{class r{constructor(i){this.dataService=i,this.versionChooserDisabled=!1,this.isTotal=!1,this.displayedColumnsData=[],this.additionalColumnsData=[],this.cellHeadersData=[],this.tableData=Us,this.columns=Us,this._headerInfo=[],this._additionalHeaders=[],this._cellHeaders=[]}set headerInfo(i){this._headerInfo=this.createCellFunctions(i),this.displayedColumnsData=this.getColumnDefs(i)}get headerInfo(){return this._headerInfo}set additionalHeaders(i){this._additionalHeaders=i??[],this.additionalColumnsData=this.getColumnDefs(i)}get additionalHeaders(){return this._additionalHeaders}set cellHeaders(i){this._cellHeaders=i??[],this.cellHeadersData=this.getColumnDefs(i)}get cellHeaders(){return this._cellHeaders}ngOnInit(){this.setData(this.release=this.versionData[0])}setData(i){const s=this.dataService.getData(i.file,this.displayedColumnsData);this.tableData=s.pipe(Oe(a=>a.data)),this.columns=s.pipe(Oe(a=>a.columns))}createCellFunctions(i){return i.map(s=>({...s,cell:new Function("element",`return ${s.cell}`)}))}getColumnDefs(i){return i?.map(s=>s.columnDef)??[]}}return r.\u0275fac=function(i){return new(i||r)(I(nV))},r.\u0275cmp=Be({type:r,selectors:[["table-version"]],inputs:{versionData:"versionData",versionChooserDisabled:"versionChooserDisabled",isTotal:"isTotal",headerInfo:"headerInfo",additionalHeaders:"additionalHeaders",cellHeaders:"cellHeaders"},decls:4,vars:16,consts:[["class","description",3,"releaseDate","selectedDate","selectedVersion",4,"ngIf"],[1,"description",3,"typeCount","displayedColumns","columns","isTotal","isOrgan","additionalHeaders","additionalColumnsData","cellHeaders","cellHeadersData"],[1,"description",3,"releaseDate","selectedDate","selectedVersion"]],template:function(i,s){if(1&i&&(K(0,Yme,1,2,"ccf-choose-version",0),pe(1,"ccf-table",1),Lc(2,"async"),Lc(3,"async")),2&i){let a,l;B("ngIf",!s.versionChooserDisabled),N(1),B("typeCount",null!==(a=Fc(2,10,s.tableData))&&void 0!==a?a:Il(14,Oz))("displayedColumns",null!==(l=Fc(3,12,s.columns))&&void 0!==l?l:Il(15,Oz))("columns",s.headerInfo)("isTotal",s.isTotal)("isOrgan",!0)("additionalHeaders",s.additionalHeaders)("additionalColumnsData",s.additionalColumnsData)("cellHeaders",s.cellHeaders)("cellHeadersData",s.cellHeadersData)}},dependencies:[Rr,F1,Pz,sg],styles:['.choose-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem}.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:21rem;height:2.5rem;font-weight:400;font-size:.875rem;line-height:1.4202rem;letter-spacing:.005rem;color:#444c65;border:1px solid #444c65;border-radius:2px}.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-trigger{height:100%;justify-content:space-between;padding:0rem 1rem}.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-trigger .mat-select-value{width:unset}.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-left:12px}@media (max-width: 26.75rem){.choose-container[_ngcontent-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:100%}}.choose-container[_ngcontent-%COMP%]     mat-option-text{font-weight:300;font-size:14px;line-height:24px;letter-spacing:.005rem;color:#444a65}.choose-container[_ngcontent-%COMP%]     .versions-panel{position:relative;top:41px;left:1rem;min-width:unset!important}.choose-container[_ngcontent-%COMP%]     .mat-select-panel .mat-option.mat-selected:not(.mat-option-multiple){background-color:unset}.choose-container[_ngcontent-%COMP%]     .mat-select-panel{max-width:unset!important}.table-container[_ngcontent-%COMP%]{margin-bottom:2.5rem;display:block;width:100%;overflow-x:auto}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]{table-layout:fixed;min-width:100%;background-color:#fff;border:.063rem solid #e0e0e0;box-shadow:0 .125rem .063rem #00000029}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;min-width:6.125rem;color:#212121;text-overflow:ellipsis;white-space:normal}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{vertical-align:text-top;padding:1rem;max-width:150px}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{font-weight:300;box-sizing:border-box}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]:not(:first-child){text-align:right;box-sizing:border-box;white-space:unset;padding-right:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-default[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>*{justify-content:end}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>* .mat-sort-header-content{text-align:right}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-start[_ngcontent-%COMP%]{text-align:left;padding-left:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>*{justify-content:start}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>* .mat-sort-header-content{text-align:left}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-end[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>*{justify-content:end}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>* .mat-sort-header-content{text-align:right}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-center[_ngcontent-%COMP%]{text-align:""}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>*{justify-content:center}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>* .mat-sort-header-content{text-align:""}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow{color:#212121!important}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow:hover{transform:rotate(180deg)!important;color:#ebebeb!important}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]   .additional-header[_ngcontent-%COMP%]{text-align:center}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow{opacity:.54!important;transform:rotate(180deg)!important;color:#ebebeb!important;size:3rem}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow:hover{color:#8b8383!important}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-content{white-space:normal}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-column-csv{white-space:nowrap!important;align-items:center}.table-container[_ngcontent-%COMP%]   .data-table[_ngcontent-%COMP%]     td.mat-column-csv{text-align:left!important;padding-left:1rem;padding-right:unset!important}']}),r})();function Kme(r,n){if(1&r&&(q(0,"div",7)(1,"div",8)(2,"b"),re(3,"Presented by:"),W(),re(4),W(),q(5,"div"),pe(6,"img",9),W()()),2&r){const i=ie().$implicit;N(4),In(" ",i.presentedBy," "),N(2),B("src",i.orgImage,yn)}}function Zme(r,n){1&r&&pe(0,"mat-divider")}function Jme(r,n){if(1&r&&(q(0,"a",14),re(1),W()),2&r){const i=n.$implicit;B("href",i.link,yn),N(1),Ut(i.label)}}function ege(r,n){if(1&r&&(q(0,"div",12),K(1,Jme,2,2,"a",13),W()),2&r){const i=ie().$implicit;N(1),B("ngForOf",i.button)}}function tge(r,n){if(1&r&&(q(0,"div",10)(1,"div")(2,"markdown")(3,"b"),re(4,"Winner: "),W(),re(5),W()(),q(6,"div")(7,"markdown"),re(8),W()(),K(9,ege,2,1,"div",11),W()),2&r){const i=n.$implicit;N(5),Ut(i.winner),N(3),Ut(i.kaggleId),N(1),B("ngIf",i.button)}}function nge(r,n){1&r&&pe(0,"img",17),2&r&&B("src",n.$implicit,yn)}function ige(r,n){if(1&r&&(q(0,"div",15),K(1,nge,1,1,"img",16),W()),2&r){const i=ie().$implicit;N(1),B("ngForOf",i.userImage)}}function rge(r,n){if(1&r&&(q(0,"mat-card")(1,"div",1)(2,"div",2),re(3),W(),K(4,Kme,7,2,"div",3),K(5,Zme,1,0,"mat-divider",4),K(6,tge,10,3,"div",5),W(),K(7,ige,2,1,"div",6),W()),2&r){const i=n.$implicit;N(3),Ut(i.title),N(1),B("ngIf",i.presentedBy),N(1),B("ngIf",i.matDivider),N(1),B("ngForOf",i.winner),N(1),B("ngIf",i.userImage)}}let sge=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-prize-card"]],inputs:{prizeCard:"prizeCard"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"content"],[1,"prize-place"],["class","presented-container",4,"ngIf"],[4,"ngIf"],["class","winner",4,"ngFor","ngForOf"],["class","users",4,"ngIf"],[1,"presented-container"],[1,"presented"],[3,"src"],[1,"winner"],["class","buttons",4,"ngIf"],[1,"buttons"],["mat-stroked-button","","class","solution-button","target","_blank",3,"href",4,"ngFor","ngForOf"],["mat-stroked-button","","target","_blank",1,"solution-button",3,"href"],[1,"users"],["class","user-image",3,"src",4,"ngFor","ngForOf"],[1,"user-image",3,"src"]],template:function(i,s){1&i&&K(0,rge,8,5,"mat-card",0),2&i&&B("ngForOf",s.prizeCard)},dependencies:[pi,Rr,Xa,md,Ad,cd],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;padding:2rem;margin-bottom:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{max-width:20rem}[_nghost-%COMP%]   .presented-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;max-width:inherit}[_nghost-%COMP%]   .presented[_ngcontent-%COMP%]{max-width:8.438rem;display:flex;flex-direction:column;align-items:flex-start;gap:.5rem;font-weight:300;font-size:1rem;padding-bottom:1rem}[_nghost-%COMP%]   .winner[_ngcontent-%COMP%]{padding-top:1rem;gap:.5rem;font-size:1rem;max-width:20rem;font-weight:300;display:flex;flex-direction:column}[_nghost-%COMP%]   .prize-place[_ngcontent-%COMP%]{font-weight:400;font-size:20px;line-height:1.4202rem;letter-spacing:.005rem;padding-bottom:1rem}[_nghost-%COMP%]   .solution-button[_ngcontent-%COMP%]{margin-top:1rem;margin-right:1rem;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .users[_ngcontent-%COMP%]{padding-left:3rem}[_nghost-%COMP%]   .user-image[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:none}[_nghost-%COMP%]     p{margin-block-start:unset;margin-block-end:unset;margin-inline-start:unset;margin-inline-end:unset}@media (max-width: 26.75rem){[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:column}[_nghost-%COMP%]   .users[_ngcontent-%COMP%]{padding:unset;padding-top:3rem}}"]}),r})();function oge(r,n){1&r&&pe(0,"ccf-page-header",21),2&r&&B("headerCard",ie().def.headerCard)}function age(r,n){1&r&&pe(0,"ccf-page-data",22),2&r&&B("data",ie().def.pageData)}function lge(r,n){1&r&&pe(0,"announcement-card",23),2&r&&B("messages",ie().def.announcementCard)}function cge(r,n){1&r&&pe(0,"ccf-use-button",24),2&r&&B("buttonData",ie().def)}function uge(r,n){1&r&&pe(0,"ccf-sop-links",25),2&r&&B("links",ie().def.sopData)}function dge(r,n){1&r&&pe(0,"ccf-board-members",26),2&r&&B("membersData",ie().def.boardMembersData)}function hge(r,n){if(1&r){const i=di();q(0,"ccf-card-button-long",27),tt("cardRoutes",function(a){return Cn(i),xn(ie().clicked(a))}),W()}2&r&&B("longButtonItems",ie().def.longButtonItems)}function fge(r,n){1&r&&pe(0,"ccf-simple-tile",28),2&r&&B("definitions",ie().def.description)}function pge(r,n){1&r&&pe(0,"youtube-model",29),2&r&&B("playerData",ie().def.youtubePlayer)}function mge(r,n){if(1&r&&(q(0,"div"),re(1),W()),2&r){const i=ie();xr(i.def.styles),Ga(i.def.class),N(1),Ut(i.def.title)}}function gge(r,n){if(1&r&&pe(0,"div"),2&r){const i=ie();Ha("margin-top",i.def.top)("margin-bottom",i.def.bottom)}}function _ge(r,n){1&r&&pe(0,"card-with-header",30),2&r&&B("cardBlockData",ie().def.cardWithTitle)}function bge(r,n){1&r&&pe(0,"ccf-simple-image",31),2&r&&B("imageInfo",ie().def.imageData)}function Age(r,n){if(1&r&&pe(0,"img",32),2&r){const i=ie();xr(i.def.styles),Ga(i.def.class),B("src",i.def.imageSource,yn)}}function yge(r,n){if(1&r&&(q(0,"div"),re(1),W()),2&r){const i=ie();xr(i.def.styles),Ga(i.def.class),N(1),Ut(i.def.text)}}function vge(r,n){1&r&&pe(0,"page-element",34),2&r&&B("def",n.$implicit)}function wge(r,n){if(1&r&&(q(0,"div"),K(1,vge,1,1,"page-element",33),W()),2&r){const i=ie();xr(i.def.styles),Ga(i.def.class),N(1),B("ngForOf",i.def.components)}}function Cge(r,n){if(1&r&&(q(0,"div"),pe(1,"ccf-carousel",35),W()),2&r){const i=ie();xr(i.def.containerStyles),N(1),B("carouselInfo",i.def.carouselInfo)}}function xge(r,n){1&r&&pe(0,"count-info-card",36),2&r&&B("cardInformation",ie().def.countCardInfo)}function Mge(r,n){1&r&&pe(0,"ccf-section-card",37),2&r&&B("cards",ie().def.cardsInfo)}function Ege(r,n){if(1&r&&pe(0,"table-version",38),2&r){const i=ie();B("isTotal",i.def.isTotal)("versionChooserDisabled",i.def.versionChooserDisabled)("headerInfo",i.def.headerInfo)("versionData",i.def.versionData)("additionalHeaders",i.def.additionalHeaders)("cellHeaders",i.def.cellHeaders)}}function Sge(r,n){1&r&&pe(0,"page-element",34),2&r&&B("def",n.$implicit)}function Dge(r,n){if(1&r&&(q(0,"mat-card"),K(1,Sge,1,1,"page-element",33),W()),2&r){const i=ie();xr(i.def.styles),N(1),B("ngForOf",i.def.components)}}function Ige(r,n){1&r&&pe(0,"ccf-prize-card",39),2&r&&B("prizeCard",ie().def.prizeCard)}function Tge(r,n){if(1&r&&(q(0,"a",41),re(1),W()),2&r){const i=n.$implicit;Ga(i.class),B("href",i.href,yn)("title",i.title),N(1),Ut(i.data)}}function kge(r,n){if(1&r&&(q(0,"div"),K(1,Tge,2,5,"a",40),W()),2&r){const i=ie();xr(i.def.styles),N(1),B("ngForOf",i.def.links)}}let Rge=(()=>{class r{constructor(i,s){this.router=i,this.route=s}clicked(i){this.router.navigate([i.route])}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["page-element"]],inputs:{def:"def"},decls:24,vars:24,consts:[[3,"ngSwitch"],["class","page-header",3,"headerCard",4,"ngSwitchCase"],["class","description",3,"data",4,"ngSwitchCase"],[3,"messages",4,"ngSwitchCase"],["class","button-container",3,"buttonData",4,"ngSwitchCase"],[3,"links",4,"ngSwitchCase"],[3,"membersData",4,"ngSwitchCase"],[3,"longButtonItems","cardRoutes",4,"ngSwitchCase"],[3,"definitions",4,"ngSwitchCase"],[3,"playerData",4,"ngSwitchCase"],[3,"class","style",4,"ngSwitchCase"],[3,"margin-top","margin-bottom",4,"ngSwitchCase"],[3,"cardBlockData",4,"ngSwitchCase"],[3,"imageInfo",4,"ngSwitchCase"],[3,"src","class","style",4,"ngSwitchCase"],[3,"style","class",4,"ngSwitchCase"],[3,"style",4,"ngSwitchCase"],[3,"cardInformation",4,"ngSwitchCase"],[3,"cards",4,"ngSwitchCase"],[3,"isTotal","versionChooserDisabled","headerInfo","versionData","additionalHeaders","cellHeaders",4,"ngSwitchCase"],[3,"prizeCard",4,"ngSwitchCase"],[1,"page-header",3,"headerCard"],[1,"description",3,"data"],[3,"messages"],[1,"button-container",3,"buttonData"],[3,"links"],[3,"membersData"],[3,"longButtonItems","cardRoutes"],[3,"definitions"],[3,"playerData"],[3,"cardBlockData"],[3,"imageInfo"],[3,"src"],[3,"def",4,"ngFor","ngForOf"],[3,"def"],[3,"carouselInfo"],[3,"cardInformation"],[3,"cards"],[3,"isTotal","versionChooserDisabled","headerInfo","versionData","additionalHeaders","cellHeaders"],[3,"prizeCard"],[3,"href","title","class",4,"ngFor","ngForOf"],[3,"href","title"]],template:function(i,s){1&i&&(ci(0,0),K(1,oge,1,1,"ccf-page-header",1),K(2,age,1,1,"ccf-page-data",2),K(3,lge,1,1,"announcement-card",3),K(4,cge,1,1,"ccf-use-button",4),K(5,uge,1,1,"ccf-sop-links",5),K(6,dge,1,1,"ccf-board-members",6),K(7,hge,1,1,"ccf-card-button-long",7),K(8,fge,1,1,"ccf-simple-tile",8),K(9,pge,1,1,"youtube-model",9),K(10,mge,2,5,"div",10),K(11,gge,1,4,"div",11),K(12,_ge,1,1,"card-with-header",12),K(13,bge,1,1,"ccf-simple-image",13),K(14,Age,1,5,"img",14),K(15,yge,2,5,"div",15),K(16,wge,2,5,"div",15),K(17,Cge,2,3,"div",16),K(18,xge,1,1,"count-info-card",17),K(19,Mge,1,1,"ccf-section-card",18),K(20,Ege,1,6,"table-version",19),K(21,Dge,2,3,"mat-card",16),K(22,Ige,1,1,"ccf-prize-card",20),K(23,kge,2,3,"div",16),ui()),2&i&&(B("ngSwitch",s.def.type),N(1),B("ngSwitchCase","header"),N(1),B("ngSwitchCase","page-data"),N(1),B("ngSwitchCase","announcement"),N(1),B("ngSwitchCase","button"),N(1),B("ngSwitchCase","sop-links"),N(1),B("ngSwitchCase","boardMembers"),N(1),B("ngSwitchCase","longCard"),N(1),B("ngSwitchCase","simpleTile"),N(1),B("ngSwitchCase","player"),N(1),B("ngSwitchCase","title"),N(1),B("ngSwitchCase","margin"),N(1),B("ngSwitchCase","cardBlock"),N(1),B("ngSwitchCase","simpleImage"),N(1),B("ngSwitchCase","image"),N(1),B("ngSwitchCase","text"),N(1),B("ngSwitchCase","styled-group"),N(1),B("ngSwitchCase","carousel"),N(1),B("ngSwitchCase","countCard"),N(1),B("ngSwitchCase","sectionCard"),N(1),B("ngSwitchCase","tableVersion"),N(1),B("ngSwitchCase","matCard"),N(1),B("ngSwitchCase","prizeCard"),N(1),B("ngSwitchCase","datasets"))},dependencies:[pi,pf,lA,qA,Fg,QS,$S,Sle,rU,qle,WS,gce,bce,Cue,ffe,mfe,bfe,Xme,Xa,sge,r],styles:["[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-top:2rem;padding-bottom:1rem}[_nghost-%COMP%]   .description[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{margin-bottom:2.5rem;width:-moz-fit-content;width:fit-content}[_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{display:block;margin-top:3.5rem;margin-bottom:1.5rem}"]}),r})();function Pge(r,n){1&r&&pe(0,"page-element",1),2&r&&B("def",n.$implicit)}let Bz=(()=>{class r{constructor(){this.defs=[]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-page-renderer"]],inputs:{defs:"defs"},decls:1,vars:1,consts:[[3,"def",4,"ngFor","ngForOf"],[3,"def"]],template:function(i,s){1&i&&K(0,Pge,1,1,"page-element",0),2&i&&B("ngForOf",s.defs)},dependencies:[pi,Rge]}),r})(),Ni=(()=>{class r{constructor(i){this.route=i,this.data=this.route.snapshot.data.content}}return r.\u0275fac=function(i){return new(i||r)(I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["page"]],decls:1,vars:1,consts:[[3,"defs"]],template:function(i,s){1&i&&pe(0,"ccf-page-renderer",0),2&i&&B("defs",s.data)},dependencies:[Bz],styles:["[_nghost-%COMP%]{max-width:77rem}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem;max-width:100vw}}"]}),r})();function Oge(r,n){if(1&r&&(q(0,"mat-card",1)(1,"div",2),pe(2,"img",3),W(),q(3,"mat-card-content")(4,"p",4),re(5),W(),q(6,"p",5),re(7),W(),pe(8,"mat-divider"),q(9,"p",6),re(10),W(),q(11,"p",7)(12,"span",8),re(13,"email"),W(),re(14,"\xa0 "),q(15,"a",9),re(16),W()()()()),2&r){const i=n.$implicit;N(2),B("src",i.image,yn),N(3),Ut(i.field),N(2),Ut(i.name),N(3),In(" ",i.role," "),N(6),Ut(i.email)}}let Bge=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["contact-card"]],inputs:{contactCard:"contactCard"},decls:1,vars:1,consts:[["class","contact-card",4,"ngFor","ngForOf"],[1,"contact-card"],[1,"image-container"],["mat-card-image","",3,"src"],[1,"work-field"],[1,"contact-name"],[1,"designation"],[1,"contact-email"],[1,"material-symbols-outlined"],["href","mailto:katy@indiana.edu"]],template:function(i,s){1&i&&K(0,Oge,17,5,"mat-card",0),2&i&&B("ngForOf",s.contactCard)},dependencies:[pi,Xa,GS,ple,Ad],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mat-card-image{width:unset}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{height:26rem;width:17.5rem;padding:2rem;border:1px solid #E0E0E0}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:hover{box-shadow:0 .25rem .5rem #0003,0 .375rem 1.25rem #00000030}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:2rem}[_nghost-%COMP%]   .mat-card-image[_ngcontent-%COMP%]{height:168px;width:168px}[_nghost-%COMP%]   .work-field[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#444c65}[_nghost-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-weight:400;font-size:1.25rem;line-height:1.4202rem;letter-spacing:.005rem;color:#212121}[_nghost-%COMP%]   .designation[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#212121;padding-top:1rem}[_nghost-%COMP%]   .contact-email[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:24px}@media (max-width: 80rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 58.5rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}[_nghost-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .contact-email[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:unset}}"]}),r})();const Lz=["*"],Lge=["content"];function Fge(r,n){if(1&r){const i=di();q(0,"div",2),tt("click",function(){return Cn(i),xn(ie()._onBackdropClicked())}),W()}2&r&&$t("mat-drawer-shown",ie()._isShowingBackdrop())}function Nge(r,n){1&r&&(q(0,"mat-drawer-content"),bn(1,2),W())}const Uge=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Vge=["mat-drawer","mat-drawer-content","*"],zge={transformDrawer:Ws("transform",[vi("open, open-instant",Wt({transform:"none",visibility:"visible"})),vi("void",Wt({"box-shadow":"none",visibility:"hidden"})),Di("void => open-instant",ji("0ms")),Di("void <=> open, open-instant => void",ji("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Hge=new Ae("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Gge(){return!1}}),Fz=new Ae("MAT_DRAWER_CONTAINER");let Qy=(()=>{class r extends ey{constructor(i,s,a,l,c){super(a,l,c),this._changeDetectorRef=i,this._container=s}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return r.\u0275fac=function(i){return new(i||r)(I(yi),I(Nn(()=>Uz)),I(We),I(KS),I(ht))},r.\u0275cmp=Be({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,s){2&i&&Ha("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[ft([{provide:ey,useExisting:r}]),Ie],ngContentSelectors:Lz,decls:1,vars:0,template:function(i,s){1&i&&(Bi(),bn(0))},encapsulation:2,changeDetection:0}),r})(),Nz=(()=>{class r{constructor(i,s,a,l,c,u,d,h){this._elementRef=i,this._focusTrapFactory=s,this._focusMonitor=a,this._platform=l,this._ngZone=c,this._interactivityChecker=u,this._doc=d,this._container=h,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Me,this._animationEnd=new Me,this._animationState="void",this.openedChange=new ne(!0),this._openedStream=this.openedChange.pipe(Ln(f=>f),Oe(()=>{})),this.openedStart=this._animationStarted.pipe(Ln(f=>f.fromState!==f.toState&&0===f.toState.indexOf("open")),pg(void 0)),this._closedStream=this.openedChange.pipe(Ln(f=>!f),Oe(()=>{})),this.closedStart=this._animationStarted.pipe(Ln(f=>f.fromState!==f.toState&&"void"===f.toState),pg(void 0)),this._destroyed=new Me,this.onPositionChanged=new ne,this._modeChanged=new Me,this.openedChange.subscribe(f=>{f?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{qc(this._elementRef.nativeElement,"keydown").pipe(Ln(f=>27===f.keyCode&&!this.disableClose&&!No(f)),Rt(this._destroyed)).subscribe(f=>this._ngZone.run(()=>{this.close(),f.stopPropagation(),f.preventDefault()}))}),this._animationEnd.pipe(wf((f,p)=>f.fromState===p.fromState&&f.toState===p.toState)).subscribe(f=>{const{fromState:p,toState:m}=f;(0===m.indexOf("open")&&"void"===p||"void"===m&&0===p.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(i){(i="end"===i?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=an(i)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(i){("true"===i||"false"===i||null==i)&&(i=an(i)),this._autoFocus=i}get opened(){return this._opened}set opened(i){this.toggle(an(i))}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{i.removeEventListener("blur",a),i.removeEventListener("mousedown",a),i.removeAttribute("tabindex")};i.addEventListener("blur",a),i.addEventListener("mousedown",a)})),i.focus(s)}_focusByCssSelector(i,s){let a=this._elementRef.nativeElement.querySelector(i);a&&this._forceFocus(a,s)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(s=>{!s&&"function"==typeof this._elementRef.nativeElement.focus&&i.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,s){i&&s&&(this._openedVia=s);const a=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),a}_setOpen(i,s,a){return this._opened=i,i?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",s&&this._restoreFocus(a)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(Qn(1)).subscribe(c=>l(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(i){const s=this._elementRef.nativeElement,a=s.parentNode;"end"===i?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,s)),a.appendChild(s)):this._anchor&&this._anchor.parentNode.insertBefore(s,this._anchor)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I($A),I(ma),I(Sr),I(ht),I(Og),I(At,8),I(Fz,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-drawer"]],viewQuery:function(i,s){if(1&i&&pn(Lge,5),2&i){let a;je(a=qe())&&(s._content=a.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(i,s){1&i&&Pb("@transform.start",function(l){return s._animationStarted.next(l)})("@transform.done",function(l){return s._animationEnd.next(l)}),2&i&&(nn("align",null),Bb("@transform",s._animationState),$t("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Lz,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,s){1&i&&(Bi(),q(0,"div",0,1),bn(2),W())},dependencies:[ey],encapsulation:2,data:{animation:[zge.transformDrawer]},changeDetection:0}),r})(),Uz=(()=>{class r{constructor(i,s,a,l,c,u=!1,d){this._dir=i,this._element=s,this._ngZone=a,this._changeDetectorRef=l,this._animationMode=d,this._drawers=new Nc,this.backdropClick=new ne,this._destroyed=new Me,this._doCheckSubject=new Me,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Me,i&&i.change.pipe(Rt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(Rt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=an(i)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(i){this._backdropOverride=null==i?null:an(i)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Er(this._allDrawers),Rt(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Er(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(zA(10),Rt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();i+=a,s-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();s+=a,i-=a}i=i||null,s=s||null,(i!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:i,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Ln(s=>s.fromState!==s.toState),Rt(this._drawers.changes)).subscribe(s=>{"open-instant"!==s.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(Rt(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){!i||i.onPositionChanged.pipe(Rt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Qn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(i){i&&i._modeChanged.pipe(Rt(yr(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const s=this._element.nativeElement.classList,a="mat-drawer-container-has-open";i?s.add(a):s.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._canHaveBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(i){return"side"!==i.mode||!!this._backdropOverride}_isDrawerOpen(i){return null!=i&&i.opened}}return r.\u0275fac=function(i){return new(i||r)(I(Ss,8),I(We),I(ht),I(yi),I(Yc),I(Hge),I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(i,s,a){if(1&i&&(Bn(a,Qy,5),Bn(a,Nz,5)),2&i){let l;je(l=qe())&&(s._content=l.first),je(l=qe())&&(s._allDrawers=l)}},viewQuery:function(i,s){if(1&i&&pn(Qy,5),2&i){let a;je(a=qe())&&(s._userContent=a.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,s){2&i&&$t("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[ft([{provide:Fz,useExisting:r}])],ngContentSelectors:Vge,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,s){1&i&&(Bi(Uge),K(0,Fge,1,2,"div",0),bn(1),bn(2,1),K(3,Nge,2,0,"mat-drawer-content",1)),2&i&&(B("ngIf",s.hasBackdrop),N(3),B("ngIf",!s._content))},dependencies:[Rr,Qy],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),r})(),Qge=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fo,vn,If,If,vn]}),r})();class Wge extends class $ge{constructor(){this.expansionModel=new my(!0)}toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let i=[n];i.push(...this.getDescendants(n)),this.expansionModel.select(...i.map(s=>this._trackByValue(s)))}collapseDescendants(n){let i=[n];i.push(...this.getDescendants(n)),this.expansionModel.deselect(...i.map(s=>this._trackByValue(s)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}{constructor(n,i){super(),this.getChildren=n,this.options=i,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((i,s)=>[...i,...this.getDescendants(s),s],[]);this.expansionModel.select(...n.map(i=>this._trackByValue(i)))}getDescendants(n){const i=[];return this._getDescendants(i,n),i.splice(1)}_getDescendants(n,i){n.push(i);const s=this.getChildren(i);Array.isArray(s)?s.forEach(a=>this._getDescendants(n,a)):Iy(s)&&s.pipe(Qn(1),Ln(Boolean)).subscribe(a=>{for(const l of a)this._getDescendants(n,l)})}}const $y=new Ae("CDK_TREE_NODE_OUTLET_NODE");let r_=(()=>{class r{constructor(i,s){this.viewContainer=i,this._node=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I($y,8))},r.\u0275dir=de({type:r,selectors:[["","cdkTreeNodeOutlet",""]]}),r})();class jge{constructor(n){this.$implicit=n}}let Wy=(()=>{class r{constructor(i){this.template=i}}return r.\u0275fac=function(i){return new(i||r)(I(hi))},r.\u0275dir=de({type:r,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),r})(),Wl=(()=>{class r{constructor(i,s){this._differs=i,this._changeDetectorRef=s,this._onDestroy=new Me,this._levels=new Map,this.viewChange=new mi({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const i=this._nodeDefs.filter(s=>!s.when);this._defaultNodeDef=i[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(i){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),i||this._nodeOutlet.viewContainer.clear(),this._dataSource=i,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let i;py(this._dataSource)?i=this._dataSource.connect(this):Iy(this._dataSource)?i=this._dataSource:Array.isArray(this._dataSource)&&(i=Ye(this._dataSource)),i&&(this._dataSubscription=i.pipe(Rt(this._onDestroy)).subscribe(s=>this.renderNodeChanges(s)))}renderNodeChanges(i,s=this._dataDiffer,a=this._nodeOutlet.viewContainer,l){const c=s.diff(i);!c||(c.forEachOperation((u,d,h)=>{if(null==u.previousIndex)this.insertNode(i[h],h,a,l);else if(null==h)a.remove(d),this._levels.delete(u.item);else{const f=a.get(d);a.move(f,h)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(i,s){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(l=>l.when&&l.when(s,i))||this._defaultNodeDef}insertNode(i,s,a,l){const c=this._getNodeDef(i,s),u=new jge(i);u.level=this.treeControl.getLevel?this.treeControl.getLevel(i):typeof l<"u"&&this._levels.has(l)?this._levels.get(l)+1:0,this._levels.set(i,u.level),(a||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,u,s),Za.mostRecentTreeNode&&(Za.mostRecentTreeNode.data=i)}}return r.\u0275fac=function(i){return new(i||r)(I(Oo),I(yi))},r.\u0275cmp=Be({type:r,selectors:[["cdk-tree"]],contentQueries:function(i,s,a){if(1&i&&Bn(a,Wy,5),2&i){let l;je(l=qe())&&(s._nodeDefs=l)}},viewQuery:function(i,s){if(1&i&&pn(r_,7),2&i){let a;je(a=qe())&&(s._nodeOutlet=a.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[r_],encapsulation:2}),r})(),Za=(()=>{class r{constructor(i,s){this._elementRef=i,this._tree=s,this._destroyed=new Me,this._dataChanges=new Me,r.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(i){this._elementRef.nativeElement.setAttribute("role",i)}get data(){return this._data}set data(i){i!==this._data&&(this._data=i,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function qge(r){let n=r.parentElement;for(;n&&!Yge(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?Vl(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){r.mostRecentTreeNode===this&&(r.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return r.mostRecentTreeNode=null,r.\u0275fac=function(i){return new(i||r)(I(We),I(Wl))},r.\u0275dir=de({type:r,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(i,s){2&i&&nn("aria-expanded",s.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),r})();function Yge(r){const n=r.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let J1=(()=>{class r extends Za{constructor(i,s,a){super(i,s),this._differs=a}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);const i=this._tree.treeControl.getChildren(this.data);Array.isArray(i)?this.updateChildrenNodes(i):Iy(i)&&i.pipe(Rt(this._destroyed)).subscribe(s=>this.updateChildrenNodes(s)),this.nodeOutlet.changes.pipe(Rt(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(i){const s=this._getNodeOutlet();i&&(this._children=i),s&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,s.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const i=this._getNodeOutlet();i&&(i.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const i=this.nodeOutlet;return i&&i.find(s=>!s._node||s._node===this)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Wl),I(Oo))},r.\u0275dir=de({type:r,selectors:[["cdk-nested-tree-node"]],contentQueries:function(i,s,a){if(1&i&&Bn(a,r_,5),2&i){let l;je(l=qe())&&(s.nodeOutlet=l)}},hostAttrs:[1,"cdk-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["cdkNestedTreeNode"],features:[ft([{provide:Za,useExisting:r},{provide:$y,useExisting:r}]),Ie]}),r})(),tD=(()=>{class r{constructor(i,s){this._tree=i,this._treeNode=s,this._recursive=!1}get recursive(){return this._recursive}set recursive(i){this._recursive=an(i)}_toggle(i){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),i.stopPropagation()}}return r.\u0275fac=function(i){return new(i||r)(I(Wl),I(Za))},r.\u0275dir=de({type:r,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(i,s){1&i&&tt("click",function(l){return s._toggle(l)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),r})(),Vz=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({}),r})();const Kge=N4(Wc(Za));let zz=(()=>{class r extends Kge{constructor(i,s,a){super(i,s),this.tabIndex=Number(a)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Wl),Ba("tabindex"))},r.\u0275dir=de({type:r,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[ft([{provide:Za,useExisting:r}]),Ie]}),r})(),Hz=(()=>{class r extends Wy{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[ft([{provide:Wy,useExisting:r}]),Ie]}),r})(),Gz=(()=>{class r extends J1{constructor(i,s,a,l){super(i,s,a),this._disabled=!1,this.tabIndex=Number(l)||0}get disabled(){return this._disabled}set disabled(i){this._disabled=an(i)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=i??0}ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Wl),I(Oo),Ba("tabindex"))},r.\u0275dir=de({type:r,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[ft([{provide:J1,useExisting:r},{provide:Za,useExisting:r},{provide:$y,useExisting:r}]),Ie]}),r})(),jy=(()=>{class r{constructor(i,s){this.viewContainer=i,this._node=s}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I($y,8))},r.\u0275dir=de({type:r,selectors:[["","matTreeNodeOutlet",""]],features:[ft([{provide:r_,useExisting:r}])]}),r})(),Qz=(()=>{class r extends Wl{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275cmp=Be({type:r,selectors:[["mat-tree"]],viewQuery:function(i,s){if(1&i&&pn(jy,7),2&i){let a;je(a=qe())&&(s._nodeOutlet=a.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[ft([{provide:Wl,useExisting:r}]),Ie],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(i,s){1&i&&vs(0,0)},dependencies:[jy],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2}),r})(),$z=(()=>{class r extends tD{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[ft([{provide:tD,useExisting:r}]),Ie]}),r})(),Jge=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Vz,vn,vn]}),r})();class e_e extends iV{constructor(){super(...arguments),this._data=new mi([])}get data(){return this._data.value}set data(n){this._data.next(n)}connect(n){return yr(n.viewChange,this._data).pipe(Oe(()=>this.data))}disconnect(){}}function t_e(r,n){if(1&r&&(q(0,"mat-icon"),re(1),W()),2&r){const i=ie();N(1),Ut(i.icon)}}function n_e(r,n){if(1&r&&(q(0,"mat-icon"),re(1),W()),2&r){const i=ie();N(1),Ut(i.isOpen?"close":"menu")}}const i_e=function(r){return[r]};function r_e(r,n){if(1&r&&(q(0,"div",14),re(1),W()),2&r){const i=ie().$implicit;B("routerLink",Cs(2,i_e,i.route)),N(1),In(" ",i.menuName," ")}}function s_e(r,n){1&r&&pe(0,"mat-divider",15)}function o_e(r,n){if(1&r){const i=di();q(0,"div",16),tt("click",function(){Cn(i);const a=ie().$implicit;return xn(ie(2).externalWindow(a.url))}),re(1),W()}if(2&r){const i=ie().$implicit;N(1),In("",i.menuName," ")}}function a_e(r,n){if(1&r){const i=di();q(0,"div",17),tt("click",function(){Cn(i);const a=ie().$implicit;return xn(ie(2).scrollTo(a.id))}),re(1),W()}if(2&r){const i=ie().$implicit;N(1),In(" ",i.menuName," ")}}function l_e(r,n){1&r&&pe(0,"mat-divider")}function c_e(r,n){if(1&r){const i=di();q(0,"mat-tree-node",8),tt("click",function(){Cn(i);const a=ie(2);return xn(a.isOpen=!a.isOpen)}),K(1,r_e,2,4,"div",9),K(2,s_e,1,0,"mat-divider",10),K(3,o_e,2,1,"div",11),K(4,a_e,2,1,"div",12),K(5,l_e,1,0,"mat-divider",13),W()}if(2&r){const i=n.$implicit;N(1),B("ngIf",i.route),N(1),B("ngIf",i.divider),N(1),B("ngIf",i.url),N(1),B("ngIf",i.id),N(1),B("ngIf",i.id)}}function u_e(r,n){if(1&r&&(q(0,"mat-nested-tree-node")(1,"div",18),re(2),q(3,"button",19)(4,"mat-icon"),re(5,"arrow_drop_down"),W()()(),q(6,"div",20),vs(7,21),W()()),2&r){const i=n.$implicit,s=ie(2);N(1),nn("aria-label","Toggle "+i.menuName),N(1),In(" ",i.menuName," "),N(2),$t("inverse",s.treeControl.isExpanded(i)),N(2),$t("example-tree-invisible",!s.treeControl.isExpanded(i))}}function d_e(r,n){if(1&r&&(q(0,"mat-tree",5),K(1,c_e,6,5,"mat-tree-node",6),K(2,u_e,8,6,"mat-nested-tree-node",7),W()),2&r){const i=ie();Ga(i.treeClass),B("dataSource",i.dataSource)("treeControl",i.treeControl),N(2),B("matTreeNodeDefWhen",i.hasChild)}}const h_e=function(){return["cdk-overlay-dark-backdrop","menu-tree-backdrop"]},f_e=function(r){return["menu-tree-panel",r]};let Wz=(()=>{class r{constructor(i,s,a){this.router=i,this.scroller=s,this.overlay=a,this.isOpen=!1,this.treeControl=new Wge(l=>l.children),this.dataSource=new e_e,this.scrollStrategy=this.overlay.scrollStrategies.block(),this.hasChild=(l,c)=>!!c.children&&c.children.length>0}ngOnInit(){this.dataSource.data=this.treeItems}externalWindow(i){window.open(i,"_blank")}scrollTo(i){this.router.navigate([],{fragment:i}),this.scrollToId=i}scrollAfterDetach(){this.scrollToId&&(this.scroller.scrollToAnchor(this.scrollToId),this.scrollToId=void 0)}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(BE),I(ga))},r.\u0275cmp=Be({type:r,selectors:[["menu-tree"]],inputs:{treeItems:"treeItems",icon:"icon",overlayClass:"overlayClass",treeClass:"treeClass",positions:"positions"},decls:6,vars:13,consts:[["mat-icon-button","","cdkOverlayOrigin","",1,"menu-tree-button",3,"disableRipple","click"],["trigger","cdkOverlayOrigin"],[4,"ngIf","ngIfElse"],["default",""],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayPanelClass","cdkConnectedOverlayPositions","cdkConnectedOverlayScrollStrategy","detach","overlayOutsideClick"],["cdkScrollable","",3,"dataSource","treeControl"],["matTreeNodeToggle","",3,"click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","",3,"click"],["class","menu-name",3,"routerLink",4,"ngIf"],["class","menu-tree-divider",4,"ngIf"],["class","menu-name",3,"click",4,"ngIf"],["class","table-of-contents",3,"click",4,"ngIf"],[4,"ngIf"],[1,"menu-name",3,"routerLink"],[1,"menu-tree-divider"],[1,"menu-name",3,"click"],[1,"table-of-contents",3,"click"],["matTreeNodeToggle","",1,"mat-parent-node"],["mat-icon-button",""],["role","group"],["matTreeNodeOutlet",""]],template:function(i,s){if(1&i){const a=di();q(0,"button",0,1),tt("click",function(){return s.isOpen=!s.isOpen}),K(2,t_e,2,1,"mat-icon",2),K(3,n_e,2,1,"ng-template",null,3,es),W(),K(5,d_e,3,5,"ng-template",4),tt("detach",function(){return s.isOpen=!1,s.scrollAfterDetach()})("overlayOutsideClick",function(c){return Cn(a),xn(!Oi(1).elementRef.nativeElement.contains(c.target)&&(s.isOpen=!1))})}if(2&i){const a=Oi(1),l=Oi(4);B("disableRipple",!0),N(2),B("ngIf",s.icon)("ngIfElse",l),N(3),B("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",s.isOpen)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass",Il(10,h_e))("cdkConnectedOverlayPanelClass",Cs(11,f_e,s.overlayClass))("cdkConnectedOverlayPositions",s.positions)("cdkConnectedOverlayScrollStrategy",s.scrollStrategy)}},dependencies:[Rr,_d,r1,n1,ey,Ng,Gz,Hz,$z,Qz,zz,jy,vf,Ad],styles:["[_nghost-%COMP%]   .menu-tree-button[_ngcontent-%COMP%]{background-color:#444c65;z-index:2}[_nghost-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{color:#fff}  .example-tree-invisible{display:none}  .mat-tree{width:26rem;border:1px solid #e0e0e0;border-radius:0 0 8px 8px;height:auto;overflow-y:auto}  .inverse{transform:rotate(180deg);display:inline-block}  .menu-tree-backdrop{margin-top:3.5rem}.mat-tree-node[_ngcontent-%COMP%], .mat-parent-node[_ngcontent-%COMP%]{font-size:1rem;color:#444c65;font-weight:300;line-height:1.5rem}.mat-tree-node[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:center}.mat-tree-node[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{width:100%}"]}),r})();function p_e(r,n){if(1&r){const i=di();q(0,"li",42),tt("click",function(){const l=Cn(i).$implicit;return xn(ie().scrollTo(l.id||""))}),re(1),W()}if(2&r){const i=n.$implicit;B("value",i),N(1),In(" ",i.menuName," ")}}const m_e=function(r){return{scrolled:r}};let g_e=(()=>{class r{constructor(i,s,a){this.route=i,this.router=s,this.scroller=a,this.subscriptions=new sn,this.icon="list",this.scrolled=!1,this.data=this.route.snapshot.data.content,this.headerData=this.data.headerData,this.fourthReleaseIntro=this.data.fourthReleaseIntro,this.fourthReleaseStats=this.data.fourthReleaseStats,this.hraHourEvent=this.data.hraHourEvent,this.hourEventUseButton=this.data.hourEventUseButton,this.asctbTables=this.data.asctbTables,this.asctbTablesButton=this.data.asctbTablesButton,this.asctbReporter=this.data.asctbReporter,this.asctbReporterButton=this.data.asctbReporterButton,this.ontologyValidations=this.data.ontologyValidations,this.ontologyValidationsButton=this.data.ontologyValidationsButton,this.threeDimRefObjects=this.data.threeDimRefObjects,this.threeDimRefObjectsButton=this.data.threeDimRefObjectsButton,this.explorationUserInterface=this.data.explorationUserInterface,this.explorationUserInterfaceButton=this.data.explorationUserInterfaceButton,this.registrationUserInterface=this.data.registrationUserInterface,this.registrationUserInterfaceButton=this.data.registrationUserInterfaceButton,this.vrOrganGallery=this.data.vrOrganGallery,this.vrOrganGalleryButton=this.data.vrOrganGalleryButton,this.previewScrollytellingButton=this.data.previewScrollytellingButton,this.previewComparingTabula=this.data.previewComparingTabula,this.previewFtuSegmentation=this.data.previewFtuSegmentation,this.previewCcfTissueBlock=this.data.previewCcfTissueBlock,this.contactCardData=this.data.contactCardData,this.hourEventPageButton=this.data.hourEventPageButton,this.hraReleaseCalendar=this.data.hraReleaseCalendar,this.navigationItems=this.data.navigationItems,this.mobileNavigationItems=[{menuName:"Table of Contents",id:"'"},...this.navigationItems],this.TableOfContentsPosition=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:0,offsetY:0}],this.subscriptions.add(this.route.fragment.subscribe(l=>{l&&this.scroller.scrollToAnchor(l)}))}ngOnInit(){window.addEventListener("scroll",()=>{this.scrolled=window.pageYOffset>220})}ngAfterViewInit(){const i=this.route.snapshot.fragment;i&&(this.scroller.scrollToAnchor(i),setTimeout(()=>{this.scroller.scrollToAnchor(i)},1e3))}ngOnDestroy(){this.subscriptions.unsubscribe()}scrollTo(i){this.router.navigate([],{fragment:i}),this.scroller.scrollToAnchor(i)}}return r.\u0275fac=function(i){return new(i||r)(I(Ms),I(Fi),I(BE))},r.\u0275cmp=Be({type:r,selectors:[["fourth-release-notes"]],decls:135,vars:36,consts:[[1,"menu",3,"treeItems","icon","overlayClass","treeClass","positions"],[1,"page-header",3,"headerCard"],[1,"example-container",3,"autosize"],["mode","side","opened",""],[1,"toc-list",3,"ngClass"],[3,"value","click",4,"ngFor","ngForOf"],[1,"release-data"],[1,"content-title","date"],["id","intro"],[3,"data"],["src","assets/images/intro_gif.gif",1,"intro-gif"],["id","whats-new"],["id","24-hr-event"],[1,"button-bottom",3,"buttonData"],[1,"button-container",3,"buttonData"],["id","hra-release-calendar"],["mat-raised-button","","href","assets/images/hra-release-calendar.jpg","download","",1,"raised-button"],[1,"material-symbols-outlined"],["src","assets/images/hra-release-calendar.svg",2,"padding-bottom","2rem"],["id","asctb-tables"],["src","assets/images/4th_release_asctb_table.svg",2,"padding-bottom","2rem"],[1,"page-data"],["href","https://www.nature.com/articles/s41556-021-00788-6","target","_blank"],["id","asctb-reporter"],["src","assets/images/4th_release_asctb_reporter.svg",2,"padding-bottom","2rem"],["id","asctb-ontology-validations"],["id","3d-reference-objects"],[3,"buttonData"],["src","assets/images/4th_release_3d.gif",1,"gif"],["id","exploration-user-interface"],["src","assets/images/4th_release_eui.svg",2,"padding-bottom","2rem"],["id","registration-user-interface"],["src","assets/images/4th_release_rui_gif.gif",1,"gif"],["id","vr-organ-gallery"],["src","assets/images/ccf-og-1.png",2,"padding-bottom","2rem"],["id","previews",1,"page-data","section"],[1,"preview-button",3,"buttonData"],["id","contact-us",1,"page-data","section"],["href","mailto:infoccf@indiana.edu","mat-button","",1,"contact-button"],[1,"contact-card-container",3,"contactCard"],["id","outro",1,"page-data","section"],["src","assets/images/4th_release_outro.svg",2,"padding-bottom","4rem"],[3,"value","click"]],template:function(i,s){1&i&&(pe(0,"menu-tree",0)(1,"ccf-page-header",1),q(2,"mat-drawer-container",2)(3,"mat-drawer",3)(4,"ul",4),K(5,p_e,2,2,"li",5),W()(),q(6,"mat-drawer-content")(7,"div",6)(8,"div",7),re(9,"December 15th, 2022"),W(),q(10,"div",8),pe(11,"ccf-page-data",9)(12,"img",10)(13,"mat-divider"),W(),q(14,"div",11),pe(15,"ccf-page-data",9)(16,"mat-divider"),W(),q(17,"div",12),pe(18,"ccf-page-data",9)(19,"ccf-use-button",13)(20,"ccf-use-button",14)(21,"mat-divider"),W(),q(22,"div",15),pe(23,"ccf-page-data",9),q(24,"a",16)(25,"span",17),re(26,"download"),W(),re(27,"Download JPG "),W(),pe(28,"img",18),W(),pe(29,"mat-divider"),q(30,"div",19),pe(31,"ccf-page-data",9)(32,"ccf-use-button",14)(33,"img",20),q(34,"p",21)(35,"strong"),re(36,"Fig 1."),W(),re(37," Processes, anatomical structures, cell types, biomarkers and disease relevant for understanding proteinuria, in kidney. The example shows how the ASCT+B tables help link clinicopathology information and ontology data. Read more at "),q(38,"a",22),re(39," Anatomical structures, cell types and biomarkers of the Human Reference Atlas"),W()()(),pe(40,"mat-divider"),q(41,"div",23),pe(42,"ccf-page-data",9)(43,"ccf-use-button",14)(44,"img",24),q(45,"p",21)(46,"strong"),re(47,"Fig 2."),W(),re(48," An exemplary ASCT+B table showing anatomical structures (AS) and cell types (CT) and some biomarkers (B) for the glomerulus in the kidneys, annotated with the names of the three entity types (anatomical structures, cell types and biomarkers) and four relationship types ("),q(49,"i"),re(50,"part_of, is_a, located_in"),W(),re(51," and characterize). Note that the "),q(52,"i"),re(53,"is_a"),W(),re(54," relationship exists for cell types and biomarkers. Read more at "),q(55,"a",22),re(56," Anatomical structures, cell types and biomarkers of the Human Reference Atlas"),W(),re(57,". "),W()(),pe(58,"mat-divider"),q(59,"div",25),pe(60,"ccf-page-data",9)(61,"ccf-use-button",14)(62,"mat-divider"),W(),q(63,"div",26),pe(64,"ccf-page-data",9)(65,"ccf-use-button",27)(66,"img",28),q(67,"p",21)(68,"strong"),re(69,"Fig 3."),W(),re(70," A user interacts with a 3D Reference Object in the HRA Portal. "),W()(),pe(71,"mat-divider"),q(72,"div",29),pe(73,"ccf-page-data",9)(74,"ccf-use-button",14)(75,"img",30),q(76,"p",21)(77,"strong"),re(78,"Fig 4."),W(),re(79," 3D Reference Objects featured within the Exploration User Interface. "),W()(),pe(80,"mat-divider"),q(81,"div",31),pe(82,"ccf-page-data",9)(83,"ccf-use-button",14)(84,"img",32),q(85,"p",21)(86,"strong"),re(87,"Fig 5."),W(),re(88," A user registers a tissue block within a 3D Reference Object of the heart in the Registration User Interface. "),W()(),pe(89,"mat-divider"),q(90,"div",33),pe(91,"ccf-page-data",9)(92,"ccf-use-button",14)(93,"img",34),q(94,"p",21)(95,"strong"),re(96,"Fig 6."),W(),re(97," Three stages. Top left: the whole body is visible. Top right: a gallery of individual organs. Bottom left and center: A user explodes an organ into individual anatomical structures. Bottom right: a user explores cells around a kidney in a virtual box. "),W()(),pe(98,"mat-divider"),q(99,"div",35)(100,"strong"),re(101,"Previews"),W()(),q(102,"div",21)(103,"p"),re(104," Starting from an accessible overview of the Atlas project, readers will be able to link to the HRA topics, concepts, and practices they wish to explore in more detail. "),W()(),pe(105,"ccf-use-button",36),q(106,"p",21),re(107," Comparing Tabula Sapiens to the Human Reference Atlas "),W(),pe(108,"ccf-use-button",36),q(109,"p",21),re(110," Kaggle competition results are used to develop and optimize machine learning algorithms that can segment functional tissue units (FTUs) "),W(),pe(111,"ccf-use-button",36),q(112,"p",21),re(113," Tissue Block annotation provides even better collision detection when registering with the RUI. "),W(),pe(114,"ccf-use-button",36)(115,"mat-divider"),q(116,"div",37)(117,"strong"),re(118,"Contact Us"),W(),pe(119,"br")(120,"br"),re(121," Interested in contributing or using the HRA? \xa0 "),q(122,"a",38)(123,"mat-icon"),re(124,"mail_outline"),W(),re(125,"Contact MC-IU "),W()(),pe(126,"contact-card",39)(127,"mat-divider"),q(128,"p",40)(129,"strong"),re(130,"Outro"),W(),pe(131,"br")(132,"br"),re(133," Every six months, a new version of Human Reference Atlas data is released together with user interfaces that make it possible to visually explore the atlas or programmatically access the data. The 5th release is in May. Thanks for reading! "),W(),pe(134,"img",41),W()()()),2&i&&(B("treeItems",s.mobileNavigationItems)("icon",s.icon)("overlayClass","overlay-position")("treeClass","tree-class")("positions",s.TableOfContentsPosition),N(1),B("headerCard",s.headerData),N(1),B("autosize",!0),N(2),B("ngClass",Cs(34,m_e,s.scrolled)),N(1),B("ngForOf",s.navigationItems),N(6),B("data",s.fourthReleaseIntro),N(4),B("data",s.fourthReleaseStats),N(3),B("data",s.hraHourEvent),N(1),B("buttonData",s.hourEventPageButton),N(1),B("buttonData",s.hourEventUseButton),N(3),B("data",s.hraReleaseCalendar),N(8),B("data",s.asctbTables),N(1),B("buttonData",s.asctbTablesButton),N(10),B("data",s.asctbReporter),N(1),B("buttonData",s.asctbReporterButton),N(17),B("data",s.ontologyValidations),N(1),B("buttonData",s.ontologyValidationsButton),N(3),B("data",s.threeDimRefObjects),N(1),B("buttonData",s.threeDimRefObjectsButton),N(8),B("data",s.explorationUserInterface),N(1),B("buttonData",s.explorationUserInterfaceButton),N(8),B("data",s.registrationUserInterface),N(1),B("buttonData",s.registrationUserInterfaceButton),N(8),B("data",s.vrOrganGallery),N(1),B("buttonData",s.vrOrganGalleryButton),N(13),B("buttonData",s.previewScrollytellingButton),N(3),B("buttonData",s.previewComparingTabula),N(3),B("buttonData",s.previewFtuSegmentation),N(3),B("buttonData",s.previewCcfTissueBlock),N(12),B("contactCard",s.contactCardData))},dependencies:[ff,pi,qA,Fg,Ad,QS,_d,md,Bge,Nz,Uz,Qy,Wz],styles:['[_nghost-%COMP%]{max-width:77rem}[_nghost-%COMP%]   .contact-button[_ngcontent-%COMP%]{border:.063rem solid #444c65;border-radius:.125rem;background-color:#fafafa;font-weight:400;font-size:.875rem;line-height:1.4202rem;letter-spacing:.005em;color:#444c65;min-height:2.5rem;align-items:center;display:inline-flex;text-decoration:none}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{position:fixed;top:3.5rem;z-index:10}[_nghost-%COMP%]   .contact-card-container[_ngcontent-%COMP%]{margin:2rem .5rem}[_nghost-%COMP%]   .page-body[_ngcontent-%COMP%]{flex-direction:row}[_nghost-%COMP%]   .mat-drawer[_ngcontent-%COMP%]{background-color:#fafafa}[_nghost-%COMP%]   .mat-drawer-side[_ngcontent-%COMP%]{border-right:unset;padding-right:2.5rem}[_nghost-%COMP%]   .intro-gif[_ngcontent-%COMP%]{padding-bottom:2rem;max-height:310px;max-width:310px}[_nghost-%COMP%]   .gif[_ngcontent-%COMP%]{height:100%;width:100%;margin:1rem 0rem}[_nghost-%COMP%]   .rui-gif[_ngcontent-%COMP%]{max-width:888px;min-height:509px;padding-bottom:1rem}[_nghost-%COMP%]   .date[_ngcontent-%COMP%], [_nghost-%COMP%]   .button-bottom[_ngcontent-%COMP%]{padding-bottom:1rem}[_nghost-%COMP%]   .section[_ngcontent-%COMP%]{margin:1rem 0rem}[_nghost-%COMP%]   mat-drawer[_ngcontent-%COMP%]{min-width:306px}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]{border:#e0e0e0 2px solid;padding-top:unset;position:static;list-style:none;margin:unset;padding:unset;border-radius:4px}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0rem 1rem;font-weight:500;font-size:1rem;line-height:2.25rem;border-bottom:#e0e0e0 1px solid;color:#0a6ebd;height:3rem}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   .scrolled[_ngcontent-%COMP%]{position:fixed;top:4rem}[_nghost-%COMP%]   div[_ngcontent-%COMP%]:before{display:block;content:"";margin-top:-3.75rem;height:3.75rem;visibility:hidden;pointer-events:none}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding-bottom:1rem}[_nghost-%COMP%]   .preview-button[_ngcontent-%COMP%]{padding-bottom:2rem}[_nghost-%COMP%]   .mat-drawer-content[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{background-color:#fafafa;border:.063rem solid #444c65;border-radius:.125rem;font-weight:400;font-size:.875rem;letter-spacing:.005rem;color:#444c65;box-shadow:unset}[_nghost-%COMP%]   .raised-button[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#e4e9e9}[_nghost-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{padding-right:.5rem}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:none}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem;max-width:100vw}}@media (max-width: 40rem){[_nghost-%COMP%]   .mat-drawer[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:block;padding-top:.5rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-drawer[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .contact-card-container[_ngcontent-%COMP%]{margin:unset}[_nghost-%COMP%]   .contact-button[_ngcontent-%COMP%]{width:calc(100vw - 2rem);justify-content:center;margin:1rem 0rem}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:block;padding-top:.5rem}[_nghost-%COMP%]   .mat-tree[_ngcontent-%COMP%]{border-radius:.25rem;max-width:288px}}  .tree-class{border-radius:.25rem;max-width:288px;padding:unset}  .tree-class .table-of-contents{padding:.75rem 0rem .75rem 1rem}  .tree-class .mat-tree-node:first-child{font-weight:300;color:#000}  .tree-class .mat-tree-node{flex-direction:column;align-items:flex-start;font-weight:500;color:#0a6ebd}  .tree-class .mat-divider{width:100%}  .overlay-position{max-height:calc(100vh - 4.5rem)}']}),r})(),__e=(()=>{class r{constructor(i){this.route=i,this.data=this.route.snapshot.data.content}}return r.\u0275fac=function(i){return new(i||r)(I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["ccf-landing-page"]],decls:1,vars:1,consts:[[3,"defs"]],template:function(i,s){1&i&&pe(0,"ccf-page-renderer",0),2&i&&B("defs",s.data)},dependencies:[Bz],styles:["[_nghost-%COMP%]{max-width:77rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-top:2.5rem;padding-bottom:1rem;display:flex;flex-direction:row}[_nghost-%COMP%]   .landing-img[_ngcontent-%COMP%]{height:4.375rem;width:3.125rem;object-fit:contain}[_nghost-%COMP%]   .landing-title[_ngcontent-%COMP%]{font-size:2.25rem;line-height:2.125rem;color:#212121;font-weight:300;letter-spacing:.005rem}[_nghost-%COMP%]   .landing-subtitle[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:300;color:#444465;line-height:2.125rem}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:2.25rem;color:#212121;font-weight:300;line-height:2.75rem;margin-bottom:2rem;margin-top:3.5rem}[_nghost-%COMP%]   .carousel-container[_ngcontent-%COMP%]{width:min(77rem,100vw - 32px)}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem;max-width:100vw}}@media (max-width: 38.5rem){[_nghost-%COMP%]   .landing-title[_ngcontent-%COMP%]{font-size:1.75rem}[_nghost-%COMP%]   .landing-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.5rem}[_nghost-%COMP%]   .landing-img[_ngcontent-%COMP%]{width:48px;height:112px;max-height:unset}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.375rem;margin-bottom:1rem}}"]}),r})();function b_e(r,n){1&r&&bn(0)}const jz=["*"];function A_e(r,n){}const y_e=function(r){return{animationDuration:r}},v_e=function(r,n){return{value:r,params:n}},w_e=["tabListContainer"],C_e=["tabList"],x_e=["tabListInner"],M_e=["nextPaginator"],E_e=["previousPaginator"],S_e=["tabBodyWrapper"],D_e=["tabHeader"];function I_e(r,n){}function T_e(r,n){1&r&&K(0,I_e,0,0,"ng-template",10),2&r&&B("cdkPortalOutlet",ie().$implicit.templateLabel)}function k_e(r,n){1&r&&re(0),2&r&&Ut(ie().$implicit.textLabel)}function R_e(r,n){if(1&r){const i=di();q(0,"div",6),tt("click",function(){const a=Cn(i),l=a.$implicit,c=a.index,u=ie(),d=Oi(1);return xn(u._handleClick(l,d,c))})("cdkFocusChange",function(a){const c=Cn(i).index;return xn(ie()._tabFocusChanged(a,c))}),q(1,"div",7),K(2,T_e,1,1,"ng-template",8),K(3,k_e,1,1,"ng-template",null,9,es),W()()}if(2&r){const i=n.$implicit,s=n.index,a=Oi(4),l=ie();$t("mat-tab-label-active",l.selectedIndex===s),B("id",l._getTabLabelId(s))("ngClass",i.labelClass)("disabled",i.disabled)("matRippleDisabled",i.disabled||l.disableRipple),nn("tabIndex",l._getTabIndex(i,s))("aria-posinset",s+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(s))("aria-selected",l.selectedIndex===s)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),N(2),B("ngIf",i.templateLabel)("ngIfElse",a)}}function P_e(r,n){if(1&r){const i=di();q(0,"mat-tab-body",11),tt("_onCentered",function(){return Cn(i),xn(ie()._removeTabBodyWrapperHeight())})("_onCentering",function(a){return Cn(i),xn(ie()._setTabBodyWrapperHeight(a))}),W()}if(2&r){const i=n.$implicit,s=n.index,a=ie();$t("mat-tab-body-active",a.selectedIndex===s),B("id",a._getTabContentId(s))("ngClass",i.bodyClass)("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",a.animationDuration)("preserveContent",a.preserveContent),nn("tabindex",null!=a.contentTabIndex&&a.selectedIndex===s?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(s))}}const O_e=new Ae("MatInkBarPositioner",{providedIn:"root",factory:function B_e(){return n=>({left:n?(n.offsetLeft||0)+"px":"0",width:n?(n.offsetWidth||0)+"px":"0"})}});let qz=(()=>{class r{constructor(i,s,a,l){this._elementRef=i,this._ngZone=s,this._inkBarPositioner=a,this._animationMode=l}alignToElement(i){this.show(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{const s=this._inkBarPositioner(i),a=this._elementRef.nativeElement;a.style.left=s.left,a.style.width=s.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ht),I(O_e),I(ts,8))},r.\u0275dir=de({type:r,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(i,s){2&i&&$t("_mat-animation-noopable","NoopAnimations"===s._animationMode)}}),r})();const L_e=new Ae("MatTabContent"),Yz=new Ae("MatTabLabel"),Xz=new Ae("MAT_TAB");let F_e=(()=>{class r extends Uce{constructor(i,s,a){super(i,s),this._closestTab=a}}return r.\u0275fac=function(i){return new(i||r)(I(hi),I(ii),I(Xz,8))},r.\u0275dir=de({type:r,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[ft([{provide:Yz,useExisting:r}]),Ie]}),r})();const N_e=Wc(class{}),Kz=new Ae("MAT_TAB_GROUP");let Zz=(()=>{class r extends N_e{constructor(i,s){super(),this._viewContainerRef=i,this._closestTabGroup=s,this.textLabel="",this._contentPortal=null,this._stateChanges=new Me,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}get content(){return this._contentPortal}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Tf(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}}return r.\u0275fac=function(i){return new(i||r)(I(ii),I(Kz,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-tab"]],contentQueries:function(i,s,a){if(1&i&&(Bn(a,Yz,5),Bn(a,L_e,7,hi)),2&i){let l;je(l=qe())&&(s.templateLabel=l.first),je(l=qe())&&(s._explicitContent=l.first)}},viewQuery:function(i,s){if(1&i&&pn(hi,7),2&i){let a;je(a=qe())&&(s._implicitContent=a.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[ft([{provide:Xz,useExisting:r}]),Ie,Ri],ngContentSelectors:jz,decls:1,vars:0,template:function(i,s){1&i&&(Bi(),K(0,b_e,1,0,"ng-template"))},encapsulation:2}),r})();const U_e={translateTab:Ws("translateTab",[vi("center, void, left-origin-center, right-origin-center",Wt({transform:"none"})),vi("left",Wt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),vi("right",Wt({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Di("* => left, * => right, left => center, right => center",ji("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Di("void => left-origin-center",[Wt({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),ji("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Di("void => right-origin-center",[Wt({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),ji("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let V_e=(()=>{class r extends kf{constructor(i,s,a,l){super(i,s,l),this._host=a,this._centeringSub=sn.EMPTY,this._leavingSub=sn.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Er(this._host._isCenterPosition(this._host._position))).subscribe(i=>{i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(I(Oc),I(ii),I(Nn(()=>Jz)),I(At))},r.\u0275dir=de({type:r,selectors:[["","matTabBodyHost",""]],features:[Ie]}),r})(),z_e=(()=>{class r{constructor(i,s,a){this._elementRef=i,this._dir=s,this._dirChangeSubscription=sn.EMPTY,this._translateTabComplete=new Me,this._onCentering=new ne,this._beforeCentering=new ne,this._afterLeavingCenter=new ne,this._onCentered=new ne(!0),this.animationDuration="500ms",this.preserveContent=!1,s&&(this._dirChangeSubscription=s.change.subscribe(l=>{this._computePositionAnimationState(l),a.markForCheck()})),this._translateTabComplete.pipe(wf((l,c)=>l.fromState===c.fromState&&l.toState===c.toState)).subscribe(l=>{this._isCenterPosition(l.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(l.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(i){this._positionIndex=i,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(i){const s=this._isCenterPosition(i.toState);this._beforeCentering.emit(s),s&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(i){return"center"==i||"left-origin-center"==i||"right-origin-center"==i}_computePositionAnimationState(i=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==i?"left":"right":this._positionIndex>0?"ltr"==i?"right":"left":"center"}_computePositionFromOrigin(i){const s=this._getLayoutDirection();return"ltr"==s&&i<=0||"rtl"==s&&i>0?"left-origin-center":"right-origin-center"}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Ss,8),I(yi))},r.\u0275dir=de({type:r,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),r})(),Jz=(()=>{class r extends z_e{constructor(i,s,a){super(i,s,a)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Ss,8),I(yi))},r.\u0275cmp=Be({type:r,selectors:[["mat-tab-body"]],viewQuery:function(i,s){if(1&i&&pn(kf,5),2&i){let a;je(a=qe())&&(s._portalHost=a.first)}},hostAttrs:[1,"mat-tab-body"],features:[Ie],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(i,s){1&i&&(q(0,"div",0,1),tt("@translateTab.start",function(l){return s._onTranslateTabStarted(l)})("@translateTab.done",function(l){return s._translateTabComplete.next(l)}),K(2,A_e,0,0,"ng-template",2),W()),2&i&&B("@translateTab",FL(3,v_e,s._position,Cs(1,y_e,s.animationDuration)))},dependencies:[V_e],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[U_e.translateTab]}}),r})();const e5=new Ae("MAT_TABS_CONFIG"),H_e=Wc(class{});let t5=(()=>{class r extends H_e{constructor(i){super(),this.elementRef=i}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return r.\u0275fac=function(i){return new(i||r)(I(We))},r.\u0275dir=de({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,s){2&i&&(nn("aria-disabled",!!s.disabled),$t("mat-tab-disabled",s.disabled))},inputs:{disabled:"disabled"},features:[Ie]}),r})();const n5=Ig({passive:!0});let $_e=(()=>{class r{constructor(i,s,a,l,c,u,d){this._elementRef=i,this._changeDetectorRef=s,this._viewportRuler=a,this._dir=l,this._ngZone=c,this._platform=u,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Me,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Me,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ne,this.indexFocused=new ne,c.runOutsideAngular(()=>{qc(i.nativeElement,"mouseleave").pipe(Rt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(i){this._disablePagination=an(i)}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){i=Vl(i),this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}ngAfterViewInit(){qc(this._previousPaginator.nativeElement,"touchstart",n5).pipe(Rt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),qc(this._nextPaginator.nativeElement,"touchstart",n5).pipe(Rt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const i=this._dir?this._dir.change:Ye("ltr"),s=this._viewportRuler.change(150),a=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new BS(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Qn(1)).subscribe(a),yr(i,s,this._items.changes,this._itemsResized()).pipe(Rt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),a()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Rt(this._destroyed)).subscribe(l=>{this.indexFocused.emit(l),this._setTabFocus(l)})}_itemsResized(){return"function"!=typeof ResizeObserver?Us:this._items.changes.pipe(Er(this._items),Qs(i=>new dt(s=>this._ngZone.runOutsideAngular(()=>{const a=new ResizeObserver(()=>{s.next()});return i.forEach(l=>{a.observe(l.elementRef.nativeElement)}),()=>{a.disconnect()}}))),kA(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!No(i))switch(i.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i));break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){const i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){if(!this._items)return!0;const s=this._items?this._items.toArray()[i]:null;return!!s&&!s.disabled}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();const s=this._tabListContainer.nativeElement;s.scrollLeft="ltr"==this._getLayoutDirection()?0:s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const i=this.scrollDistance,s="ltr"===this._getLayoutDirection()?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){return this._scrollTo(this._scrollDistance+("before"==i?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;const s=this._items?this._items.toArray()[i]:null;if(!s)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:c}=s.elementRef.nativeElement;let u,d;"ltr"==this._getLayoutDirection()?(u=l,d=u+c):(d=this._tabListInner.nativeElement.offsetWidth-l,u=d-c);const h=this.scrollDistance,f=this.scrollDistance+a;u<h?this.scrollDistance-=h-u+60:d>f&&(this.scrollDistance+=d-f+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const i=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;i||(this.scrollDistance=0),i!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=i}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=i?i.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,s){s&&null!=s.button&&0!==s.button||(this._stopInterval(),OA(650,100).pipe(Rt(yr(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:l}=this._scrollHeader(i);(0===l||l>=a)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I(Yc),I(Ss,8),I(ht),I(Sr),I(ts,8))},r.\u0275dir=de({type:r,inputs:{disablePagination:"disablePagination"}}),r})(),W_e=(()=>{class r extends $_e{constructor(i,s,a,l,c,u,d){super(i,s,a,l,c,u,d),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=an(i)}_itemSelected(i){i.preventDefault()}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I(Yc),I(Ss,8),I(ht),I(Sr),I(ts,8))},r.\u0275dir=de({type:r,inputs:{disableRipple:"disableRipple"},features:[Ie]}),r})(),j_e=(()=>{class r extends W_e{constructor(i,s,a,l,c,u,d){super(i,s,a,l,c,u,d)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I(Yc),I(Ss,8),I(ht),I(Sr),I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-tab-header"]],contentQueries:function(i,s,a){if(1&i&&Bn(a,t5,4),2&i){let l;je(l=qe())&&(s._items=l)}},viewQuery:function(i,s){if(1&i&&(pn(qz,7),pn(w_e,7),pn(C_e,7),pn(x_e,7),pn(M_e,5),pn(E_e,5)),2&i){let a;je(a=qe())&&(s._inkBar=a.first),je(a=qe())&&(s._tabListContainer=a.first),je(a=qe())&&(s._tabList=a.first),je(a=qe())&&(s._tabListInner=a.first),je(a=qe())&&(s._nextPaginator=a.first),je(a=qe())&&(s._previousPaginator=a.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(i,s){2&i&&$t("mat-tab-header-pagination-controls-enabled",s._showPaginationControls)("mat-tab-header-rtl","rtl"==s._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Ie],ngContentSelectors:jz,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(i,s){1&i&&(Bi(),q(0,"button",0,1),tt("click",function(){return s._handlePaginatorClick("before")})("mousedown",function(l){return s._handlePaginatorPress("before",l)})("touchend",function(){return s._stopInterval()}),pe(2,"div",2),W(),q(3,"div",3,4),tt("keydown",function(l){return s._handleKeydown(l)}),q(5,"div",5,6),tt("cdkObserveContent",function(){return s._onContentChanges()}),q(7,"div",7,8),bn(9),W(),pe(10,"mat-ink-bar"),W()(),q(11,"button",9,10),tt("mousedown",function(l){return s._handlePaginatorPress("after",l)})("click",function(){return s._handlePaginatorClick("after")})("touchend",function(){return s._stopInterval()}),pe(13,"div",2),W()),2&i&&($t("mat-tab-header-pagination-disabled",s._disableScrollBefore),B("matRippleDisabled",s._disableScrollBefore||s.disableRipple)("disabled",s._disableScrollBefore||null),N(5),$t("_mat-animation-noopable","NoopAnimations"===s._animationMode),N(6),$t("mat-tab-header-pagination-disabled",s._disableScrollAfter),B("matRippleDisabled",s._disableScrollAfter||s.disableRipple)("disabled",s._disableScrollAfter||null))},dependencies:[jc,tae,qz],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),r})(),q_e=0;class Y_e{}const X_e=jA(Sf(class{constructor(r){this._elementRef=r}}),"primary");let K_e=(()=>{class r extends X_e{constructor(i,s,a,l){super(i),this._changeDetectorRef=s,this._animationMode=l,this._tabs=new Nc,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=sn.EMPTY,this._tabLabelSubscription=sn.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new ne,this.focusChange=new ne,this.animationDone=new ne,this.selectedTabChange=new ne(!0),this._groupId=q_e++,this.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",this.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,this.dynamicHeight=!(!a||null==a.dynamicHeight)&&a.dynamicHeight,this.contentTabIndex=a?.contentTabIndex??null,this.preserveContent=!!a?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(i){this._dynamicHeight=an(i)}get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=Vl(i,null)}get animationDuration(){return this._animationDuration}set animationDuration(i){this._animationDuration=/^\d+$/.test(i+"")?i+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=Vl(i,null)}get disablePagination(){return this._disablePagination}set disablePagination(i){this._disablePagination=an(i)}get preserveContent(){return this._preserveContent}set preserveContent(i){this._preserveContent=an(i)}get backgroundColor(){return this._backgroundColor}set backgroundColor(i){const s=this._elementRef.nativeElement;s.classList.remove(`mat-background-${this.backgroundColor}`),i&&s.classList.add(`mat-background-${i}`),this._backgroundColor=i}ngAfterContentChecked(){const i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){const s=null==this._selectedIndex;if(!s){this.selectedTabChange.emit(this._createChangeEvent(i));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,l)=>a.isActive=l===i),s||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,a)=>{s.position=a-i,null!=this._selectedIndex&&0==s.position&&!s.origin&&(s.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){const s=this._tabs.toArray();let a;for(let l=0;l<s.length;l++)if(s[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,a=s[l];break}!a&&s[i]&&Promise.resolve().then(()=>{s[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Er(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){const s=this._tabHeader;s&&(s.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){const s=new Y_e;return s.index=i,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[i]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=yr(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`mat-tab-label-${this._groupId}-${i}`}_getTabContentId(i){return`mat-tab-content-${this._groupId}-${i}`}_setTabBodyWrapperHeight(i){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=i+"px")}_removeTabBodyWrapperHeight(){const i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this.animationDone.emit()}_handleClick(i,s,a){i.disabled||(this.selectedIndex=s.focusIndex=a)}_getTabIndex(i,s){return i.disabled?null:s===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(i,s){i&&"mouse"!==i&&"touch"!==i&&(this._tabHeader.focusIndex=s)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I(e5,8),I(ts,8))},r.\u0275dir=de({type:r,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Ie]}),r})(),Z_e=(()=>{class r extends K_e{constructor(i,s,a,l){super(i,s,a,l)}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(yi),I(e5,8),I(ts,8))},r.\u0275cmp=Be({type:r,selectors:[["mat-tab-group"]],contentQueries:function(i,s,a){if(1&i&&Bn(a,Zz,5),2&i){let l;je(l=qe())&&(s._allTabs=l)}},viewQuery:function(i,s){if(1&i&&(pn(S_e,5),pn(D_e,5)),2&i){let a;je(a=qe())&&(s._tabBodyWrapper=a.first),je(a=qe())&&(s._tabHeader=a.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(i,s){2&i&&$t("mat-tab-group-dynamic-height",s.dynamicHeight)("mat-tab-group-inverted-header","below"===s.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[ft([{provide:Kz,useExisting:r}]),Ie],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(i,s){1&i&&(q(0,"mat-tab-header",0,1),tt("indexFocused",function(l){return s._focusChanged(l)})("selectFocusedIndex",function(l){return s.selectedIndex=l}),K(2,R_e,5,15,"div",2),W(),q(3,"div",3,4),K(5,P_e,1,11,"mat-tab-body",5),W()),2&i&&(B("selectedIndex",s.selectedIndex||0)("disableRipple",s.disableRipple)("disablePagination",s.disablePagination),N(2),B("ngForOf",s._tabs),N(1),$t("_mat-animation-noopable","NoopAnimations"===s._animationMode),N(2),B("ngForOf",s._tabs))},dependencies:[ff,pi,Rr,kf,jc,Iae,t5,Jz,j_e],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),r})(),J_e=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fo,vn,zg,Df,RS,B4,vn]}),r})();function e0e(r,n){if(1&r){const i=di();q(0,"img",5),tt("click",function(){Cn(i);const a=ie().$implicit;return xn(ie().organName.emit(a.name))}),W()}2&r&&B("src",ie().$implicit.image,yn)}function t0e(r,n){1&r&&(q(0,"mat-tab"),K(1,e0e,1,1,"ng-template",4),W())}function n0e(r,n){if(1&r){const i=di();q(0,"mat-option",6),tt("click",function(){const l=Cn(i).$implicit;return xn(ie().organName.emit(l.name))}),re(1),W()}if(2&r){const i=n.$implicit;B("value",i),N(1),In(" ",i.name," ")}}let s5=(()=>{class r{constructor(){this.organName=new ne}get selectedIndex(){const i=this.tabs.findIndex(s=>s.name===this.currentOrgan);return i>=0?i:0}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-organ-tabs"]],inputs:{tabs:"tabs",currentOrgan:"currentOrgan",panelClass:"panelClass"},outputs:{organName:"organName"},decls:4,vars:5,consts:[["mat-align-tabs","start",1,"organ-tabs",3,"disableRipple","selectedIndex"],[4,"ngFor","ngForOf"],["panelClass","panelClass","disableOptionCentering","","disableRipple","",1,"organ-select",3,"value"],["class","mat-select-value-text",3,"value","click",4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"organ-image",3,"src","click"],[1,"mat-select-value-text",3,"value","click"]],template:function(i,s){1&i&&(q(0,"mat-tab-group",0),K(1,t0e,2,0,"mat-tab",1),W(),q(2,"mat-select",2),K(3,n0e,2,2,"mat-option",3),W()),2&i&&(B("disableRipple",!0)("selectedIndex",s.selectedIndex),N(1),B("ngForOf",s.tabs),N(1),B("value",s.tabs[s.selectedIndex]),N(1),B("ngForOf",s.tabs))},dependencies:[pi,Z_e,F_e,Zz,_z,HS],styles:['[_nghost-%COMP%]   .organ-tabs[_ngcontent-%COMP%]{padding-bottom:2rem}[_nghost-%COMP%]     .mat-tab-label{height:9rem;opacity:1;border-bottom:unset;min-width:0!important;padding:0rem!important;position:relative;overflow:visible;border-radius:.25rem}[_nghost-%COMP%]     .mat-tab-group.mat-primary .mat-ink-bar, [_nghost-%COMP%]   .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%]{background-color:#444c65;height:.5rem}[_nghost-%COMP%]   .organ-image[_ngcontent-%COMP%]{mix-blend-mode:multiply}[_nghost-%COMP%]     .mat-tab-label-active{background:rgba(0,0,0,.04)}[_nghost-%COMP%]     .mat-ink-bar{display:none}[_nghost-%COMP%]     .mat-tab-header{border-bottom:unset}[_nghost-%COMP%]     .mat-tab-labels{display:block!important;padding-bottom:.5rem}[_nghost-%COMP%]     .mat-tab-label-active:after, [_nghost-%COMP%]     .mat-tab-label:hover:after{content:"";width:100%;height:.5rem;position:absolute;left:0;right:0;bottom:.031rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}[_nghost-%COMP%]     .mat-tab-label-active:after{background-color:#444c65}[_nghost-%COMP%]     .mat-tab-label:not(.mat-tab-label-active):hover:after{background-color:#c2cae5}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{display:none}@media (max-width: 63rem){[_nghost-%COMP%]{display:flex;margin-bottom:3.5rem}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{display:initial;max-width:21rem;height:2.5rem;font-weight:400;font-size:.875rem;line-height:1.4202rem;letter-spacing:.005rem;color:#444c65;border:1px solid #444c65;border-radius:2px}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-select-trigger{height:100%;justify-content:space-between;padding:0rem 1rem}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-select-trigger .mat-select-value{width:unset}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-left:12px}[_nghost-%COMP%]   .organ-tabs[_ngcontent-%COMP%]{display:none}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{max-width:unset}}']}),r})(),i0e=(()=>{class r{constructor(i,s){this.document=i,this.errorHandler=s}download(i,s=this.getFilename(i)){var a=this;return ut(function*(){let l;try{const u=yield(yield fetch(i,{headers:new Headers({Origin:location.origin}),mode:"cors"})).blob();l=URL.createObjectURL(u),a.createDownloadEl(l,s)}catch(c){a.errorHandler.handleError(c)}finally{l&&URL.revokeObjectURL(l)}})()}getFilename(i){return i.split("\\").pop()?.split("/").pop()??""}createDownloadEl(i,s){const a=this.document.createElement("a");a.href=i,a.download=s,this.document.body.appendChild(a),a.click(),a.remove()}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(Na))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const r0e=["imageRef"];function s0e(r,n){if(1&r){const i=di();q(0,"a",15),tt("click",function(a){Cn(i);const l=ie(2).$implicit;return xn(ie(2).downloadClick(a,l.png))}),q(1,"span",12),re(2,"download"),W(),re(3," Download PNG "),W()}2&r&&B("href",ie(2).$implicit.png,yn)}function o0e(r,n){if(1&r){const i=di();q(0,"a",15),tt("click",function(a){Cn(i);const l=ie(2).$implicit;return xn(ie(2).downloadClick(a,l.svg))}),q(1,"span",12),re(2,"download"),W(),re(3," Download SVG "),W()}2&r&&B("href",ie(2).$implicit.svg,yn)}function a0e(r,n){1&r&&(q(0,"a",16)(1,"span",12),re(2,"download"),W(),re(3," Download AI "),W()),2&r&&B("href",ie(2).$implicit.ai,yn)}function l0e(r,n){if(1&r&&(q(0,"div",8)(1,"div",9),re(2),W(),q(3,"div",10)(4,"a",11)(5,"span",12),re(6,"info"),W(),re(7," Metadata "),W(),K(8,s0e,4,1,"a",13),K(9,o0e,4,1,"a",13),K(10,a0e,4,1,"a",14),W()()),2&r){const i=ie().$implicit;N(2),Ut(i.name),N(2),za("href",i.url,yn),N(4),B("ngIf",i.png),N(1),B("ngIf",i.svg),N(1),B("ngIf",i.ai)}}function c0e(r,n){1&r&&pe(0,"mat-divider")}function u0e(r,n){if(1&r&&(K(0,c0e,1,0,"mat-divider",17),q(1,"div",8)(2,"div",18),re(3),W(),pe(4,"div",19),q(5,"div",20)(6,"a",21)(7,"span",12),re(8,"download"),W(),re(9," Download GLB "),W(),q(10,"a",11)(11,"span",12),re(12,"info"),W(),re(13," Metadata "),W()()()),2&r){const i=ie(),s=i.index,a=i.$implicit;B("ngIf",0!=s&&1!=s),N(3),Ut(a.name),N(3),B("href",a.threeDimImage,yn),N(4),za("href",a.url,yn)}}function d0e(r,n){if(1&r){const i=di();q(0,"a",15),tt("click",function(a){Cn(i);const l=ie(3).$implicit;return xn(ie(2).downloadClick(a,l.png))}),q(1,"span",12),re(2,"download"),W(),re(3," Download PNG "),W()}2&r&&B("href",ie(3).$implicit.png,yn)}function h0e(r,n){if(1&r){const i=di();q(0,"a",15),tt("click",function(a){Cn(i);const l=ie(3).$implicit;return xn(ie(2).downloadClick(a,l.svg))}),q(1,"span",12),re(2,"download"),W(),re(3," Download SVG "),W()}2&r&&B("href",ie(3).$implicit.svg,yn)}function f0e(r,n){1&r&&(q(0,"a",16)(1,"span",12),re(2,"download"),W(),re(3," Download AI "),W()),2&r&&B("href",ie(3).$implicit.ai,yn)}function p0e(r,n){if(1&r&&(q(0,"div",26)(1,"div",27),re(2),W(),pe(3,"div",19),q(4,"button",28)(5,"mat-icon"),re(6,"close"),W()()(),q(7,"div",29)(8,"a",30)(9,"span",12),re(10,"info"),W(),re(11," Metadata "),W(),K(12,d0e,4,1,"a",13),K(13,h0e,4,1,"a",13),K(14,f0e,4,1,"a",14),W(),q(15,"div",31),pe(16,"img",32),W()),2&r){const i=ie(2).$implicit;N(2),Ut(i.name),N(2),B("disableRipple",!0),N(4),za("href",i.url,yn),B("disableRipple",!0),N(4),B("ngIf",i.png),N(1),B("ngIf",i.svg),N(1),B("ngIf",i.ai),N(2),B("src",i.expandedImage,yn)}}function m0e(r,n){if(1&r){const i=di();q(0,"div",22)(1,"img",23,24),tt("click",function(){Cn(i);const a=Oi(4);return xn(ie(3).openImageViewer(a))}),W(),K(3,p0e,17,8,"ng-template",null,25,es),W()}if(2&r){const i=ie().$implicit;N(1),B("src",i.image,yn)}}function g0e(r,n){if(1&r&&(q(0,"div",33),pe(1,"model-viewer",34),W()),2&r){const i=ie().$implicit;N(1),za("alt",i.alt),za("src",i.threeDimImage)}}function _0e(r,n){1&r&&pe(0,"mat-divider",35),2&r&&B("vertical",!ie(3).isMultirow)}function b0e(r,n){if(1&r&&(ci(0),q(1,"mat-card-actions"),K(2,l0e,11,5,"div",3),pe(3,"mat-divider"),K(4,u0e,14,4,"ng-template",null,4,es),K(6,m0e,5,1,"div",5),K(7,g0e,2,2,"ng-template",null,6,es),W(),K(9,_0e,1,1,"mat-divider",7),ui()),2&r){const i=n.$implicit,s=n.even,a=n.last,l=n.odd,c=Oi(5),u=Oi(8),d=ie().$implicit,h=ie();N(1),$t("split",!h.isMultirow&&1!=(null==d.tissueData?null:d.tissueData.length))("no-split",1===(null==d.tissueData?null:d.tissueData.length)),N(1),B("ngIf",h.isMultirow)("ngIfElse",c),N(4),B("ngIf",i.image)("ngIfElse",u),N(3),B("ngIf",h.isMultirow&&a||s||l&&!a)}}function A0e(r,n){if(1&r&&(q(0,"span"),K(1,b0e,10,9,"ng-container",2),W()),2&r){const i=n.$implicit;$t("multirow",!ie().isMultirow),N(1),B("ngForOf",i.tissueData)}}let o5=(()=>{class r{constructor(i,s){this.dialog=i,this.downloader=s,this.tissueData=[],this.infoRoute=new ne}openImageViewer(i){window.innerWidth/parseFloat(getComputedStyle(document.documentElement).fontSize)<63?this.imageRef.nativeElement.onclick=null:this.dialog.open(i,{panelClass:"two-dim-image-modal"})}downloadClick(i,s){i.preventDefault(),this.downloader.download(s)}}return r.\u0275fac=function(i){return new(i||r)(I($g),I(i0e))},r.\u0275cmp=Be({type:r,selectors:[["ccf-two-dim-image"]],viewQuery:function(i,s){if(1&i&&pn(r0e,5),2&i){let a;je(a=qe())&&(s.imageRef=a.first)}},inputs:{cardTitle:"cardTitle",tissueData:"tissueData",isMultirow:"isMultirow"},outputs:{infoRoute:"infoRoute"},decls:5,vars:2,consts:[[1,"card-title"],[3,"multirow",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","units-container",4,"ngIf","ngIfElse"],["downloadGlb",""],["class","image-container",4,"ngIf","ngIfElse"],["threeDimensionContainer",""],[3,"vertical",4,"ngIf"],[1,"units-container"],[1,"tissue-name"],[1,"download-button-container"],["mat-stroked-button","","disableRipple","true",3,"href"],[1,"material-symbols-outlined"],["mat-stroked-button","","disableRipple","true",3,"href","click",4,"ngIf"],["mat-stroked-button","","disableRipple","true","download","",3,"href",4,"ngIf"],["mat-stroked-button","","disableRipple","true",3,"href","click"],["mat-stroked-button","","disableRipple","true","download","",3,"href"],[4,"ngIf"],[1,"three-dim-name"],[1,"filler"],[1,"download-buttons"],["download","","mat-stroked-button","","disableRipple","true",3,"href"],[1,"image-container"],[3,"src","click"],["imageRef",""],["imageContent",""],[1,"dialog-header"],["mat-dialog-title",""],["mat-dialog-close","","mat-button","",3,"disableRipple"],[1,"dialog-buttons"],["mat-dialog-close","","mat-stroked-button","",3,"disableRipple","href"],[1,"img-container"],[1,"dialog-image",3,"src"],[1,"model-container"],["shadow-intensity","1","camera-controls","","auto-rotate","",1,"model-viewer",2,"height","400px",3,"alt","src"],[3,"vertical"]],template:function(i,s){1&i&&(q(0,"mat-card")(1,"mat-card-title",0),re(2),W(),pe(3,"mat-divider"),K(4,A0e,2,3,"span",1),W()),2&i&&(N(2),Ut(s.cardTitle),N(2),B("ngForOf",s.tissueData))},dependencies:[pi,Rr,Xa,fle,Y4,Ad,Ng,md,_d,BU,LU],styles:["[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{margin-bottom:2rem;padding:unset}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005em;padding:1.6875rem 2rem;margin-bottom:unset}[_nghost-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{border:.063rem solid #444c65;padding:0 .938rem;line-height:2.375rem;color:#444c65;font-weight:400;font-size:.875rem;letter-spacing:.005em;border-radius:.125rem;min-width:10rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   button[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%] > .mat-card-actions[_ngcontent-%COMP%]{margin-bottom:unset;padding-bottom:unset;margin-left:unset;font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{margin-left:.01rem;margin-right:unset;margin-bottom:unset;padding:unset}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;height:28rem}[_nghost-%COMP%]   .multirow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]   .split[_ngcontent-%COMP%]{width:49%}[_nghost-%COMP%]   .no-split[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .units-container[_ngcontent-%COMP%]{padding:1.688rem 2rem;font-weight:300;font-size:1.5rem;line-height:1.4202rem;letter-spacing:.005rem;color:#212121;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .model-container[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:not(.mat-card-actions-align-end)   .mat-stroked-button[_ngcontent-%COMP%]:first-child{margin:0 .5rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:100%}[_nghost-%COMP%]   .download-button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end}@media (max-width: 72rem){[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{margin:0 .5rem 1rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:not(.mat-card-actions-align-end)   .mat-stroked-button[_ngcontent-%COMP%]:first-child{margin-bottom:1rem}}@media (max-width: 46rem){[_nghost-%COMP%]   .multirow[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .split[_ngcontent-%COMP%]{width:unset}[_nghost-%COMP%]   .download-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .units-container[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;padding:1rem}[_nghost-%COMP%]   .tissue-name[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;padding:1rem}[_nghost-%COMP%]   .three-dim-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{max-width:unset;width:100%}}  .two-dim-image-modal .dialog-header{display:flex;flex-direction:row;width:100%;align-items:center;justify-content:space-between}  .two-dim-image-modal .mat-dialog-container{display:flex;flex-direction:column;align-items:center;max-height:55rem;min-width:55rem;object-fit:contain}  .two-dim-image-modal .mat-dialog-title{font-weight:300;font-size:1.5rem;line-height:1.4202rem;margin:unset;margin-right:.5rem}  .two-dim-image-modal .mat-stroked-button{border:.063rem solid #444c65;line-height:2.125rem;color:#444c65;font-weight:400;font-size:.875rem;letter-spacing:.005em;margin-right:.5rem;border-radius:.125rem;min-width:10rem}  .two-dim-image-modal .dialog-image{width:100%;height:100%;object-fit:contain}  .two-dim-image-modal .img-container{max-width:664px;height:792px}  .two-dim-image-modal a:-webkit-any-link{text-decoration:unset!important}  .two-dim-image-modal .dialog-buttons{padding-top:1.5rem}  .two-dim-image-modal .filler{flex-grow:1}@media (max-width: 26.75rem){  .two-dim-image-modal .filler{display:none}}"]}),r})();function a5(r,n){return r.toLowerCase()===n.toLowerCase()}let y0e=(()=>{class r{constructor(i,s){this.router=i,this.route=s,this.cardTitle="",this.data=this.route.snapshot.data.content,this.overviewData=this.data.overviewData,this.organCsvButton=this.data.organCsvButton,this.headerData=this.data.headerData,this.termsOfUseData=this.data.termsOfUseData,this.versionData=this.data.versionData,this.sopData=this.data.sopData,this.threeDimOrganInfo=this.data.threeDimOrganInfo,this.licenseData=this.data.licenseData,this.citationData=this.data.citationData,this.referencesData=this.data.referencesData,this.referenceOrgans=this.data.referenceOrgans,this.placeholderDate=this.versionData[0];const[{version:a,organData:[{name:l}]}]=this.threeDimOrganInfo,{version:c=a,organ:u=l}=this.route.snapshot.queryParams;this.setVersion(`${c}`,`${u}`)}setVersion(i,s){const a=this.threeDimOrganInfo.find(c=>a5(c.version,i))??this.threeDimOrganInfo[0],l=this.versionData.find(c=>c.version===a.version);this.information=a,this.placeholderDate=l,this.tabsImages=a.organData,this.setOrgan(s??a.organData[0].name)}setOrgan(i){const{information:{organData:s,version:a}}=this,l=s.filter(c=>a5(c.name,i));0===l.length?this.setOrgan(s[0].name):(this.organData=l,this.cardTitle=l[0].name,this.updateQueryParams({version:a,organ:i}))}updateQueryParams(i){this.router.navigate([],{relativeTo:this.route,queryParams:i,queryParamsHandling:"merge"})}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["ccf-3d-reference-library"]],decls:13,vars:17,consts:[[1,"page-header",3,"headerCard"],[1,"description"],[3,"data"],[1,"description",3,"buttonData"],[1,"description",3,"links"],[1,"description",3,"releaseDate","selectedDate","selectedVersion"],[3,"tabs","currentOrgan","panelClass","organName"],[3,"cardTitle","tissueData","isMultirow"],[1,"description",3,"data"]],template:function(i,s){1&i&&(pe(0,"ccf-page-header",0)(1,"announcement-card",1)(2,"ccf-page-data",2)(3,"ccf-use-button",3)(4,"ccf-sop-links",4),q(5,"ccf-choose-version",5),tt("selectedVersion",function(l){return s.setVersion(l.version)}),W(),q(6,"ccf-organ-tabs",6),tt("organName",function(l){return s.setOrgan(l)}),W(),pe(7,"ccf-two-dim-image",7)(8,"ccf-page-data",8)(9,"ccf-page-data",8)(10,"ccf-page-data",8)(11,"ccf-page-data",8)(12,"ccf-page-data",8)),2&i&&(B("headerCard",s.headerData),N(2),B("data",s.overviewData),N(1),B("buttonData",s.organCsvButton),N(1),B("links",s.sopData),N(1),B("releaseDate",s.versionData)("selectedDate",s.placeholderDate),N(1),B("tabs",s.tabsImages)("currentOrgan",s.organData[0].name)("panelClass","panelClass"),N(1),B("cardTitle",s.cardTitle)("tissueData",s.organData)("isMultirow",!1),N(1),B("data",s.termsOfUseData),N(1),B("data",s.licenseData),N(1),B("data",s.citationData),N(1),B("data",s.referenceOrgans),N(1),B("data",s.referencesData))},dependencies:[qA,Fg,F1,s5,$S,o5,WS,QS],styles:["[_nghost-%COMP%]{max-width:77rem}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]{padding:0rem 1rem}}  .panelClass{position:relative;top:40px;left:.3rem;min-width:unset!important}"]}),r})();const v0e=[{heading:"Description",descriptions:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \n        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}],w0e=[{tissueName:"Nephron",tissueData:[{label:"Creator(s):",value:"Nephron"},{label:"Creator ORCID:",value:"0000-0003-4066-7531"},{label:"Project Lead:",value:"Katy B\xf6rner"},{label:"Project Lead ORCID:",value:"0000-0002-3321-6137"},{label:"Reviewer(s):",value:"Lorem ipsum"},{label:"Reviewer ORCID(s):",value:"Lorem ipsum"},{label:"Date:",value:"Lorem ipsum"},{label:"License:",value:"Lorem ipsum"},{label:"Publisher:",value:"Lorem ipsum"},{label:"Funder:",value:"Lorem ipsum"},{label:"Award Number:",value:"OT2OD026671"},{label:"HuBMAP ID:",value:"HuBMAP ID:"},{label:"Download 2D Data:",value:"Lorem ipsum, v1.0"},{label:"DOI:",value:"https://doi.org/10.48539/HBM724.XTTN.487"},{label:"How to Cite This 2D Data:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{label:"How to Cite This 2D Data Overall:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}]},{tissueName:"Renal Corpuscle",tissueData:[{label:"Creator(s):",value:"Renal Corpuscle"},{label:"Creator ORCID:",value:"0000-0003-4066-7531"},{label:"Project Lead:",value:"Katy B\xf6rner"},{label:"Project Lead ORCID:",value:"0000-0002-3321-6137"},{label:"Reviewer(s):",value:"Lorem ipsum"},{label:"Reviewer ORCID(s):",value:"Lorem ipsum"},{label:"Date:",value:"Lorem ipsum"},{label:"License:",value:"Lorem ipsum"},{label:"Publisher:",value:"Lorem ipsum"},{label:"Funder:",value:"Lorem ipsum"},{label:"Award Number:",value:"OT2OD026671"},{label:"HuBMAP ID:",value:"HuBMAP ID:"},{label:"Download 2D Data:",value:"Lorem ipsum, v1.0"},{label:"DOI:",value:"https://doi.org/10.48539/HBM724.XTTN.487"},{label:"How to Cite This 2D Data:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{label:"How to Cite This 2D Data Overall:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}]},{tissueName:"Liver Lobule",tissueData:[{label:"Creator(s):",value:"Liver Lobule"},{label:"Creator ORCID:",value:"0000-0003-4066-7531"},{label:"Project Lead:",value:"Katy B\xf6rner"},{label:"Project Lead ORCID:",value:"0000-0002-3321-6137"},{label:"Reviewer(s):",value:"Lorem ipsum"},{label:"Reviewer ORCID(s):",value:"Lorem ipsum"},{label:"Date:",value:"Lorem ipsum"},{label:"License:",value:"Lorem ipsum"},{label:"Publisher:",value:"Lorem ipsum"},{label:"Funder:",value:"Lorem ipsum"},{label:"Award Number:",value:"OT2OD026671"},{label:"HuBMAP ID:",value:"HuBMAP ID:"},{label:"Download 2D Data:",value:"Lorem ipsum, v1.0"},{label:"DOI:",value:"https://doi.org/10.48539/HBM724.XTTN.487"},{label:"How to Cite This 2D Data:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."},{label:"How to Cite This 2D Data Overall:",value:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}]}];function C0e(r,n){if(1&r&&(q(0,"th",8),re(1),W()),2&r){const i=ie().$implicit;N(1),In(" ",i.header," ")}}function x0e(r,n){if(1&r&&(q(0,"td",9)(1,"markdown"),re(2),W()()),2&r){const i=n.$implicit,s=ie().$implicit;N(2),Ut(s.cell(i))}}function M0e(r,n){1&r&&(ci(0,5),K(1,C0e,2,1,"th",6),K(2,x0e,3,1,"td",7),ui()),2&r&&B("matColumnDef",n.$implicit.columnDef)}function E0e(r,n){1&r&&pe(0,"tr",10)}function S0e(r,n){1&r&&pe(0,"tr",11)}let D0e=(()=>{class r{constructor(){this.dataSource=new Rz([]),this.columns=[{columnDef:"label",header:"Label",cell:i=>`${i.label}`},{columnDef:"value",header:"Value",cell:i=>`${i.value}`}],this.displayedColumns=this.columns.map(i=>i.columnDef)}set sort(i){this.dataSource.sort=i}set data(i){this.dataSource.data=i.tissueData}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-tissue-info"]],viewQuery:function(i,s){if(1&i&&pn(t_,7),2&i){let a;je(a=qe())&&(s.sort=a.first)}},inputs:{data:"data"},decls:5,vars:4,consts:[[1,"table-container"],["mat-table","","matSort","",1,"mat-elevation-z8","demo-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,s){1&i&&(q(0,"div",0)(1,"table",1),K(2,M0e,3,1,"ng-container",2),K(3,E0e,1,0,"tr",3),K(4,S0e,1,0,"tr",4),W()()),2&i&&(N(1),B("dataSource",s.dataSource),N(1),B("ngForOf",s.columns),N(1),B("matHeaderRowDef",s.displayedColumns),N(1),B("matRowDefColumns",s.displayedColumns))},dependencies:[pi,q1,Vy,Y1,zy,Uy,X1,Hy,Gy,K1,Z1,t_,yz,cd],styles:["[_nghost-%COMP%]   .demo-table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .table-container[_ngcontent-%COMP%]{padding-bottom:2rem}[_nghost-%COMP%]     table>tbody>tr>td:nth-child(1){font-weight:500;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#212121}[_nghost-%COMP%]     td:nth-child(2){font-weight:300;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#212121}[_nghost-%COMP%]     th.mat-header-cell{font-weight:500;font-size:.875rem;line-height:1.5rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]     table>thead>tr>th:nth-child(1) .mat-sort-header-arrow{color:#ebebeb!important}[_nghost-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow{opacity:.54!important;transform:rotate(180deg)!important;color:#ebebeb}"]}),r})(),I0e=(()=>{class r{constructor(i){this.descriptionData=v0e,this.tissueData=w0e,this.data=i.snapshot.data.content}}return r.\u0275fac=function(i){return new(i||r)(I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["ccf-tissue-info-page"]],decls:3,vars:2,consts:[[2,"padding-top","2rem"],[3,"data"]],template:function(i,s){1&i&&(q(0,"div",0),pe(1,"ccf-page-data",1),W(),pe(2,"ccf-tissue-info",1)),2&i&&(N(1),B("data",s.descriptionData),N(1),B("data",s.data))},dependencies:[D0e,Fg],styles:["[_nghost-%COMP%]{max-width:77rem}"]}),r})();const l5=function(){return[]};function nD(r,n){return r.toLowerCase()===n.toLowerCase()}let T0e=(()=>{class r{constructor(i,s,a){this.router=i,this.route=s,this.dataService=a,this.data=this.route.snapshot.data.content,this.twoDimHeaderCardDetails=this.data.twoDimHeaderCardDetails,this.overviewData=this.data.overviewData,this.sopData=this.data.sopData,this.termsOfUseData=this.data.termsOfUseData,this.licenseData=this.data.licenseData,this.citationData=this.data.citationData,this.twoDimFtuLibObjects=this.data.twoDimFtuLibObjects,this.disclaimer=this.data.disclaimer,this.filterImages=this.data.filterImages,this.cardTitle="",this.tableTitle="",this.versionData=this.data.versionData,this.placeholderDate=this.data.placeholderDate,this.organData=this.data.organData,this.info=this.data.info,this.version=this.data.version,this.organInfo=this.data.organInfo,this.headerInfo=this.data.headerInfo.map(l=>({...l,cell:new Function("element",`return ${l.cell}`)})),this.displayedColumnsData=this.data.headerInfo.map(l=>l.columnDef),this.tableData=Us,this.columns=Us}ngOnInit(){const[{version:i,organData:[{name:s}]}]=this.organInfo,{version:a=i,organ:l=s}=this.route.snapshot.queryParams;this.setVersion(`${a}`,`${l}`),this.setFtu(this.organData[0].name)}setVersion(i,s){const a=this.organInfo.find(c=>nD(c.version,i))??this.organInfo[0],l=this.versionData.find(c=>c.version===a.version);this.info=a,this.version=l,this.filterImages=a.organData,this.setOrgan(s??a.organData[0].name)}setOrgan(i){const{info:{organData:s,version:a}}=this,l=s.filter(c=>nD(c.name,i));0===l.length?this.setOrgan(s[0].name):(this.organData=l,this.cardTitle=l[0].name+" Functional Tissue Units",this.updateQueryParams({version:a,organ:i}))}updateQueryParams(i){this.router.navigate([],{relativeTo:this.route,queryParams:i,queryParamsHandling:"merge"})}setFtu(i){const s=this.dataService.getData("ftu-cell-count.csv",this.displayedColumnsData);this.tableData=s.pipe(Oe(a=>a.data),Oe(a=>a.filter(l=>nD(l.Organ,i)))),this.columns=s.pipe(Oe(a=>a.columns)),this.tableTitle=i+" Functional Tissue Units: Anatomical Structures & Cell Types"}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms),I(nV))},r.\u0275cmp=Be({type:r,selectors:[["ccf-2d-ftu"]],decls:24,vars:27,consts:[[1,"page-header",3,"headerCard"],[1,"description"],[1,"description",3,"data"],[1,"description",3,"links"],[1,"content-title","description"],[1,"description",3,"releaseDate","selectedDate","selectedVersion"],[3,"tabs","currentOrgan","panelClass","organName"],[3,"cardTitle","tissueData","isMultirow"],[1,"table-heading-container"],[1,"content-title"],["mat-raised-button","","href","assets/table-data/ftu-cell-count.csv"],[1,"material-symbols-outlined"],[1,"description",3,"typeCount","displayedColumns","columns","isTotal"]],template:function(i,s){if(1&i&&(pe(0,"ccf-page-header",0)(1,"announcement-card",1)(2,"ccf-page-data",2)(3,"ccf-page-data",2)(4,"ccf-sop-links",3),q(5,"div",4),re(6,"Functional Tissue Units"),W(),q(7,"ccf-choose-version",5),tt("selectedVersion",function(l){return s.setVersion(l.version)}),W(),q(8,"ccf-organ-tabs",6),tt("organName",function(l){return s.setOrgan(l)})("organName",function(l){return s.setFtu(l)}),W(),pe(9,"ccf-two-dim-image",7),q(10,"div",8)(11,"div",9),re(12),W(),q(13,"a",10)(14,"span",11),re(15,"download"),W(),re(16,"Download CSV"),W()(),pe(17,"ccf-table",12),Lc(18,"async"),Lc(19,"async"),pe(20,"ccf-page-data",2)(21,"ccf-page-data",2)(22,"ccf-page-data",2)(23,"ccf-page-data",2)),2&i){let a,l;B("headerCard",s.twoDimHeaderCardDetails),N(2),B("data",s.overviewData),N(1),B("data",s.disclaimer),N(1),B("links",s.sopData),N(3),B("releaseDate",s.versionData)("selectedDate",s.version),N(1),B("tabs",s.filterImages)("currentOrgan",s.organData[0].name)("panelClass","panelClass"),N(1),B("cardTitle",s.cardTitle)("tissueData",s.organData)("isMultirow",!0),N(3),Ut(s.tableTitle),N(5),B("typeCount",null!==(a=Fc(18,21,s.tableData))&&void 0!==a?a:Il(25,l5))("displayedColumns",null!==(l=Fc(19,23,s.columns))&&void 0!==l?l:Il(26,l5))("columns",s.headerInfo)("isTotal",!0),N(3),B("data",s.twoDimFtuLibObjects),N(1),B("data",s.termsOfUseData),N(1),B("data",s.licenseData),N(1),B("data",s.citationData)}},dependencies:[qA,Fg,$S,s5,o5,F1,WS,Pz,md,sg],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:77rem}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-bottom:1rem;align-items:center;flex-wrap:wrap;line-height:2rem}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{background-color:#fafafa;border:.063rem solid #444c65;border-radius:.125rem;font-weight:400;font-size:.875rem;letter-spacing:.005rem;color:#444c65;box-shadow:unset}[_nghost-%COMP%]   .raised-button[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]:hover{background-color:#e4e9e9}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]{padding:0rem 1rem}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin-top:1rem}}  .panelClass{position:relative;top:40px;left:1rem;min-width:unset!important}"]}),r})();var Dr_isObject=function k0e(r){return"object"==typeof r&&null!==r},Dr_repeat=function O0e(r,n){var s,i="";for(s=0;s<n;s+=1)i+=r;return i},Dr_isNegativeZero=function B0e(r){return 0===r&&Number.NEGATIVE_INFINITY===1/r};function u5(r,n){var i="",s=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(i+='in "'+r.mark.name+'" '),i+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!n&&r.mark.snippet&&(i+="\n\n"+r.mark.snippet),s+" "+i):s}function s_(r,n){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=n,this.message=u5(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(s_.prototype=Object.create(Error.prototype)).constructor=s_,s_.prototype.toString=function(n){return this.name+": "+u5(this,n)};var Is=s_;function iD(r,n,i,s,a){var l="",c="",u=Math.floor(a/2)-1;return s-n>u&&(n=s-u+(l=" ... ").length),i-s>u&&(i=s+u-(c=" ...").length),{str:l+r.slice(n,i).replace(/\t/g,"\u2192")+c,pos:s-n+l.length}}function rD(r,n){return Dr_repeat(" ",n-r.length)+r}var Q0e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$0e=["scalar","sequence","mapping"],Qr=function j0e(r,n){if(n=n||{},Object.keys(n).forEach(function(i){if(-1===Q0e.indexOf(i))throw new Is('Unknown option "'+i+'" is met in definition of "'+r+'" YAML type.')}),this.options=n,this.tag=r,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(i){return i},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=function W0e(r){var n={};return null!==r&&Object.keys(r).forEach(function(i){r[i].forEach(function(s){n[String(s)]=i})}),n}(n.styleAliases||null),-1===$0e.indexOf(this.kind))throw new Is('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')};function d5(r,n){var i=[];return r[n].forEach(function(s){var a=i.length;i.forEach(function(l,c){l.tag===s.tag&&l.kind===s.kind&&l.multi===s.multi&&(a=c)}),i[a]=s}),i}function sD(r){return this.extend(r)}sD.prototype.extend=function(n){var i=[],s=[];if(n instanceof Qr)s.push(n);else if(Array.isArray(n))s=s.concat(n);else{if(!n||!Array.isArray(n.implicit)&&!Array.isArray(n.explicit))throw new Is("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.implicit&&(i=i.concat(n.implicit)),n.explicit&&(s=s.concat(n.explicit))}i.forEach(function(l){if(!(l instanceof Qr))throw new Is("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&"scalar"!==l.loadKind)throw new Is("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Is("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(l){if(!(l instanceof Qr))throw new Is("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(sD.prototype);return a.implicit=(this.implicit||[]).concat(i),a.explicit=(this.explicit||[]).concat(s),a.compiledImplicit=d5(a,"implicit"),a.compiledExplicit=d5(a,"explicit"),a.compiledTypeMap=function q0e(){var n,i,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(a){a.multi?(r.multi[a.kind].push(a),r.multi.fallback.push(a)):r[a.kind][a.tag]=r.fallback[a.tag]=a}for(n=0,i=arguments.length;n<i;n+=1)arguments[n].forEach(s);return r}(a.compiledImplicit,a.compiledExplicit),a};var h5=sD,f5=new Qr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return null!==r?r:""}}),p5=new Qr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return null!==r?r:[]}}),m5=new Qr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return null!==r?r:{}}}),g5=new h5({explicit:[f5,p5,m5]}),_5=new Qr("tag:yaml.org,2002:null",{kind:"scalar",resolve:function Y0e(r){if(null===r)return!0;var n=r.length;return 1===n&&"~"===r||4===n&&("null"===r||"Null"===r||"NULL"===r)},construct:function X0e(){return null},predicate:function K0e(r){return null===r},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),b5=new Qr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Z0e(r){if(null===r)return!1;var n=r.length;return 4===n&&("true"===r||"True"===r||"TRUE"===r)||5===n&&("false"===r||"False"===r||"FALSE"===r)},construct:function J0e(r){return"true"===r||"True"===r||"TRUE"===r},predicate:function ebe(r){return"[object Boolean]"===Object.prototype.toString.call(r)},represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function tbe(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function nbe(r){return 48<=r&&r<=55}function ibe(r){return 48<=r&&r<=57}var A5=new Qr("tag:yaml.org,2002:int",{kind:"scalar",resolve:function rbe(r){if(null===r)return!1;var a,n=r.length,i=0,s=!1;if(!n)return!1;if(("-"===(a=r[i])||"+"===a)&&(a=r[++i]),"0"===a){if(i+1===n)return!0;if("b"===(a=r[++i])){for(i++;i<n;i++)if("_"!==(a=r[i])){if("0"!==a&&"1"!==a)return!1;s=!0}return s&&"_"!==a}if("x"===a){for(i++;i<n;i++)if("_"!==(a=r[i])){if(!tbe(r.charCodeAt(i)))return!1;s=!0}return s&&"_"!==a}if("o"===a){for(i++;i<n;i++)if("_"!==(a=r[i])){if(!nbe(r.charCodeAt(i)))return!1;s=!0}return s&&"_"!==a}}if("_"===a)return!1;for(;i<n;i++)if("_"!==(a=r[i])){if(!ibe(r.charCodeAt(i)))return!1;s=!0}return!(!s||"_"===a)},construct:function sbe(r){var s,n=r,i=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),("-"===(s=n[0])||"+"===s)&&("-"===s&&(i=-1),s=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===s){if("b"===n[1])return i*parseInt(n.slice(2),2);if("x"===n[1])return i*parseInt(n.slice(2),16);if("o"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)},predicate:function obe(r){return"[object Number]"===Object.prototype.toString.call(r)&&r%1==0&&!Dr_isNegativeZero(r)},represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),abe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),ube=/^[-+]?[0-9]+e/,y5=new Qr("tag:yaml.org,2002:float",{kind:"scalar",resolve:function lbe(r){return!(null===r||!abe.test(r)||"_"===r[r.length-1])},construct:function cbe(r){var n,i;return i="-"===(n=r.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:i*parseFloat(n,10)},predicate:function hbe(r){return"[object Number]"===Object.prototype.toString.call(r)&&(r%1!=0||Dr_isNegativeZero(r))},represent:function dbe(r,n){var i;if(isNaN(r))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Dr_isNegativeZero(r))return"-0.0";return i=r.toString(10),ube.test(i)?i.replace("e",".e"):i},defaultStyle:"lowercase"}),w5=g5.extend({implicit:[_5,b5,A5,y5]}),C5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),x5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),M5=new Qr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function fbe(r){return null!==r&&(null!==C5.exec(r)||null!==x5.exec(r))},construct:function pbe(r){var n,i,s,a,l,c,u,m,d=0,h=null;if(null===(n=C5.exec(r))&&(n=x5.exec(r)),null===n)throw new Error("Date resolve error");if(i=+n[1],s=+n[2]-1,a=+n[3],!n[4])return new Date(Date.UTC(i,s,a));if(l=+n[4],c=+n[5],u=+n[6],n[7]){for(d=n[7].slice(0,3);d.length<3;)d+="0";d=+d}return n[9]&&(h=6e4*(60*+n[10]+ +(n[11]||0)),"-"===n[9]&&(h=-h)),m=new Date(Date.UTC(i,s,a,l,c,u,d)),h&&m.setTime(m.getTime()-h),m},instanceOf:Date,represent:function mbe(r){return r.toISOString()}}),E5=new Qr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function gbe(r){return"<<"===r||null===r}}),oD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",S5=new Qr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function _be(r){if(null===r)return!1;var n,i,s=0,a=r.length,l=oD;for(i=0;i<a;i++)if(!((n=l.indexOf(r.charAt(i)))>64)){if(n<0)return!1;s+=6}return s%8==0},construct:function bbe(r){var n,i,s=r.replace(/[\r\n=]/g,""),a=s.length,l=oD,c=0,u=[];for(n=0;n<a;n++)n%4==0&&n&&(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)),c=c<<6|l.indexOf(s.charAt(n));return 0==(i=a%4*6)?(u.push(c>>16&255),u.push(c>>8&255),u.push(255&c)):18===i?(u.push(c>>10&255),u.push(c>>2&255)):12===i&&u.push(c>>4&255),new Uint8Array(u)},predicate:function ybe(r){return"[object Uint8Array]"===Object.prototype.toString.call(r)},represent:function Abe(r){var s,a,n="",i=0,l=r.length,c=oD;for(s=0;s<l;s++)s%3==0&&s&&(n+=c[i>>18&63],n+=c[i>>12&63],n+=c[i>>6&63],n+=c[63&i]),i=(i<<8)+r[s];return 0==(a=l%3)?(n+=c[i>>18&63],n+=c[i>>12&63],n+=c[i>>6&63],n+=c[63&i]):2===a?(n+=c[i>>10&63],n+=c[i>>4&63],n+=c[i<<2&63],n+=c[64]):1===a&&(n+=c[i>>2&63],n+=c[i<<4&63],n+=c[64],n+=c[64]),n}}),vbe=Object.prototype.hasOwnProperty,wbe=Object.prototype.toString,D5=new Qr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function Cbe(r){if(null===r)return!0;var i,s,a,l,c,n=[],u=r;for(i=0,s=u.length;i<s;i+=1){if(c=!1,"[object Object]"!==wbe.call(a=u[i]))return!1;for(l in a)if(vbe.call(a,l)){if(c)return!1;c=!0}if(!c)return!1;if(-1!==n.indexOf(l))return!1;n.push(l)}return!0},construct:function xbe(r){return null!==r?r:[]}}),Mbe=Object.prototype.toString,I5=new Qr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Ebe(r){if(null===r)return!0;var n,i,s,a,l,c=r;for(l=new Array(c.length),n=0,i=c.length;n<i;n+=1){if("[object Object]"!==Mbe.call(s=c[n])||1!==(a=Object.keys(s)).length)return!1;l[n]=[a[0],s[a[0]]]}return!0},construct:function Sbe(r){if(null===r)return[];var n,i,s,a,l,c=r;for(l=new Array(c.length),n=0,i=c.length;n<i;n+=1)s=c[n],a=Object.keys(s),l[n]=[a[0],s[a[0]]];return l}}),Dbe=Object.prototype.hasOwnProperty,T5=new Qr("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Ibe(r){if(null===r)return!0;var n,i=r;for(n in i)if(Dbe.call(i,n)&&null!==i[n])return!1;return!0},construct:function Tbe(r){return null!==r?r:{}}}),aD=w5.extend({implicit:[M5,E5],explicit:[S5,D5,I5,T5]}),nu=Object.prototype.hasOwnProperty,Rbe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Pbe=/[\x85\u2028\u2029]/,Obe=/[,\[\]\{\}]/,O5=/^(?:!|!!|![a-z\-]+!)$/i,B5=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function L5(r){return Object.prototype.toString.call(r)}function Ja(r){return 10===r||13===r}function wd(r){return 9===r||32===r}function js(r){return 9===r||32===r||10===r||13===r}function zf(r){return 44===r||91===r||93===r||123===r||125===r}function Bbe(r){var n;return 48<=r&&r<=57?r-48:97<=(n=32|r)&&n<=102?n-97+10:-1}function Lbe(r){return 120===r?2:117===r?4:85===r?8:0}function Fbe(r){return 48<=r&&r<=57?r-48:-1}function F5(r){return 48===r?"\0":97===r?"\x07":98===r?"\b":116===r||9===r?"\t":110===r?"\n":118===r?"\v":102===r?"\f":114===r?"\r":101===r?"\x1b":32===r?" ":34===r?'"':47===r?"/":92===r?"\\":78===r?"\x85":95===r?"\xa0":76===r?"\u2028":80===r?"\u2029":""}function Nbe(r){return r<=65535?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))}for(var N5=new Array(256),U5=new Array(256),Hf=0;Hf<256;Hf++)N5[Hf]=F5(Hf)?1:0,U5[Hf]=F5(Hf);function Ube(r,n){this.input=r,this.filename=n.filename||null,this.schema=n.schema||aD,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=r.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function V5(r,n){var i={name:r.filename,buffer:r.input.slice(0,-1),position:r.position,line:r.line,column:r.position-r.lineStart};return i.snippet=function H0e(r,n){if(n=Object.create(n||null),!r.buffer)return null;n.maxLength||(n.maxLength=79),"number"!=typeof n.indent&&(n.indent=1),"number"!=typeof n.linesBefore&&(n.linesBefore=3),"number"!=typeof n.linesAfter&&(n.linesAfter=2);for(var l,i=/\r?\n|\r|\0/g,s=[0],a=[],c=-1;l=i.exec(r.buffer);)a.push(l.index),s.push(l.index+l[0].length),r.position<=l.index&&c<0&&(c=s.length-2);c<0&&(c=s.length-1);var d,h,u="",f=Math.min(r.line+n.linesAfter,a.length).toString().length,p=n.maxLength-(n.indent+f+3);for(d=1;d<=n.linesBefore&&!(c-d<0);d++)h=iD(r.buffer,s[c-d],a[c-d],r.position-(s[c]-s[c-d]),p),u=Dr_repeat(" ",n.indent)+rD((r.line-d+1).toString(),f)+" | "+h.str+"\n"+u;for(h=iD(r.buffer,s[c],a[c],r.position,p),u+=Dr_repeat(" ",n.indent)+rD((r.line+1).toString(),f)+" | "+h.str+"\n",u+=Dr_repeat("-",n.indent+f+3+h.pos)+"^\n",d=1;d<=n.linesAfter&&!(c+d>=a.length);d++)h=iD(r.buffer,s[c+d],a[c+d],r.position-(s[c]-s[c+d]),p),u+=Dr_repeat(" ",n.indent)+rD((r.line+d+1).toString(),f)+" | "+h.str+"\n";return u.replace(/\n$/,"")}(i),new Is(n,i)}function pt(r,n){throw V5(r,n)}function Xy(r,n){r.onWarning&&r.onWarning.call(null,V5(r,n))}var z5={YAML:function(n,i,s){var a,l,c;null!==n.version&&pt(n,"duplication of %YAML directive"),1!==s.length&&pt(n,"YAML directive accepts exactly one argument"),null===(a=/^([0-9]+)\.([0-9]+)$/.exec(s[0]))&&pt(n,"ill-formed argument of the YAML directive"),l=parseInt(a[1],10),c=parseInt(a[2],10),1!==l&&pt(n,"unacceptable YAML version of the document"),n.version=s[0],n.checkLineBreaks=c<2,1!==c&&2!==c&&Xy(n,"unsupported YAML version of the document")},TAG:function(n,i,s){var a,l;2!==s.length&&pt(n,"TAG directive accepts exactly two arguments"),l=s[1],O5.test(a=s[0])||pt(n,"ill-formed tag handle (first argument) of the TAG directive"),nu.call(n.tagMap,a)&&pt(n,'there is a previously declared suffix for "'+a+'" tag handle'),B5.test(l)||pt(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{pt(n,"tag prefix is malformed: "+l)}n.tagMap[a]=l}};function iu(r,n,i,s){var a,l,c,u;if(n<i){if(u=r.input.slice(n,i),s)for(a=0,l=u.length;a<l;a+=1)9===(c=u.charCodeAt(a))||32<=c&&c<=1114111||pt(r,"expected valid JSON character");else Rbe.test(u)&&pt(r,"the stream contains non-printable characters");r.result+=u}}function H5(r,n,i,s){var a,l,c,u;for(Dr_isObject(i)||pt(r,"cannot merge mappings; the provided source object is unacceptable"),c=0,u=(a=Object.keys(i)).length;c<u;c+=1)nu.call(n,l=a[c])||(n[l]=i[l],s[l]=!0)}function Gf(r,n,i,s,a,l,c,u,d){var h,f;if(Array.isArray(a))for(h=0,f=(a=Array.prototype.slice.call(a)).length;h<f;h+=1)Array.isArray(a[h])&&pt(r,"nested arrays are not supported inside keys"),"object"==typeof a&&"[object Object]"===L5(a[h])&&(a[h]="[object Object]");if("object"==typeof a&&"[object Object]"===L5(a)&&(a="[object Object]"),a=String(a),null===n&&(n={}),"tag:yaml.org,2002:merge"===s)if(Array.isArray(l))for(h=0,f=l.length;h<f;h+=1)H5(r,n,l[h],i);else H5(r,n,l,i);else!r.json&&!nu.call(i,a)&&nu.call(n,a)&&(r.line=c||r.line,r.lineStart=u||r.lineStart,r.position=d||r.position,pt(r,"duplicated mapping key")),"__proto__"===a?Object.defineProperty(n,a,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[a]=l,delete i[a];return n}function cD(r){var n;10===(n=r.input.charCodeAt(r.position))?r.position++:13===n?(r.position++,10===r.input.charCodeAt(r.position)&&r.position++):pt(r,"a line break is expected"),r.line+=1,r.lineStart=r.position,r.firstTabInLine=-1}function fr(r,n,i){for(var s=0,a=r.input.charCodeAt(r.position);0!==a;){for(;wd(a);)9===a&&-1===r.firstTabInLine&&(r.firstTabInLine=r.position),a=r.input.charCodeAt(++r.position);if(n&&35===a)do{a=r.input.charCodeAt(++r.position)}while(10!==a&&13!==a&&0!==a);if(!Ja(a))break;for(cD(r),a=r.input.charCodeAt(r.position),s++,r.lineIndent=0;32===a;)r.lineIndent++,a=r.input.charCodeAt(++r.position)}return-1!==i&&0!==s&&r.lineIndent<i&&Xy(r,"deficient indentation"),s}function Ky(r){var i,n=r.position;return!(45!==(i=r.input.charCodeAt(n))&&46!==i||i!==r.input.charCodeAt(n+1)||i!==r.input.charCodeAt(n+2)||(n+=3,i=r.input.charCodeAt(n),0!==i&&!js(i)))}function uD(r,n){1===n?r.result+=" ":n>1&&(r.result+=Dr_repeat("\n",n-1))}function G5(r,n){var i,d,s=r.tag,a=r.anchor,l=[],u=!1;if(-1!==r.firstTabInLine)return!1;for(null!==r.anchor&&(r.anchorMap[r.anchor]=l),d=r.input.charCodeAt(r.position);0!==d&&(-1!==r.firstTabInLine&&(r.position=r.firstTabInLine,pt(r,"tab characters must not be used in indentation")),45===d&&js(r.input.charCodeAt(r.position+1)));)if(u=!0,r.position++,fr(r,!0,-1)&&r.lineIndent<=n)l.push(null),d=r.input.charCodeAt(r.position);else if(i=r.line,Qf(r,n,3,!1,!0),l.push(r.result),fr(r,!0,-1),d=r.input.charCodeAt(r.position),(r.line===i||r.lineIndent>n)&&0!==d)pt(r,"bad indentation of a sequence entry");else if(r.lineIndent<n)break;return!!u&&(r.tag=s,r.anchor=a,r.kind="sequence",r.result=l,!0)}function Wbe(r){var n,a,l,c,i=!1,s=!1;if(33!==(c=r.input.charCodeAt(r.position)))return!1;if(null!==r.tag&&pt(r,"duplication of a tag property"),60===(c=r.input.charCodeAt(++r.position))?(i=!0,c=r.input.charCodeAt(++r.position)):33===c?(s=!0,a="!!",c=r.input.charCodeAt(++r.position)):a="!",n=r.position,i){do{c=r.input.charCodeAt(++r.position)}while(0!==c&&62!==c);r.position<r.length?(l=r.input.slice(n,r.position),c=r.input.charCodeAt(++r.position)):pt(r,"unexpected end of the stream within a verbatim tag")}else{for(;0!==c&&!js(c);)33===c&&(s?pt(r,"tag suffix cannot contain exclamation marks"):(a=r.input.slice(n-1,r.position+1),O5.test(a)||pt(r,"named tag handle cannot contain such characters"),s=!0,n=r.position+1)),c=r.input.charCodeAt(++r.position);l=r.input.slice(n,r.position),Obe.test(l)&&pt(r,"tag suffix cannot contain flow indicator characters")}l&&!B5.test(l)&&pt(r,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{pt(r,"tag name is malformed: "+l)}return i?r.tag=l:nu.call(r.tagMap,a)?r.tag=r.tagMap[a]+l:"!"===a?r.tag="!"+l:"!!"===a?r.tag="tag:yaml.org,2002:"+l:pt(r,'undeclared tag handle "'+a+'"'),!0}function jbe(r){var n,i;if(38!==(i=r.input.charCodeAt(r.position)))return!1;for(null!==r.anchor&&pt(r,"duplication of an anchor property"),i=r.input.charCodeAt(++r.position),n=r.position;0!==i&&!js(i)&&!zf(i);)i=r.input.charCodeAt(++r.position);return r.position===n&&pt(r,"name of an anchor node must contain at least one character"),r.anchor=r.input.slice(n,r.position),!0}function Qf(r,n,i,s,a){var l,c,u,p,m,g,_,A,b,d=1,h=!1,f=!1;if(null!==r.listener&&r.listener("open",r),r.tag=null,r.anchor=null,r.kind=null,r.result=null,l=c=u=4===i||3===i,s&&fr(r,!0,-1)&&(h=!0,r.lineIndent>n?d=1:r.lineIndent===n?d=0:r.lineIndent<n&&(d=-1)),1===d)for(;Wbe(r)||jbe(r);)fr(r,!0,-1)?(h=!0,u=l,r.lineIndent>n?d=1:r.lineIndent===n?d=0:r.lineIndent<n&&(d=-1)):u=!1;if(u&&(u=h||a),(1===d||4===i)&&(A=1===i||2===i?n:n+1,b=r.position-r.lineStart,1===d?u&&(G5(r,b)||function $be(r,n,i){var s,a,l,c,u,d,w,h=r.tag,f=r.anchor,p={},m=Object.create(null),g=null,_=null,A=null,b=!1,y=!1;if(-1!==r.firstTabInLine)return!1;for(null!==r.anchor&&(r.anchorMap[r.anchor]=p),w=r.input.charCodeAt(r.position);0!==w;){if(!b&&-1!==r.firstTabInLine&&(r.position=r.firstTabInLine,pt(r,"tab characters must not be used in indentation")),s=r.input.charCodeAt(r.position+1),l=r.line,63!==w&&58!==w||!js(s)){if(c=r.line,u=r.lineStart,d=r.position,!Qf(r,i,2,!1,!0))break;if(r.line===l){for(w=r.input.charCodeAt(r.position);wd(w);)w=r.input.charCodeAt(++r.position);if(58===w)js(w=r.input.charCodeAt(++r.position))||pt(r,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Gf(r,p,m,g,_,null,c,u,d),g=_=A=null),y=!0,b=!1,a=!1,g=r.tag,_=r.result;else{if(!y)return r.tag=h,r.anchor=f,!0;pt(r,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return r.tag=h,r.anchor=f,!0;pt(r,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===w?(b&&(Gf(r,p,m,g,_,null,c,u,d),g=_=A=null),y=!0,b=!0,a=!0):b?(b=!1,a=!0):pt(r,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),r.position+=1,w=s;if((r.line===l||r.lineIndent>n)&&(b&&(c=r.line,u=r.lineStart,d=r.position),Qf(r,n,4,!0,a)&&(b?_=r.result:A=r.result),b||(Gf(r,p,m,g,_,A,c,u,d),g=_=A=null),fr(r,!0,-1),w=r.input.charCodeAt(r.position)),(r.line===l||r.lineIndent>n)&&0!==w)pt(r,"bad indentation of a mapping entry");else if(r.lineIndent<n)break}return b&&Gf(r,p,m,g,_,null,c,u,d),y&&(r.tag=h,r.anchor=f,r.kind="mapping",r.result=p),y}(r,b,A))||function Gbe(r,n){var s,a,l,u,f,p,m,g,A,b,y,w,i=!0,c=r.tag,d=r.anchor,_=Object.create(null);if(91===(w=r.input.charCodeAt(r.position)))f=93,g=!1,u=[];else{if(123!==w)return!1;f=125,g=!0,u={}}for(null!==r.anchor&&(r.anchorMap[r.anchor]=u),w=r.input.charCodeAt(++r.position);0!==w;){if(fr(r,!0,n),(w=r.input.charCodeAt(r.position))===f)return r.position++,r.tag=c,r.anchor=d,r.kind=g?"mapping":"sequence",r.result=u,!0;i?44===w&&pt(r,"expected the node content, but found ','"):pt(r,"missed comma between flow collection entries"),y=null,p=m=!1,63===w&&js(r.input.charCodeAt(r.position+1))&&(p=m=!0,r.position++,fr(r,!0,n)),s=r.line,a=r.lineStart,l=r.position,Qf(r,n,1,!1,!0),b=r.tag,A=r.result,fr(r,!0,n),w=r.input.charCodeAt(r.position),(m||r.line===s)&&58===w&&(p=!0,w=r.input.charCodeAt(++r.position),fr(r,!0,n),Qf(r,n,1,!1,!0),y=r.result),g?Gf(r,u,_,b,A,y,s,a,l):u.push(p?Gf(r,null,_,b,A,y,s,a,l):A),fr(r,!0,n),44===(w=r.input.charCodeAt(r.position))?(i=!0,w=r.input.charCodeAt(++r.position)):i=!1}pt(r,"unexpected end of the stream within a flow collection")}(r,A)?f=!0:(c&&function Qbe(r,n){var i,s,f,p,a=1,l=!1,c=!1,u=n,d=0,h=!1;if(124===(p=r.input.charCodeAt(r.position)))s=!1;else{if(62!==p)return!1;s=!0}for(r.kind="scalar",r.result="";0!==p;)if(43===(p=r.input.charCodeAt(++r.position))||45===p)1===a?a=43===p?3:2:pt(r,"repeat of a chomping mode identifier");else{if(!((f=Fbe(p))>=0))break;0===f?pt(r,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?pt(r,"repeat of an indentation width identifier"):(u=n+f-1,c=!0)}if(wd(p)){do{p=r.input.charCodeAt(++r.position)}while(wd(p));if(35===p)do{p=r.input.charCodeAt(++r.position)}while(!Ja(p)&&0!==p)}for(;0!==p;){for(cD(r),r.lineIndent=0,p=r.input.charCodeAt(r.position);(!c||r.lineIndent<u)&&32===p;)r.lineIndent++,p=r.input.charCodeAt(++r.position);if(!c&&r.lineIndent>u&&(u=r.lineIndent),Ja(p))d++;else{if(r.lineIndent<u){3===a?r.result+=Dr_repeat("\n",l?1+d:d):1===a&&l&&(r.result+="\n");break}for(s?wd(p)?(h=!0,r.result+=Dr_repeat("\n",l?1+d:d)):h?(h=!1,r.result+=Dr_repeat("\n",d+1)):0===d?l&&(r.result+=" "):r.result+=Dr_repeat("\n",d):r.result+=Dr_repeat("\n",l?1+d:d),l=!0,c=!0,d=0,i=r.position;!Ja(p)&&0!==p;)p=r.input.charCodeAt(++r.position);iu(r,i,r.position,!1)}}return!0}(r,A)||function zbe(r,n){var i,s,a;if(39!==(i=r.input.charCodeAt(r.position)))return!1;for(r.kind="scalar",r.result="",r.position++,s=a=r.position;0!==(i=r.input.charCodeAt(r.position));)if(39===i){if(iu(r,s,r.position,!0),39!==(i=r.input.charCodeAt(++r.position)))return!0;s=r.position,r.position++,a=r.position}else Ja(i)?(iu(r,s,a,!0),uD(r,fr(r,!1,n)),s=a=r.position):r.position===r.lineStart&&Ky(r)?pt(r,"unexpected end of the document within a single quoted scalar"):(r.position++,a=r.position);pt(r,"unexpected end of the stream within a single quoted scalar")}(r,A)||function Hbe(r,n){var i,s,a,l,c,u;if(34!==(u=r.input.charCodeAt(r.position)))return!1;for(r.kind="scalar",r.result="",r.position++,i=s=r.position;0!==(u=r.input.charCodeAt(r.position));){if(34===u)return iu(r,i,r.position,!0),r.position++,!0;if(92===u){if(iu(r,i,r.position,!0),Ja(u=r.input.charCodeAt(++r.position)))fr(r,!1,n);else if(u<256&&N5[u])r.result+=U5[u],r.position++;else if((c=Lbe(u))>0){for(a=c,l=0;a>0;a--)(c=Bbe(u=r.input.charCodeAt(++r.position)))>=0?l=(l<<4)+c:pt(r,"expected hexadecimal character");r.result+=Nbe(l),r.position++}else pt(r,"unknown escape sequence");i=s=r.position}else Ja(u)?(iu(r,i,s,!0),uD(r,fr(r,!1,n)),i=s=r.position):r.position===r.lineStart&&Ky(r)?pt(r,"unexpected end of the document within a double quoted scalar"):(r.position++,s=r.position)}pt(r,"unexpected end of the stream within a double quoted scalar")}(r,A)?f=!0:function qbe(r){var n,i,s;if(42!==(s=r.input.charCodeAt(r.position)))return!1;for(s=r.input.charCodeAt(++r.position),n=r.position;0!==s&&!js(s)&&!zf(s);)s=r.input.charCodeAt(++r.position);return r.position===n&&pt(r,"name of an alias node must contain at least one character"),i=r.input.slice(n,r.position),nu.call(r.anchorMap,i)||pt(r,'unidentified alias "'+i+'"'),r.result=r.anchorMap[i],fr(r,!0,-1),!0}(r)?(f=!0,(null!==r.tag||null!==r.anchor)&&pt(r,"alias node should not have any properties")):function Vbe(r,n,i){var a,l,c,u,d,h,f,g,p=r.kind,m=r.result;if(js(g=r.input.charCodeAt(r.position))||zf(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g||(63===g||45===g)&&(js(a=r.input.charCodeAt(r.position+1))||i&&zf(a)))return!1;for(r.kind="scalar",r.result="",l=c=r.position,u=!1;0!==g;){if(58===g){if(js(a=r.input.charCodeAt(r.position+1))||i&&zf(a))break}else if(35===g){if(js(r.input.charCodeAt(r.position-1)))break}else{if(r.position===r.lineStart&&Ky(r)||i&&zf(g))break;if(Ja(g)){if(d=r.line,h=r.lineStart,f=r.lineIndent,fr(r,!1,-1),r.lineIndent>=n){u=!0,g=r.input.charCodeAt(r.position);continue}r.position=c,r.line=d,r.lineStart=h,r.lineIndent=f;break}}u&&(iu(r,l,c,!1),uD(r,r.line-d),l=c=r.position,u=!1),wd(g)||(c=r.position+1),g=r.input.charCodeAt(++r.position)}return iu(r,l,c,!1),!!r.result||(r.kind=p,r.result=m,!1)}(r,A,1===i)&&(f=!0,null===r.tag&&(r.tag="?")),null!==r.anchor&&(r.anchorMap[r.anchor]=r.result)):0===d&&(f=u&&G5(r,b))),null===r.tag)null!==r.anchor&&(r.anchorMap[r.anchor]=r.result);else if("?"===r.tag){for(null!==r.result&&"scalar"!==r.kind&&pt(r,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+r.kind+'"'),p=0,m=r.implicitTypes.length;p<m;p+=1)if((_=r.implicitTypes[p]).resolve(r.result)){r.result=_.construct(r.result),r.tag=_.tag,null!==r.anchor&&(r.anchorMap[r.anchor]=r.result);break}}else if("!"!==r.tag){if(nu.call(r.typeMap[r.kind||"fallback"],r.tag))_=r.typeMap[r.kind||"fallback"][r.tag];else for(_=null,p=0,m=(g=r.typeMap.multi[r.kind||"fallback"]).length;p<m;p+=1)if(r.tag.slice(0,g[p].tag.length)===g[p].tag){_=g[p];break}_||pt(r,"unknown tag !<"+r.tag+">"),null!==r.result&&_.kind!==r.kind&&pt(r,"unacceptable node kind for !<"+r.tag+'> tag; it should be "'+_.kind+'", not "'+r.kind+'"'),_.resolve(r.result,r.tag)?(r.result=_.construct(r.result,r.tag),null!==r.anchor&&(r.anchorMap[r.anchor]=r.result)):pt(r,"cannot resolve a node with !<"+r.tag+"> explicit tag")}return null!==r.listener&&r.listener("close",r),null!==r.tag||null!==r.anchor||f}function Ybe(r){var i,s,a,c,n=r.position,l=!1;for(r.version=null,r.checkLineBreaks=r.legacy,r.tagMap=Object.create(null),r.anchorMap=Object.create(null);0!==(c=r.input.charCodeAt(r.position))&&(fr(r,!0,-1),c=r.input.charCodeAt(r.position),!(r.lineIndent>0||37!==c));){for(l=!0,c=r.input.charCodeAt(++r.position),i=r.position;0!==c&&!js(c);)c=r.input.charCodeAt(++r.position);for(a=[],(s=r.input.slice(i,r.position)).length<1&&pt(r,"directive name must not be less than one character in length");0!==c;){for(;wd(c);)c=r.input.charCodeAt(++r.position);if(35===c){do{c=r.input.charCodeAt(++r.position)}while(0!==c&&!Ja(c));break}if(Ja(c))break;for(i=r.position;0!==c&&!js(c);)c=r.input.charCodeAt(++r.position);a.push(r.input.slice(i,r.position))}0!==c&&cD(r),nu.call(z5,s)?z5[s](r,s,a):Xy(r,'unknown document directive "'+s+'"')}fr(r,!0,-1),0===r.lineIndent&&45===r.input.charCodeAt(r.position)&&45===r.input.charCodeAt(r.position+1)&&45===r.input.charCodeAt(r.position+2)?(r.position+=3,fr(r,!0,-1)):l&&pt(r,"directives end mark is expected"),Qf(r,r.lineIndent-1,4,!1,!0),fr(r,!0,-1),r.checkLineBreaks&&Pbe.test(r.input.slice(n,r.position))&&Xy(r,"non-ASCII line breaks are interpreted as content"),r.documents.push(r.result),r.position===r.lineStart&&Ky(r)?46===r.input.charCodeAt(r.position)&&(r.position+=3,fr(r,!0,-1)):r.position<r.length-1&&pt(r,"end of the stream or a document separator is expected")}function Q5(r,n){n=n||{},0!==(r=String(r)).length&&(10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),65279===r.charCodeAt(0)&&(r=r.slice(1)));var i=new Ube(r,n),s=r.indexOf("\0");for(-1!==s&&(i.position=s,pt(i,"null byte is not allowed in input")),i.input+="\0";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)Ybe(i);return i.documents}var $5_load=function Kbe(r,n){var i=Q5(r,n);if(0!==i.length){if(1===i.length)return i[0];throw new Is("expected a single document in the stream, but found more")}};function gD(r,n){return function(){throw new Error("Function yaml."+r+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var dH=$5_load;gD("safeLoad","load"),gD("safeLoadAll","loadAll"),gD("safeDump","dump");let YAe=(()=>{class r{constructor(i){this.http=i}getContent(i){return this.http.get(`assets/content/pages/${i}.yaml`,{observe:"body",responseType:"text"}).pipe(Oe(s=>dH(s)))}}return r.\u0275fac=function(i){return new(i||r)(X(gf))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),jn=(()=>{class r{constructor(i){this.contentService=i}resolve(i){return this.contentService.getContent(i.data.contentFile)}}return r.\u0275fac=function(i){return new(i||r)(X(YAe))},r.\u0275prov=ke({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const XAe=[{path:"",component:Ni,pathMatch:"full",data:{contentFile:"landing-page.content"},resolve:{content:jn}},{path:"overview-data",component:Ni,data:{contentFile:"overview-data.content"},resolve:{content:jn}},{path:"asctb-tables",component:Ni,data:{contentFile:"ccf-anatomical-structures.content"},resolve:{content:jn}},{path:"2d-ftu-illustrations",component:T0e,data:{contentFile:"ccf-2d-ftu.content"},resolve:{content:jn}},{path:"overview-tools",component:Ni,data:{contentFile:"overview-tools.content"},resolve:{content:jn}},{path:"ccf-ontology",component:Ni,data:{contentFile:"ccf-ontology.content"},resolve:{content:jn}},{path:"asctb-reporter",component:Ni,data:{contentFile:"ccf-asctb-reporter.content"},resolve:{content:jn}},{path:"exploration-user-interface",component:Ni,data:{contentFile:"ccf-exploration-user-interface.content"},resolve:{content:jn}},{path:"hra-millitome",component:Ni,data:{contentFile:"hra-millitome.content"},resolve:{content:jn}},{path:"registration-user-interface",component:Ni,data:{contentFile:"registrationUserInterface.content"},resolve:{content:jn}},{path:"cell-population-graphs",component:Ni,data:{contentFile:"ccf-cell-population-graphs.content"},resolve:{content:jn}},{path:"api",component:Ni,data:{contentFile:"hra-api.content"},resolve:{content:jn}},{path:"team",component:Ni,data:{contentFile:"about.content"},resolve:{content:jn}},{path:"overview-training-outreach",component:Ni,data:{contentFile:"overviewTrainingOutreach.content"},resolve:{content:jn}},{path:"omap",component:Ni,data:{contentFile:"omaps.content"},resolve:{content:jn}},{path:"3d-reference-library",component:y0e,data:{contentFile:"three-dim-ref-page.content"},resolve:{content:jn}},{path:"asctb-azimuth",component:Ni,data:{contentFile:"ccfAsctbAzimuth.content"},resolve:{content:jn}},{path:"usage-metrics",component:Ni,data:{contentFile:"hra-usage-metrics.content"},resolve:{content:jn}},{path:"ccf-tissue-info-page/:organ",component:I0e,resolve:{content:jn}},{path:"standard-operating-procedures",component:Ni,data:{contentFile:"hra-sop.content"},resolve:{content:jn}},{path:"kaggle-one",component:Ni,data:{contentFile:"kaggle-twentyone.content"},resolve:{content:jn}},{path:"kaggle-two",component:Ni,data:{contentFile:"kaggle-two.content"},resolve:{content:jn}},{path:"hra-organ-gallery-in-vr",component:Ni,data:{contentFile:"ccf-organ-vr-gallery.content"},resolve:{content:jn}},{path:"editorial-board",component:Ni,data:{contentFile:"hra-editorial-board.content"},resolve:{content:jn}},{path:"faq/omap",component:Ni,data:{contentFile:"omap-faq.content"},resolve:{content:jn}},{path:"release-notes/v1.3",component:g_e,data:{contentFile:"fourth-release-notes.content"},resolve:{content:jn}},{path:"vccf",component:Ni,data:{contentFile:"vccf.content"},resolve:{content:jn}},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",pathMatch:"full",component:__e,data:{contentFile:"landing-page.content"},resolve:{content:jn}}];let ba=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Ya.forRoot(XAe,{scrollPositionRestoration:"enabled",anchorScrolling:"enabled",scrollOffset:[0,64],onSameUrlNavigation:"reload"}),Ya]}),r})();const KAe=[{menuName:"Data",children:[{menuName:"Overview: HRA Data",route:"overview-data",disabled:!1,divider:!0},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Tables",route:"asctb-tables",disabled:!0},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Cell Types Data from Azimuth",route:"asctb-azimuth",disabled:!0},{menuName:"Vasculature Common Coordinate Framework",route:"vccf"},{menuName:"2D Functional Tissue Unit (FTU) Illustrations",route:"2d-ftu-illustrations",disabled:!0},{menuName:"3D Reference Object Library",route:"3d-reference-library",disabled:!0},{menuName:"Organ Mapping Antibody Panels (OMAPs)",route:"omap",disabled:!0},{menuName:"4th Release Notes",route:"release-notes/v1.3",divider:!0},{menuName:"HuBMAP Data Portal",disabled:!0,url:"https://portal.hubmapconsortium.org/"}]},{menuName:"CCF Ontology",route:"ccf-ontology",disabled:!0},{menuName:"Tools",children:[{menuName:"Overview: HRA Tools",route:"overview-tools",disabled:!0,divider:!0},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Reporter",route:"asctb-reporter",disabled:!0},{menuName:"Cell Population Graphs",route:"cell-population-graphs",disabled:!0},{menuName:"Registration User Interface (RUI)",route:"registration-user-interface",disabled:!0},{menuName:"Exploration User Interface (EUI)",route:"exploration-user-interface",disabled:!0},{menuName:"HRA Organ VR Gallery",route:"hra-organ-gallery-in-vr"},{menuName:"HRA Millitome",route:"hra-millitome",disabled:!0},{menuName:"Application Programming Interfaces",route:"api",disabled:!0},{menuName:"Usage Metrics",route:"usage-metrics",disabled:!0}]},{menuName:"Training & Outreach",children:[{menuName:"Overview: HRA Training and Outreach",route:"overview-training-outreach",disabled:!0,divider:!0},{menuName:"Visible Human Massive Open Online Course",url:"https://expand.iu.edu/browse/sice/cns/courses/hubmap-visible-human-mooc",disabled:!0},{menuName:"HRA Standard Operating Procedures",route:"standard-operating-procedures",disabled:!0},{menuName:"HRA User Stories",url:"https://docs.google.com/document/d/1I4gFPY47EBKEIDQ-hWTcxCUsGRxL7yJqKfCvlQAQe5Y/edit#heading=h.6n4dk68tke9a"},{menuName:"Kaggle #1: HuBMAP - Hacking the Kidney",route:"kaggle-one",disabled:!0},{menuName:"Kaggle #2: HuBMAP + HPA - Hacking the Human Body",route:"kaggle-two",disabled:!0},{menuName:"24 Hour Human Reference Atlas Event",url:"https://humanatlas.io/events/2022-24h/"},{menuName:"Release Notes",route:"overview-training-outreach",fragment:"release-notes"},{menuName:"Previews",route:"overview-training-outreach",fragment:"previews"}]},{menuName:"About",children:[{menuName:"About the Team",route:"team"},{menuName:"HRA Editorial Board",route:"editorial-board"}]}],ZAe=["*",[["mat-toolbar-row"]]],JAe=["*","mat-toolbar-row"],eye=jA(class{constructor(r){this._elementRef=r}});let tye=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=de({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),r})(),hH=(()=>{class r extends eye{constructor(i,s,a){super(i),this._platform=s,this._document=a}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(Sr),I(At))},r.\u0275cmp=Be({type:r,selectors:[["mat-toolbar"]],contentQueries:function(i,s,a){if(1&i&&Bn(a,tye,5),2&i){let l;je(l=qe())&&(s._toolbarRows=l)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,s){2&i&&$t("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",0===s._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[Ie],ngContentSelectors:JAe,decls:2,vars:0,template:function(i,s){1&i&&(Bi(ZAe),bn(0),bn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),r})(),fH=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[vn,vn]}),r})();function pH(r,n){return n?i=>hg(n.pipe(Qn(1),function nye(){return zt((r,n)=>{r.subscribe(vt(n,Ia))})}()),i.pipe(pH(r))):ar((i,s)=>r(i,s).pipe(Qn(1),pg(i)))}function mH(r,n=PA){const i=OA(r,n);return pH(()=>i)}const iye=["mat-menu-item",""];function rye(r,n){1&r&&(function TP(){Nt.lFrame.currentNamespace="svg"}(),q(0,"svg",2),pe(1,"polygon",3),W())}const gH=["*"];function sye(r,n){if(1&r){const i=di();q(0,"div",0),tt("keydown",function(a){return Cn(i),xn(ie()._handleKeydown(a))})("click",function(){return Cn(i),xn(ie().closed.emit("click"))})("@transformMenu.start",function(a){return Cn(i),xn(ie()._onAnimationStart(a))})("@transformMenu.done",function(a){return Cn(i),xn(ie()._onAnimationDone(a))}),q(1,"div",1),bn(2),W()()}if(2&r){const i=ie();B("id",i.panelId)("ngClass",i._classList)("@transformMenu",i._panelAnimationState),nn("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}const ev={transformMenu:Ws("transformMenu",[vi("void",Wt({opacity:0,transform:"scale(0.8)"})),Di("void => enter",ji("120ms cubic-bezier(0, 0, 0.2, 1)",Wt({opacity:1,transform:"scale(1)"}))),Di("* => void",ji("100ms 25ms linear",Wt({opacity:0})))]),fadeInItems:Ws("fadeInItems",[vi("showing",Wt({opacity:1})),Di("void => *",[Wt({opacity:0}),ji("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},oye=new Ae("MatMenuContent"),_D=new Ae("MAT_MENU_PANEL"),aye=Sf(Wc(class{}));let tv=(()=>{class r extends aye{constructor(i,s,a,l,c){super(),this._elementRef=i,this._document=s,this._focusMonitor=a,this._parentMenu=l,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Me,this._focused=new Me,this._highlighted=!1,this._triggersSubmenu=!1,l?.addItem?.(this)}focus(i,s){this._focusMonitor&&i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const i=this._elementRef.nativeElement.cloneNode(!0),s=i.querySelectorAll("mat-icon, .material-icons");for(let a=0;a<s.length;a++)s[a].remove();return i.textContent?.trim()||""}_setHighlighted(i){this._highlighted=i,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(At),I(ma),I(_D,8),I(yi))},r.\u0275cmp=Be({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(i,s){1&i&&tt("click",function(l){return s._checkDisabled(l)})("mouseenter",function(){return s._handleMouseEnter()}),2&i&&(nn("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled.toString())("disabled",s.disabled||null),$t("mat-menu-item",!0)("mat-menu-item-highlighted",s._highlighted)("mat-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[Ie],attrs:iye,ngContentSelectors:gH,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,s){1&i&&(Bi(),bn(0),pe(1,"div",0),K(2,rye,2,0,"svg",1)),2&i&&(N(1),B("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),N(1),B("ngIf",s._triggersSubmenu))},dependencies:[Rr,jc],encapsulation:2,changeDetection:0}),r})();const _H=new Ae("mat-menu-default-options",{providedIn:"root",factory:function lye(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let cye=0,u_=(()=>{class r{constructor(i,s,a,l){this._elementRef=i,this._ngZone=s,this._defaultOptions=a,this._changeDetectorRef=l,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Nc,this._tabSubscription=sn.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Me,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new ne,this.close=this.closed,this.panelId="mat-menu-panel-"+cye++}get xPosition(){return this._xPosition}set xPosition(i){this._xPosition=i,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(i){this._yPosition=i,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(i){this._overlapTrigger=an(i)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(i){this._hasBackdrop=an(i)}set panelClass(i){const s=this._previousPanelClass;s&&s.length&&s.split(" ").forEach(a=>{this._classList[a]=!1}),this._previousPanelClass=i,i&&i.length&&(i.split(" ").forEach(a=>{this._classList[a]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(i){this.panelClass=i}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new BS(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Er(this._directDescendantItems),Qs(i=>yr(...i.map(s=>s._focused)))).subscribe(i=>this._keyManager.updateActiveItem(i)),this._directDescendantItems.changes.subscribe(i=>{const s=this._keyManager;if("enter"===this._panelAnimationState&&s.activeItem?._hasFocus()){const a=i.toArray(),l=Math.max(0,Math.min(a.length-1,s.activeItemIndex||0));a[l]&&!a[l].disabled?s.setActiveItem(l):s.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Er(this._directDescendantItems),Qs(s=>yr(...s.map(a=>a._hovered))))}addItem(i){}removeItem(i){}_handleKeydown(i){const s=i.keyCode,a=this._keyManager;switch(s){case 27:No(i)||(i.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===s||40===s)&&a.setFocusOrigin("keyboard"),void a.onKeydown(i)}i.stopPropagation()}focusFirstItem(i="program"){this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{let s=null;if(this._directDescendantItems.length&&(s=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!s||!s.contains(document.activeElement)){const a=this._keyManager;a.setFocusOrigin(i).setFirstItemActive(),!a.activeItem&&s&&s.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(i){const s=Math.min(this._baseElevation+i,24),a=`${this._elevationPrefix}${s}`,l=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!l||l===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[a]=!0,this._previousElevation=a)}setPositionClasses(i=this.xPosition,s=this.yPosition){const a=this._classList;a["mat-menu-before"]="before"===i,a["mat-menu-after"]="after"===i,a["mat-menu-above"]="above"===s,a["mat-menu-below"]="below"===s,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(i){this._animationDone.next(i),this._isAnimating=!1}_onAnimationStart(i){this._isAnimating=!0,"enter"===i.toState&&0===this._keyManager.activeItemIndex&&(i.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Er(this._allItems)).subscribe(i=>{this._directDescendantItems.reset(i.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ht),I(_H),I(yi))},r.\u0275dir=de({type:r,contentQueries:function(i,s,a){if(1&i&&(Bn(a,oye,5),Bn(a,tv,5),Bn(a,tv,4)),2&i){let l;je(l=qe())&&(s.lazyContent=l.first),je(l=qe())&&(s._allItems=l),je(l=qe())&&(s.items=l)}},viewQuery:function(i,s){if(1&i&&pn(hi,5),2&i){let a;je(a=qe())&&(s.templateRef=a.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),r})(),uye=(()=>{class r extends u_{constructor(i,s,a,l){super(i,s,a,l),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return r.\u0275fac=function(i){return new(i||r)(I(We),I(ht),I(_H),I(yi))},r.\u0275cmp=Be({type:r,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(i,s){2&i&&nn("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[ft([{provide:_D,useExisting:r}]),Ie],ngContentSelectors:gH,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(i,s){1&i&&(Bi(),K(0,sye,3,6,"ng-template"))},dependencies:[ff],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ev.transformMenu,ev.fadeInItems]},changeDetection:0}),r})();const bH=new Ae("mat-menu-scroll-strategy"),hye={provide:bH,deps:[ga],useFactory:function dye(r){return()=>r.scrollStrategies.reposition()}},AH=Ig({passive:!0});let fye=(()=>{class r{constructor(i,s,a,l,c,u,d,h,f){this._overlay=i,this._element=s,this._viewContainerRef=a,this._menuItemInstance=u,this._dir=d,this._focusMonitor=h,this._ngZone=f,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=sn.EMPTY,this._hoverSubscription=sn.EMPTY,this._menuCloseSubscription=sn.EMPTY,this._handleTouchStart=p=>{FS(p)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ne,this.onMenuOpen=this.menuOpened,this.menuClosed=new ne,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=c instanceof u_?c:void 0,s.nativeElement.addEventListener("touchstart",this._handleTouchStart,AH),u&&(u._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(i){this.menu=i}get menu(){return this._menu}set menu(i){i!==this._menu&&(this._menu=i,this._menuCloseSubscription.unsubscribe(),i&&(this._menuCloseSubscription=i.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,AH),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const i=this.menu;if(this._menuOpen||!i)return;const s=this._createOverlay(i),a=s.getConfig(),l=a.positionStrategy;this._setPosition(i,l),a.hasBackdrop=i.hasBackdrop??!this.triggersSubmenu(),s.attach(this._getPortal(i)),i.lazyContent&&i.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(i),i instanceof u_&&(i._startAnimation(),i._directDescendantItems.changes.pipe(Rt(i.close)).subscribe(()=>{l.withLockedPosition(!1).reapplyLastPosition(),l.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(i,s){this._focusMonitor&&i?this._focusMonitor.focusVia(this._element,i,s):this._element.nativeElement.focus(s)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(i){if(!this._overlayRef||!this.menuOpen)return;const s=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===i||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,s instanceof u_?(s._resetAnimation(),s.lazyContent?s._animationDone.pipe(Ln(a=>"void"===a.toState),Qn(1),Rt(s.lazyContent._attached)).subscribe({next:()=>s.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),s?.lazyContent?.detach())}_initMenu(i){i.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,this._setMenuElevation(i),i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(i){if(i.setElevation){let s=0,a=i.parentMenu;for(;a;)s++,a=a.parentMenu;i.setElevation(s)}}_setIsMenuOpen(i){this._menuOpen=i,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(i)}_createOverlay(i){if(!this._overlayRef){const s=this._getOverlayConfig(i);this._subscribeToPositions(i,s.positionStrategy),this._overlayRef=this._overlay.create(s),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(i){return new ny({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:i.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:i.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(i,s){i.setPositionClasses&&s.positionChanges.subscribe(a=>{const l="start"===a.connectionPair.overlayX?"after":"before",c="top"===a.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>i.setPositionClasses(l,c)):i.setPositionClasses(l,c)})}_setPosition(i,s){let[a,l]="before"===i.xPosition?["end","start"]:["start","end"],[c,u]="above"===i.yPosition?["bottom","top"]:["top","bottom"],[d,h]=[c,u],[f,p]=[a,l],m=0;if(this.triggersSubmenu()){if(p=a="before"===i.xPosition?"start":"end",l=f="end"===a?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const g=this._parentMaterialMenu.items.first;this._parentInnerPadding=g?g._getHostElement().offsetTop:0}m="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else i.overlapTrigger||(d="top"===c?"bottom":"top",h="top"===u?"bottom":"top");s.withPositions([{originX:a,originY:d,overlayX:f,overlayY:c,offsetY:m},{originX:l,originY:d,overlayX:p,overlayY:c,offsetY:m},{originX:a,originY:h,overlayX:f,overlayY:u,offsetY:-m},{originX:l,originY:h,overlayX:p,overlayY:u,offsetY:-m}])}_menuClosingActions(){const i=this._overlayRef.backdropClick(),s=this._overlayRef.detachments();return yr(i,this._parentMaterialMenu?this._parentMaterialMenu.closed:Ye(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ln(c=>c!==this._menuItemInstance),Ln(()=>this._menuOpen)):Ye(),s)}_handleMousedown(i){LS(i)||(this._openedBy=0===i.button?"mouse":void 0,this.triggersSubmenu()&&i.preventDefault())}_handleKeydown(i){const s=i.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(i){this.triggersSubmenu()?(i.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ln(i=>i===this._menuItemInstance&&!i.disabled),mH(0,XS)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof u_&&this.menu._isAnimating?this.menu._animationDone.pipe(Qn(1),mH(0,XS),Rt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(i){return(!this._portal||this._portal.templateRef!==i.templateRef)&&(this._portal=new Tf(i.templateRef,this._viewContainerRef)),this._portal}}return r.\u0275fac=function(i){return new(i||r)(I(ga),I(We),I(ii),I(bH),I(_D,8),I(tv,10),I(Ss,8),I(ma),I(ht))},r.\u0275dir=de({type:r,hostVars:3,hostBindings:function(i,s){1&i&&tt("click",function(l){return s._handleClick(l)})("mousedown",function(l){return s._handleMousedown(l)})("keydown",function(l){return s._handleKeydown(l)}),2&i&&nn("aria-haspopup",s.menu?"menu":null)("aria-expanded",s.menuOpen||null)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),r})(),pye=(()=>{class r extends fye{}return r.\u0275fac=function(){let n;return function(s){return(n||(n=dn(r)))(s||r)}}(),r.\u0275dir=de({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[Ie]}),r})(),mye=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:[hye],imports:[fo,vn,Df,Gg,If,vn]}),r})();function gye(r,n){if(1&r&&(q(0,"div",8)(1,"a",9),re(2),W()()),2&r){const i=ie().$implicit;N(1),B("routerLink",i.route)("fragment",i.fragment),N(1),Ut(i.menuName)}}function _ye(r,n){if(1&r){const i=di();q(0,"label",8)(1,"button",10),tt("click",function(){Cn(i);const a=ie().$implicit;return xn(ie(3).externalWindow(a.url))}),re(2),W()()}if(2&r){const i=ie().$implicit;N(2),Ut(i.menuName)}}function bye(r,n){1&r&&pe(0,"mat-divider")}function Aye(r,n){if(1&r&&(ci(0),K(1,gye,3,3,"div",6),K(2,_ye,3,1,"ng-template",null,7,es),K(4,bye,1,0,"mat-divider",1),ui()),2&r){const i=n.$implicit,s=Oi(3);N(1),B("ngIf",i.route)("ngIfElse",s),N(3),B("ngIf",i.divider)}}function yye(r,n){if(1&r&&(ci(0),q(1,"button",2,3),re(3),q(4,"mat-icon"),re(5,"arrow_drop_down"),W()(),q(6,"mat-menu",4,5),K(8,Aye,5,3,"ng-container",0),W(),ui()),2&r){const i=Oi(2),s=Oi(7),a=ie().$implicit;N(1),B("matMenuTriggerFor",s)("disabled",a.disabled)("disableRipple",!0),N(2),In(" ",a.menuName," "),N(1),$t("inverse",i.menuOpen),N(4),B("ngForOf",a.children)}}const vye=function(r){return["",r]};function wye(r,n){if(1&r&&(ci(0),q(1,"button",11),re(2),W(),ui()),2&r){const i=ie().$implicit;N(1),B("disableRipple",!0)("routerLink",Cs(3,vye,i.route)),N(1),In(" ",i.menuName," ")}}function Cye(r,n){if(1&r&&(ci(0),K(1,yye,9,7,"ng-container",1),K(2,wye,3,5,"ng-container",1),ui()),2&r){const i=n.$implicit;N(1),B("ngIf",null==i.children?null:i.children.length),N(1),B("ngIf",!i.children||0===i.children.length)}}let xye=(()=>{class r{constructor(){this.itemClick=new ne}externalWindow(i){window.open(i,"_blank")}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-navbar"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-flat-button","","color","primary",1,"navigation-title",3,"matMenuTriggerFor","disabled","disableRipple"],["menuTrigger","matMenuTrigger"],[1,"menu-container"],["childMenu","matMenu"],["class","navigation-items",4,"ngIf","ngIfElse"],["externalUrl",""],[1,"navigation-items"],["mat-menu-item","",1,"route-link",3,"routerLink","fragment"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","primary",1,"navigation-title",3,"disableRipple","routerLink"]],template:function(i,s){1&i&&K(0,Cye,3,2,"ng-container",0),2&i&&B("ngForOf",s.items)},dependencies:[_d,uye,tv,pye,Ng,pi,Rr,Ad,vf,$c],styles:["[_nghost-%COMP%]{display:block;height:100%}  .menu-container{max-width:23.25rem!important}.navigation-title[_ngcontent-%COMP%]{height:100%;font-size:.875rem;color:#fff;font-weight:500;letter-spacing:.005em}.navigation-items[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#444c65;letter-spacing:.005em;line-height:1.5rem;font-size:.875rem;letter-spacing:.5%;word-wrap:normal;line-height:200%;overflow:visible;height:auto;text-align:left;max-width:31.25rem;white-space:initial;font-weight:300;padding-top:.313rem;text-decoration:none}.external-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.external-link[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.04)}.inverse[_ngcontent-%COMP%]{transform:rotate(180deg);display:inline-block}.mat-button-focus-overlay[_ngcontent-%COMP%]{display:none}.route-link[_ngcontent-%COMP%]{text-decoration:none;font-weight:300;font-size:14px;letter-spacing:.005em;color:#444a65}"]}),r})();const yH=function(){return["/"]};let Mye=(()=>{class r{constructor(){this.navigationItems=KAe,this.MENU_TREE_POSITIONS=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:16,offsetY:8}]}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-toolbar"]],inputs:{navigationItems:"navigationItems"},decls:8,vars:7,consts:[[1,"mat-toolbar"],[1,"hubmap-header",3,"routerLink"],[1,"hra-header",3,"routerLink"],[2,"flex-grow","1"],[3,"items"],[3,"treeItems","positions"]],template:function(i,s){1&i&&(q(0,"mat-toolbar",0)(1,"a",1),re(2,"HuBMAP"),W(),q(3,"a",2),re(4,"HUMAN REFERENCE ATLAS"),W(),pe(5,"div",3)(6,"ccf-navbar",4)(7,"menu-tree",5),W()),2&i&&(N(1),B("routerLink",Il(5,yH)),N(2),B("routerLink",Il(6,yH)),N(3),B("items",s.navigationItems),N(1),B("treeItems",s.navigationItems)("positions",s.MENU_TREE_POSITIONS))},dependencies:[hH,$c,Wz,xye],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{max-width:77rem;padding:0;background:#444c65;position:sticky;top:0;z-index:100;height:4rem}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{color:#fff;font-family:Impact;font-style:normal;font-weight:400;font-size:2rem;line-height:2.438rem;text-decoration:none;padding-right:1rem}[_nghost-%COMP%]   .hra-header[_ngcontent-%COMP%]{font-weight:300;font-size:2rem;color:#c2cae5;letter-spacing:-.025em;line-height:2.438rem;text-transform:uppercase;text-decoration:none}[_nghost-%COMP%]   .nav-small[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:none}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{padding:0rem 1rem}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .hra-header[_ngcontent-%COMP%]{font-size:1.25rem}[_nghost-%COMP%]   ccf-navbar[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:unset}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{display:none}}@media (max-width: 80rem){[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{padding:0rem 1rem}}@media (max-width: 62.5rem){[_nghost-%COMP%]   ccf-navbar[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:unset}}  .mat-parent-node{padding-left:1rem;padding-top:.5rem;padding-bottom:.5rem}  .mat-nested-tree-node div.menu-name{padding-left:2rem}  div.menu-name{padding-left:1rem}"]}),r})(),Eye=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=Be({type:r,selectors:[["ccf-bottom-toolbar"]],decls:10,vars:0,consts:[[1,"bottom-bar"],["href","mailto:infoccf@indiana.edu","mat-stroked-button","",1,"bottom-button"],[1,"copyright"]],template:function(i,s){1&i&&(q(0,"mat-toolbar",0)(1,"a",1)(2,"mat-icon"),re(3,"mail_outline"),W(),re(4," Contact the HRA Team "),W(),q(5,"div",2)(6,"mat-icon"),re(7,"copyright"),W(),q(8,"p"),re(9,"2023 All Rights Reserved"),W()()())},dependencies:[hH,md,_d],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center;background-color:#c2cae5}[_nghost-%COMP%]   .bottom-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.875rem;font-weight:400;line-height:1.063rem;padding:0rem 1.5rem}[_nghost-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{background-color:#c2cae5;max-width:77rem;position:relative;min-height:5.563rem;padding:unset}[_nghost-%COMP%]     span>mat-icon{font-size:1.313rem}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.1rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:.2rem}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:unset}@media (max-width: 24.56rem){[_nghost-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{flex-direction:column-reverse;justify-content:center}[_nghost-%COMP%]   .bottom-button[_ngcontent-%COMP%]{position:unset;margin-top:.5rem;margin-right:unset}}"]}),r})(),Sye=(()=>{class r{constructor(i,s){this.router=i,this.activated=s,this.title="ccf"}onPageChange(){setTimeout(()=>{this.router.navigate([],{relativeTo:this.activated,preserveFragment:!0})})}}return r.\u0275fac=function(i){return new(i||r)(I(Fi),I(Ms))},r.\u0275cmp=Be({type:r,selectors:[["ccf-root"]],decls:4,vars:0,consts:[[1,"toolbar-class"],[3,"activate"],[1,"filler"]],template:function(i,s){1&i&&(pe(0,"ccf-toolbar",0),q(1,"router-outlet",1),tt("activate",function(){return s.onPageChange()}),W(),pe(2,"div",2)(3,"ccf-bottom-toolbar"))},dependencies:[Mye,Eye,uS],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:calc(100% - 3.5rem);flex-direction:column;align-items:center;padding-top:3.5rem;overflow:auto}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .toolbar-class[_ngcontent-%COMP%]{position:fixed;top:0;z-index:100;background-color:#444c65;box-shadow:0 .063rem .188rem .063rem #0006}"]}),r})();function vH(r){return new Te(3e3,!1)}function lve(){return typeof window<"u"&&typeof window.document<"u"}function bD(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ru(r){switch(r.length){case 0:return new Qg;case 1:return r[0];default:return new RU(r)}}function wH(r,n,i,s,a=new Map,l=new Map){const c=[],u=[];let d=-1,h=null;if(s.forEach(f=>{const p=f.get("offset"),m=p==d,g=m&&h||new Map;f.forEach((_,A)=>{let b=A,y=_;if("offset"!==A)switch(b=n.normalizePropertyName(b,c),y){case"!":y=a.get(A);break;case Hl:y=l.get(A);break;default:y=n.normalizeStyleValue(A,b,y,c)}g.set(b,y)}),m||u.push(g),h=g,d=p}),c.length)throw function Xye(r){return new Te(3502,!1)}();return u}function AD(r,n,i,s){switch(n){case"start":r.onStart(()=>s(i&&yD(i,"start",r)));break;case"done":r.onDone(()=>s(i&&yD(i,"done",r)));break;case"destroy":r.onDestroy(()=>s(i&&yD(i,"destroy",r)))}}function yD(r,n,i){const l=vD(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,i.totalTime??r.totalTime,!!i.disabled),c=r._data;return null!=c&&(l._data=c),l}function vD(r,n,i,s,a="",l=0,c){return{element:r,triggerName:n,fromState:i,toState:s,phaseName:a,totalTime:l,disabled:!!c}}function mo(r,n,i){let s=r.get(n);return s||r.set(n,s=i),s}function CH(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}let wD=(r,n)=>!1,xH=(r,n,i)=>[],MH=null;function CD(r){const n=r.parentNode||r.host;return n===MH?null:n}(bD()||typeof Element<"u")&&(lve()?(MH=(()=>document.documentElement)(),wD=(r,n)=>{for(;n;){if(n===r)return!0;n=CD(n)}return!1}):wD=(r,n)=>r.contains(n),xH=(r,n,i)=>{if(i)return Array.from(r.querySelectorAll(n));const s=r.querySelector(n);return s?[s]:[]});let Cd=null,EH=!1;const SH=wD,DH=xH;let IH=(()=>{class r{validateStyleProperty(i){return function uve(r){Cd||(Cd=function dve(){return typeof document<"u"?document.body:null}()||{},EH=!!Cd.style&&"WebkitAppearance"in Cd.style);let n=!0;return Cd.style&&!function cve(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Cd.style,!n&&EH&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Cd.style)),n}(i)}matchesElement(i,s){return!1}containsElement(i,s){return SH(i,s)}getParentElement(i){return CD(i)}query(i,s,a){return DH(i,s,a)}computeStyle(i,s,a){return a||""}animate(i,s,a,l,c,u=[],d){return new Qg(a,l)}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})(),xD=(()=>{class r{}return r.NOOP=new IH,r})();const MD="ng-enter",nv="ng-leave",iv="ng-trigger",d_=".ng-trigger",kH="ng-animating",ED=".ng-animating";function su(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:SD(parseFloat(n[1]),n[2])}function SD(r,n){return"s"===n?1e3*r:r}function rv(r,n,i){return r.hasOwnProperty("duration")?r:function pve(r,n,i){let a,l=0,c="";if("string"==typeof r){const u=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return n.push(vH()),{duration:0,delay:0,easing:""};a=SD(parseFloat(u[1]),u[2]);const d=u[3];null!=d&&(l=SD(parseFloat(d),u[4]));const h=u[5];h&&(c=h)}else a=r;if(!i){let u=!1,d=n.length;a<0&&(n.push(function Dye(){return new Te(3100,!1)}()),u=!0),l<0&&(n.push(function Iye(){return new Te(3101,!1)}()),u=!0),u&&n.splice(d,0,vH())}return{duration:a,delay:l,easing:c}}(r,n,i)}function h_(r,n={}){return Object.keys(r).forEach(i=>{n[i]=r[i]}),n}function RH(r){const n=new Map;return Object.keys(r).forEach(i=>{n.set(i,r[i])}),n}function ou(r,n=new Map,i){if(i)for(let[s,a]of i)n.set(s,a);for(let[s,a]of r)n.set(s,a);return n}function OH(r,n,i){return i?n+":"+i+";":""}function BH(r){let n="";for(let i=0;i<r.style.length;i++){const s=r.style.item(i);n+=OH(0,s,r.style.getPropertyValue(s))}for(const i in r.style)r.style.hasOwnProperty(i)&&!i.startsWith("_")&&(n+=OH(0,bve(i),r.style[i]));r.setAttribute("style",n)}function el(r,n,i){r.style&&(n.forEach((s,a)=>{const l=ID(a);i&&!i.has(a)&&i.set(a,r.style[l]),r.style[l]=s}),bD()&&BH(r))}function xd(r,n){r.style&&(n.forEach((i,s)=>{const a=ID(s);r.style[a]=""}),bD()&&BH(r))}function f_(r){return Array.isArray(r)?1==r.length?r[0]:TU(r):r}const DD=new RegExp("{{\\s*(.+?)\\s*}}","g");function LH(r){let n=[];if("string"==typeof r){let i;for(;i=DD.exec(r);)n.push(i[1]);DD.lastIndex=0}return n}function sv(r,n,i){const s=r.toString(),a=s.replace(DD,(l,c)=>{let u=n[c];return null==u&&(i.push(function kye(r){return new Te(3003,!1)}()),u=""),u.toString()});return a==s?r:a}function ov(r){const n=[];let i=r.next();for(;!i.done;)n.push(i.value),i=r.next();return n}const _ve=/-+([a-z0-9])/g;function ID(r){return r.replace(_ve,(...n)=>n[1].toUpperCase())}function bve(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function go(r,n,i){switch(n.type){case 7:return r.visitTrigger(n,i);case 0:return r.visitState(n,i);case 1:return r.visitTransition(n,i);case 2:return r.visitSequence(n,i);case 3:return r.visitGroup(n,i);case 4:return r.visitAnimate(n,i);case 5:return r.visitKeyframes(n,i);case 6:return r.visitStyle(n,i);case 8:return r.visitReference(n,i);case 9:return r.visitAnimateChild(n,i);case 10:return r.visitAnimateRef(n,i);case 11:return r.visitQuery(n,i);case 12:return r.visitStagger(n,i);default:throw function Rye(r){return new Te(3004,!1)}()}}function FH(r,n){return window.getComputedStyle(r)[n]}function xve(r,n){const i=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function Mve(r,n,i){if(":"==r[0]){const d=function Eve(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,s)=>parseFloat(s)>parseFloat(i);case":decrement":return(i,s)=>parseFloat(s)<parseFloat(i);default:return n.push(function Wye(r){return new Te(3016,!1)}()),"* => *"}}(r,i);if("function"==typeof d)return void n.push(d);r=d}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(function $ye(r){return new Te(3015,!1)}()),n;const a=s[1],l=s[2],c=s[3];n.push(NH(a,c));"<"==l[0]&&!("*"==a&&"*"==c)&&n.push(NH(c,a))}(s,i,n)):i.push(r),i}const uv=new Set(["true","1"]),dv=new Set(["false","0"]);function NH(r,n){const i=uv.has(r)||dv.has(r),s=uv.has(n)||dv.has(n);return(a,l)=>{let c="*"==r||r==a,u="*"==n||n==l;return!c&&i&&"boolean"==typeof a&&(c=a?uv.has(r):dv.has(r)),!u&&s&&"boolean"==typeof l&&(u=l?uv.has(n):dv.has(n)),c&&u}}const Sve=new RegExp("s*:selfs*,?","g");function TD(r,n,i,s){return new Dve(r).build(n,i,s)}class Dve{constructor(n){this._driver=n}build(n,i,s){const a=new kve(i);return this._resetContextStyleTimingState(a),go(this,f_(n),a)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,i){let s=i.queryCount=0,a=i.depCount=0;const l=[],c=[];return"@"==n.name.charAt(0)&&i.errors.push(function Oye(){return new Te(3006,!1)}()),n.definitions.forEach(u=>{if(this._resetContextStyleTimingState(i),0==u.type){const d=u,h=d.name;h.toString().split(/\s*,\s*/).forEach(f=>{d.name=f,l.push(this.visitState(d,i))}),d.name=h}else if(1==u.type){const d=this.visitTransition(u,i);s+=d.queryCount,a+=d.depCount,c.push(d)}else i.errors.push(function Bye(){return new Te(3007,!1)}())}),{type:7,name:n.name,states:l,transitions:c,queryCount:s,depCount:a,options:null}}visitState(n,i){const s=this.visitStyle(n.styles,i),a=n.options&&n.options.params||null;if(s.containsDynamicStyles){const l=new Set,c=a||{};s.styles.forEach(u=>{u instanceof Map&&u.forEach(d=>{LH(d).forEach(h=>{c.hasOwnProperty(h)||l.add(h)})})}),l.size&&(ov(l.values()),i.errors.push(function Lye(r,n){return new Te(3008,!1)}()))}return{type:0,name:n.name,style:s,options:a?{params:a}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const s=go(this,f_(n.animation),i);return{type:1,matchers:xve(n.expr,i.errors),animation:s,queryCount:i.queryCount,depCount:i.depCount,options:Md(n.options)}}visitSequence(n,i){return{type:2,steps:n.steps.map(s=>go(this,s,i)),options:Md(n.options)}}visitGroup(n,i){const s=i.currentTime;let a=0;const l=n.steps.map(c=>{i.currentTime=s;const u=go(this,c,i);return a=Math.max(a,i.currentTime),u});return i.currentTime=a,{type:3,steps:l,options:Md(n.options)}}visitAnimate(n,i){const s=function Pve(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return kD(rv(r,n).duration,0,"");const i=r;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=kD(0,0,"");return l.dynamic=!0,l.strValue=i,l}const a=rv(i,n);return kD(a.duration,a.delay,a.easing)}(n.timings,i.errors);i.currentAnimateTimings=s;let a,l=n.styles?n.styles:Wt({});if(5==l.type)a=this.visitKeyframes(l,i);else{let c=n.styles,u=!1;if(!c){u=!0;const h={};s.easing&&(h.easing=s.easing),c=Wt(h)}i.currentTime+=s.duration+s.delay;const d=this.visitStyle(c,i);d.isEmptyStep=u,a=d}return i.currentAnimateTimings=null,{type:4,timings:s,style:a,options:null}}visitStyle(n,i){const s=this._makeStyleAst(n,i);return this._validateStyleAst(s,i),s}_makeStyleAst(n,i){const s=[],a=Array.isArray(n.styles)?n.styles:[n.styles];for(let u of a)"string"==typeof u?u===Hl?s.push(u):i.errors.push(new Te(3002,!1)):s.push(RH(u));let l=!1,c=null;return s.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(c=u.get("easing"),u.delete("easing")),!l))for(let d of u.values())if(d.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:s,easing:c,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,i){const s=i.currentAnimateTimings;let a=i.currentTime,l=i.currentTime;s&&l>0&&(l-=s.duration+s.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((u,d)=>{const h=i.collectedStyles.get(i.currentQuerySelector),f=h.get(d);let p=!0;f&&(l!=a&&l>=f.startTime&&a<=f.endTime&&(i.errors.push(function Nye(r,n,i,s,a){return new Te(3010,!1)}()),p=!1),l=f.startTime),p&&h.set(d,{startTime:l,endTime:a}),i.options&&function gve(r,n,i){const s=n.params||{},a=LH(r);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||i.push(function Tye(r){return new Te(3001,!1)}())})}(u,i.options,i.errors)})})}visitKeyframes(n,i){const s={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function Uye(){return new Te(3011,!1)}()),s;let l=0;const c=[];let u=!1,d=!1,h=0;const f=n.steps.map(y=>{const w=this._makeStyleAst(y,i);let v=null!=w.offset?w.offset:function Rve(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(i=>{if(i instanceof Map&&i.has("offset")){const s=i;n=parseFloat(s.get("offset")),s.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const i=r;n=parseFloat(i.get("offset")),i.delete("offset")}return n}(w.styles),C=0;return null!=v&&(l++,C=w.offset=v),d=d||C<0||C>1,u=u||C<h,h=C,c.push(C),w});d&&i.errors.push(function Vye(){return new Te(3012,!1)}()),u&&i.errors.push(function zye(){return new Te(3200,!1)}());const p=n.steps.length;let m=0;l>0&&l<p?i.errors.push(function Hye(){return new Te(3202,!1)}()):0==l&&(m=1/(p-1));const g=p-1,_=i.currentTime,A=i.currentAnimateTimings,b=A.duration;return f.forEach((y,w)=>{const v=m>0?w==g?1:m*w:c[w],C=v*b;i.currentTime=_+A.delay+C,A.duration=C,this._validateStyleAst(y,i),y.offset=v,s.styles.push(y)}),s}visitReference(n,i){return{type:8,animation:go(this,f_(n.animation),i),options:Md(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:9,options:Md(n.options)}}visitAnimateRef(n,i){return{type:10,animation:this.visitReference(n.animation,i),options:Md(n.options)}}visitQuery(n,i){const s=i.currentQuerySelector,a=n.options||{};i.queryCount++,i.currentQuery=n;const[l,c]=function Ive(r){const n=!!r.split(/\s*,\s*/).find(i=>":self"==i);return n&&(r=r.replace(Sve,"")),r=r.replace(/@\*/g,d_).replace(/@\w+/g,i=>d_+"-"+i.slice(1)).replace(/:animating/g,ED),[r,n]}(n.selector);i.currentQuerySelector=s.length?s+" "+l:l,mo(i.collectedStyles,i.currentQuerySelector,new Map);const u=go(this,f_(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=s,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:c,animation:u,originalSelector:n.selector,options:Md(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push(function Gye(){return new Te(3013,!1)}());const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:rv(n.timings,i.errors,!0);return{type:12,animation:go(this,f_(n.animation),i),timings:s,options:null}}}class kve{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set,this.nonAnimatableCSSPropertiesFound=new Set}}function Md(r){return r?(r=h_(r)).params&&(r.params=function Tve(r){return r?h_(r):null}(r.params)):r={},r}function kD(r,n,i){return{duration:r,delay:n,easing:i}}function RD(r,n,i,s,a,l,c=null,u=!1){return{type:1,element:r,keyframes:n,preStyleProps:i,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:c,subTimeline:u}}class hv{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,i){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const Lve=new RegExp(":enter","g"),Nve=new RegExp(":leave","g");function PD(r,n,i,s,a,l=new Map,c=new Map,u,d,h=[]){return(new Uve).buildKeyframes(r,n,i,s,a,l,c,u,d,h)}class Uve{buildKeyframes(n,i,s,a,l,c,u,d,h,f=[]){h=h||new hv;const p=new OD(n,i,h,a,l,f,[]);p.options=d;const m=d.delay?su(d.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([c],null,p.errors,d),go(this,s,p);const g=p.timelines.filter(_=>_.containsAnimation());if(g.length&&u.size){let _;for(let A=g.length-1;A>=0;A--){const b=g[A];if(b.element===i){_=b;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([u],null,p.errors,d)}return g.length?g.map(_=>_.buildKeyframes()):[RD(i,[],[],[],0,m,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const s=i.subInstructions.get(i.element);if(s){const a=i.createSubContext(n.options),l=i.currentTimeline.currentTime,c=this._visitSubInstructions(s,a,a.options);l!=c&&i.transformIntoNewTimeline(c)}i.previousNode=n}visitAnimateRef(n,i){const s=i.createSubContext(n.options);s.transformIntoNewTimeline(),this.visitReference(n.animation,s),i.transformIntoNewTimeline(s.currentTimeline.currentTime),i.previousNode=n}_visitSubInstructions(n,i,s){let l=i.currentTimeline.currentTime;const c=null!=s.duration?su(s.duration):null,u=null!=s.delay?su(s.delay):null;return 0!==c&&n.forEach(d=>{const h=i.appendInstructionToTimeline(d,c,u);l=Math.max(l,h.duration+h.delay)}),l}visitReference(n,i){i.updateOptions(n.options,!0),go(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const s=i.subContextCount;let a=i;const l=n.options;if(l&&(l.params||l.delay)&&(a=i.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=fv);const c=su(l.delay);a.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>go(this,c,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const s=[];let a=i.currentTimeline.currentTime;const l=n.options&&n.options.delay?su(n.options.delay):0;n.steps.forEach(c=>{const u=i.createSubContext(n.options);l&&u.delayNextStep(l),go(this,c,u),a=Math.max(a,u.currentTimeline.currentTime),s.push(u.currentTimeline)}),s.forEach(c=>i.currentTimeline.mergeTimelineCollectedStyles(c)),i.transformIntoNewTimeline(a),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const s=n.strValue;return rv(i.params?sv(s,i.params,i.errors):s,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const s=i.currentAnimateTimings=this._visitTiming(n.timings,i),a=i.currentTimeline;s.delay&&(i.incrementTime(s.delay),a.snapshotCurrentStyles());const l=n.style;5==l.type?this.visitKeyframes(l,i):(i.incrementTime(s.duration),this.visitStyle(l,i),a.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const s=i.currentTimeline,a=i.currentAnimateTimings;!a&&s.hasCurrentStyleProperties()&&s.forwardFrame();const l=a&&a.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(l):s.setStyles(n.styles,l,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const s=i.currentAnimateTimings,a=i.currentTimeline.duration,l=s.duration,u=i.createSubContext().currentTimeline;u.easing=s.easing,n.styles.forEach(d=>{u.forwardTime((d.offset||0)*l),u.setStyles(d.styles,d.easing,i.errors,i.options),u.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(u),i.transformIntoNewTimeline(a+l),i.previousNode=n}visitQuery(n,i){const s=i.currentTimeline.currentTime,a=n.options||{},l=a.delay?su(a.delay):0;l&&(6===i.previousNode.type||0==s&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=fv);let c=s;const u=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,i.errors);i.currentQueryTotal=u.length;let d=null;u.forEach((h,f)=>{i.currentQueryIndex=f;const p=i.createSubContext(n.options,h);l&&p.delayNextStep(l),h===i.element&&(d=p.currentTimeline),go(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,p.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(c),d&&(i.currentTimeline.mergeTimelineCollectedStyles(d),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const s=i.parentContext,a=i.currentTimeline,l=n.timings,c=Math.abs(l.duration),u=c*(i.currentQueryTotal-1);let d=c*i.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":d=u-d;break;case"full":d=s.currentStaggerTime}const f=i.currentTimeline;d&&f.delayNextStep(d);const p=f.currentTime;go(this,n.animation,i),i.previousNode=n,s.currentStaggerTime=a.currentTime-p+(a.startTime-s.currentTimeline.startTime)}}const fv={};class OD{constructor(n,i,s,a,l,c,u,d){this._driver=n,this.element=i,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=c,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new pv(this._driver,i,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const s=n;let a=this.options;null!=s.duration&&(a.duration=su(s.duration)),null!=s.delay&&(a.delay=su(s.delay));const l=s.params;if(l){let c=a.params;c||(c=this.options.params={}),Object.keys(l).forEach(u=>{(!i||!c.hasOwnProperty(u))&&(c[u]=sv(l[u],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const s=n.params={};Object.keys(i).forEach(a=>{s[a]=i[a]})}}return n}createSubContext(n=null,i,s){const a=i||this.element,l=new OD(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(n),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(n){return this.previousNode=fv,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,s){const a={duration:i??n.duration,delay:this.currentTimeline.currentTime+(s??0)+n.delay,easing:""},l=new Vve(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,s,a,l,c){let u=[];if(a&&u.push(this.element),n.length>0){n=(n=n.replace(Lve,"."+this._enterClassName)).replace(Nve,"."+this._leaveClassName);let h=this._driver.query(this.element,n,1!=s);0!==s&&(h=s<0?h.slice(h.length+s,h.length):h.slice(0,s)),u.push(...h)}return!l&&0==u.length&&c.push(function Qye(r){return new Te(3014,!1)}()),u}}class pv{constructor(n,i,s,a){this._driver=n,this.element=i,this.startTime=s,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new pv(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles.set(n,i),this._globalTimelineStyles.set(n,i),this._styleSummary.set(n,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[i,s]of this._globalTimelineStyles)this._backFill.set(i,s||Hl),this._currentKeyframe.set(i,Hl);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,s,a){i&&this._previousKeyframe.set("easing",i);const l=a&&a.params||{},c=function zve(r,n){const i=new Map;let s;return r.forEach(a=>{if("*"===a){s=s||n.keys();for(let l of s)i.set(l,Hl)}else ou(a,i)}),i}(n,this._globalTimelineStyles);for(let[u,d]of c){const h=sv(d,l,s);this._pendingStyles.set(u,h),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)||Hl),this._updateStyle(u,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,i)=>{this._currentKeyframe.set(i,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,n)}))}snapshotCurrentStyles(){for(let[n,i]of this._localTimelineStyles)this._pendingStyles.set(n,i),this._updateStyle(n,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((i,s)=>{const a=this._styleSummary.get(s);(!a||i.time>a.time)&&this._updateStyle(s,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((u,d)=>{const h=ou(u,new Map,this._backFill);h.forEach((f,p)=>{"!"===f?n.add(p):f===Hl&&i.add(p)}),s||h.set("offset",d/this.duration),a.push(h)});const l=n.size?ov(n.values()):[],c=i.size?ov(i.values()):[];if(s){const u=a[0],d=new Map(u);u.set("offset",0),d.set("offset",1),a=[u,d]}return RD(this.element,a,l,c,this.duration,this.startTime,this.easing,!1)}}class Vve extends pv{constructor(n,i,s,a,l,c,u=!1){super(n,i,c.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=u,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&i){const l=[],c=s+i,u=i/c,d=ou(n[0]);d.set("offset",0),l.push(d);const h=ou(n[0]);h.set("offset",zH(u)),l.push(h);const f=n.length-1;for(let p=1;p<=f;p++){let m=ou(n[p]);const g=m.get("offset");m.set("offset",zH((i+g*s)/c)),l.push(m)}s=c,i=0,a="",n=l}return RD(this.element,n,this.preStyleProps,this.postStyleProps,s,i,a,!0)}}function zH(r,n=3){const i=Math.pow(10,n-1);return Math.round(r*i)/i}class BD{}const Hve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gve extends BD{normalizePropertyName(n,i){return ID(n)}normalizeStyleValue(n,i,s,a){let l="";const c=s.toString().trim();if(Hve.has(i)&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const u=s.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&a.push(function Pye(r,n){return new Te(3005,!1)}())}return c+l}}function HH(r,n,i,s,a,l,c,u,d,h,f,p,m){return{type:0,element:r,triggerName:n,isRemovalTransition:a,fromState:i,fromStyles:l,toState:s,toStyles:c,timelines:u,queriedElements:d,preStyleProps:h,postStyleProps:f,totalTime:p,errors:m}}const LD={};class GH{constructor(n,i,s){this._triggerName=n,this.ast=i,this._stateStyles=s}match(n,i,s,a){return function Qve(r,n,i,s,a){return r.some(l=>l(n,i,s,a))}(this.ast.matchers,n,i,s,a)}buildStyles(n,i,s){let a=this._stateStyles.get("*");return void 0!==n&&(a=this._stateStyles.get(n?.toString())||a),a?a.buildStyles(i,s):new Map}build(n,i,s,a,l,c,u,d,h,f){const p=[],m=this.ast.options&&this.ast.options.params||LD,_=this.buildStyles(s,u&&u.params||LD,p),A=d&&d.params||LD,b=this.buildStyles(a,A,p),y=new Set,w=new Map,v=new Map,C="void"===a,M={params:$ve(A,m),delay:this.ast.options?.delay},E=f?[]:PD(n,i,this.ast.animation,l,c,_,b,M,h,p);let S=0;if(E.forEach(D=>{S=Math.max(D.duration+D.delay,S)}),p.length)return HH(i,this._triggerName,s,a,C,_,b,[],[],w,v,S,p);E.forEach(D=>{const T=D.element,k=mo(w,T,new Set);D.preStyleProps.forEach(F=>k.add(F));const R=mo(v,T,new Set);D.postStyleProps.forEach(F=>R.add(F)),T!==i&&y.add(T)});const x=ov(y.values());return HH(i,this._triggerName,s,a,C,_,b,E,x,w,v,S)}}function $ve(r,n){const i=h_(n);for(const s in r)r.hasOwnProperty(s)&&null!=r[s]&&(i[s]=r[s]);return i}class Wve{constructor(n,i,s){this.styles=n,this.defaultParams=i,this.normalizer=s}buildStyles(n,i){const s=new Map,a=h_(this.defaultParams);return Object.keys(n).forEach(l=>{const c=n[l];null!==c&&(a[l]=c)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,u)=>{c&&(c=sv(c,a,i));const d=this.normalizer.normalizePropertyName(u,i);c=this.normalizer.normalizeStyleValue(u,d,c,i),s.set(d,c)})}),s}}class qve{constructor(n,i,s){this.name=n,this.ast=i,this._normalizer=s,this.transitionFactories=[],this.states=new Map,i.states.forEach(a=>{this.states.set(a.name,new Wve(a.style,a.options&&a.options.params||{},s))}),QH(this.states,"true","1"),QH(this.states,"false","0"),i.transitions.forEach(a=>{this.transitionFactories.push(new GH(n,a,this.states))}),this.fallbackTransition=function Yve(r,n,i){return new GH(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,u)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,s,a){return this.transitionFactories.find(c=>c.match(n,i,s,a))||null}matchStyles(n,i,s){return this.fallbackTransition.buildStyles(n,i,s)}}function QH(r,n,i){r.has(n)?r.has(i)||r.set(i,r.get(n)):r.has(i)&&r.set(n,r.get(i))}const Xve=new hv;class Kve{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,i){const s=[],l=TD(this._driver,i,s,[]);if(s.length)throw function Kye(r){return new Te(3503,!1)}();this._animations.set(n,l)}_buildPlayer(n,i,s){const a=n.element,l=wH(0,this._normalizer,0,n.keyframes,i,s);return this._driver.animate(a,l,n.duration,n.delay,n.easing,[],!0)}create(n,i,s={}){const a=[],l=this._animations.get(n);let c;const u=new Map;if(l?(c=PD(this._driver,i,l,MD,nv,new Map,new Map,s,Xve,a),c.forEach(f=>{const p=mo(u,f.element,new Map);f.postStyleProps.forEach(m=>p.set(m,null))})):(a.push(function Zye(){return new Te(3300,!1)}()),c=[]),a.length)throw function Jye(r){return new Te(3504,!1)}();u.forEach((f,p)=>{f.forEach((m,g)=>{f.set(g,this._driver.computeStyle(p,g,Hl))})});const h=ru(c.map(f=>{const p=u.get(f.element);return this._buildPlayer(f,new Map,p)}));return this._playersById.set(n,h),h.onDestroy(()=>this.destroy(n)),this.players.push(h),h}destroy(n){const i=this._getPlayer(n);i.destroy(),this._playersById.delete(n);const s=this.players.indexOf(i);s>=0&&this.players.splice(s,1)}_getPlayer(n){const i=this._playersById.get(n);if(!i)throw function eve(r){return new Te(3301,!1)}();return i}listen(n,i,s,a){const l=vD(i,"","","");return AD(this._getPlayer(n),s,l,a),()=>{}}command(n,i,s,a){if("register"==s)return void this.register(n,a[0]);if("create"==s)return void this.create(n,i,a[0]||{});const l=this._getPlayer(n);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const $H="ng-animate-queued",FD="ng-animate-disabled",nwe=[],WH={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iwe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vo="__ng_removed";class ND{constructor(n,i=""){this.namespaceId=i;const s=n&&n.hasOwnProperty("value");if(this.value=function awe(r){return r??null}(s?n.value:n),s){const l=h_(n);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(n){const i=n.params;if(i){const s=this.options.params;Object.keys(i).forEach(a=>{null==s[a]&&(s[a]=i[a])})}}}const p_="void",UD=new ND(p_);class rwe{constructor(n,i,s){this.id=n,this.hostElement=i,this._engine=s,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,zo(i,this._hostClassName)}listen(n,i,s,a){if(!this._triggers.has(i))throw function tve(r,n){return new Te(3302,!1)}();if(null==s||0==s.length)throw function nve(r){return new Te(3303,!1)}();if(!function lwe(r){return"start"==r||"done"==r}(s))throw function ive(r,n){return new Te(3400,!1)}();const l=mo(this._elementListeners,n,[]),c={name:i,phase:s,callback:a};l.push(c);const u=mo(this._engine.statesByElement,n,new Map);return u.has(i)||(zo(n,iv),zo(n,iv+"-"+i),u.set(i,UD)),()=>{this._engine.afterFlush(()=>{const d=l.indexOf(c);d>=0&&l.splice(d,1),this._triggers.has(i)||u.delete(i)})}}register(n,i){return!this._triggers.has(n)&&(this._triggers.set(n,i),!0)}_getTrigger(n){const i=this._triggers.get(n);if(!i)throw function rve(r){return new Te(3401,!1)}();return i}trigger(n,i,s,a=!0){const l=this._getTrigger(i),c=new VD(this.id,i,n);let u=this._engine.statesByElement.get(n);u||(zo(n,iv),zo(n,iv+"-"+i),this._engine.statesByElement.set(n,u=new Map));let d=u.get(i);const h=new ND(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),u.set(i,h),d||(d=UD),h.value!==p_&&d.value===h.value){if(!function dwe(r,n){const i=Object.keys(r),s=Object.keys(n);if(i.length!=s.length)return!1;for(let a=0;a<i.length;a++){const l=i[a];if(!n.hasOwnProperty(l)||r[l]!==n[l])return!1}return!0}(d.params,h.params)){const A=[],b=l.matchStyles(d.value,d.params,A),y=l.matchStyles(h.value,h.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{xd(n,b),el(n,y)})}return}const m=mo(this._engine.playersByElement,n,[]);m.forEach(A=>{A.namespaceId==this.id&&A.triggerName==i&&A.queued&&A.destroy()});let g=l.matchTransition(d.value,h.value,n,h.params),_=!1;if(!g){if(!a)return;g=l.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:g,fromState:d,toState:h,player:c,isFallbackTransition:_}),_||(zo(n,$H),c.onStart(()=>{Wf(n,$H)})),c.onDone(()=>{let A=this.players.indexOf(c);A>=0&&this.players.splice(A,1);const b=this._engine.playersByElement.get(n);if(b){let y=b.indexOf(c);y>=0&&b.splice(y,1)}}),this.players.push(c),m.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(i=>i.delete(n)),this._elementListeners.forEach((i,s)=>{this._elementListeners.set(s,i.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const s=this._engine.driver.query(n,d_,!0),a=n.shadowRoot?this._engine.driver.query(n.shadowRoot,d_,!0):[];[...s,...a].forEach(l=>{if(l[Vo])return;const c=this._engine.fetchNamespacesByElement(l);c.size?c.forEach(u=>u.triggerLeaveAnimation(l,i,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(n,i,s,a){const l=this._engine.statesByElement.get(n),c=new Map;if(l){const u=[];if(l.forEach((d,h)=>{if(c.set(h,d.value),this._triggers.has(h)){const f=this.trigger(n,h,p_,a);f&&u.push(f)}}),u.length)return this._engine.markElementAsRemoved(this.id,n,!0,i,c),s&&ru(u).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(i&&s){const a=new Set;i.forEach(l=>{const c=l.name;if(a.has(c))return;a.add(c);const d=this._triggers.get(c).fallbackTransition,h=s.get(c)||UD,f=new ND(p_),p=new VD(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:d,fromState:h,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(n,i){const s=this._engine;if((!!n.childElementCount||!(!n.shadowRoot||!n.shadowRoot.childElementCount))&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let c=!1;if(s.totalAnimations){const u=s.players.length?s.playersByQueriedElement.get(n):[];if(u&&u.length)c=!0;else{let d=n;for(;d=d.parentNode;)if(s.statesByElement.get(d)){c=!0;break}}}if(this.prepareLeaveAnimationListeners(n),c)s.markElementAsRemoved(this.id,n,!1,i);else{const u=n[Vo];(!u||u===WH)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,i))}}insertNode(n,i){zo(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,c=this._elementListeners.get(l);c&&c.forEach(u=>{if(u.name==s.triggerName){const d=vD(l,s.triggerName,s.fromState.value,s.toState.value);d._data=n,AD(s.player,u.phase,d,u.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):i.push(s)}),this._queue=[],i.sort((s,a)=>{const l=s.transition.ast.depCount,c=a.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}elementContainsData(n){let i=!1;return this._elementListeners.has(n)&&(i=!0),i=!!this._queue.find(s=>s.element===n)||i,i}}class swe{constructor(n,i,s){this.bodyNode=n,this.driver=i,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,i){const s=new rwe(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(s,i):(this.newHostElements.set(i,s),this.collectEnterElement(i)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,i){const s=this._namespaceList,a=this.namespacesByHostElement;if(s.length-1>=0){let c=!1,u=this.driver.getParentElement(i);for(;u;){const d=a.get(u);if(d){const h=s.indexOf(d);s.splice(h+1,0,n),c=!0;break}u=this.driver.getParentElement(u)}c||s.unshift(n)}else s.push(n);return a.set(i,n),n}register(n,i){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,i)),s}registerTrigger(n,i,s){let a=this._namespaceLookup[n];a&&a.register(i,s)&&this.totalAnimations++}destroy(n,i){if(!n)return;const s=this._fetchNamespace(n);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[n];const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>s.destroy(i))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,s=this.statesByElement.get(n);if(s)for(let a of s.values())if(a.namespaceId){const l=this._fetchNamespace(a.namespaceId);l&&i.add(l)}return i}trigger(n,i,s,a){if(mv(i)){const l=this._fetchNamespace(n);if(l)return l.trigger(i,s,a),!0}return!1}insertNode(n,i,s,a){if(!mv(i))return;const l=i[Vo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(i);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(i,s)}a&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),zo(n,FD)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Wf(n,FD))}removeNode(n,i,s,a){if(mv(i)){const l=n?this._fetchNamespace(n):null;if(l?l.removeNode(i,a):this.markElementAsRemoved(n,i,!1,a),s){const c=this.namespacesByHostElement.get(i);c&&c.id!==n&&c.removeNode(i,a)}}else this._onRemovalComplete(i,a)}markElementAsRemoved(n,i,s,a,l){this.collectedLeaveElements.push(i),i[Vo]={namespaceId:n,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:l}}listen(n,i,s,a,l){return mv(i)?this._fetchNamespace(n).listen(i,s,a,l):()=>{}}_buildInstruction(n,i,s,a,l){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,a,n.fromState.options,n.toState.options,i,l)}destroyInnerAnimations(n){let i=this.driver.query(n,d_,!0);i.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,ED,!0),i.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return ru(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[Vo];if(i&&i.setForRemoval){if(n[Vo]=WH,i.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}n.classList?.contains(FD)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)zo(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{i=this._flushAnimations(s,n)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],i.length?ru(i).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(n){throw function sve(r){return new Te(3402,!1)}()}_flushAnimations(n,i){const s=new hv,a=[],l=new Map,c=[],u=new Map,d=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(G=>{f.add(G);const P=this.driver.query(G,".ng-animate-queued",!0);for(let z=0;z<P.length;z++)f.add(P[z])});const p=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=YH(m,this.collectedEnterElements),_=new Map;let A=0;g.forEach((G,P)=>{const z=MD+A++;_.set(P,z),G.forEach(V=>zo(V,z))});const b=[],y=new Set,w=new Set;for(let G=0;G<this.collectedLeaveElements.length;G++){const P=this.collectedLeaveElements[G],z=P[Vo];z&&z.setForRemoval&&(b.push(P),y.add(P),z.hasAnimation?this.driver.query(P,".ng-star-inserted",!0).forEach(V=>y.add(V)):w.add(P))}const v=new Map,C=YH(m,Array.from(y));C.forEach((G,P)=>{const z=nv+A++;v.set(P,z),G.forEach(V=>zo(V,z))}),n.push(()=>{g.forEach((G,P)=>{const z=_.get(P);G.forEach(V=>Wf(V,z))}),C.forEach((G,P)=>{const z=v.get(P);G.forEach(V=>Wf(V,z))}),b.forEach(G=>{this.processLeaveNode(G)})});const M=[],E=[];for(let G=this._namespaceList.length-1;G>=0;G--)this._namespaceList[G].drainQueuedTransitions(i).forEach(z=>{const V=z.player,Y=z.element;if(M.push(V),this.collectedEnterElements.length){const Qe=Y[Vo];if(Qe&&Qe.setForMove){if(Qe.previousTriggersValues&&Qe.previousTriggersValues.has(z.triggerName)){const Xe=Qe.previousTriggersValues.get(z.triggerName),it=this.statesByElement.get(z.element);if(it&&it.has(z.triggerName)){const Re=it.get(z.triggerName);Re.value=Xe,it.set(z.triggerName,Re)}}return void V.destroy()}}const oe=!p||!this.driver.containsElement(p,Y),ae=v.get(Y),Ce=_.get(Y),xe=this._buildInstruction(z,s,Ce,ae,oe);if(xe.errors&&xe.errors.length)return void E.push(xe);if(oe)return V.onStart(()=>xd(Y,xe.fromStyles)),V.onDestroy(()=>el(Y,xe.toStyles)),void a.push(V);if(z.isFallbackTransition)return V.onStart(()=>xd(Y,xe.fromStyles)),V.onDestroy(()=>el(Y,xe.toStyles)),void a.push(V);const He=[];xe.timelines.forEach(Qe=>{Qe.stretchStartingKeyframe=!0,this.disabledNodes.has(Qe.element)||He.push(Qe)}),xe.timelines=He,s.append(Y,xe.timelines),c.push({instruction:xe,player:V,element:Y}),xe.queriedElements.forEach(Qe=>mo(u,Qe,[]).push(V)),xe.preStyleProps.forEach((Qe,Xe)=>{if(Qe.size){let it=d.get(Xe);it||d.set(Xe,it=new Set),Qe.forEach((Re,Ft)=>it.add(Ft))}}),xe.postStyleProps.forEach((Qe,Xe)=>{let it=h.get(Xe);it||h.set(Xe,it=new Set),Qe.forEach((Re,Ft)=>it.add(Ft))})});if(E.length){const G=[];E.forEach(P=>{G.push(function ove(r,n){return new Te(3505,!1)}())}),M.forEach(P=>P.destroy()),this.reportError(G)}const S=new Map,x=new Map;c.forEach(G=>{const P=G.element;s.has(P)&&(x.set(P,P),this._beforeAnimationBuild(G.player.namespaceId,G.instruction,S))}),a.forEach(G=>{const P=G.element;this._getPreviousPlayers(P,!1,G.namespaceId,G.triggerName,null).forEach(V=>{mo(S,P,[]).push(V),V.destroy()})});const D=b.filter(G=>KH(G,d,h)),T=new Map;qH(T,this.driver,w,h,Hl).forEach(G=>{KH(G,d,h)&&D.push(G)});const R=new Map;g.forEach((G,P)=>{qH(R,this.driver,new Set(G),d,"!")}),D.forEach(G=>{const P=T.get(G),z=R.get(G);T.set(G,new Map([...Array.from(P?.entries()??[]),...Array.from(z?.entries()??[])]))});const F=[],O=[],j={};c.forEach(G=>{const{element:P,player:z,instruction:V}=G;if(s.has(P)){if(f.has(P))return z.onDestroy(()=>el(P,V.toStyles)),z.disabled=!0,z.overrideTotalTime(V.totalTime),void a.push(z);let Y=j;if(x.size>1){let ae=P;const Ce=[];for(;ae=ae.parentNode;){const xe=x.get(ae);if(xe){Y=xe;break}Ce.push(ae)}Ce.forEach(xe=>x.set(xe,Y))}const oe=this._buildAnimation(z.namespaceId,V,S,l,R,T);if(z.setRealPlayer(oe),Y===j)F.push(z);else{const ae=this.playersByElement.get(Y);ae&&ae.length&&(z.parentPlayer=ru(ae)),a.push(z)}}else xd(P,V.fromStyles),z.onDestroy(()=>el(P,V.toStyles)),O.push(z),f.has(P)&&a.push(z)}),O.forEach(G=>{const P=l.get(G.element);if(P&&P.length){const z=ru(P);G.setRealPlayer(z)}}),a.forEach(G=>{G.parentPlayer?G.syncPlayerEvents(G.parentPlayer):G.destroy()});for(let G=0;G<b.length;G++){const P=b[G],z=P[Vo];if(Wf(P,nv),z&&z.hasAnimation)continue;let V=[];if(u.size){let oe=u.get(P);oe&&oe.length&&V.push(...oe);let ae=this.driver.query(P,ED,!0);for(let Ce=0;Ce<ae.length;Ce++){let xe=u.get(ae[Ce]);xe&&xe.length&&V.push(...xe)}}const Y=V.filter(oe=>!oe.destroyed);Y.length?cwe(this,P,Y):this.processLeaveNode(P)}return b.length=0,F.forEach(G=>{this.players.push(G),G.onDone(()=>{G.destroy();const P=this.players.indexOf(G);this.players.splice(P,1)}),G.play()}),F}elementContainsData(n,i){let s=!1;const a=i[Vo];return a&&a.setForRemoval&&(s=!0),this.playersByElement.has(i)&&(s=!0),this.playersByQueriedElement.has(i)&&(s=!0),this.statesByElement.has(i)&&(s=!0),this._fetchNamespace(n).elementContainsData(i)||s}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,s,a,l){let c=[];if(i){const u=this.playersByQueriedElement.get(n);u&&(c=u)}else{const u=this.playersByElement.get(n);if(u){const d=!l||l==p_;u.forEach(h=>{h.queued||!d&&h.triggerName!=a||c.push(h)})}}return(s||a)&&(c=c.filter(u=>!(s&&s!=u.namespaceId||a&&a!=u.triggerName))),c}_beforeAnimationBuild(n,i,s){const l=i.element,c=i.isRemovalTransition?void 0:n,u=i.isRemovalTransition?void 0:i.triggerName;for(const d of i.timelines){const h=d.element,f=h!==l,p=mo(s,h,[]);this._getPreviousPlayers(h,f,c,u,i.toState).forEach(g=>{const _=g.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),g.destroy(),p.push(g)})}xd(l,i.fromStyles)}_buildAnimation(n,i,s,a,l,c){const u=i.triggerName,d=i.element,h=[],f=new Set,p=new Set,m=i.timelines.map(_=>{const A=_.element;f.add(A);const b=A[Vo];if(b&&b.removedBeforeQueried)return new Qg(_.duration,_.delay);const y=A!==d,w=function uwe(r){const n=[];return XH(r,n),n}((s.get(A)||nwe).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===A),v=l.get(A),C=c.get(A),M=wH(0,this._normalizer,0,_.keyframes,v,C),E=this._buildPlayer(_,M,w);if(_.subTimeline&&a&&p.add(A),y){const S=new VD(n,u,A);S.setRealPlayer(E),h.push(S)}return E});h.forEach(_=>{mo(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>function owe(r,n,i){let s=r.get(n);if(s){if(s.length){const a=s.indexOf(i);s.splice(a,1)}0==s.length&&r.delete(n)}return s}(this.playersByQueriedElement,_.element,_))}),f.forEach(_=>zo(_,kH));const g=ru(m);return g.onDestroy(()=>{f.forEach(_=>Wf(_,kH)),el(d,i.toStyles)}),p.forEach(_=>{mo(a,_,[]).push(g)}),g}_buildPlayer(n,i,s){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,s):new Qg(n.duration,n.delay)}}class VD{constructor(n,i,s){this.namespaceId=n,this.triggerName=i,this.element=s,this._player=new Qg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((i,s)=>{i.forEach(a=>AD(n,s,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){mo(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function mv(r){return r&&1===r.nodeType}function jH(r,n){const i=r.style.display;return r.style.display=n??"none",i}function qH(r,n,i,s,a){const l=[];i.forEach(d=>l.push(jH(d)));const c=[];s.forEach((d,h)=>{const f=new Map;d.forEach(p=>{const m=n.computeStyle(h,p,a);f.set(p,m),(!m||0==m.length)&&(h[Vo]=iwe,c.push(h))}),r.set(h,f)});let u=0;return i.forEach(d=>jH(d,l[u++])),c}function YH(r,n){const i=new Map;if(r.forEach(u=>i.set(u,[])),0==n.length)return i;const a=new Set(n),l=new Map;function c(u){if(!u)return 1;let d=l.get(u);if(d)return d;const h=u.parentNode;return d=i.has(h)?h:a.has(h)?1:c(h),l.set(u,d),d}return n.forEach(u=>{const d=c(u);1!==d&&i.get(d).push(u)}),i}function zo(r,n){r.classList?.add(n)}function Wf(r,n){r.classList?.remove(n)}function cwe(r,n,i){ru(i).onDone(()=>r.processLeaveNode(n))}function XH(r,n){for(let i=0;i<r.length;i++){const s=r[i];s instanceof RU?XH(s.players,n):n.push(s)}}function KH(r,n,i){const s=i.get(r);if(!s)return!1;let a=n.get(r);return a?s.forEach(l=>a.add(l)):n.set(r,s),i.delete(r),!0}class gv{constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new swe(n,i,s),this._timelineEngine=new Kve(n,i,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(n,i,s,a,l){const c=n+"-"+a;let u=this._triggerCache[c];if(!u){const d=[],f=TD(this._driver,l,d,[]);if(d.length)throw function Yye(r,n){return new Te(3404,!1)}();u=function jve(r,n,i){return new qve(r,n,i)}(a,f,this._normalizer),this._triggerCache[c]=u}this._transitionEngine.registerTrigger(i,a,u)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,s,a){this._transitionEngine.insertNode(n,i,s,a)}onRemove(n,i,s,a){this._transitionEngine.removeNode(n,i,a||!1,s)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,s,a){if("@"==s.charAt(0)){const[l,c]=CH(s);this._timelineEngine.command(l,i,c,a)}else this._transitionEngine.trigger(n,i,s,a)}listen(n,i,s,a,l){if("@"==s.charAt(0)){const[c,u]=CH(s);return this._timelineEngine.listen(c,i,u,l)}return this._transitionEngine.listen(n,i,s,a,l)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fwe=(()=>{class r{constructor(i,s,a){this._element=i,this._startStyles=s,this._endStyles=a,this._state=0;let l=r.initialStylesByElement.get(i);l||r.initialStylesByElement.set(i,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&el(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(el(this._element,this._initialStyles),this._endStyles&&(el(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(xd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xd(this._element,this._endStyles),this._endStyles=null),el(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function zD(r){let n=null;return r.forEach((i,s)=>{(function pwe(r){return"display"===r||"position"===r})(s)&&(n=n||new Map,n.set(s,i))}),n}class ZH{constructor(n,i,s,a){this.element=n,this.keyframes=i,this.options=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const i=[];return n.forEach(s=>{i.push(Object.fromEntries(s))}),i}_triggerWebAnimation(n,i,s){return n.animate(this._convertKeyframesToObject(i),s)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,a)=>{"offset"!==a&&n.set(a,this._finished?s:FH(this.element,a))}),this.currentSnapshot=n}triggerCallback(n){const i="start"===n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class mwe{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,i){return!1}containsElement(n,i){return SH(n,i)}getParentElement(n){return CD(n)}query(n,i,s){return DH(n,i,s)}computeStyle(n,i,s){return window.getComputedStyle(n)[i]}animate(n,i,s,a,l,c=[]){const d={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(d.easing=l);const h=new Map,f=c.filter(g=>g instanceof ZH);(function Ave(r,n){return 0===r||0===n})(s,a)&&f.forEach(g=>{g.currentSnapshot.forEach((_,A)=>h.set(A,_))});let p=function mve(r){return r.length?r[0]instanceof Map?r:r.map(n=>RH(n)):[]}(i).map(g=>ou(g));p=function yve(r,n,i){if(i.size&&n.length){let s=n[0],a=[];if(i.forEach((l,c)=>{s.has(c)||a.push(c),s.set(c,l)}),a.length)for(let l=1;l<n.length;l++){let c=n[l];a.forEach(u=>c.set(u,FH(r,u)))}}return n}(n,p,h);const m=function hwe(r,n){let i=null,s=null;return Array.isArray(n)&&n.length?(i=zD(n[0]),n.length>1&&(s=zD(n[n.length-1]))):n instanceof Map&&(i=zD(n)),i||s?new fwe(r,i,s):null}(n,p);return new ZH(n,p,d,m)}}let gwe=(()=>{class r extends DU{constructor(i,s){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(s.body,{id:"0",encapsulation:na.None,styles:[],data:{animation:[]}})}build(i){const s=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(i)?TU(i):i;return JH(this._renderer,null,s,"register",[a]),new _we(s,this._renderer)}}return r.\u0275fac=function(i){return new(i||r)(X(Ym),X(At))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class _we extends class cue{}{constructor(n,i){super(),this._id=n,this._renderer=i}create(n,i){return new bwe(this._id,n,i||{},this._renderer)}}class bwe{constructor(n,i,s,a){this.id=n,this.element=i,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(n,i){return this._renderer.listen(this.element,`@@${this.id}:${n}`,i)}_command(n,...i){return JH(this._renderer,this.element,this.id,n,i)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function JH(r,n,i,s,a){return r.setProperty(n,`@@${i}:${s}`,a)}const eG="@.disabled";let Awe=(()=>{class r{constructor(i,s,a){this.delegate=i,this.engine=s,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(l,c)=>{const u=c?.parentNode(l);u&&c.removeChild(u,l)}}createRenderer(i,s){const l=this.delegate.createRenderer(i,s);if(!(i&&s&&s.data&&s.data.animation)){let f=this._rendererCache.get(l);return f||(f=new tG("",l,this.engine),this._rendererCache.set(l,f)),f}const c=s.id,u=s.id+"-"+this._currentId;this._currentId++,this.engine.register(u,i);const d=f=>{Array.isArray(f)?f.forEach(d):this.engine.registerTrigger(c,u,i,f.name,f)};return s.data.animation.forEach(d),new ywe(this,u,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,s,a){i>=0&&i<this._microtaskId?this._zone.run(()=>s(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[c,u]=l;c(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(i){return new(i||r)(X(Ym),X(gv),X(ht))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();class tG{constructor(n,i,s){this.namespaceId=n,this.delegate=i,this.engine=s,this.destroyNode=this.delegate.destroyNode?a=>i.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,s,a=!0){this.delegate.insertBefore(n,i,s),this.engine.onInsert(this.namespaceId,i,n,a)}removeChild(n,i,s){this.engine.onRemove(this.namespaceId,i,this.delegate,s)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,s,a){this.delegate.setAttribute(n,i,s,a)}removeAttribute(n,i,s){this.delegate.removeAttribute(n,i,s)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,s,a){this.delegate.setStyle(n,i,s,a)}removeStyle(n,i,s){this.delegate.removeStyle(n,i,s)}setProperty(n,i,s){"@"==i.charAt(0)&&i==eG?this.disableAnimations(n,!!s):this.delegate.setProperty(n,i,s)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,s){return this.delegate.listen(n,i,s)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class ywe extends tG{constructor(n,i,s,a){super(i,s,a),this.factory=n,this.namespaceId=i}setProperty(n,i,s){"@"==i.charAt(0)?"."==i.charAt(1)&&i==eG?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,i.slice(1),s):this.delegate.setProperty(n,i,s)}listen(n,i,s){if("@"==i.charAt(0)){const a=function vwe(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let l=i.slice(1),c="";return"@"!=l.charAt(0)&&([l,c]=function wwe(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(l)),this.engine.listen(this.namespaceId,a,l,c,u=>{this.factory.scheduleListenerCallback(u._data||-1,s,u)})}return this.delegate.listen(n,i,s)}}let Cwe=(()=>{class r extends gv{constructor(i,s,a,l){super(i.body,s,a)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(i){return new(i||r)(X(At),X(xD),X(BD),X(hf))},r.\u0275prov=ke({token:r,factory:r.\u0275fac}),r})();const nG=[{provide:DU,useClass:gwe},{provide:BD,useFactory:function xwe(){return new Gve}},{provide:gv,useClass:Cwe},{provide:Ym,useFactory:function Mwe(r,n,i){return new Awe(r,n,i)},deps:[fA,gv,ht]}],iG=[{provide:xD,useFactory:()=>new mwe},{provide:ts,useValue:"BrowserAnimations"},...nG],Ewe=[{provide:xD,useClass:IH},{provide:ts,useValue:"NoopAnimations"},...nG];let Lt=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?Ewe:iG}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({providers:iG,imports:[gt]}),r})(),gi=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Lt,gt,Es.forChild(),$s,Ya]}),r})(),Ed=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fH,Ka,zl]}),r})(),jf=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,$s,Df,zl]}),r})(),bv=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,jf]}),r})(),HD=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,$s]}),r})(),Av=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Vz,zl,Gg,Ka,Jge,Ya,Xc,ty]}),r})(),wi=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Es]}),r})(),Ui=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,$s]}),r})(),tl=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ka,Ya]}),r})(),nl=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,bz,_1]}),r})(),ql=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,zl]}),r})(),rG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[Lt,gt,Es.forChild()]}),r})(),au=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[$s,gt,Es]}),r})(),lu=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[mce]}),r})(),sG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,$s,Xc,NU,Ka,zl,Es.forChild()]}),r})(),GD=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[afe,Ya,Ka,gt]}),r})(),Aa=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,kz,vz]}),r})(),oG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[$s,gt,Lt,Ya]}),r})(),yv=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[fo,nl,Aa]}),r})(),QD=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,$s,Ka,Xc,Es.forChild()]}),r})(),aG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,tl,nl,ql,rG,jf,au,gi,lu,bv,sG,GD,Aa,GD,HD,oG,yv,$s,QD]}),r})(),Ci=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,aG]}),r})(),Swe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ci]}),r})(),lG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[zl,fH,mye,Ka,Lt,Xc,Lt,gt,Mpe,zN,Xae,Epe,Ya,Av]}),r})(),Dwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,gi,au,Ci]}),r})(),Iwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,Aa,gi,Ci]}),r})(),Twe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,Ed,wi,ql,nl,Aa,tl,Es,lu,gi,Ci]}),r})(),kwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,Ed,wi,ql,nl,Aa,Es,gi,tl,yv,Ci]}),r})(),Rwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,Ed,wi,ql,nl,Aa,tl,Es,lu,gi,Ci]}),r})(),Pwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,au,wi,sG,jf,gi,Ci,bv,Es.forChild()]}),r})(),Owe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,lu,gi,Ci]}),r})(),Bwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,tl,gi,Ci]}),r})(),Ywe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[V4,Df,vn,zS,fo,V4,vn,zS,Xc]}),r})(),Xwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,$s,Xc]}),r})(),Kwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,Xc,tl,zl,Ka,Xwe,$s,Qge,Ywe,zl,Av]}),r})(),Zwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,tl,gi,Ci]}),r})(),Jwe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,rG,wi,Es,gi,Ci]}),r})(),eCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,Ed,wi,ql,nl,Aa,Es,gi,Ci]}),r})(),tCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,Aa,wi,gi,Ci]}),r})(),nCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,gi,Ci]}),r})(),iCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,$s,QD,gi,Ci]}),r})(),rCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,$s,QD,gi,lu,Ci]}),r})(),sCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,lG,au,GD,oG,Ed,gi,HD,Ci]}),r})(),oCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,tl,Ci]}),r})(),aCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,ba,Lt,Ui,wi,ql,Aa,nl,Ya,gi,Ci,yv]}),r})(),lCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,au,jf,gi,Av,Ci]}),r})(),uG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,kz,vz,Es.forChild()]}),r})(),cCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,au,jf,uG,gi,Ci]}),r})(),uCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,au,jf,gi,bv,Ci]}),r})(),dCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,Ed,wi,ql,nl,Aa,tl,Es,lu,gi,Ci]}),r})(),dG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,J_e,bz,_1]}),r})(),hG=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ya,$s,Xc,Ka,zl,NU]}),r})(),hCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,au,Ui,wi,nl,dG,ql,hG,gi,tl]}),r})(),fCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,uG,wi]}),r})(),pCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,ql,dG,hG,nl,gi,Aa,Ka]}),r})(),mCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r}),r.\u0275inj=ye({imports:[gt,Lt,Ui,wi,gi,Ci]}),r})(),gCe=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=ve({type:r,bootstrap:[Sye]}),r.\u0275inj=ye({imports:[gt,lG,sCe,Ed,Ui,lCe,kwe,wi,ba,zN,pCe,Pwe,cCe,Twe,lu,eCe,Rwe,dCe,lu,Bwe,Zwe,Dwe,uCe,fCe,tCe,aCe,hCe,Iwe,nCe,iCe,rCe,Jwe,Owe,n4.forRoot("G-VEGFSW3SCV"),soe,oCe,Kwe,Es.forRoot({sanitize:Mn.NONE}),gi,mCe,HD,Av,Ci,aG,Swe,bv,yv]}),r})();const _Ce=(r,n)=>"method"===n.kind&&n.descriptor&&!("value"in n.descriptor)?{...n,finisher(i){i.createProperty(n.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(i){i.createProperty(n.key,r)}};function Yt(r){return(n,i)=>void 0!==i?void n.constructor.createProperty(i,r):_Ce(r,n)}window;const rl=1e3,ss=1001,tr=1003,si=1006,sl=1008,Ys=1009,Id=1014,Ts=1015,ks=1016,Kf=1020,Ir=1023,Td=1026,Zf=1027,y_=1028,v_=1030,xv=33776,Mv=33779,Jf=2300,kd=2301,ep=2400,tp=2401,os=3e3,hn=3001,Kl="srgb",Rd="srgb-linear";class Ho{addEventListener(n,i){void 0===this._listeners&&(this._listeners={});const s=this._listeners;void 0===s[n]&&(s[n]=[]),-1===s[n].indexOf(i)&&s[n].push(i)}hasEventListener(n,i){if(void 0===this._listeners)return!1;const s=this._listeners;return void 0!==s[n]&&-1!==s[n].indexOf(i)}removeEventListener(n,i){if(void 0===this._listeners)return;const a=this._listeners[n];if(void 0!==a){const l=a.indexOf(i);-1!==l&&a.splice(l,1)}}dispatchEvent(n){if(void 0===this._listeners)return;const s=this._listeners[n.type];if(void 0!==s){n.target=this;const a=s.slice(0);for(let l=0,c=a.length;l<c;l++)a[l].call(this,n);n.target=null}}}const as=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let QG=1234567;const Pd=Math.PI/180,w_=180/Math.PI;function _o(){const r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(as[255&r]+as[r>>8&255]+as[r>>16&255]+as[r>>24&255]+"-"+as[255&n]+as[n>>8&255]+"-"+as[n>>16&15|64]+as[n>>24&255]+"-"+as[63&i|128]+as[i>>8&255]+"-"+as[i>>16&255]+as[i>>24&255]+as[255&s]+as[s>>8&255]+as[s>>16&255]+as[s>>24&255]).toLowerCase()}function nr(r,n,i){return Math.max(n,Math.min(i,r))}function cI(r,n){return(r%n+n)%n}function C_(r,n,i){return(1-i)*r+i*n}function uI(r){return 0==(r&r-1)&&0!==r}function $G(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function Dv(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function Zl(r,n){switch(n.constructor){case Float32Array:return r;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function oi(r,n){switch(n.constructor){case Float32Array:return r;case Uint16Array:return Math.round(65535*r);case Uint8Array:return Math.round(255*r);case Int16Array:return Math.round(32767*r);case Int8Array:return Math.round(127*r);default:throw new Error("Invalid component type.")}}var WG=Object.freeze({__proto__:null,DEG2RAD:Pd,RAD2DEG:w_,generateUUID:_o,clamp:nr,euclideanModulo:cI,mapLinear:function uxe(r,n,i,s,a){return s+(r-n)*(a-s)/(i-n)},inverseLerp:function dxe(r,n,i){return r!==n?(i-r)/(n-r):0},lerp:C_,damp:function hxe(r,n,i,s){return C_(r,n,1-Math.exp(-i*s))},pingpong:function fxe(r,n=1){return n-Math.abs(cI(r,2*n)-n)},smoothstep:function pxe(r,n,i){return r<=n?0:r>=i?1:(r=(r-n)/(i-n))*r*(3-2*r)},smootherstep:function mxe(r,n,i){return r<=n?0:r>=i?1:(r=(r-n)/(i-n))*r*r*(r*(6*r-15)+10)},randInt:function gxe(r,n){return r+Math.floor(Math.random()*(n-r+1))},randFloat:function _xe(r,n){return r+Math.random()*(n-r)},randFloatSpread:function bxe(r){return r*(.5-Math.random())},seededRandom:function Axe(r){void 0!==r&&(QG=r);let n=QG+=1831565813;return n=Math.imul(n^n>>>15,1|n),n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296},degToRad:function yxe(r){return r*Pd},radToDeg:function vxe(r){return r*w_},isPowerOfTwo:uI,ceilPowerOfTwo:$G,floorPowerOfTwo:Dv,setQuaternionFromProperEuler:function wxe(r,n,i,s,a){const l=Math.cos,c=Math.sin,u=l(i/2),d=c(i/2),h=l((n+s)/2),f=c((n+s)/2),p=l((n-s)/2),m=c((n-s)/2),g=l((s-n)/2),_=c((s-n)/2);switch(a){case"XYX":r.set(u*f,d*p,d*m,u*h);break;case"YZY":r.set(d*m,u*f,d*p,u*h);break;case"ZXZ":r.set(d*p,d*m,u*f,u*h);break;case"XZX":r.set(u*f,d*_,d*g,u*h);break;case"YXY":r.set(d*g,u*f,d*_,u*h);break;case"ZYZ":r.set(d*_,d*g,u*f,u*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}},normalize:oi,denormalize:Zl});class be{constructor(n=0,i=0){be.prototype.isVector2=!0,this.x=n,this.y=i}get width(){return this.x}set width(n){this.x=n}get height(){return this.y}set height(n){this.y=n}set(n,i){return this.x=n,this.y=i,this}setScalar(n){return this.x=n,this.y=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y)}copy(n){return this.x=n.x,this.y=n.y,this}add(n){return this.x+=n.x,this.y+=n.y,this}addScalar(n){return this.x+=n,this.y+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this}subScalar(n){return this.x-=n,this.y-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this}multiply(n){return this.x*=n.x,this.y*=n.y,this}multiplyScalar(n){return this.x*=n,this.y*=n,this}divide(n){return this.x/=n.x,this.y/=n.y,this}divideScalar(n){return this.multiplyScalar(1/n)}applyMatrix3(n){const i=this.x,s=this.y,a=n.elements;return this.x=a[0]*i+a[3]*s+a[6],this.y=a[1]*i+a[4]*s+a[7],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(n){return this.x*n.x+this.y*n.y}cross(n){return this.x*n.y-this.y*n.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,s=this.y-n.y;return i*i+s*s}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this}equals(n){return n.x===this.x&&n.y===this.y}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this}rotateAround(n,i){const s=Math.cos(i),a=Math.sin(i),l=this.x-n.x,c=this.y-n.y;return this.x=l*s-c*a+n.x,this.y=l*a+c*s+n.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ls{constructor(){ls.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(n,i,s,a,l,c,u,d,h){const f=this.elements;return f[0]=n,f[1]=a,f[2]=u,f[3]=i,f[4]=l,f[5]=d,f[6]=s,f[7]=c,f[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(n){const i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(n,i,s){return n.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(n){const i=n.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){const s=n.elements,a=i.elements,l=this.elements,c=s[0],u=s[3],d=s[6],h=s[1],f=s[4],p=s[7],m=s[2],g=s[5],_=s[8],A=a[0],b=a[3],y=a[6],w=a[1],v=a[4],C=a[7],M=a[2],E=a[5],S=a[8];return l[0]=c*A+u*w+d*M,l[3]=c*b+u*v+d*E,l[6]=c*y+u*C+d*S,l[1]=h*A+f*w+p*M,l[4]=h*b+f*v+p*E,l[7]=h*y+f*C+p*S,l[2]=m*A+g*w+_*M,l[5]=m*b+g*v+_*E,l[8]=m*y+g*C+_*S,this}multiplyScalar(n){const i=this.elements;return i[0]*=n,i[3]*=n,i[6]*=n,i[1]*=n,i[4]*=n,i[7]*=n,i[2]*=n,i[5]*=n,i[8]*=n,this}determinant(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5],d=n[6],h=n[7],f=n[8];return i*c*f-i*u*h-s*l*f+s*u*d+a*l*h-a*c*d}invert(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5],d=n[6],h=n[7],f=n[8],p=f*c-u*h,m=u*d-f*l,g=h*l-c*d,_=i*p+s*m+a*g;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const A=1/_;return n[0]=p*A,n[1]=(a*h-f*s)*A,n[2]=(u*s-a*c)*A,n[3]=m*A,n[4]=(f*i-a*d)*A,n[5]=(a*l-u*i)*A,n[6]=g*A,n[7]=(s*d-h*i)*A,n[8]=(c*i-s*l)*A,this}transpose(){let n;const i=this.elements;return n=i[1],i[1]=i[3],i[3]=n,n=i[2],i[2]=i[6],i[6]=n,n=i[5],i[5]=i[7],i[7]=n,this}getNormalMatrix(n){return this.setFromMatrix4(n).invert().transpose()}transposeIntoArray(n){const i=this.elements;return n[0]=i[0],n[1]=i[3],n[2]=i[6],n[3]=i[1],n[4]=i[4],n[5]=i[7],n[6]=i[2],n[7]=i[5],n[8]=i[8],this}setUvTransform(n,i,s,a,l,c,u){const d=Math.cos(l),h=Math.sin(l);return this.set(s*d,s*h,-s*(d*c+h*u)+c+n,-a*h,a*d,-a*(-h*c+d*u)+u+i,0,0,1),this}scale(n,i){const s=this.elements;return s[0]*=n,s[3]*=n,s[6]*=n,s[1]*=i,s[4]*=i,s[7]*=i,this}rotate(n){const i=Math.cos(n),s=Math.sin(n),a=this.elements,l=a[0],c=a[3],u=a[6],d=a[1],h=a[4],f=a[7];return a[0]=i*l+s*d,a[3]=i*c+s*h,a[6]=i*u+s*f,a[1]=-s*l+i*d,a[4]=-s*c+i*h,a[7]=-s*u+i*f,this}translate(n,i){const s=this.elements;return s[0]+=n*s[2],s[3]+=n*s[5],s[6]+=n*s[8],s[1]+=i*s[2],s[4]+=i*s[5],s[7]+=i*s[8],this}equals(n){const i=this.elements,s=n.elements;for(let a=0;a<9;a++)if(i[a]!==s[a])return!1;return!0}fromArray(n,i=0){for(let s=0;s<9;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){const s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n}clone(){return(new this.constructor).fromArray(this.elements)}}function jG(r){for(let n=r.length-1;n>=0;--n)if(r[n]>=65535)return!0;return!1}function x_(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function Od(r){return r<.04045?.0773993808*r:Math.pow(.9478672986*r+.0521327014,2.4)}function Iv(r){return r<.0031308?12.92*r:1.055*Math.pow(r,.41666)-.055}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const dI={[Kl]:{[Rd]:Od},[Rd]:{[Kl]:Iv}},ya={legacyMode:!0,get workingColorSpace(){return Rd},set workingColorSpace(r){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(r,n,i){if(this.legacyMode||n===i||!n||!i)return r;if(dI[n]&&void 0!==dI[n][i]){const s=dI[n][i];return r.r=s(r.r),r.g=s(r.g),r.b=s(r.b),r}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(r,n){return this.convert(r,this.workingColorSpace,n)},toWorkingColorSpace:function(r,n){return this.convert(r,n,this.workingColorSpace)}},qG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Tr={r:0,g:0,b:0},va={h:0,s:0,l:0},Tv={h:0,s:0,l:0};function hI(r,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?r+6*(n-r)*i:i<.5?n:i<2/3?r+6*(n-r)*(2/3-i):r}function kv(r,n){return n.r=r.r,n.g=r.g,n.b=r.b,n}let ip,Ne=(()=>{class r{constructor(i,s,a){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===s&&void 0===a?this.set(i):this.setRGB(i,s,a)}set(i){return i&&i.isColor?this.copy(i):"number"==typeof i?this.setHex(i):"string"==typeof i&&this.setStyle(i),this}setScalar(i){return this.r=i,this.g=i,this.b=i,this}setHex(i,s=Kl){return i=Math.floor(i),this.r=(i>>16&255)/255,this.g=(i>>8&255)/255,this.b=(255&i)/255,ya.toWorkingColorSpace(this,s),this}setRGB(i,s,a,l=Rd){return this.r=i,this.g=s,this.b=a,ya.toWorkingColorSpace(this,l),this}setHSL(i,s,a,l=Rd){if(i=cI(i,1),s=nr(s,0,1),a=nr(a,0,1),0===s)this.r=this.g=this.b=a;else{const c=a<=.5?a*(1+s):a+s-a*s,u=2*a-c;this.r=hI(u,c,i+1/3),this.g=hI(u,c,i),this.b=hI(u,c,i-1/3)}return ya.toWorkingColorSpace(this,l),this}setStyle(i,s=Kl){function a(c){void 0!==c&&parseFloat(c)<1&&console.warn("THREE.Color: Alpha component of "+i+" will be ignored.")}let l;if(l=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(i)){let c;const d=l[2];switch(l[1]){case"rgb":case"rgba":if(c=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(c[1],10))/255,this.g=Math.min(255,parseInt(c[2],10))/255,this.b=Math.min(255,parseInt(c[3],10))/255,ya.toWorkingColorSpace(this,s),a(c[4]),this;if(c=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(c[1],10))/100,this.g=Math.min(100,parseInt(c[2],10))/100,this.b=Math.min(100,parseInt(c[3],10))/100,ya.toWorkingColorSpace(this,s),a(c[4]),this;break;case"hsl":case"hsla":if(c=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d)){const h=parseFloat(c[1])/360,f=parseFloat(c[2])/100,p=parseFloat(c[3])/100;return a(c[4]),this.setHSL(h,f,p,s)}}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(i)){const c=l[1],u=c.length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,ya.toWorkingColorSpace(this,s),this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,ya.toWorkingColorSpace(this,s),this}return i&&i.length>0?this.setColorName(i,s):this}setColorName(i,s=Kl){const a=qG[i.toLowerCase()];return void 0!==a?this.setHex(a,s):console.warn("THREE.Color: Unknown color "+i),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(i){return this.r=i.r,this.g=i.g,this.b=i.b,this}copySRGBToLinear(i){return this.r=Od(i.r),this.g=Od(i.g),this.b=Od(i.b),this}copyLinearToSRGB(i){return this.r=Iv(i.r),this.g=Iv(i.g),this.b=Iv(i.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(i=Kl){return ya.fromWorkingColorSpace(kv(this,Tr),i),nr(255*Tr.r,0,255)<<16^nr(255*Tr.g,0,255)<<8^nr(255*Tr.b,0,255)<<0}getHexString(i=Kl){return("000000"+this.getHex(i).toString(16)).slice(-6)}getHSL(i,s=Rd){ya.fromWorkingColorSpace(kv(this,Tr),s);const a=Tr.r,l=Tr.g,c=Tr.b,u=Math.max(a,l,c),d=Math.min(a,l,c);let h,f;const p=(d+u)/2;if(d===u)h=0,f=0;else{const m=u-d;switch(f=p<=.5?m/(u+d):m/(2-u-d),u){case a:h=(l-c)/m+(l<c?6:0);break;case l:h=(c-a)/m+2;break;case c:h=(a-l)/m+4}h/=6}return i.h=h,i.s=f,i.l=p,i}getRGB(i,s=Rd){return ya.fromWorkingColorSpace(kv(this,Tr),s),i.r=Tr.r,i.g=Tr.g,i.b=Tr.b,i}getStyle(i=Kl){return ya.fromWorkingColorSpace(kv(this,Tr),i),i!==Kl?`color(${i} ${Tr.r} ${Tr.g} ${Tr.b})`:`rgb(${255*Tr.r|0},${255*Tr.g|0},${255*Tr.b|0})`}offsetHSL(i,s,a){return this.getHSL(va),va.h+=i,va.s+=s,va.l+=a,this.setHSL(va.h,va.s,va.l),this}add(i){return this.r+=i.r,this.g+=i.g,this.b+=i.b,this}addColors(i,s){return this.r=i.r+s.r,this.g=i.g+s.g,this.b=i.b+s.b,this}addScalar(i){return this.r+=i,this.g+=i,this.b+=i,this}sub(i){return this.r=Math.max(0,this.r-i.r),this.g=Math.max(0,this.g-i.g),this.b=Math.max(0,this.b-i.b),this}multiply(i){return this.r*=i.r,this.g*=i.g,this.b*=i.b,this}multiplyScalar(i){return this.r*=i,this.g*=i,this.b*=i,this}lerp(i,s){return this.r+=(i.r-this.r)*s,this.g+=(i.g-this.g)*s,this.b+=(i.b-this.b)*s,this}lerpColors(i,s,a){return this.r=i.r+(s.r-i.r)*a,this.g=i.g+(s.g-i.g)*a,this.b=i.b+(s.b-i.b)*a,this}lerpHSL(i,s){this.getHSL(va),i.getHSL(Tv);const a=C_(va.h,Tv.h,s),l=C_(va.s,Tv.s,s),c=C_(va.l,Tv.l,s);return this.setHSL(a,l,c),this}equals(i){return i.r===this.r&&i.g===this.g&&i.b===this.b}fromArray(i,s=0){return this.r=i[s],this.g=i[s+1],this.b=i[s+2],this}toArray(i=[],s=0){return i[s]=this.r,i[s+1]=this.g,i[s+2]=this.b,i}fromBufferAttribute(i,s){return this.r=i.getX(s),this.g=i.getY(s),this.b=i.getZ(s),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}return r.NAMES=qG,r})();class YG{static getDataURL(n){if(/^data:/i.test(n.src)||typeof HTMLCanvasElement>"u")return n.src;let i;if(n instanceof HTMLCanvasElement)i=n;else{void 0===ip&&(ip=x_("canvas")),ip.width=n.width,ip.height=n.height;const s=ip.getContext("2d");n instanceof ImageData?s.putImageData(n,0,0):s.drawImage(n,0,0,n.width,n.height),i=ip}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",n),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(n){if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap){const i=x_("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");s.drawImage(n,0,0,n.width,n.height);const a=s.getImageData(0,0,n.width,n.height),l=a.data;for(let c=0;c<l.length;c++)l[c]=255*Od(l[c]/255);return s.putImageData(a,0,0),i}if(n.data){const i=n.data.slice(0);for(let s=0;s<i.length;s++)i[s]=i instanceof Uint8Array||i instanceof Uint8ClampedArray?Math.floor(255*Od(i[s]/255)):Od(i[s]);return{data:i,width:n.width,height:n.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),n}}class Bd{constructor(n=null){this.isSource=!0,this.uuid=_o(),this.data=n,this.version=0}set needsUpdate(n){!0===n&&this.version++}toJSON(n){const i=void 0===n||"string"==typeof n;if(!i&&void 0!==n.images[this.uuid])return n.images[this.uuid];const s={uuid:this.uuid,url:""},a=this.data;if(null!==a){let l;if(Array.isArray(a)){l=[];for(let c=0,u=a.length;c<u;c++)l.push(fI(a[c].isDataTexture?a[c].image:a[c]))}else l=fI(a);s.url=l}return i||(n.images[this.uuid]=s),s}}function fI(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?YG.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let xxe=0,Xs=(()=>{class r extends Ho{constructor(i=r.DEFAULT_IMAGE,s=r.DEFAULT_MAPPING,a=ss,l=ss,c=si,u=sl,d=Ir,h=Ys,f=1,p=os){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:xxe++}),this.uuid=_o(),this.name="",this.source=new Bd(i),this.mipmaps=[],this.mapping=s,this.wrapS=a,this.wrapT=l,this.magFilter=c,this.minFilter=u,this.anisotropy=f,this.format=d,this.internalFormat=null,this.type=h,this.offset=new be(0,0),this.repeat=new be(1,1),this.center=new be(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ls,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(i){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.encoding=i.encoding,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const s=void 0===i||"string"==typeof i;if(!s&&void 0!==i.textures[this.uuid])return i.textures[this.uuid];const a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),s||(i.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(300!==this.mapping)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case rl:i.x=i.x-Math.floor(i.x);break;case ss:i.x=i.x<0?0:1;break;case 1002:i.x=1===Math.abs(Math.floor(i.x)%2)?Math.ceil(i.x)-i.x:i.x-Math.floor(i.x)}if(i.y<0||i.y>1)switch(this.wrapT){case rl:i.y=i.y-Math.floor(i.y);break;case ss:i.y=i.y<0?0:1;break;case 1002:i.y=1===Math.abs(Math.floor(i.y)%2)?Math.ceil(i.y)-i.y:i.y-Math.floor(i.y)}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){!0===i&&(this.version++,this.source.needsUpdate=!0)}}return r.DEFAULT_IMAGE=null,r.DEFAULT_MAPPING=300,r})();class qn{constructor(n=0,i=0,s=0,a=1){qn.prototype.isVector4=!0,this.x=n,this.y=i,this.z=s,this.w=a}get width(){return this.z}set width(n){this.z=n}get height(){return this.w}set height(n){this.w=n}set(n,i,s,a){return this.x=n,this.y=i,this.z=s,this.w=a,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this.w=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setW(n){return this.w=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=void 0!==n.w?n.w:1,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this.w=n.w+i.w,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this.w+=n.w*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this.w=n.w-i.w,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this.w*=n.w,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this}applyMatrix4(n){const i=this.x,s=this.y,a=this.z,l=this.w,c=n.elements;return this.x=c[0]*i+c[4]*s+c[8]*a+c[12]*l,this.y=c[1]*i+c[5]*s+c[9]*a+c[13]*l,this.z=c[2]*i+c[6]*s+c[10]*a+c[14]*l,this.w=c[3]*i+c[7]*s+c[11]*a+c[15]*l,this}divideScalar(n){return this.multiplyScalar(1/n)}setAxisAngleFromQuaternion(n){this.w=2*Math.acos(n.w);const i=Math.sqrt(1-n.w*n.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/i,this.y=n.y/i,this.z=n.z/i),this}setAxisAngleFromRotationMatrix(n){let i,s,a,l;const d=n.elements,h=d[0],f=d[4],p=d[8],m=d[1],g=d[5],_=d[9],A=d[2],b=d[6],y=d[10];if(Math.abs(f-m)<.01&&Math.abs(p-A)<.01&&Math.abs(_-b)<.01){if(Math.abs(f+m)<.1&&Math.abs(p+A)<.1&&Math.abs(_+b)<.1&&Math.abs(h+g+y-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const v=(h+1)/2,C=(g+1)/2,M=(y+1)/2,E=(f+m)/4,S=(p+A)/4,x=(_+b)/4;return v>C&&v>M?v<.01?(s=0,a=.707106781,l=.707106781):(s=Math.sqrt(v),a=E/s,l=S/s):C>M?C<.01?(s=.707106781,a=0,l=.707106781):(a=Math.sqrt(C),s=E/a,l=x/a):M<.01?(s=.707106781,a=.707106781,l=0):(l=Math.sqrt(M),s=S/l,a=x/l),this.set(s,a,l,i),this}let w=Math.sqrt((b-_)*(b-_)+(p-A)*(p-A)+(m-f)*(m-f));return Math.abs(w)<.001&&(w=1),this.x=(b-_)/w,this.y=(p-A)/w,this.z=(m-f)/w,this.w=Math.acos((h+g+y-1)/2),this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this.w=Math.max(n.w,Math.min(i.w,this.w)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this.w=Math.max(n,Math.min(i,this.w)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this.w+=(n.w-this.w)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this.w=n.w+(i.w-n.w)*s,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this.w=n[i+3],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n[i+3]=this.w,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this.w=n.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class wa extends Ho{constructor(n,i,s={}){super(),this.isWebGLRenderTarget=!0,this.width=n,this.height=i,this.depth=1,this.scissor=new qn(0,0,n,i),this.scissorTest=!1,this.viewport=new qn(0,0,n,i),this.texture=new Xs({width:n,height:i,depth:1},s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==s.generateMipmaps&&s.generateMipmaps,this.texture.internalFormat=void 0!==s.internalFormat?s.internalFormat:null,this.texture.minFilter=void 0!==s.minFilter?s.minFilter:si,this.depthBuffer=void 0===s.depthBuffer||s.depthBuffer,this.stencilBuffer=void 0!==s.stencilBuffer&&s.stencilBuffer,this.depthTexture=void 0!==s.depthTexture?s.depthTexture:null,this.samples=void 0!==s.samples?s.samples:0}setSize(n,i,s=1){(this.width!==n||this.height!==i||this.depth!==s)&&(this.width=n,this.height=i,this.depth=s,this.texture.image.width=n,this.texture.image.height=i,this.texture.image.depth=s,this.dispose()),this.viewport.set(0,0,n,i),this.scissor.set(0,0,n,i)}clone(){return(new this.constructor).copy(this)}copy(n){this.width=n.width,this.height=n.height,this.depth=n.depth,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.texture.isRenderTargetTexture=!0;const i=Object.assign({},n.texture.image);return this.texture.source=new Bd(i),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,null!==n.depthTexture&&(this.depthTexture=n.depthTexture.clone()),this.samples=n.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pI extends Xs{constructor(n=null,i=1,s=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:n,width:i,height:s,depth:a},this.magFilter=tr,this.minFilter=tr,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mI extends Xs{constructor(n=null,i=1,s=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:n,width:i,height:s,depth:a},this.magFilter=tr,this.minFilter=tr,this.wrapR=ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Ks{constructor(n=0,i=0,s=0,a=1){this.isQuaternion=!0,this._x=n,this._y=i,this._z=s,this._w=a}static slerpFlat(n,i,s,a,l,c,u){let d=s[a+0],h=s[a+1],f=s[a+2],p=s[a+3];const m=l[c+0],g=l[c+1],_=l[c+2],A=l[c+3];if(0===u)return n[i+0]=d,n[i+1]=h,n[i+2]=f,void(n[i+3]=p);if(1===u)return n[i+0]=m,n[i+1]=g,n[i+2]=_,void(n[i+3]=A);if(p!==A||d!==m||h!==g||f!==_){let b=1-u;const y=d*m+h*g+f*_+p*A,w=y>=0?1:-1,v=1-y*y;if(v>Number.EPSILON){const M=Math.sqrt(v),E=Math.atan2(M,y*w);b=Math.sin(b*E)/M,u=Math.sin(u*E)/M}const C=u*w;if(d=d*b+m*C,h=h*b+g*C,f=f*b+_*C,p=p*b+A*C,b===1-u){const M=1/Math.sqrt(d*d+h*h+f*f+p*p);d*=M,h*=M,f*=M,p*=M}}n[i]=d,n[i+1]=h,n[i+2]=f,n[i+3]=p}static multiplyQuaternionsFlat(n,i,s,a,l,c){const u=s[a],d=s[a+1],h=s[a+2],f=s[a+3],p=l[c],m=l[c+1],g=l[c+2],_=l[c+3];return n[i]=u*_+f*p+d*g-h*m,n[i+1]=d*_+f*m+h*p-u*g,n[i+2]=h*_+f*g+u*m-d*p,n[i+3]=f*_-u*p-d*m-h*g,n}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get w(){return this._w}set w(n){this._w=n,this._onChangeCallback()}set(n,i,s,a){return this._x=n,this._y=i,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this}setFromEuler(n,i){const s=n._x,a=n._y,l=n._z,c=n._order,u=Math.cos,d=Math.sin,h=u(s/2),f=u(a/2),p=u(l/2),m=d(s/2),g=d(a/2),_=d(l/2);switch(c){case"XYZ":this._x=m*f*p+h*g*_,this._y=h*g*p-m*f*_,this._z=h*f*_+m*g*p,this._w=h*f*p-m*g*_;break;case"YXZ":this._x=m*f*p+h*g*_,this._y=h*g*p-m*f*_,this._z=h*f*_-m*g*p,this._w=h*f*p+m*g*_;break;case"ZXY":this._x=m*f*p-h*g*_,this._y=h*g*p+m*f*_,this._z=h*f*_+m*g*p,this._w=h*f*p-m*g*_;break;case"ZYX":this._x=m*f*p-h*g*_,this._y=h*g*p+m*f*_,this._z=h*f*_-m*g*p,this._w=h*f*p+m*g*_;break;case"YZX":this._x=m*f*p+h*g*_,this._y=h*g*p+m*f*_,this._z=h*f*_-m*g*p,this._w=h*f*p-m*g*_;break;case"XZY":this._x=m*f*p-h*g*_,this._y=h*g*p-m*f*_,this._z=h*f*_+m*g*p,this._w=h*f*p+m*g*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return!1!==i&&this._onChangeCallback(),this}setFromAxisAngle(n,i){const s=i/2,a=Math.sin(s);return this._x=n.x*a,this._y=n.y*a,this._z=n.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(n){const i=n.elements,s=i[0],a=i[4],l=i[8],c=i[1],u=i[5],d=i[9],h=i[2],f=i[6],p=i[10],m=s+u+p;if(m>0){const g=.5/Math.sqrt(m+1);this._w=.25/g,this._x=(f-d)*g,this._y=(l-h)*g,this._z=(c-a)*g}else if(s>u&&s>p){const g=2*Math.sqrt(1+s-u-p);this._w=(f-d)/g,this._x=.25*g,this._y=(a+c)/g,this._z=(l+h)/g}else if(u>p){const g=2*Math.sqrt(1+u-s-p);this._w=(l-h)/g,this._x=(a+c)/g,this._y=.25*g,this._z=(d+f)/g}else{const g=2*Math.sqrt(1+p-s-u);this._w=(c-a)/g,this._x=(l+h)/g,this._y=(d+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(n,i){let s=n.dot(i)+1;return s<Number.EPSILON?(s=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0,this._w=s):(this._x=0,this._y=-n.z,this._z=n.y,this._w=s)):(this._x=n.y*i.z-n.z*i.y,this._y=n.z*i.x-n.x*i.z,this._z=n.x*i.y-n.y*i.x,this._w=s),this.normalize()}angleTo(n){return 2*Math.acos(Math.abs(nr(this.dot(n),-1,1)))}rotateTowards(n,i){const s=this.angleTo(n);if(0===s)return this;const a=Math.min(1,i/s);return this.slerp(n,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let n=this.length();return 0===n?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this}multiply(n){return this.multiplyQuaternions(this,n)}premultiply(n){return this.multiplyQuaternions(n,this)}multiplyQuaternions(n,i){const s=n._x,a=n._y,l=n._z,c=n._w,u=i._x,d=i._y,h=i._z,f=i._w;return this._x=s*f+c*u+a*h-l*d,this._y=a*f+c*d+l*u-s*h,this._z=l*f+c*h+s*d-a*u,this._w=c*f-s*u-a*d-l*h,this._onChangeCallback(),this}slerp(n,i){if(0===i)return this;if(1===i)return this.copy(n);const s=this._x,a=this._y,l=this._z,c=this._w;let u=c*n._w+s*n._x+a*n._y+l*n._z;if(u<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,u=-u):this.copy(n),u>=1)return this._w=c,this._x=s,this._y=a,this._z=l,this;const d=1-u*u;if(d<=Number.EPSILON){const g=1-i;return this._w=g*c+i*this._w,this._x=g*s+i*this._x,this._y=g*a+i*this._y,this._z=g*l+i*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(d),f=Math.atan2(h,u),p=Math.sin((1-i)*f)/h,m=Math.sin(i*f)/h;return this._w=c*p+this._w*m,this._x=s*p+this._x*m,this._y=a*p+this._y*m,this._z=l*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(n,i,s){return this.copy(n).slerp(i,s)}random(){const n=Math.random(),i=Math.sqrt(1-n),s=Math.sqrt(n),a=2*Math.PI*Math.random(),l=2*Math.PI*Math.random();return this.set(i*Math.cos(a),s*Math.sin(l),s*Math.cos(l),i*Math.sin(a))}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w}fromArray(n,i=0){return this._x=n[i],this._y=n[i+1],this._z=n[i+2],this._w=n[i+3],this._onChangeCallback(),this}toArray(n=[],i=0){return n[i]=this._x,n[i+1]=this._y,n[i+2]=this._z,n[i+3]=this._w,n}fromBufferAttribute(n,i){return this._x=n.getX(i),this._y=n.getY(i),this._z=n.getZ(i),this._w=n.getW(i),this}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class L{constructor(n=0,i=0,s=0){L.prototype.isVector3=!0,this.x=n,this.y=i,this.z=s}set(n,i,s){return void 0===s&&(s=this.z),this.x=n,this.y=i,this.z=s,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this}multiplyVectors(n,i){return this.x=n.x*i.x,this.y=n.y*i.y,this.z=n.z*i.z,this}applyEuler(n){return this.applyQuaternion(XG.setFromEuler(n))}applyAxisAngle(n,i){return this.applyQuaternion(XG.setFromAxisAngle(n,i))}applyMatrix3(n){const i=this.x,s=this.y,a=this.z,l=n.elements;return this.x=l[0]*i+l[3]*s+l[6]*a,this.y=l[1]*i+l[4]*s+l[7]*a,this.z=l[2]*i+l[5]*s+l[8]*a,this}applyNormalMatrix(n){return this.applyMatrix3(n).normalize()}applyMatrix4(n){const i=this.x,s=this.y,a=this.z,l=n.elements,c=1/(l[3]*i+l[7]*s+l[11]*a+l[15]);return this.x=(l[0]*i+l[4]*s+l[8]*a+l[12])*c,this.y=(l[1]*i+l[5]*s+l[9]*a+l[13])*c,this.z=(l[2]*i+l[6]*s+l[10]*a+l[14])*c,this}applyQuaternion(n){const i=this.x,s=this.y,a=this.z,l=n.x,c=n.y,u=n.z,d=n.w,h=d*i+c*a-u*s,f=d*s+u*i-l*a,p=d*a+l*s-c*i,m=-l*i-c*s-u*a;return this.x=h*d+m*-l+f*-u-p*-c,this.y=f*d+m*-c+p*-l-h*-u,this.z=p*d+m*-u+h*-c-f*-l,this}project(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)}unproject(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)}transformDirection(n){const i=this.x,s=this.y,a=this.z,l=n.elements;return this.x=l[0]*i+l[4]*s+l[8]*a,this.y=l[1]*i+l[5]*s+l[9]*a,this.z=l[2]*i+l[6]*s+l[10]*a,this.normalize()}divide(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this}divideScalar(n){return this.multiplyScalar(1/n)}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this}cross(n){return this.crossVectors(this,n)}crossVectors(n,i){const s=n.x,a=n.y,l=n.z,c=i.x,u=i.y,d=i.z;return this.x=a*d-l*u,this.y=l*c-s*d,this.z=s*u-a*c,this}projectOnVector(n){const i=n.lengthSq();if(0===i)return this.set(0,0,0);const s=n.dot(this)/i;return this.copy(n).multiplyScalar(s)}projectOnPlane(n){return gI.copy(this).projectOnVector(n),this.sub(gI)}reflect(n){return this.sub(gI.copy(n).multiplyScalar(2*this.dot(n)))}angleTo(n){const i=Math.sqrt(this.lengthSq()*n.lengthSq());if(0===i)return Math.PI/2;const s=this.dot(n)/i;return Math.acos(nr(s,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,s=this.y-n.y,a=this.z-n.z;return i*i+s*s+a*a}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)}setFromSpherical(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)}setFromSphericalCoords(n,i,s){const a=Math.sin(i)*n;return this.x=a*Math.sin(s),this.y=Math.cos(i)*n,this.z=a*Math.cos(s),this}setFromCylindrical(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)}setFromCylindricalCoords(n,i,s){return this.x=n*Math.sin(i),this.y=s,this.z=n*Math.cos(i),this}setFromMatrixPosition(n){const i=n.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(n){const i=this.setFromMatrixColumn(n,0).length(),s=this.setFromMatrixColumn(n,1).length(),a=this.setFromMatrixColumn(n,2).length();return this.x=i,this.y=s,this.z=a,this}setFromMatrixColumn(n,i){return this.fromArray(n.elements,4*i)}setFromMatrix3Column(n,i){return this.fromArray(n.elements,3*i)}setFromEuler(n){return this.x=n._x,this.y=n._y,this.z=n._z,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const n=2*(Math.random()-.5),i=Math.random()*Math.PI*2,s=Math.sqrt(1-n**2);return this.x=s*Math.cos(i),this.y=s*Math.sin(i),this.z=n,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const gI=new L,XG=new Ks;class bo{constructor(n=new L(1/0,1/0,1/0),i=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=n,this.max=i}set(n,i){return this.min.copy(n),this.max.copy(i),this}setFromArray(n){let i=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=0,h=n.length;d<h;d+=3){const f=n[d],p=n[d+1],m=n[d+2];f<i&&(i=f),p<s&&(s=p),m<a&&(a=m),f>l&&(l=f),p>c&&(c=p),m>u&&(u=m)}return this.min.set(i,s,a),this.max.set(l,c,u),this}setFromBufferAttribute(n){let i=1/0,s=1/0,a=1/0,l=-1/0,c=-1/0,u=-1/0;for(let d=0,h=n.count;d<h;d++){const f=n.getX(d),p=n.getY(d),m=n.getZ(d);f<i&&(i=f),p<s&&(s=p),m<a&&(a=m),f>l&&(l=f),p>c&&(c=p),m>u&&(u=m)}return this.min.set(i,s,a),this.max.set(l,c,u),this}setFromPoints(n){this.makeEmpty();for(let i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this}setFromCenterAndSize(n,i){const s=Ld.copy(i).multiplyScalar(.5);return this.min.copy(n).sub(s),this.max.copy(n).add(s),this}setFromObject(n,i=!1){return this.makeEmpty(),this.expandByObject(n,i)}clone(){return(new this.constructor).copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(n){return this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}expandByObject(n,i=!1){n.updateWorldMatrix(!1,!1);const s=n.geometry;if(void 0!==s)if(i&&null!=s.attributes&&void 0!==s.attributes.position){const l=s.attributes.position;for(let c=0,u=l.count;c<u;c++)Ld.fromBufferAttribute(l,c).applyMatrix4(n.matrixWorld),this.expandByPoint(Ld)}else null===s.boundingBox&&s.computeBoundingBox(),_I.copy(s.boundingBox),_I.applyMatrix4(n.matrixWorld),this.union(_I);const a=n.children;for(let l=0,c=a.length;l<c;l++)this.expandByObject(a[l],i);return this}containsPoint(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z}getParameter(n,i){return i.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)}intersectsSphere(n){return this.clampPoint(n.center,Ld),Ld.distanceToSquared(n.center)<=n.radius*n.radius}intersectsPlane(n){let i,s;return n.normal.x>0?(i=n.normal.x*this.min.x,s=n.normal.x*this.max.x):(i=n.normal.x*this.max.x,s=n.normal.x*this.min.x),n.normal.y>0?(i+=n.normal.y*this.min.y,s+=n.normal.y*this.max.y):(i+=n.normal.y*this.max.y,s+=n.normal.y*this.min.y),n.normal.z>0?(i+=n.normal.z*this.min.z,s+=n.normal.z*this.max.z):(i+=n.normal.z*this.max.z,s+=n.normal.z*this.min.z),i<=-n.constant&&s>=-n.constant}intersectsTriangle(n){if(this.isEmpty())return!1;this.getCenter(M_),Rv.subVectors(this.max,M_),rp.subVectors(n.a,M_),sp.subVectors(n.b,M_),op.subVectors(n.c,M_),uu.subVectors(sp,rp),du.subVectors(op,sp),Fd.subVectors(rp,op);let i=[0,-uu.z,uu.y,0,-du.z,du.y,0,-Fd.z,Fd.y,uu.z,0,-uu.x,du.z,0,-du.x,Fd.z,0,-Fd.x,-uu.y,uu.x,0,-du.y,du.x,0,-Fd.y,Fd.x,0];return!(!bI(i,rp,sp,op,Rv)||(i=[1,0,0,0,1,0,0,0,1],!bI(i,rp,sp,op,Rv)))&&(Pv.crossVectors(uu,du),i=[Pv.x,Pv.y,Pv.z],bI(i,rp,sp,op,Rv))}clampPoint(n,i){return i.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return Ld.copy(n).clamp(this.min,this.max).sub(n).length()}getBoundingSphere(n){return this.getCenter(n.center),n.radius=.5*this.getSize(Ld).length(),n}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}applyMatrix4(n){return this.isEmpty()||(Jl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),Jl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),Jl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),Jl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),Jl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),Jl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),Jl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),Jl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(Jl)),this}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const Jl=[new L,new L,new L,new L,new L,new L,new L,new L],Ld=new L,_I=new bo,rp=new L,sp=new L,op=new L,uu=new L,du=new L,Fd=new L,M_=new L,Rv=new L,Pv=new L,Nd=new L;function bI(r,n,i,s,a){for(let l=0,c=r.length-3;l<=c;l+=3){Nd.fromArray(r,l);const u=a.x*Math.abs(Nd.x)+a.y*Math.abs(Nd.y)+a.z*Math.abs(Nd.z),d=n.dot(Nd),h=i.dot(Nd),f=s.dot(Nd);if(Math.max(-Math.max(d,h,f),Math.min(d,h,f))>u)return!1}return!0}const Mxe=new bo,KG=new L,Ov=new L,AI=new L;class ec{constructor(n=new L,i=-1){this.center=n,this.radius=i}set(n,i){return this.center.copy(n),this.radius=i,this}setFromPoints(n,i){const s=this.center;void 0!==i?s.copy(i):Mxe.setFromPoints(n).getCenter(s);let a=0;for(let l=0,c=n.length;l<c;l++)a=Math.max(a,s.distanceToSquared(n[l]));return this.radius=Math.sqrt(a),this}copy(n){return this.center.copy(n.center),this.radius=n.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(n){return n.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(n){return n.distanceTo(this.center)-this.radius}intersectsSphere(n){const i=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=i*i}intersectsBox(n){return n.intersectsSphere(this)}intersectsPlane(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius}clampPoint(n,i){const s=this.center.distanceToSquared(n);return i.copy(n),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(n){return this.isEmpty()?(n.makeEmpty(),n):(n.set(this.center,this.center),n.expandByScalar(this.radius),n)}applyMatrix4(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this}translate(n){return this.center.add(n),this}expandByPoint(n){AI.subVectors(n,this.center);const i=AI.lengthSq();if(i>this.radius*this.radius){const s=Math.sqrt(i),a=.5*(s-this.radius);this.center.add(AI.multiplyScalar(a/s)),this.radius+=a}return this}union(n){return!0===this.center.equals(n.center)?Ov.set(0,0,1).multiplyScalar(n.radius):Ov.subVectors(n.center,this.center).normalize().multiplyScalar(n.radius),this.expandByPoint(KG.copy(n.center).add(Ov)),this.expandByPoint(KG.copy(n.center).sub(Ov)),this}equals(n){return n.center.equals(this.center)&&n.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const tc=new L,yI=new L,Bv=new L,hu=new L,vI=new L,Lv=new L,wI=new L;class Fv{constructor(n=new L,i=new L(0,0,-1)){this.origin=n,this.direction=i}set(n,i){return this.origin.copy(n),this.direction.copy(i),this}copy(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this}at(n,i){return i.copy(this.direction).multiplyScalar(n).add(this.origin)}lookAt(n){return this.direction.copy(n).sub(this.origin).normalize(),this}recast(n){return this.origin.copy(this.at(n,tc)),this}closestPointToPoint(n,i){i.subVectors(n,this.origin);const s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(s).add(this.origin)}distanceToPoint(n){return Math.sqrt(this.distanceSqToPoint(n))}distanceSqToPoint(n){const i=tc.subVectors(n,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(n):(tc.copy(this.direction).multiplyScalar(i).add(this.origin),tc.distanceToSquared(n))}distanceSqToSegment(n,i,s,a){yI.copy(n).add(i).multiplyScalar(.5),Bv.copy(i).sub(n).normalize(),hu.copy(this.origin).sub(yI);const l=.5*n.distanceTo(i),c=-this.direction.dot(Bv),u=hu.dot(this.direction),d=-hu.dot(Bv),h=hu.lengthSq(),f=Math.abs(1-c*c);let p,m,g,_;if(f>0)if(p=c*d-u,m=c*u-d,_=l*f,p>=0)if(m>=-_)if(m<=_){const A=1/f;p*=A,m*=A,g=p*(p+c*m+2*u)+m*(c*p+m+2*d)+h}else m=l,p=Math.max(0,-(c*m+u)),g=-p*p+m*(m+2*d)+h;else m=-l,p=Math.max(0,-(c*m+u)),g=-p*p+m*(m+2*d)+h;else m<=-_?(p=Math.max(0,-(-c*l+u)),m=p>0?-l:Math.min(Math.max(-l,-d),l),g=-p*p+m*(m+2*d)+h):m<=_?(p=0,m=Math.min(Math.max(-l,-d),l),g=m*(m+2*d)+h):(p=Math.max(0,-(c*l+u)),m=p>0?l:Math.min(Math.max(-l,-d),l),g=-p*p+m*(m+2*d)+h);else m=c>0?-l:l,p=Math.max(0,-(c*m+u)),g=-p*p+m*(m+2*d)+h;return s&&s.copy(this.direction).multiplyScalar(p).add(this.origin),a&&a.copy(Bv).multiplyScalar(m).add(yI),g}intersectSphere(n,i){tc.subVectors(n.center,this.origin);const s=tc.dot(this.direction),a=tc.dot(tc)-s*s,l=n.radius*n.radius;if(a>l)return null;const c=Math.sqrt(l-a),u=s-c,d=s+c;return u<0&&d<0?null:this.at(u<0?d:u,i)}intersectsSphere(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius}distanceToPlane(n){const i=n.normal.dot(this.direction);if(0===i)return 0===n.distanceToPoint(this.origin)?0:null;const s=-(this.origin.dot(n.normal)+n.constant)/i;return s>=0?s:null}intersectPlane(n,i){const s=this.distanceToPlane(n);return null===s?null:this.at(s,i)}intersectsPlane(n){const i=n.distanceToPoint(this.origin);return 0===i||n.normal.dot(this.direction)*i<0}intersectBox(n,i){let s,a,l,c,u,d;const h=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,m=this.origin;return h>=0?(s=(n.min.x-m.x)*h,a=(n.max.x-m.x)*h):(s=(n.max.x-m.x)*h,a=(n.min.x-m.x)*h),f>=0?(l=(n.min.y-m.y)*f,c=(n.max.y-m.y)*f):(l=(n.max.y-m.y)*f,c=(n.min.y-m.y)*f),s>c||l>a||((l>s||s!=s)&&(s=l),(c<a||a!=a)&&(a=c),p>=0?(u=(n.min.z-m.z)*p,d=(n.max.z-m.z)*p):(u=(n.max.z-m.z)*p,d=(n.min.z-m.z)*p),s>d||u>a)||((u>s||s!=s)&&(s=u),(d<a||a!=a)&&(a=d),a<0)?null:this.at(s>=0?s:a,i)}intersectsBox(n){return null!==this.intersectBox(n,tc)}intersectTriangle(n,i,s,a,l){vI.subVectors(i,n),Lv.subVectors(s,n),wI.crossVectors(vI,Lv);let u,c=this.direction.dot(wI);if(c>0){if(a)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}hu.subVectors(this.origin,n);const d=u*this.direction.dot(Lv.crossVectors(hu,Lv));if(d<0)return null;const h=u*this.direction.dot(vI.cross(hu));if(h<0||d+h>c)return null;const f=-u*hu.dot(wI);return f<0?null:this.at(f/c,l)}applyMatrix4(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this}equals(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Pt{constructor(){Pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(n,i,s,a,l,c,u,d,h,f,p,m,g,_,A,b){const y=this.elements;return y[0]=n,y[4]=i,y[8]=s,y[12]=a,y[1]=l,y[5]=c,y[9]=u,y[13]=d,y[2]=h,y[6]=f,y[10]=p,y[14]=m,y[3]=g,y[7]=_,y[11]=A,y[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Pt).fromArray(this.elements)}copy(n){const i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(n){const i=this.elements,s=n.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}setFromMatrix3(n){const i=n.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(n,i,s){return n.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(n,i,s){return this.set(n.x,i.x,s.x,0,n.y,i.y,s.y,0,n.z,i.z,s.z,0,0,0,0,1),this}extractRotation(n){const i=this.elements,s=n.elements,a=1/ap.setFromMatrixColumn(n,0).length(),l=1/ap.setFromMatrixColumn(n,1).length(),c=1/ap.setFromMatrixColumn(n,2).length();return i[0]=s[0]*a,i[1]=s[1]*a,i[2]=s[2]*a,i[3]=0,i[4]=s[4]*l,i[5]=s[5]*l,i[6]=s[6]*l,i[7]=0,i[8]=s[8]*c,i[9]=s[9]*c,i[10]=s[10]*c,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(n){const i=this.elements,s=n.x,a=n.y,l=n.z,c=Math.cos(s),u=Math.sin(s),d=Math.cos(a),h=Math.sin(a),f=Math.cos(l),p=Math.sin(l);if("XYZ"===n.order){const m=c*f,g=c*p,_=u*f,A=u*p;i[0]=d*f,i[4]=-d*p,i[8]=h,i[1]=g+_*h,i[5]=m-A*h,i[9]=-u*d,i[2]=A-m*h,i[6]=_+g*h,i[10]=c*d}else if("YXZ"===n.order){const m=d*f,g=d*p,_=h*f,A=h*p;i[0]=m+A*u,i[4]=_*u-g,i[8]=c*h,i[1]=c*p,i[5]=c*f,i[9]=-u,i[2]=g*u-_,i[6]=A+m*u,i[10]=c*d}else if("ZXY"===n.order){const m=d*f,g=d*p,_=h*f,A=h*p;i[0]=m-A*u,i[4]=-c*p,i[8]=_+g*u,i[1]=g+_*u,i[5]=c*f,i[9]=A-m*u,i[2]=-c*h,i[6]=u,i[10]=c*d}else if("ZYX"===n.order){const m=c*f,g=c*p,_=u*f,A=u*p;i[0]=d*f,i[4]=_*h-g,i[8]=m*h+A,i[1]=d*p,i[5]=A*h+m,i[9]=g*h-_,i[2]=-h,i[6]=u*d,i[10]=c*d}else if("YZX"===n.order){const m=c*d,g=c*h,_=u*d,A=u*h;i[0]=d*f,i[4]=A-m*p,i[8]=_*p+g,i[1]=p,i[5]=c*f,i[9]=-u*f,i[2]=-h*f,i[6]=g*p+_,i[10]=m-A*p}else if("XZY"===n.order){const m=c*d,g=c*h,_=u*d,A=u*h;i[0]=d*f,i[4]=-p,i[8]=h*f,i[1]=m*p+A,i[5]=c*f,i[9]=g*p-_,i[2]=_*p-g,i[6]=u*f,i[10]=A*p+m}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(n){return this.compose(Exe,n,Sxe)}lookAt(n,i,s){const a=this.elements;return Ao.subVectors(n,i),0===Ao.lengthSq()&&(Ao.z=1),Ao.normalize(),fu.crossVectors(s,Ao),0===fu.lengthSq()&&(1===Math.abs(s.z)?Ao.x+=1e-4:Ao.z+=1e-4,Ao.normalize(),fu.crossVectors(s,Ao)),fu.normalize(),Nv.crossVectors(Ao,fu),a[0]=fu.x,a[4]=Nv.x,a[8]=Ao.x,a[1]=fu.y,a[5]=Nv.y,a[9]=Ao.y,a[2]=fu.z,a[6]=Nv.z,a[10]=Ao.z,this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){const s=n.elements,a=i.elements,l=this.elements,c=s[0],u=s[4],d=s[8],h=s[12],f=s[1],p=s[5],m=s[9],g=s[13],_=s[2],A=s[6],b=s[10],y=s[14],w=s[3],v=s[7],C=s[11],M=s[15],E=a[0],S=a[4],x=a[8],D=a[12],T=a[1],k=a[5],R=a[9],F=a[13],O=a[2],j=a[6],G=a[10],P=a[14],z=a[3],V=a[7],Y=a[11],oe=a[15];return l[0]=c*E+u*T+d*O+h*z,l[4]=c*S+u*k+d*j+h*V,l[8]=c*x+u*R+d*G+h*Y,l[12]=c*D+u*F+d*P+h*oe,l[1]=f*E+p*T+m*O+g*z,l[5]=f*S+p*k+m*j+g*V,l[9]=f*x+p*R+m*G+g*Y,l[13]=f*D+p*F+m*P+g*oe,l[2]=_*E+A*T+b*O+y*z,l[6]=_*S+A*k+b*j+y*V,l[10]=_*x+A*R+b*G+y*Y,l[14]=_*D+A*F+b*P+y*oe,l[3]=w*E+v*T+C*O+M*z,l[7]=w*S+v*k+C*j+M*V,l[11]=w*x+v*R+C*G+M*Y,l[15]=w*D+v*F+C*P+M*oe,this}multiplyScalar(n){const i=this.elements;return i[0]*=n,i[4]*=n,i[8]*=n,i[12]*=n,i[1]*=n,i[5]*=n,i[9]*=n,i[13]*=n,i[2]*=n,i[6]*=n,i[10]*=n,i[14]*=n,i[3]*=n,i[7]*=n,i[11]*=n,i[15]*=n,this}determinant(){const n=this.elements,i=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],g=n[14];return n[3]*(+l*d*p-a*h*p-l*u*m+s*h*m+a*u*g-s*d*g)+n[7]*(+i*d*g-i*h*m+l*c*m-a*c*g+a*h*f-l*d*f)+n[11]*(+i*h*p-i*u*g-l*c*p+s*c*g+l*u*f-s*h*f)+n[15]*(-a*u*f-i*d*p+i*u*m+a*c*p-s*c*m+s*d*f)}transpose(){const n=this.elements;let i;return i=n[1],n[1]=n[4],n[4]=i,i=n[2],n[2]=n[8],n[8]=i,i=n[6],n[6]=n[9],n[9]=i,i=n[3],n[3]=n[12],n[12]=i,i=n[7],n[7]=n[13],n[13]=i,i=n[11],n[11]=n[14],n[14]=i,this}setPosition(n,i,s){const a=this.elements;return n.isVector3?(a[12]=n.x,a[13]=n.y,a[14]=n.z):(a[12]=n,a[13]=i,a[14]=s),this}invert(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],u=n[5],d=n[6],h=n[7],f=n[8],p=n[9],m=n[10],g=n[11],_=n[12],A=n[13],b=n[14],y=n[15],w=p*b*h-A*m*h+A*d*g-u*b*g-p*d*y+u*m*y,v=_*m*h-f*b*h-_*d*g+c*b*g+f*d*y-c*m*y,C=f*A*h-_*p*h+_*u*g-c*A*g-f*u*y+c*p*y,M=_*p*d-f*A*d-_*u*m+c*A*m+f*u*b-c*p*b,E=i*w+s*v+a*C+l*M;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/E;return n[0]=w*S,n[1]=(A*m*l-p*b*l-A*a*g+s*b*g+p*a*y-s*m*y)*S,n[2]=(u*b*l-A*d*l+A*a*h-s*b*h-u*a*y+s*d*y)*S,n[3]=(p*d*l-u*m*l-p*a*h+s*m*h+u*a*g-s*d*g)*S,n[4]=v*S,n[5]=(f*b*l-_*m*l+_*a*g-i*b*g-f*a*y+i*m*y)*S,n[6]=(_*d*l-c*b*l-_*a*h+i*b*h+c*a*y-i*d*y)*S,n[7]=(c*m*l-f*d*l+f*a*h-i*m*h-c*a*g+i*d*g)*S,n[8]=C*S,n[9]=(_*p*l-f*A*l-_*s*g+i*A*g+f*s*y-i*p*y)*S,n[10]=(c*A*l-_*u*l+_*s*h-i*A*h-c*s*y+i*u*y)*S,n[11]=(f*u*l-c*p*l-f*s*h+i*p*h+c*s*g-i*u*g)*S,n[12]=M*S,n[13]=(f*A*a-_*p*a+_*s*m-i*A*m-f*s*b+i*p*b)*S,n[14]=(_*u*a-c*A*a-_*s*d+i*A*d+c*s*b-i*u*b)*S,n[15]=(c*p*a-f*u*a+f*s*d-i*p*d-c*s*m+i*u*m)*S,this}scale(n){const i=this.elements,s=n.x,a=n.y,l=n.z;return i[0]*=s,i[4]*=a,i[8]*=l,i[1]*=s,i[5]*=a,i[9]*=l,i[2]*=s,i[6]*=a,i[10]*=l,i[3]*=s,i[7]*=a,i[11]*=l,this}getMaxScaleOnAxis(){const n=this.elements;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n[8]*n[8]+n[9]*n[9]+n[10]*n[10]))}makeTranslation(n,i,s){return this.set(1,0,0,n,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(n){const i=Math.cos(n),s=Math.sin(n);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(n){const i=Math.cos(n),s=Math.sin(n);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(n){const i=Math.cos(n),s=Math.sin(n);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(n,i){const s=Math.cos(i),a=Math.sin(i),l=1-s,c=n.x,u=n.y,d=n.z,h=l*c,f=l*u;return this.set(h*c+s,h*u-a*d,h*d+a*u,0,h*u+a*d,f*u+s,f*d-a*c,0,h*d-a*u,f*d+a*c,l*d*d+s,0,0,0,0,1),this}makeScale(n,i,s){return this.set(n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(n,i,s,a,l,c){return this.set(1,s,l,0,n,1,c,0,i,a,1,0,0,0,0,1),this}compose(n,i,s){const a=this.elements,l=i._x,c=i._y,u=i._z,d=i._w,h=l+l,f=c+c,p=u+u,m=l*h,g=l*f,_=l*p,A=c*f,b=c*p,y=u*p,w=d*h,v=d*f,C=d*p,M=s.x,E=s.y,S=s.z;return a[0]=(1-(A+y))*M,a[1]=(g+C)*M,a[2]=(_-v)*M,a[3]=0,a[4]=(g-C)*E,a[5]=(1-(m+y))*E,a[6]=(b+w)*E,a[7]=0,a[8]=(_+v)*S,a[9]=(b-w)*S,a[10]=(1-(m+A))*S,a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,this}decompose(n,i,s){const a=this.elements;let l=ap.set(a[0],a[1],a[2]).length();const c=ap.set(a[4],a[5],a[6]).length(),u=ap.set(a[8],a[9],a[10]).length();this.determinant()<0&&(l=-l),n.x=a[12],n.y=a[13],n.z=a[14],Ca.copy(this);const h=1/l,f=1/c,p=1/u;return Ca.elements[0]*=h,Ca.elements[1]*=h,Ca.elements[2]*=h,Ca.elements[4]*=f,Ca.elements[5]*=f,Ca.elements[6]*=f,Ca.elements[8]*=p,Ca.elements[9]*=p,Ca.elements[10]*=p,i.setFromRotationMatrix(Ca),s.x=l,s.y=c,s.z=u,this}makePerspective(n,i,s,a,l,c){const u=this.elements,h=2*l/(s-a),f=(i+n)/(i-n),p=(s+a)/(s-a),m=-(c+l)/(c-l),g=-2*c*l/(c-l);return u[0]=2*l/(i-n),u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=p,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(n,i,s,a,l,c){const u=this.elements,d=1/(i-n),h=1/(s-a),f=1/(c-l),p=(i+n)*d,m=(s+a)*h,g=(c+l)*f;return u[0]=2*d,u[4]=0,u[8]=0,u[12]=-p,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-m,u[2]=0,u[6]=0,u[10]=-2*f,u[14]=-g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(n){const i=this.elements,s=n.elements;for(let a=0;a<16;a++)if(i[a]!==s[a])return!1;return!0}fromArray(n,i=0){for(let s=0;s<16;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){const s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n[i+9]=s[9],n[i+10]=s[10],n[i+11]=s[11],n[i+12]=s[12],n[i+13]=s[13],n[i+14]=s[14],n[i+15]=s[15],n}}const ap=new L,Ca=new Pt,Exe=new L(0,0,0),Sxe=new L(1,1,1),fu=new L,Nv=new L,Ao=new L,ZG=new Pt,JG=new Ks;let CI=(()=>{class r{constructor(i=0,s=0,a=0,l=r.DefaultOrder){this.isEuler=!0,this._x=i,this._y=s,this._z=a,this._order=l}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,s,a,l=this._order){return this._x=i,this._y=s,this._z=a,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,s=this._order,a=!0){const l=i.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],m=l[2],g=l[6],_=l[10];switch(s){case"XYZ":this._y=Math.asin(nr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-u,c)):(this._x=Math.atan2(g,f),this._z=0);break;case"YXZ":this._x=Math.asin(-nr(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(d,_),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-m,c),this._z=0);break;case"ZXY":this._x=Math.asin(nr(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,_),this._z=Math.atan2(-u,f)):(this._y=0,this._z=Math.atan2(h,c));break;case"ZYX":this._y=Math.asin(-nr(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,_),this._z=Math.atan2(h,c)):(this._x=0,this._z=Math.atan2(-u,f));break;case"YZX":this._z=Math.asin(nr(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-m,c)):(this._x=0,this._y=Math.atan2(d,_));break;case"XZY":this._z=Math.asin(-nr(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(g,f),this._y=Math.atan2(d,c)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,!0===a&&this._onChangeCallback(),this}setFromQuaternion(i,s,a){return ZG.makeRotationFromQuaternion(i),this.setFromRotationMatrix(ZG,s,a)}setFromVector3(i,s=this._order){return this.set(i.x,i.y,i.z,s)}reorder(i){return JG.setFromEuler(this),this.setFromQuaternion(JG,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],void 0!==i[3]&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],s=0){return i[s]=this._x,i[s+1]=this._y,i[s+2]=this._z,i[s+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}return r.DefaultOrder="XYZ",r.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],r})();class xI{constructor(){this.mask=1}set(n){this.mask=(1<<n|0)>>>0}enable(n){this.mask|=1<<n|0}enableAll(){this.mask=-1}toggle(n){this.mask^=1<<n|0}disable(n){this.mask&=~(1<<n|0)}disableAll(){this.mask=0}test(n){return 0!=(this.mask&n.mask)}isEnabled(n){return 0!=(this.mask&(1<<n|0))}}let Dxe=0;const eQ=new L,lp=new Ks,nc=new Pt,Uv=new L,E_=new L,Ixe=new L,Txe=new Ks,tQ=new L(1,0,0),nQ=new L(0,1,0),iQ=new L(0,0,1),kxe={type:"added"},rQ={type:"removed"};let pr=(()=>{class r extends Ho{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Dxe++}),this.uuid=_o(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=r.DefaultUp.clone();const i=new L,s=new CI,a=new Ks,l=new L(1,1,1);s._onChange(function c(){a.setFromEuler(s,!1)}),a._onChange(function u(){s.setFromQuaternion(a,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new Pt},normalMatrix:{value:new ls}}),this.matrix=new Pt,this.matrixWorld=new Pt,this.matrixAutoUpdate=r.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=r.DefaultMatrixWorldAutoUpdate,this.layers=new xI,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,s){this.quaternion.setFromAxisAngle(i,s)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,s){return lp.setFromAxisAngle(i,s),this.quaternion.multiply(lp),this}rotateOnWorldAxis(i,s){return lp.setFromAxisAngle(i,s),this.quaternion.premultiply(lp),this}rotateX(i){return this.rotateOnAxis(tQ,i)}rotateY(i){return this.rotateOnAxis(nQ,i)}rotateZ(i){return this.rotateOnAxis(iQ,i)}translateOnAxis(i,s){return eQ.copy(i).applyQuaternion(this.quaternion),this.position.add(eQ.multiplyScalar(s)),this}translateX(i){return this.translateOnAxis(tQ,i)}translateY(i){return this.translateOnAxis(nQ,i)}translateZ(i){return this.translateOnAxis(iQ,i)}localToWorld(i){return i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return i.applyMatrix4(nc.copy(this.matrixWorld).invert())}lookAt(i,s,a){i.isVector3?Uv.copy(i):Uv.set(i,s,a);const l=this.parent;this.updateWorldMatrix(!0,!1),E_.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?nc.lookAt(E_,Uv,this.up):nc.lookAt(Uv,E_,this.up),this.quaternion.setFromRotationMatrix(nc),l&&(nc.extractRotation(l.matrixWorld),lp.setFromRotationMatrix(nc),this.quaternion.premultiply(lp.invert()))}add(i){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(null!==i.parent&&i.parent.remove(i),i.parent=this,this.children.push(i),i.dispatchEvent(kxe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const s=this.children.indexOf(i);return-1!==s&&(i.parent=null,this.children.splice(s,1),i.dispatchEvent(rQ)),this}removeFromParent(){const i=this.parent;return null!==i&&i.remove(this),this}clear(){for(let i=0;i<this.children.length;i++){const s=this.children[i];s.parent=null,s.dispatchEvent(rQ)}return this.children.length=0,this}attach(i){return this.updateWorldMatrix(!0,!1),nc.copy(this.matrixWorld).invert(),null!==i.parent&&(i.parent.updateWorldMatrix(!0,!1),nc.multiply(i.parent.matrixWorld)),i.applyMatrix4(nc),this.add(i),i.updateWorldMatrix(!1,!0),this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,s){if(this[i]===s)return this;for(let a=0,l=this.children.length;a<l;a++){const u=this.children[a].getObjectByProperty(i,s);if(void 0!==u)return u}}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(E_,i,Ixe),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(E_,Txe,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return i.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(i){i(this);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].traverse(i)}traverseVisible(i){if(!1===this.visible)return;i(this);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].traverseVisible(i)}traverseAncestors(i){const s=this.parent;null!==s&&(i(s),s.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,i=!0);const s=this.children;for(let a=0,l=s.length;a<l;a++){const c=s[a];(!0===c.matrixWorldAutoUpdate||!0===i)&&c.updateMatrixWorld(i)}}updateWorldMatrix(i,s){const a=this.parent;if(!0===i&&null!==a&&!0===a.matrixWorldAutoUpdate&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===s){const l=this.children;for(let c=0,u=l.length;c<u;c++){const d=l[c];!0===d.matrixWorldAutoUpdate&&d.updateWorldMatrix(!1,!0)}}}toJSON(i){const s=void 0===i||"string"==typeof i,a={};s&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},a.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const l={};function c(d,h){return void 0===d[h.uuid]&&(d[h.uuid]=h.toJSON(i)),h.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=c(i.geometries,this.geometry);const d=this.geometry.parameters;if(void 0!==d&&void 0!==d.shapes){const h=d.shapes;if(Array.isArray(h))for(let f=0,p=h.length;f<p;f++)c(i.shapes,h[f]);else c(i.shapes,h)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(c(i.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const d=[];for(let h=0,f=this.material.length;h<f;h++)d.push(c(i.materials,this.material[h]));l.material=d}else l.material=c(i.materials,this.material);if(this.children.length>0){l.children=[];for(let d=0;d<this.children.length;d++)l.children.push(this.children[d].toJSON(i).object)}if(this.animations.length>0){l.animations=[];for(let d=0;d<this.animations.length;d++)l.animations.push(c(i.animations,this.animations[d]))}if(s){const d=u(i.geometries),h=u(i.materials),f=u(i.textures),p=u(i.images),m=u(i.shapes),g=u(i.skeletons),_=u(i.animations),A=u(i.nodes);d.length>0&&(a.geometries=d),h.length>0&&(a.materials=h),f.length>0&&(a.textures=f),p.length>0&&(a.images=p),m.length>0&&(a.shapes=m),g.length>0&&(a.skeletons=g),_.length>0&&(a.animations=_),A.length>0&&(a.nodes=A)}return a.object=l,a;function u(d){const h=[];for(const f in d){const p=d[f];delete p.metadata,h.push(p)}return h}}clone(i){return(new this.constructor).copy(this,i)}copy(i,s=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.userData=JSON.parse(JSON.stringify(i.userData)),!0===s)for(let a=0;a<i.children.length;a++)this.add(i.children[a].clone());return this}}return r.DefaultUp=new L(0,1,0),r.DefaultMatrixAutoUpdate=!0,r.DefaultMatrixWorldAutoUpdate=!0,r})();const xa=new L,ic=new L,MI=new L,rc=new L,cp=new L,up=new L,sQ=new L,EI=new L,SI=new L,DI=new L;class Ma{constructor(n=new L,i=new L,s=new L){this.a=n,this.b=i,this.c=s}static getNormal(n,i,s,a){a.subVectors(s,i),xa.subVectors(n,i),a.cross(xa);const l=a.lengthSq();return l>0?a.multiplyScalar(1/Math.sqrt(l)):a.set(0,0,0)}static getBarycoord(n,i,s,a,l){xa.subVectors(a,i),ic.subVectors(s,i),MI.subVectors(n,i);const c=xa.dot(xa),u=xa.dot(ic),d=xa.dot(MI),h=ic.dot(ic),f=ic.dot(MI),p=c*h-u*u;if(0===p)return l.set(-2,-1,-1);const m=1/p,g=(h*d-u*f)*m,_=(c*f-u*d)*m;return l.set(1-g-_,_,g)}static containsPoint(n,i,s,a){return this.getBarycoord(n,i,s,a,rc),rc.x>=0&&rc.y>=0&&rc.x+rc.y<=1}static getUV(n,i,s,a,l,c,u,d){return this.getBarycoord(n,i,s,a,rc),d.set(0,0),d.addScaledVector(l,rc.x),d.addScaledVector(c,rc.y),d.addScaledVector(u,rc.z),d}static isFrontFacing(n,i,s,a){return xa.subVectors(s,i),ic.subVectors(n,i),xa.cross(ic).dot(a)<0}set(n,i,s){return this.a.copy(n),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(n,i,s,a){return this.a.copy(n[i]),this.b.copy(n[s]),this.c.copy(n[a]),this}setFromAttributeAndIndices(n,i,s,a){return this.a.fromBufferAttribute(n,i),this.b.fromBufferAttribute(n,s),this.c.fromBufferAttribute(n,a),this}clone(){return(new this.constructor).copy(this)}copy(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this}getArea(){return xa.subVectors(this.c,this.b),ic.subVectors(this.a,this.b),.5*xa.cross(ic).length()}getMidpoint(n){return n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(n){return Ma.getNormal(this.a,this.b,this.c,n)}getPlane(n){return n.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(n,i){return Ma.getBarycoord(n,this.a,this.b,this.c,i)}getUV(n,i,s,a,l){return Ma.getUV(n,this.a,this.b,this.c,i,s,a,l)}containsPoint(n){return Ma.containsPoint(n,this.a,this.b,this.c)}isFrontFacing(n){return Ma.isFrontFacing(this.a,this.b,this.c,n)}intersectsBox(n){return n.intersectsTriangle(this)}closestPointToPoint(n,i){const s=this.a,a=this.b,l=this.c;let c,u;cp.subVectors(a,s),up.subVectors(l,s),EI.subVectors(n,s);const d=cp.dot(EI),h=up.dot(EI);if(d<=0&&h<=0)return i.copy(s);SI.subVectors(n,a);const f=cp.dot(SI),p=up.dot(SI);if(f>=0&&p<=f)return i.copy(a);const m=d*p-f*h;if(m<=0&&d>=0&&f<=0)return c=d/(d-f),i.copy(s).addScaledVector(cp,c);DI.subVectors(n,l);const g=cp.dot(DI),_=up.dot(DI);if(_>=0&&g<=_)return i.copy(l);const A=g*h-d*_;if(A<=0&&h>=0&&_<=0)return u=h/(h-_),i.copy(s).addScaledVector(up,u);const b=f*_-g*p;if(b<=0&&p-f>=0&&g-_>=0)return sQ.subVectors(l,a),u=(p-f)/(p-f+(g-_)),i.copy(a).addScaledVector(sQ,u);const y=1/(b+A+m);return c=A*y,u=m*y,i.copy(s).addScaledVector(cp,c).addScaledVector(up,u)}equals(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}let Rxe=0;class Go extends Ho{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rxe++}),this.uuid=_o(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(n){this._alphaTest>0!=n>0&&this.version++,this._alphaTest=n}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(n){if(void 0!==n)for(const i in n){const s=n[i];if(void 0===s){console.warn("THREE.Material: '"+i+"' parameter is undefined.");continue}const a=this[i];void 0!==a?a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[i]=s:console.warn("THREE."+this.type+": '"+i+"' is not a property of this material.")}}toJSON(n){const i=void 0===n||"string"==typeof n;i&&(n={textures:{},images:{}});const s={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),void 0!==this.roughness&&(s.roughness=this.roughness),void 0!==this.metalness&&(s.metalness=this.metalness),void 0!==this.sheen&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(s.shininess=this.shininess),void 0!==this.clearcoat&&(s.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(n).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(n).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(s.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(s.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(n).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(n).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(n).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(n).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(n).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(n).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(n).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(n).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(n).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(n).uuid,void 0!==this.combine&&(s.combine=this.combine)),void 0!==this.envMapIntensity&&(s.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(s.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(n).uuid),void 0!==this.transmission&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(n).uuid),void 0!==this.thickness&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(n).uuid),void 0!==this.attenuationDistance&&(s.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(s.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(s.size=this.size),null!==this.shadowSide&&(s.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(s.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(s.blending=this.blending),0!==this.side&&(s.side=this.side),this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),!0===this.transparent&&(s.transparent=this.transparent),s.depthFunc=this.depthFunc,s.depthTest=this.depthTest,s.depthWrite=this.depthWrite,s.colorWrite=this.colorWrite,s.stencilWrite=this.stencilWrite,s.stencilWriteMask=this.stencilWriteMask,s.stencilFunc=this.stencilFunc,s.stencilRef=this.stencilRef,s.stencilFuncMask=this.stencilFuncMask,s.stencilFail=this.stencilFail,s.stencilZFail=this.stencilZFail,s.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(s.rotation=this.rotation),!0===this.polygonOffset&&(s.polygonOffset=!0),0!==this.polygonOffsetFactor&&(s.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(s.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(s.linewidth=this.linewidth),void 0!==this.dashSize&&(s.dashSize=this.dashSize),void 0!==this.gapSize&&(s.gapSize=this.gapSize),void 0!==this.scale&&(s.scale=this.scale),!0===this.dithering&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(s.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(s.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(s.wireframe=this.wireframe),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(s.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(s.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(s.flatShading=this.flatShading),!1===this.visible&&(s.visible=!1),!1===this.toneMapped&&(s.toneMapped=!1),!1===this.fog&&(s.fog=!1),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),i){const l=a(n.textures),c=a(n.images);l.length>0&&(s.textures=l),c.length>0&&(s.images=c)}return s}clone(){return(new this.constructor).copy(this)}copy(n){this.name=n.name,this.blending=n.blending,this.side=n.side,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;const i=n.clippingPlanes;let s=null;if(null!==i){const a=i.length;s=new Array(a);for(let l=0;l!==a;++l)s[l]=i[l].clone()}return this.clippingPlanes=s,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.alphaToCoverage=n.alphaToCoverage,this.premultipliedAlpha=n.premultipliedAlpha,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(n){!0===n&&this.version++}}class cs extends Go{constructor(n){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ne(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}const mr=new L,Vv=new be;class _i{constructor(n,i,s){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=n,this.itemSize=i,this.count=void 0!==n?n.length/i:0,this.normalized=!0===s,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(n){!0===n&&this.version++}setUsage(n){return this.usage=n,this}copy(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this}copyAt(n,i,s){n*=this.itemSize,s*=i.itemSize;for(let a=0,l=this.itemSize;a<l;a++)this.array[n+a]=i.array[s+a];return this}copyArray(n){return this.array.set(n),this}applyMatrix3(n){if(2===this.itemSize)for(let i=0,s=this.count;i<s;i++)Vv.fromBufferAttribute(this,i),Vv.applyMatrix3(n),this.setXY(i,Vv.x,Vv.y);else if(3===this.itemSize)for(let i=0,s=this.count;i<s;i++)mr.fromBufferAttribute(this,i),mr.applyMatrix3(n),this.setXYZ(i,mr.x,mr.y,mr.z);return this}applyMatrix4(n){for(let i=0,s=this.count;i<s;i++)mr.fromBufferAttribute(this,i),mr.applyMatrix4(n),this.setXYZ(i,mr.x,mr.y,mr.z);return this}applyNormalMatrix(n){for(let i=0,s=this.count;i<s;i++)mr.fromBufferAttribute(this,i),mr.applyNormalMatrix(n),this.setXYZ(i,mr.x,mr.y,mr.z);return this}transformDirection(n){for(let i=0,s=this.count;i<s;i++)mr.fromBufferAttribute(this,i),mr.transformDirection(n),this.setXYZ(i,mr.x,mr.y,mr.z);return this}set(n,i=0){return this.array.set(n,i),this}getX(n){let i=this.array[n*this.itemSize];return this.normalized&&(i=Zl(i,this.array)),i}setX(n,i){return this.normalized&&(i=oi(i,this.array)),this.array[n*this.itemSize]=i,this}getY(n){let i=this.array[n*this.itemSize+1];return this.normalized&&(i=Zl(i,this.array)),i}setY(n,i){return this.normalized&&(i=oi(i,this.array)),this.array[n*this.itemSize+1]=i,this}getZ(n){let i=this.array[n*this.itemSize+2];return this.normalized&&(i=Zl(i,this.array)),i}setZ(n,i){return this.normalized&&(i=oi(i,this.array)),this.array[n*this.itemSize+2]=i,this}getW(n){let i=this.array[n*this.itemSize+3];return this.normalized&&(i=Zl(i,this.array)),i}setW(n,i){return this.normalized&&(i=oi(i,this.array)),this.array[n*this.itemSize+3]=i,this}setXY(n,i,s){return n*=this.itemSize,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array)),this.array[n+0]=i,this.array[n+1]=s,this}setXYZ(n,i,s,a){return n*=this.itemSize,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array),a=oi(a,this.array)),this.array[n+0]=i,this.array[n+1]=s,this.array[n+2]=a,this}setXYZW(n,i,s,a,l){return n*=this.itemSize,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array),a=oi(a,this.array),l=oi(l,this.array)),this.array[n+0]=i,this.array[n+1]=s,this.array[n+2]=a,this.array[n+3]=l,this}onUpload(n){return this.onUploadCallback=n,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const n={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(n.name=this.name),35044!==this.usage&&(n.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(n.updateRange=this.updateRange),n}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class oQ extends _i{constructor(n,i,s){super(new Uint16Array(n),i,s)}}class aQ extends _i{constructor(n,i,s){super(new Uint32Array(n),i,s)}}class st extends _i{constructor(n,i,s){super(new Float32Array(n),i,s)}}let Pxe=0;const Qo=new Pt,II=new pr,dp=new L,yo=new bo,S_=new bo,Br=new L;class rn extends Ho{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Pxe++}),this.uuid=_o(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(n){return this.index=Array.isArray(n)?new(jG(n)?aQ:oQ)(n,1):n,this}getAttribute(n){return this.attributes[n]}setAttribute(n,i){return this.attributes[n]=i,this}deleteAttribute(n){return delete this.attributes[n],this}hasAttribute(n){return void 0!==this.attributes[n]}addGroup(n,i,s=0){this.groups.push({start:n,count:i,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(n,i){this.drawRange.start=n,this.drawRange.count=i}applyMatrix4(n){const i=this.attributes.position;void 0!==i&&(i.applyMatrix4(n),i.needsUpdate=!0);const s=this.attributes.normal;if(void 0!==s){const l=(new ls).getNormalMatrix(n);s.applyNormalMatrix(l),s.needsUpdate=!0}const a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(n),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(n){return Qo.makeRotationFromQuaternion(n),this.applyMatrix4(Qo),this}rotateX(n){return Qo.makeRotationX(n),this.applyMatrix4(Qo),this}rotateY(n){return Qo.makeRotationY(n),this.applyMatrix4(Qo),this}rotateZ(n){return Qo.makeRotationZ(n),this.applyMatrix4(Qo),this}translate(n,i,s){return Qo.makeTranslation(n,i,s),this.applyMatrix4(Qo),this}scale(n,i,s){return Qo.makeScale(n,i,s),this.applyMatrix4(Qo),this}lookAt(n){return II.lookAt(n),II.updateMatrix(),this.applyMatrix4(II.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(dp).negate(),this.translate(dp.x,dp.y,dp.z),this}setFromPoints(n){const i=[];for(let s=0,a=n.length;s<a;s++){const l=n[s];i.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new st(i,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new bo);const n=this.attributes.position,i=this.morphAttributes.position;if(n&&n.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));if(void 0!==n){if(this.boundingBox.setFromBufferAttribute(n),i)for(let s=0,a=i.length;s<a;s++)yo.setFromBufferAttribute(i[s]),this.morphTargetsRelative?(Br.addVectors(this.boundingBox.min,yo.min),this.boundingBox.expandByPoint(Br),Br.addVectors(this.boundingBox.max,yo.max),this.boundingBox.expandByPoint(Br)):(this.boundingBox.expandByPoint(yo.min),this.boundingBox.expandByPoint(yo.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ec);const n=this.attributes.position,i=this.morphAttributes.position;if(n&&n.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new L,1/0);if(n){const s=this.boundingSphere.center;if(yo.setFromBufferAttribute(n),i)for(let l=0,c=i.length;l<c;l++)S_.setFromBufferAttribute(i[l]),this.morphTargetsRelative?(Br.addVectors(yo.min,S_.min),yo.expandByPoint(Br),Br.addVectors(yo.max,S_.max),yo.expandByPoint(Br)):(yo.expandByPoint(S_.min),yo.expandByPoint(S_.max));yo.getCenter(s);let a=0;for(let l=0,c=n.count;l<c;l++)Br.fromBufferAttribute(n,l),a=Math.max(a,s.distanceToSquared(Br));if(i)for(let l=0,c=i.length;l<c;l++){const u=i[l],d=this.morphTargetsRelative;for(let h=0,f=u.count;h<f;h++)Br.fromBufferAttribute(u,h),d&&(dp.fromBufferAttribute(n,h),Br.add(dp)),a=Math.max(a,s.distanceToSquared(Br))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const n=this.index,i=this.attributes;if(null===n||void 0===i.position||void 0===i.normal||void 0===i.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const s=n.array,a=i.position.array,l=i.normal.array,c=i.uv.array,u=a.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new _i(new Float32Array(4*u),4));const d=this.getAttribute("tangent").array,h=[],f=[];for(let T=0;T<u;T++)h[T]=new L,f[T]=new L;const p=new L,m=new L,g=new L,_=new be,A=new be,b=new be,y=new L,w=new L;function v(T,k,R){p.fromArray(a,3*T),m.fromArray(a,3*k),g.fromArray(a,3*R),_.fromArray(c,2*T),A.fromArray(c,2*k),b.fromArray(c,2*R),m.sub(p),g.sub(p),A.sub(_),b.sub(_);const F=1/(A.x*b.y-b.x*A.y);!isFinite(F)||(y.copy(m).multiplyScalar(b.y).addScaledVector(g,-A.y).multiplyScalar(F),w.copy(g).multiplyScalar(A.x).addScaledVector(m,-b.x).multiplyScalar(F),h[T].add(y),h[k].add(y),h[R].add(y),f[T].add(w),f[k].add(w),f[R].add(w))}let C=this.groups;0===C.length&&(C=[{start:0,count:s.length}]);for(let T=0,k=C.length;T<k;++T){const R=C[T],F=R.start;for(let j=F,G=F+R.count;j<G;j+=3)v(s[j+0],s[j+1],s[j+2])}const M=new L,E=new L,S=new L,x=new L;function D(T){S.fromArray(l,3*T),x.copy(S);const k=h[T];M.copy(k),M.sub(S.multiplyScalar(S.dot(k))).normalize(),E.crossVectors(x,k);const F=E.dot(f[T])<0?-1:1;d[4*T]=M.x,d[4*T+1]=M.y,d[4*T+2]=M.z,d[4*T+3]=F}for(let T=0,k=C.length;T<k;++T){const R=C[T],F=R.start;for(let j=F,G=F+R.count;j<G;j+=3)D(s[j+0]),D(s[j+1]),D(s[j+2])}}computeVertexNormals(){const n=this.index,i=this.getAttribute("position");if(void 0!==i){let s=this.getAttribute("normal");if(void 0===s)s=new _i(new Float32Array(3*i.count),3),this.setAttribute("normal",s);else for(let m=0,g=s.count;m<g;m++)s.setXYZ(m,0,0,0);const a=new L,l=new L,c=new L,u=new L,d=new L,h=new L,f=new L,p=new L;if(n)for(let m=0,g=n.count;m<g;m+=3){const _=n.getX(m+0),A=n.getX(m+1),b=n.getX(m+2);a.fromBufferAttribute(i,_),l.fromBufferAttribute(i,A),c.fromBufferAttribute(i,b),f.subVectors(c,l),p.subVectors(a,l),f.cross(p),u.fromBufferAttribute(s,_),d.fromBufferAttribute(s,A),h.fromBufferAttribute(s,b),u.add(f),d.add(f),h.add(f),s.setXYZ(_,u.x,u.y,u.z),s.setXYZ(A,d.x,d.y,d.z),s.setXYZ(b,h.x,h.y,h.z)}else for(let m=0,g=i.count;m<g;m+=3)a.fromBufferAttribute(i,m+0),l.fromBufferAttribute(i,m+1),c.fromBufferAttribute(i,m+2),f.subVectors(c,l),p.subVectors(a,l),f.cross(p),s.setXYZ(m+0,f.x,f.y,f.z),s.setXYZ(m+1,f.x,f.y,f.z),s.setXYZ(m+2,f.x,f.y,f.z);this.normalizeNormals(),s.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const n=this.attributes.normal;for(let i=0,s=n.count;i<s;i++)Br.fromBufferAttribute(n,i),Br.normalize(),n.setXYZ(i,Br.x,Br.y,Br.z)}toNonIndexed(){function n(u,d){const h=u.array,f=u.itemSize,p=u.normalized,m=new h.constructor(d.length*f);let g=0,_=0;for(let A=0,b=d.length;A<b;A++){g=u.isInterleavedBufferAttribute?d[A]*u.data.stride+u.offset:d[A]*f;for(let y=0;y<f;y++)m[_++]=h[g++]}return new _i(m,f,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new rn,s=this.index.array,a=this.attributes;for(const u in a){const h=n(a[u],s);i.setAttribute(u,h)}const l=this.morphAttributes;for(const u in l){const d=[],h=l[u];for(let f=0,p=h.length;f<p;f++){const g=n(h[f],s);d.push(g)}i.morphAttributes[u]=d}i.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let u=0,d=c.length;u<d;u++){const h=c[u];i.addGroup(h.start,h.count,h.materialIndex)}return i}toJSON(){const n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),Object.keys(this.userData).length>0&&(n.userData=this.userData),void 0!==this.parameters){const d=this.parameters;for(const h in d)void 0!==d[h]&&(n[h]=d[h]);return n}n.data={attributes:{}};const i=this.index;null!==i&&(n.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const s=this.attributes;for(const d in s)n.data.attributes[d]=s[d].toJSON(n.data);const a={};let l=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],f=[];for(let p=0,m=h.length;p<m;p++)f.push(h[p].toJSON(n.data));f.length>0&&(a[d]=f,l=!0)}l&&(n.data.morphAttributes=a,n.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(n.data.groups=JSON.parse(JSON.stringify(c)));const u=this.boundingSphere;return null!==u&&(n.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),n}clone(){return(new this.constructor).copy(this)}copy(n){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=n.name;const s=n.index;null!==s&&this.setIndex(s.clone(i));const a=n.attributes;for(const h in a)this.setAttribute(h,a[h].clone(i));const l=n.morphAttributes;for(const h in l){const f=[],p=l[h];for(let m=0,g=p.length;m<g;m++)f.push(p[m].clone(i));this.morphAttributes[h]=f}this.morphTargetsRelative=n.morphTargetsRelative;const c=n.groups;for(let h=0,f=c.length;h<f;h++){const p=c[h];this.addGroup(p.start,p.count,p.materialIndex)}const u=n.boundingBox;null!==u&&(this.boundingBox=u.clone());const d=n.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,void 0!==n.parameters&&(this.parameters=Object.assign({},n.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const lQ=new Pt,hp=new Fv,TI=new ec,pu=new L,mu=new L,gu=new L,kI=new L,RI=new L,PI=new L,zv=new L,Hv=new L,Gv=new L,Qv=new be,$v=new be,Wv=new be,OI=new L,jv=new L;class Et extends pr{constructor(n=new rn,i=new cs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),void 0!==n.morphTargetInfluences&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),void 0!==n.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this.material=n.material,this.geometry=n.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const u=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=l}}}}raycast(n,i){const s=this.geometry,a=this.material,l=this.matrixWorld;if(void 0===a||(null===s.boundingSphere&&s.computeBoundingSphere(),TI.copy(s.boundingSphere),TI.applyMatrix4(l),!1===n.ray.intersectsSphere(TI))||(lQ.copy(l).invert(),hp.copy(n.ray).applyMatrix4(lQ),null!==s.boundingBox&&!1===hp.intersectsBox(s.boundingBox)))return;let c;const u=s.index,d=s.attributes.position,h=s.morphAttributes.position,f=s.morphTargetsRelative,p=s.attributes.uv,m=s.attributes.uv2,g=s.groups,_=s.drawRange;if(null!==u)if(Array.isArray(a))for(let A=0,b=g.length;A<b;A++){const y=g[A],w=a[y.materialIndex];for(let M=Math.max(y.start,_.start),E=Math.min(u.count,Math.min(y.start+y.count,_.start+_.count));M<E;M+=3){const S=u.getX(M),x=u.getX(M+1),D=u.getX(M+2);c=qv(this,w,n,hp,d,h,f,p,m,S,x,D),c&&(c.faceIndex=Math.floor(M/3),c.face.materialIndex=y.materialIndex,i.push(c))}}else for(let y=Math.max(0,_.start),w=Math.min(u.count,_.start+_.count);y<w;y+=3){const v=u.getX(y),C=u.getX(y+1),M=u.getX(y+2);c=qv(this,a,n,hp,d,h,f,p,m,v,C,M),c&&(c.faceIndex=Math.floor(y/3),i.push(c))}else if(void 0!==d)if(Array.isArray(a))for(let A=0,b=g.length;A<b;A++){const y=g[A],w=a[y.materialIndex];for(let M=Math.max(y.start,_.start),E=Math.min(d.count,Math.min(y.start+y.count,_.start+_.count));M<E;M+=3)c=qv(this,w,n,hp,d,h,f,p,m,M,M+1,M+2),c&&(c.faceIndex=Math.floor(M/3),c.face.materialIndex=y.materialIndex,i.push(c))}else for(let y=Math.max(0,_.start),w=Math.min(d.count,_.start+_.count);y<w;y+=3)c=qv(this,a,n,hp,d,h,f,p,m,y,y+1,y+2),c&&(c.faceIndex=Math.floor(y/3),i.push(c))}}function qv(r,n,i,s,a,l,c,u,d,h,f,p){pu.fromBufferAttribute(a,h),mu.fromBufferAttribute(a,f),gu.fromBufferAttribute(a,p);const m=r.morphTargetInfluences;if(l&&m){zv.set(0,0,0),Hv.set(0,0,0),Gv.set(0,0,0);for(let _=0,A=l.length;_<A;_++){const b=m[_],y=l[_];0!==b&&(kI.fromBufferAttribute(y,h),RI.fromBufferAttribute(y,f),PI.fromBufferAttribute(y,p),c?(zv.addScaledVector(kI,b),Hv.addScaledVector(RI,b),Gv.addScaledVector(PI,b)):(zv.addScaledVector(kI.sub(pu),b),Hv.addScaledVector(RI.sub(mu),b),Gv.addScaledVector(PI.sub(gu),b)))}pu.add(zv),mu.add(Hv),gu.add(Gv)}r.isSkinnedMesh&&(r.boneTransform(h,pu),r.boneTransform(f,mu),r.boneTransform(p,gu));const g=function Oxe(r,n,i,s,a,l,c,u){let d;if(d=1===n.side?s.intersectTriangle(c,l,a,!0,u):s.intersectTriangle(a,l,c,2!==n.side,u),null===d)return null;jv.copy(u),jv.applyMatrix4(r.matrixWorld);const h=i.ray.origin.distanceTo(jv);return h<i.near||h>i.far?null:{distance:h,point:jv.clone(),object:r}}(r,n,i,s,pu,mu,gu,OI);if(g){u&&(Qv.fromBufferAttribute(u,h),$v.fromBufferAttribute(u,f),Wv.fromBufferAttribute(u,p),g.uv=Ma.getUV(OI,pu,mu,gu,Qv,$v,Wv,new be)),d&&(Qv.fromBufferAttribute(d,h),$v.fromBufferAttribute(d,f),Wv.fromBufferAttribute(d,p),g.uv2=Ma.getUV(OI,pu,mu,gu,Qv,$v,Wv,new be));const _={a:h,b:f,c:p,normal:new L,materialIndex:0};Ma.getNormal(pu,mu,gu,_.normal),g.face=_}return g}class sc extends rn{constructor(n=1,i=1,s=1,a=1,l=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:n,height:i,depth:s,widthSegments:a,heightSegments:l,depthSegments:c};const u=this;a=Math.floor(a),l=Math.floor(l),c=Math.floor(c);const d=[],h=[],f=[],p=[];let m=0,g=0;function _(A,b,y,w,v,C,M,E,S,x,D){const T=C/S,k=M/x,R=C/2,F=M/2,O=E/2,j=S+1,G=x+1;let P=0,z=0;const V=new L;for(let Y=0;Y<G;Y++){const oe=Y*k-F;for(let ae=0;ae<j;ae++)V[A]=(ae*T-R)*w,V[b]=oe*v,V[y]=O,h.push(V.x,V.y,V.z),V[A]=0,V[b]=0,V[y]=E>0?1:-1,f.push(V.x,V.y,V.z),p.push(ae/S),p.push(1-Y/x),P+=1}for(let Y=0;Y<x;Y++)for(let oe=0;oe<S;oe++){const Ce=m+oe+j*(Y+1),xe=m+(oe+1)+j*(Y+1),He=m+(oe+1)+j*Y;d.push(m+oe+j*Y,Ce,He),d.push(Ce,xe,He),z+=6}u.addGroup(g,z,D),g+=z,m+=P}_("z","y","x",-1,-1,s,i,n,c,l,0),_("z","y","x",1,-1,s,i,-n,c,l,1),_("x","z","y",1,1,n,s,i,a,c,2),_("x","z","y",1,-1,n,s,-i,a,c,3),_("x","y","z",1,-1,n,i,s,a,l,4),_("x","y","z",-1,-1,n,i,-s,a,l,5),this.setIndex(d),this.setAttribute("position",new st(h,3)),this.setAttribute("normal",new st(f,3)),this.setAttribute("uv",new st(p,2))}static fromJSON(n){return new sc(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments)}}function fp(r){const n={};for(const i in r){n[i]={};for(const s in r[i]){const a=r[i][s];n[i][s]=a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.clone():Array.isArray(a)?a.slice():a}}return n}function us(r){const n={};for(let i=0;i<r.length;i++){const s=fp(r[i]);for(const a in s)n[a]=s[a]}return n}const Lxe={clone:fp,merge:us};class $o extends Go{constructor(n){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==n&&this.setValues(n)}copy(n){return super.copy(n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=fp(n.uniforms),this.uniformsGroups=function Bxe(r){const n=[];for(let i=0;i<r.length;i++)n.push(r[i].clone());return n}(n.uniformsGroups),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.fog=n.fog,this.lights=n.lights,this.clipping=n.clipping,this.extensions=Object.assign({},n.extensions),this.glslVersion=n.glslVersion,this}toJSON(n){const i=super.toJSON(n);i.glslVersion=this.glslVersion,i.uniforms={};for(const a in this.uniforms){const c=this.uniforms[a].value;i.uniforms[a]=c&&c.isTexture?{type:"t",value:c.toJSON(n).uuid}:c&&c.isColor?{type:"c",value:c.getHex()}:c&&c.isVector2?{type:"v2",value:c.toArray()}:c&&c.isVector3?{type:"v3",value:c.toArray()}:c&&c.isVector4?{type:"v4",value:c.toArray()}:c&&c.isMatrix3?{type:"m3",value:c.toArray()}:c&&c.isMatrix4?{type:"m4",value:c.toArray()}:{value:c}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader;const s={};for(const a in this.extensions)!0===this.extensions[a]&&(s[a]=!0);return Object.keys(s).length>0&&(i.extensions=s),i}}class BI extends pr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Pt,this.projectionMatrix=new Pt,this.projectionMatrixInverse=new Pt}copy(n,i){return super.copy(n,i),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this}getWorldDirection(n){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return n.set(-i[8],-i[9],-i[10]).normalize()}updateMatrixWorld(n){super.updateMatrixWorld(n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(n,i){super.updateWorldMatrix(n,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class gr extends BI{constructor(n=50,i=1,s=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=n,this.zoom=1,this.near=s,this.far=a,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(n,i){return super.copy(n,i),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=null===n.view?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this}setFocalLength(n){const i=.5*this.getFilmHeight()/n;this.fov=2*w_*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const n=Math.tan(.5*Pd*this.fov);return.5*this.getFilmHeight()/n}getEffectiveFOV(){return 2*w_*Math.atan(Math.tan(.5*Pd*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(n,i,s,a,l,c){this.aspect=n/i,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=this.near;let i=n*Math.tan(.5*Pd*this.fov)/this.zoom,s=2*i,a=this.aspect*s,l=-.5*a;const c=this.view;if(null!==this.view&&this.view.enabled){const d=c.fullWidth,h=c.fullHeight;l+=c.offsetX*a/d,i-=c.offsetY*s/h,a*=c.width/d,s*=c.height/h}const u=this.filmOffset;0!==u&&(l+=n*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+a,i,i-s,n,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const i=super.toJSON(n);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,null!==this.view&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}class LI extends pr{constructor(n,i,s){super(),this.type="CubeCamera",this.renderTarget=s;const a=new gr(90,1,n,i);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new L(1,0,0)),this.add(a);const l=new gr(90,1,n,i);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new L(-1,0,0)),this.add(l);const c=new gr(90,1,n,i);c.layers=this.layers,c.up.set(0,0,1),c.lookAt(new L(0,1,0)),this.add(c);const u=new gr(90,1,n,i);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(new L(0,-1,0)),this.add(u);const d=new gr(90,1,n,i);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new L(0,0,1)),this.add(d);const h=new gr(90,1,n,i);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new L(0,0,-1)),this.add(h)}update(n,i){null===this.parent&&this.updateMatrixWorld();const s=this.renderTarget,[a,l,c,u,d,h]=this.children,f=n.getRenderTarget(),p=n.toneMapping,m=n.xr.enabled;n.toneMapping=0,n.xr.enabled=!1;const g=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,n.setRenderTarget(s,0),n.render(i,a),n.setRenderTarget(s,1),n.render(i,l),n.setRenderTarget(s,2),n.render(i,c),n.setRenderTarget(s,3),n.render(i,u),n.setRenderTarget(s,4),n.render(i,d),s.texture.generateMipmaps=g,n.setRenderTarget(s,5),n.render(i,h),n.setRenderTarget(f),n.toneMapping=p,n.xr.enabled=m,s.texture.needsPMREMUpdate=!0}}class Yv extends Xs{constructor(n,i,s,a,l,c,u,d,h,f){super(n=void 0!==n?n:[],i=void 0!==i?i:301,s,a,l,c,u,d,h,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(n){this.image=n}}class FI extends wa{constructor(n,i={}){super(n,n,i),this.isWebGLCubeRenderTarget=!0;const s={width:n,height:n,depth:1};this.texture=new Yv([s,s,s,s,s,s],i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:si}fromEquirectangularTexture(n,i){this.texture.type=i.type,this.texture.encoding=i.encoding,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s_uniforms={tEquirect:{value:null}},s_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",s_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new sc(5,5,5),l=new $o({name:"CubemapFromEquirect",uniforms:fp(s_uniforms),vertexShader:s_vertexShader,fragmentShader:s_fragmentShader,side:1,blending:0});l.uniforms.tEquirect.value=i;const c=new Et(a,l),u=i.minFilter;return i.minFilter===sl&&(i.minFilter=si),new LI(1,10,this).update(n,c),i.minFilter=u,c.geometry.dispose(),c.material.dispose(),this}clear(n,i,s,a){const l=n.getRenderTarget();for(let c=0;c<6;c++)n.setRenderTarget(this,c),n.clear(i,s,a);n.setRenderTarget(l)}}const NI=new L,Uxe=new L,Vxe=new ls;class Ud{constructor(n=new L(1,0,0),i=0){this.isPlane=!0,this.normal=n,this.constant=i}set(n,i){return this.normal.copy(n),this.constant=i,this}setComponents(n,i,s,a){return this.normal.set(n,i,s),this.constant=a,this}setFromNormalAndCoplanarPoint(n,i){return this.normal.copy(n),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(n,i,s){const a=NI.subVectors(s,i).cross(Uxe.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}copy(n){return this.normal.copy(n.normal),this.constant=n.constant,this}normalize(){const n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(n){return this.normal.dot(n)+this.constant}distanceToSphere(n){return this.distanceToPoint(n.center)-n.radius}projectPoint(n,i){return i.copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)}intersectLine(n,i){const s=n.delta(NI),a=this.normal.dot(s);if(0===a)return 0===this.distanceToPoint(n.start)?i.copy(n.start):null;const l=-(n.start.dot(this.normal)+this.constant)/a;return l<0||l>1?null:i.copy(s).multiplyScalar(l).add(n.start)}intersectsLine(n){const i=this.distanceToPoint(n.start),s=this.distanceToPoint(n.end);return i<0&&s>0||s<0&&i>0}intersectsBox(n){return n.intersectsPlane(this)}intersectsSphere(n){return n.intersectsPlane(this)}coplanarPoint(n){return n.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(n,i){const s=i||Vxe.getNormalMatrix(n),a=this.coplanarPoint(NI).applyMatrix4(n),l=this.normal.applyMatrix3(s).normalize();return this.constant=-a.dot(l),this}translate(n){return this.constant-=n.dot(this.normal),this}equals(n){return n.normal.equals(this.normal)&&n.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const gp=new ec,Xv=new L;class UI{constructor(n=new Ud,i=new Ud,s=new Ud,a=new Ud,l=new Ud,c=new Ud){this.planes=[n,i,s,a,l,c]}set(n,i,s,a,l,c){const u=this.planes;return u[0].copy(n),u[1].copy(i),u[2].copy(s),u[3].copy(a),u[4].copy(l),u[5].copy(c),this}copy(n){const i=this.planes;for(let s=0;s<6;s++)i[s].copy(n.planes[s]);return this}setFromProjectionMatrix(n){const i=this.planes,s=n.elements,a=s[0],l=s[1],c=s[2],u=s[3],d=s[4],h=s[5],f=s[6],p=s[7],m=s[8],g=s[9],_=s[10],A=s[11],b=s[12],y=s[13],w=s[14],v=s[15];return i[0].setComponents(u-a,p-d,A-m,v-b).normalize(),i[1].setComponents(u+a,p+d,A+m,v+b).normalize(),i[2].setComponents(u+l,p+h,A+g,v+y).normalize(),i[3].setComponents(u-l,p-h,A-g,v-y).normalize(),i[4].setComponents(u-c,p-f,A-_,v-w).normalize(),i[5].setComponents(u+c,p+f,A+_,v+w).normalize(),this}intersectsObject(n){const i=n.geometry;return null===i.boundingSphere&&i.computeBoundingSphere(),gp.copy(i.boundingSphere).applyMatrix4(n.matrixWorld),this.intersectsSphere(gp)}intersectsSprite(n){return gp.center.set(0,0,0),gp.radius=.7071067811865476,gp.applyMatrix4(n.matrixWorld),this.intersectsSphere(gp)}intersectsSphere(n){const i=this.planes,s=n.center,a=-n.radius;for(let l=0;l<6;l++)if(i[l].distanceToPoint(s)<a)return!1;return!0}intersectsBox(n){const i=this.planes;for(let s=0;s<6;s++){const a=i[s];if(Xv.x=a.normal.x>0?n.max.x:n.min.x,Xv.y=a.normal.y>0?n.max.y:n.min.y,Xv.z=a.normal.z>0?n.max.z:n.min.z,a.distanceToPoint(Xv)<0)return!1}return!0}containsPoint(n){const i=this.planes;for(let s=0;s<6;s++)if(i[s].distanceToPoint(n)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function cQ(){let r=null,n=!1,i=null,s=null;function a(l,c){i(l,c),s=r.requestAnimationFrame(a)}return{start:function(){!0!==n&&null!==i&&(s=r.requestAnimationFrame(a),n=!0)},stop:function(){r.cancelAnimationFrame(s),n=!1},setAnimationLoop:function(l){i=l},setContext:function(l){r=l}}}function zxe(r,n){const i=n.isWebGL2,s=new WeakMap;return{get:function c(h){return h.isInterleavedBufferAttribute&&(h=h.data),s.get(h)},remove:function u(h){h.isInterleavedBufferAttribute&&(h=h.data);const f=s.get(h);f&&(r.deleteBuffer(f.buffer),s.delete(h))},update:function d(h,f){if(h.isGLBufferAttribute){const m=s.get(h);return void((!m||m.version<h.version)&&s.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version}))}h.isInterleavedBufferAttribute&&(h=h.data);const p=s.get(h);void 0===p?s.set(h,function a(h,f){const p=h.array,m=h.usage,g=r.createBuffer();let _;if(r.bindBuffer(f,g),r.bufferData(f,p,m),h.onUploadCallback(),p instanceof Float32Array)_=5126;else if(p instanceof Uint16Array)if(h.isFloat16BufferAttribute){if(!i)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");_=5131}else _=5123;else if(p instanceof Int16Array)_=5122;else if(p instanceof Uint32Array)_=5125;else if(p instanceof Int32Array)_=5124;else if(p instanceof Int8Array)_=5120;else if(p instanceof Uint8Array)_=5121;else{if(!(p instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);_=5121}return{buffer:g,type:_,bytesPerElement:p.BYTES_PER_ELEMENT,version:h.version}}(h,f)):p.version<h.version&&(function l(h,f,p){const m=f.array,g=f.updateRange;r.bindBuffer(p,h),-1===g.count?r.bufferSubData(p,0,m):(i?r.bufferSubData(p,g.offset*m.BYTES_PER_ELEMENT,m,g.offset,g.count):r.bufferSubData(p,g.offset*m.BYTES_PER_ELEMENT,m.subarray(g.offset,g.offset+g.count)),g.count=-1)}(p.buffer,h,f),p.version=h.version)}}}class _u extends rn{constructor(n=1,i=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:n,height:i,widthSegments:s,heightSegments:a};const l=n/2,c=i/2,u=Math.floor(s),d=Math.floor(a),h=u+1,f=d+1,p=n/u,m=i/d,g=[],_=[],A=[],b=[];for(let y=0;y<f;y++){const w=y*m-c;for(let v=0;v<h;v++)_.push(v*p-l,-w,0),A.push(0,0,1),b.push(v/u),b.push(1-y/d)}for(let y=0;y<d;y++)for(let w=0;w<u;w++){const C=w+h*(y+1),M=w+1+h*(y+1),E=w+1+h*y;g.push(w+h*y,C,E),g.push(C,M,E)}this.setIndex(g),this.setAttribute("position",new st(_,3)),this.setAttribute("normal",new st(A,3)),this.setAttribute("uv",new st(b,2))}static fromJSON(n){return new _u(n.width,n.height,n.widthSegments,n.heightSegments)}}const gn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\n#ifdef USE_IRIDESCENCE\n\tvec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\t return vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat R21 = R12;\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert\n#define Material_LightProbeLOD( material )\t(0)",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Le={common:{diffuse:{value:new Ne(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ls},uv2Transform:{value:new ls},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new be(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ne(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ne(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ls}},sprite:{diffuse:{value:new Ne(16777215)},opacity:{value:1},center:{value:new be(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ls}}},ol={basic:{uniforms:us([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.fog]),vertexShader:gn.meshbasic_vert,fragmentShader:gn.meshbasic_frag},lambert:{uniforms:us([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Ne(0)}}]),vertexShader:gn.meshlambert_vert,fragmentShader:gn.meshlambert_frag},phong:{uniforms:us([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new Ne(0)},specular:{value:new Ne(1118481)},shininess:{value:30}}]),vertexShader:gn.meshphong_vert,fragmentShader:gn.meshphong_frag},standard:{uniforms:us([Le.common,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.roughnessmap,Le.metalnessmap,Le.fog,Le.lights,{emissive:{value:new Ne(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag},toon:{uniforms:us([Le.common,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.gradientmap,Le.fog,Le.lights,{emissive:{value:new Ne(0)}}]),vertexShader:gn.meshtoon_vert,fragmentShader:gn.meshtoon_frag},matcap:{uniforms:us([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,{matcap:{value:null}}]),vertexShader:gn.meshmatcap_vert,fragmentShader:gn.meshmatcap_frag},points:{uniforms:us([Le.points,Le.fog]),vertexShader:gn.points_vert,fragmentShader:gn.points_frag},dashed:{uniforms:us([Le.common,Le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:gn.linedashed_vert,fragmentShader:gn.linedashed_frag},depth:{uniforms:us([Le.common,Le.displacementmap]),vertexShader:gn.depth_vert,fragmentShader:gn.depth_frag},normal:{uniforms:us([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,{opacity:{value:1}}]),vertexShader:gn.meshnormal_vert,fragmentShader:gn.meshnormal_frag},sprite:{uniforms:us([Le.sprite,Le.fog]),vertexShader:gn.sprite_vert,fragmentShader:gn.sprite_frag},background:{uniforms:{uvTransform:{value:new ls},t2D:{value:null}},vertexShader:gn.background_vert,fragmentShader:gn.background_frag},cube:{uniforms:us([Le.envmap,{opacity:{value:1}}]),vertexShader:gn.cube_vert,fragmentShader:gn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:gn.equirect_vert,fragmentShader:gn.equirect_frag},distanceRGBA:{uniforms:us([Le.common,Le.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:gn.distanceRGBA_vert,fragmentShader:gn.distanceRGBA_frag},shadow:{uniforms:us([Le.lights,Le.fog,{color:{value:new Ne(0)},opacity:{value:1}}]),vertexShader:gn.shadow_vert,fragmentShader:gn.shadow_frag}};function VEe(r,n,i,s,a,l){const c=new Ne(0);let d,h,u=!0===a?0:1,f=null,p=0,m=null;function _(A,b){i.buffers.color.setClear(A.r,A.g,A.b,b,l)}return{getClearColor:function(){return c},setClearColor:function(A,b=1){c.set(A),u=b,_(c,u)},getClearAlpha:function(){return u},setClearAlpha:function(A){u=A,_(c,u)},render:function g(A,b){let y=!1,w=!0===b.isScene?b.background:null;w&&w.isTexture&&(w=n.get(w));const v=r.xr,C=v.getSession&&v.getSession();C&&"additive"===C.environmentBlendMode&&(w=null),null===w?_(c,u):w&&w.isColor&&(_(w,1),y=!0),(r.autoClear||y)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),w&&(w.isCubeTexture||306===w.mapping)?(void 0===h&&(h=new Et(new sc(1,1,1),new $o({name:"BackgroundCubeMaterial",uniforms:fp(ol.cube.uniforms),vertexShader:ol.cube.vertexShader,fragmentShader:ol.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(M,E,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(h)),h.material.uniforms.envMap.value=w,h.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,(f!==w||p!==w.version||m!==r.toneMapping)&&(h.material.needsUpdate=!0,f=w,p=w.version,m=r.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):w&&w.isTexture&&(void 0===d&&(d=new Et(new _u(2,2),new $o({name:"BackgroundMaterial",uniforms:fp(ol.background.uniforms),vertexShader:ol.background.vertexShader,fragmentShader:ol.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=w,!0===w.matrixAutoUpdate&&w.updateMatrix(),d.material.uniforms.uvTransform.value.copy(w.matrix),(f!==w||p!==w.version||m!==r.toneMapping)&&(d.material.needsUpdate=!0,f=w,p=w.version,m=r.toneMapping),d.layers.enableAll(),A.unshift(d,d.geometry,d.material,0,0,null))}}}function zEe(r,n,i,s){const a=r.getParameter(34921),l=s.isWebGL2?null:n.get("OES_vertex_array_object"),c=s.isWebGL2||null!==l,u={},d=b(null);let h=d,f=!1;function g(O){return s.isWebGL2?r.bindVertexArray(O):l.bindVertexArrayOES(O)}function _(O){return s.isWebGL2?r.deleteVertexArray(O):l.deleteVertexArrayOES(O)}function b(O){const j=[],G=[],P=[];for(let z=0;z<a;z++)j[z]=0,G[z]=0,P[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:G,attributeDivisors:P,object:O,attributes:{},index:null}}function v(){const O=h.newAttributes;for(let j=0,G=O.length;j<G;j++)O[j]=0}function C(O){M(O,0)}function M(O,j){const P=h.enabledAttributes,z=h.attributeDivisors;h.newAttributes[O]=1,0===P[O]&&(r.enableVertexAttribArray(O),P[O]=1),z[O]!==j&&((s.isWebGL2?r:n.get("ANGLE_instanced_arrays"))[s.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](O,j),z[O]=j)}function E(){const O=h.newAttributes,j=h.enabledAttributes;for(let G=0,P=j.length;G<P;G++)j[G]!==O[G]&&(r.disableVertexAttribArray(G),j[G]=0)}function S(O,j,G,P,z,V){!0!==s.isWebGL2||5124!==G&&5125!==G?r.vertexAttribPointer(O,j,G,P,z,V):r.vertexAttribIPointer(O,j,G,z,V)}function R(){F(),f=!0,h!==d&&(h=d,g(h.object))}function F(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:function p(O,j,G,P,z){let V=!1;if(c){const Y=function A(O,j,G){const P=!0===G.wireframe;let z=u[O.id];void 0===z&&(z={},u[O.id]=z);let V=z[j.id];void 0===V&&(V={},z[j.id]=V);let Y=V[P];return void 0===Y&&(Y=b(function m(){return s.isWebGL2?r.createVertexArray():l.createVertexArrayOES()}()),V[P]=Y),Y}(P,G,j);h!==Y&&(h=Y,g(h.object)),V=function y(O,j,G,P){const z=h.attributes,V=j.attributes;let Y=0;const oe=G.getAttributes();for(const ae in oe)if(oe[ae].location>=0){const xe=z[ae];let He=V[ae];if(void 0===He&&("instanceMatrix"===ae&&O.instanceMatrix&&(He=O.instanceMatrix),"instanceColor"===ae&&O.instanceColor&&(He=O.instanceColor)),void 0===xe||xe.attribute!==He||He&&xe.data!==He.data)return!0;Y++}return h.attributesNum!==Y||h.index!==P}(O,P,G,z),V&&function w(O,j,G,P){const z={},V=j.attributes;let Y=0;const oe=G.getAttributes();for(const ae in oe)if(oe[ae].location>=0){let xe=V[ae];void 0===xe&&("instanceMatrix"===ae&&O.instanceMatrix&&(xe=O.instanceMatrix),"instanceColor"===ae&&O.instanceColor&&(xe=O.instanceColor));const He={};He.attribute=xe,xe&&xe.data&&(He.data=xe.data),z[ae]=He,Y++}h.attributes=z,h.attributesNum=Y,h.index=P}(O,P,G,z)}else{const Y=!0===j.wireframe;(h.geometry!==P.id||h.program!==G.id||h.wireframe!==Y)&&(h.geometry=P.id,h.program=G.id,h.wireframe=Y,V=!0)}null!==z&&i.update(z,34963),(V||f)&&(f=!1,function x(O,j,G,P){if(!1===s.isWebGL2&&(O.isInstancedMesh||P.isInstancedBufferGeometry)&&null===n.get("ANGLE_instanced_arrays"))return;v();const z=P.attributes,V=G.getAttributes(),Y=j.defaultAttributeValues;for(const oe in V){const ae=V[oe];if(ae.location>=0){let Ce=z[oe];if(void 0===Ce&&("instanceMatrix"===oe&&O.instanceMatrix&&(Ce=O.instanceMatrix),"instanceColor"===oe&&O.instanceColor&&(Ce=O.instanceColor)),void 0!==Ce){const xe=Ce.normalized,He=Ce.itemSize,le=i.get(Ce);if(void 0===le)continue;const Qe=le.buffer,Xe=le.type,it=le.bytesPerElement;if(Ce.isInterleavedBufferAttribute){const Re=Ce.data,Ft=Re.stride,ge=Ce.offset;if(Re.isInstancedInterleavedBuffer){for(let me=0;me<ae.locationSize;me++)M(ae.location+me,Re.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===P._maxInstanceCount&&(P._maxInstanceCount=Re.meshPerAttribute*Re.count)}else for(let me=0;me<ae.locationSize;me++)C(ae.location+me);r.bindBuffer(34962,Qe);for(let me=0;me<ae.locationSize;me++)S(ae.location+me,He/ae.locationSize,Xe,xe,Ft*it,(ge+He/ae.locationSize*me)*it)}else{if(Ce.isInstancedBufferAttribute){for(let Re=0;Re<ae.locationSize;Re++)M(ae.location+Re,Ce.meshPerAttribute);!0!==O.isInstancedMesh&&void 0===P._maxInstanceCount&&(P._maxInstanceCount=Ce.meshPerAttribute*Ce.count)}else for(let Re=0;Re<ae.locationSize;Re++)C(ae.location+Re);r.bindBuffer(34962,Qe);for(let Re=0;Re<ae.locationSize;Re++)S(ae.location+Re,He/ae.locationSize,Xe,xe,He*it,He/ae.locationSize*Re*it)}}else if(void 0!==Y){const xe=Y[oe];if(void 0!==xe)switch(xe.length){case 2:r.vertexAttrib2fv(ae.location,xe);break;case 3:r.vertexAttrib3fv(ae.location,xe);break;case 4:r.vertexAttrib4fv(ae.location,xe);break;default:r.vertexAttrib1fv(ae.location,xe)}}}}E()}(O,j,G,P),null!==z&&r.bindBuffer(34963,i.get(z).buffer))},reset:R,resetDefaultState:F,dispose:function D(){R();for(const O in u){const j=u[O];for(const G in j){const P=j[G];for(const z in P)_(P[z].object),delete P[z];delete j[G]}delete u[O]}},releaseStatesOfGeometry:function T(O){if(void 0===u[O.id])return;const j=u[O.id];for(const G in j){const P=j[G];for(const z in P)_(P[z].object),delete P[z];delete j[G]}delete u[O.id]},releaseStatesOfProgram:function k(O){for(const j in u){const G=u[j];if(void 0===G[O.id])continue;const P=G[O.id];for(const z in P)_(P[z].object),delete P[z];delete G[O.id]}},initAttributes:v,enableAttribute:C,disableUnusedAttributes:E}}function HEe(r,n,i,s){const a=s.isWebGL2;let l;this.setMode=function c(h){l=h},this.render=function u(h,f){r.drawArrays(l,h,f),i.update(f,l,1)},this.renderInstances=function d(h,f,p){if(0===p)return;let m,g;if(a)m=r,g="drawArraysInstanced";else if(m=n.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",null===m)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](l,h,f,p),i.update(f,l,p)}}function GEe(r,n,i){let s;function l(S){if("highp"===S){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return"mediump"===S&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const c=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&r instanceof WebGL2ComputeRenderingContext;let u=void 0!==i.precision?i.precision:"highp";const d=l(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const h=c||n.has("WEBGL_draw_buffers"),f=!0===i.logarithmicDepthBuffer,p=r.getParameter(34930),m=r.getParameter(35660),g=r.getParameter(3379),_=r.getParameter(34076),A=r.getParameter(34921),b=r.getParameter(36347),y=r.getParameter(36348),w=r.getParameter(36349),v=m>0,C=c||n.has("OES_texture_float");return{isWebGL2:c,drawBuffers:h,getMaxAnisotropy:function a(){if(void 0!==s)return s;if(!0===n.has("EXT_texture_filter_anisotropic")){const S=n.get("EXT_texture_filter_anisotropic");s=r.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s},getMaxPrecision:l,precision:u,logarithmicDepthBuffer:f,maxTextures:p,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:_,maxAttributes:A,maxVertexUniforms:b,maxVaryings:y,maxFragmentUniforms:w,vertexTextures:v,floatFragmentTextures:C,floatVertexTextures:v&&C,maxSamples:c?r.getParameter(36183):0}}function QEe(r){const n=this;let i=null,s=0,a=!1,l=!1;const c=new Ud,u=new ls,d={value:null,needsUpdate:!1};function h(){d.value!==i&&(d.value=i,d.needsUpdate=s>0),n.numPlanes=s,n.numIntersection=0}function f(p,m,g,_){const A=null!==p?p.length:0;let b=null;if(0!==A){if(b=d.value,!0!==_||null===b){const y=g+4*A,w=m.matrixWorldInverse;u.getNormalMatrix(w),(null===b||b.length<y)&&(b=new Float32Array(y));for(let v=0,C=g;v!==A;++v,C+=4)c.copy(p[v]).applyMatrix4(w,u),c.normal.toArray(b,C),b[C+3]=c.constant}d.value=b,d.needsUpdate=!0}return n.numPlanes=A,n.numIntersection=0,b}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m,g){const _=0!==p.length||m||0!==s||a;return a=m,i=f(p,g,0),s=p.length,_},this.beginShadows=function(){l=!0,f(null)},this.endShadows=function(){l=!1,h()},this.setState=function(p,m,g){const _=p.clippingPlanes,A=p.clipIntersection,b=p.clipShadows,y=r.get(p);if(!a||null===_||0===_.length||l&&!b)l?f(null):h();else{const w=l?0:s,v=4*w;let C=y.clippingState||null;d.value=C,C=f(_,m,v,g);for(let M=0;M!==v;++M)C[M]=i[M];y.clippingState=C,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=w}}}function $Ee(r){let n=new WeakMap;function i(c,u){return 303===u?c.mapping=301:304===u&&(c.mapping=302),c}function a(c){const u=c.target;u.removeEventListener("dispose",a);const d=n.get(u);void 0!==d&&(n.delete(u),d.dispose())}return{get:function s(c){if(c&&c.isTexture&&!1===c.isRenderTargetTexture){const u=c.mapping;if(303===u||304===u){if(n.has(c))return i(n.get(c).texture,c.mapping);{const d=c.image;if(d&&d.height>0){const h=new FI(d.height/2);return h.fromEquirectangularTexture(r,c),n.set(c,h),c.addEventListener("dispose",a),i(h.texture,c.mapping)}return null}}}return c},dispose:function l(){n=new WeakMap}}}ol.physical={uniforms:us([ol.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new be(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Ne(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new be},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Ne(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Ne(1,1,1)},specularColorMap:{value:null}}]),vertexShader:gn.meshphysical_vert,fragmentShader:gn.meshphysical_frag};class Vd extends BI{constructor(n=-1,i=1,s=1,a=-1,l=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n,this.right=i,this.top=s,this.bottom=a,this.near=l,this.far=c,this.updateProjectionMatrix()}copy(n,i){return super.copy(n,i),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=null===n.view?null:Object.assign({},n.view),this}setViewOffset(n,i,s,a,l,c){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let l=s-n,c=s+n,u=a+i,d=a-i;if(null!==this.view&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=h*this.view.offsetX,c=l+h*this.view.width,u-=f*this.view.offsetY,d=u-f*this.view.height}this.projectionMatrix.makeOrthographic(l,c,u,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const i=super.toJSON(n);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,null!==this.view&&(i.object.view=Object.assign({},this.view)),i}}const uQ=[.125,.215,.35,.446,.526,.582],VI=new Vd,dQ=new Ne;let zI=null;const Hd=(1+Math.sqrt(5))/2,bp=1/Hd,hQ=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,Hd,bp),new L(0,Hd,-bp),new L(bp,0,Hd),new L(-bp,0,Hd),new L(Hd,bp,0),new L(-Hd,bp,0)];class fQ{constructor(n){this._renderer=n,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(n,i=0,s=.1,a=100){zI=this._renderer.getRenderTarget(),this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(n,s,a,l),i>0&&this._blur(l,0,0,i),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(n,i=null){return this._fromTexture(n,i)}fromCubemap(n,i=null){return this._fromTexture(n,i)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=gQ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=mQ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(n){this._lodMax=Math.floor(Math.log2(n)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let n=0;n<this._lodPlanes.length;n++)this._lodPlanes[n].dispose()}_cleanup(n){this._renderer.setRenderTarget(zI),n.scissorTest=!1,Kv(n,0,0,n.width,n.height)}_fromTexture(n,i){this._setSize(301===n.mapping||302===n.mapping?0===n.image.length?16:n.image[0].width||n.image[0].image.width:n.image.width/4),zI=this._renderer.getRenderTarget();const s=i||this._allocateTargets();return this._textureToCubeUV(n,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const n=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,s={magFilter:si,minFilter:si,generateMipmaps:!1,type:ks,format:Ir,encoding:os,depthBuffer:!1},a=pQ(n,i,s);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==n){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=pQ(n,i,s);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function WEe(r){const n=[],i=[],s=[];let a=r;const l=r-4+1+uQ.length;for(let c=0;c<l;c++){const u=Math.pow(2,a);i.push(u);let d=1/u;c>r-4?d=uQ[c-r+4-1]:0===c&&(d=0),s.push(d);const h=1/(u-2),f=-h,p=1+h,m=[f,f,p,f,p,p,f,f,p,p,f,p],g=6,_=6,A=3,b=2,y=1,w=new Float32Array(A*_*g),v=new Float32Array(b*_*g),C=new Float32Array(y*_*g);for(let E=0;E<g;E++){const S=E%3*2/3-1,x=E>2?0:-1;w.set([S,x,0,S+2/3,x,0,S+2/3,x+1,0,S,x,0,S+2/3,x+1,0,S,x+1,0],A*_*E),v.set(m,b*_*E),C.set([E,E,E,E,E,E],y*_*E)}const M=new rn;M.setAttribute("position",new _i(w,A)),M.setAttribute("uv",new _i(v,b)),M.setAttribute("faceIndex",new _i(C,y)),n.push(M),a>4&&a--}return{lodPlanes:n,sizeLods:i,sigmas:s}}(l)),this._blurMaterial=function jEe(r,n,i){const s=new Float32Array(20),a=new L(0,1,0);return new $o({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/n,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(l,n,i)}return a}_compileMaterial(n){const i=new Et(this._lodPlanes[0],n);this._renderer.compile(i,VI)}_sceneToCubeUV(n,i,s,a){const u=new gr(90,1,i,s),d=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,m=f.toneMapping;f.getClearColor(dQ),f.toneMapping=0,f.autoClear=!1;const g=new cs({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),_=new Et(new sc,g);let A=!1;const b=n.background;b?b.isColor&&(g.color.copy(b),n.background=null,A=!0):(g.color.copy(dQ),A=!0);for(let y=0;y<6;y++){const w=y%3;0===w?(u.up.set(0,d[y],0),u.lookAt(h[y],0,0)):1===w?(u.up.set(0,0,d[y]),u.lookAt(0,h[y],0)):(u.up.set(0,d[y],0),u.lookAt(0,0,h[y]));const v=this._cubeSize;Kv(a,w*v,y>2?v:0,v,v),f.setRenderTarget(a),A&&f.render(_,u),f.render(n,u)}_.geometry.dispose(),_.material.dispose(),f.toneMapping=m,f.autoClear=p,n.background=b}_textureToCubeUV(n,i){const s=this._renderer,a=301===n.mapping||302===n.mapping;a?(null===this._cubemapMaterial&&(this._cubemapMaterial=gQ()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===n.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=mQ());const l=a?this._cubemapMaterial:this._equirectMaterial,c=new Et(this._lodPlanes[0],l);l.uniforms.envMap.value=n;const d=this._cubeSize;Kv(i,0,0,3*d,2*d),s.setRenderTarget(i),s.render(c,VI)}_applyPMREM(n){const i=this._renderer,s=i.autoClear;i.autoClear=!1;for(let a=1;a<this._lodPlanes.length;a++){const l=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]);this._blur(n,a-1,a,l,hQ[(a-1)%hQ.length])}i.autoClear=s}_blur(n,i,s,a,l){const c=this._pingPongRenderTarget;this._halfBlur(n,c,i,s,a,"latitudinal",l),this._halfBlur(c,n,s,s,a,"longitudinal",l)}_halfBlur(n,i,s,a,l,c,u){const d=this._renderer,h=this._blurMaterial;"latitudinal"!==c&&"longitudinal"!==c&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new Et(this._lodPlanes[a],h),m=h.uniforms,g=this._sizeLods[s]-1,_=isFinite(l)?Math.PI/(2*g):2*Math.PI/39,A=l/_,b=isFinite(l)?1+Math.floor(3*A):20;b>20&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${b} samples when the maximum is set to 20`);const y=[];let w=0;for(let S=0;S<20;++S){const x=S/A,D=Math.exp(-x*x/2);y.push(D),0===S?w+=D:S<b&&(w+=2*D)}for(let S=0;S<y.length;S++)y[S]=y[S]/w;m.envMap.value=n.texture,m.samples.value=b,m.weights.value=y,m.latitudinal.value="latitudinal"===c,u&&(m.poleAxis.value=u);const{_lodMax:v}=this;m.dTheta.value=_,m.mipInt.value=v-s;const C=this._sizeLods[a];Kv(i,3*C*(a>v-4?a-v+4:0),4*(this._cubeSize-C),3*C,2*C),d.setRenderTarget(i),d.render(p,VI)}}function pQ(r,n,i){const s=new wa(r,n,i);return s.texture.mapping=306,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function Kv(r,n,i,s,a){r.viewport.set(n,i,s,a),r.scissor.set(n,i,s,a)}function mQ(){return new $o({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function gQ(){return new $o({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function qEe(r){let n=new WeakMap,i=null;function l(u){const d=u.target;d.removeEventListener("dispose",l);const h=n.get(d);void 0!==h&&(n.delete(d),h.dispose())}return{get:function s(u){if(u&&u.isTexture){const d=u.mapping,h=303===d||304===d,f=301===d||302===d;if(h||f){if(u.isRenderTargetTexture&&!0===u.needsPMREMUpdate){u.needsPMREMUpdate=!1;let p=n.get(u);return null===i&&(i=new fQ(r)),p=h?i.fromEquirectangular(u,p):i.fromCubemap(u,p),n.set(u,p),p.texture}if(n.has(u))return n.get(u).texture;{const p=u.image;if(h&&p&&p.height>0||f&&p&&function a(u){let d=0;for(let f=0;f<6;f++)void 0!==u[f]&&d++;return 6===d}(p)){null===i&&(i=new fQ(r));const m=h?i.fromEquirectangular(u):i.fromCubemap(u);return n.set(u,m),u.addEventListener("dispose",l),m.texture}return null}}}return u},dispose:function c(){n=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function YEe(r){const n={};function i(s){if(void 0!==n[s])return n[s];let a;switch(s){case"WEBGL_depth_texture":a=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=r.getExtension(s)}return n[s]=a,a}return{has:function(s){return null!==i(s)},init:function(s){s.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(s){const a=i(s);return null===a&&console.warn("THREE.WebGLRenderer: "+s+" extension not supported."),a}}}function XEe(r,n,i,s){const a={},l=new WeakMap;function c(p){const m=p.target;null!==m.index&&n.remove(m.index);for(const _ in m.attributes)n.remove(m.attributes[_]);m.removeEventListener("dispose",c),delete a[m.id];const g=l.get(m);g&&(n.remove(g),l.delete(m)),s.releaseStatesOfGeometry(m),!0===m.isInstancedBufferGeometry&&delete m._maxInstanceCount,i.memory.geometries--}function h(p){const m=[],g=p.index,_=p.attributes.position;let A=0;if(null!==g){const w=g.array;A=g.version;for(let v=0,C=w.length;v<C;v+=3){const M=w[v+0],E=w[v+1],S=w[v+2];m.push(M,E,E,S,S,M)}}else{A=_.version;for(let v=0,C=_.array.length/3-1;v<C;v+=3){const M=v+0,E=v+1,S=v+2;m.push(M,E,E,S,S,M)}}const b=new(jG(m)?aQ:oQ)(m,1);b.version=A;const y=l.get(p);y&&n.remove(y),l.set(p,b)}return{get:function u(p,m){return!0===a[m.id]||(m.addEventListener("dispose",c),a[m.id]=!0,i.memory.geometries++),m},update:function d(p){const m=p.attributes;for(const _ in m)n.update(m[_],34962);const g=p.morphAttributes;for(const _ in g){const A=g[_];for(let b=0,y=A.length;b<y;b++)n.update(A[b],34962)}},getWireframeAttribute:function f(p){const m=l.get(p);if(m){const g=p.index;null!==g&&m.version<g.version&&h(p)}else h(p);return l.get(p)}}}function KEe(r,n,i,s){const a=s.isWebGL2;let l,u,d;this.setMode=function c(m){l=m},this.setIndex=function h(m){u=m.type,d=m.bytesPerElement},this.render=function f(m,g){r.drawElements(l,g,u,m*d),i.update(g,l,1)},this.renderInstances=function p(m,g,_){if(0===_)return;let A,b;if(a)A=r,b="drawElementsInstanced";else if(A=n.get("ANGLE_instanced_arrays"),b="drawElementsInstancedANGLE",null===A)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");A[b](l,g,u,m*d,_),i.update(g,l,_)}}function ZEe(r){const i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:i,programs:null,autoReset:!0,reset:function a(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0},update:function s(l,c,u){switch(i.calls++,c){case 4:i.triangles+=u*(l/3);break;case 1:i.lines+=u*(l/2);break;case 3:i.lines+=u*(l-1);break;case 2:i.lines+=u*l;break;case 0:i.points+=u*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c)}}}}function JEe(r,n){return r[0]-n[0]}function eSe(r,n){return Math.abs(n[1])-Math.abs(r[1])}function tSe(r,n,i){const s={},a=new Float32Array(8),l=new WeakMap,c=new qn,u=[];for(let h=0;h<8;h++)u[h]=[h,0];return{update:function d(h,f,p,m){const g=h.morphTargetInfluences;if(!0===n.isWebGL2){const _=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,A=void 0!==_?_.length:0;let b=l.get(f);if(void 0===b||b.count!==A){let j=function(){F.dispose(),l.delete(f),f.removeEventListener("dispose",j)};void 0!==b&&b.texture.dispose();const v=void 0!==f.morphAttributes.position,C=void 0!==f.morphAttributes.normal,M=void 0!==f.morphAttributes.color,E=f.morphAttributes.position||[],S=f.morphAttributes.normal||[],x=f.morphAttributes.color||[];let D=0;!0===v&&(D=1),!0===C&&(D=2),!0===M&&(D=3);let T=f.attributes.position.count*D,k=1;T>n.maxTextureSize&&(k=Math.ceil(T/n.maxTextureSize),T=n.maxTextureSize);const R=new Float32Array(T*k*4*A),F=new pI(R,T,k,A);F.type=Ts,F.needsUpdate=!0;const O=4*D;for(let G=0;G<A;G++){const P=E[G],z=S[G],V=x[G],Y=T*k*4*G;for(let oe=0;oe<P.count;oe++){const ae=oe*O;!0===v&&(c.fromBufferAttribute(P,oe),R[Y+ae+0]=c.x,R[Y+ae+1]=c.y,R[Y+ae+2]=c.z,R[Y+ae+3]=0),!0===C&&(c.fromBufferAttribute(z,oe),R[Y+ae+4]=c.x,R[Y+ae+5]=c.y,R[Y+ae+6]=c.z,R[Y+ae+7]=0),!0===M&&(c.fromBufferAttribute(V,oe),R[Y+ae+8]=c.x,R[Y+ae+9]=c.y,R[Y+ae+10]=c.z,R[Y+ae+11]=4===V.itemSize?c.w:1)}}b={count:A,texture:F,size:new be(T,k)},l.set(f,b),f.addEventListener("dispose",j)}let y=0;for(let v=0;v<g.length;v++)y+=g[v];const w=f.morphTargetsRelative?1:1-y;m.getUniforms().setValue(r,"morphTargetBaseInfluence",w),m.getUniforms().setValue(r,"morphTargetInfluences",g),m.getUniforms().setValue(r,"morphTargetsTexture",b.texture,i),m.getUniforms().setValue(r,"morphTargetsTextureSize",b.size)}else{const _=void 0===g?0:g.length;let A=s[f.id];if(void 0===A||A.length!==_){A=[];for(let C=0;C<_;C++)A[C]=[C,0];s[f.id]=A}for(let C=0;C<_;C++){const M=A[C];M[0]=C,M[1]=g[C]}A.sort(eSe);for(let C=0;C<8;C++)C<_&&A[C][1]?(u[C][0]=A[C][0],u[C][1]=A[C][1]):(u[C][0]=Number.MAX_SAFE_INTEGER,u[C][1]=0);u.sort(JEe);const b=f.morphAttributes.position,y=f.morphAttributes.normal;let w=0;for(let C=0;C<8;C++){const M=u[C],E=M[0],S=M[1];E!==Number.MAX_SAFE_INTEGER&&S?(b&&f.getAttribute("morphTarget"+C)!==b[E]&&f.setAttribute("morphTarget"+C,b[E]),y&&f.getAttribute("morphNormal"+C)!==y[E]&&f.setAttribute("morphNormal"+C,y[E]),a[C]=S,w+=S):(b&&!0===f.hasAttribute("morphTarget"+C)&&f.deleteAttribute("morphTarget"+C),y&&!0===f.hasAttribute("morphNormal"+C)&&f.deleteAttribute("morphNormal"+C),a[C]=0)}const v=f.morphTargetsRelative?1:1-w;m.getUniforms().setValue(r,"morphTargetBaseInfluence",v),m.getUniforms().setValue(r,"morphTargetInfluences",a)}}}}function nSe(r,n,i,s){let a=new WeakMap;function u(d){const h=d.target;h.removeEventListener("dispose",u),i.remove(h.instanceMatrix),null!==h.instanceColor&&i.remove(h.instanceColor)}return{update:function l(d){const h=s.render.frame,p=n.get(d,d.geometry);return a.get(p)!==h&&(n.update(p),a.set(p,h)),d.isInstancedMesh&&(!1===d.hasEventListener("dispose",u)&&d.addEventListener("dispose",u),i.update(d.instanceMatrix,34962),null!==d.instanceColor&&i.update(d.instanceColor,34962)),p},dispose:function c(){a=new WeakMap}}}const _Q=new Xs,bQ=new pI,AQ=new mI,yQ=new Yv,vQ=[],wQ=[],CQ=new Float32Array(16),xQ=new Float32Array(9),MQ=new Float32Array(4);function Ap(r,n,i){const s=r[0];if(s<=0||s>0)return r;const a=n*i;let l=vQ[a];if(void 0===l&&(l=new Float32Array(a),vQ[a]=l),0!==n){s.toArray(l,0);for(let c=1,u=0;c!==n;++c)u+=i,r[c].toArray(l,u)}return l}function Rs(r,n){if(r.length!==n.length)return!1;for(let i=0,s=r.length;i<s;i++)if(r[i]!==n[i])return!1;return!0}function Ps(r,n){for(let i=0,s=n.length;i<s;i++)r[i]=n[i]}function Zv(r,n){let i=wQ[n];void 0===i&&(i=new Int32Array(n),wQ[n]=i);for(let s=0;s!==n;++s)i[s]=r.allocateTextureUnit();return i}function iSe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1f(this.addr,n),i[0]=n)}function rSe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(r.uniform2f(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(Rs(i,n))return;r.uniform2fv(this.addr,n),Ps(i,n)}}function sSe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(r.uniform3f(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else if(void 0!==n.r)(i[0]!==n.r||i[1]!==n.g||i[2]!==n.b)&&(r.uniform3f(this.addr,n.r,n.g,n.b),i[0]=n.r,i[1]=n.g,i[2]=n.b);else{if(Rs(i,n))return;r.uniform3fv(this.addr,n),Ps(i,n)}}function oSe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(r.uniform4f(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(Rs(i,n))return;r.uniform4fv(this.addr,n),Ps(i,n)}}function aSe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(Rs(i,n))return;r.uniformMatrix2fv(this.addr,!1,n),Ps(i,n)}else{if(Rs(i,s))return;MQ.set(s),r.uniformMatrix2fv(this.addr,!1,MQ),Ps(i,s)}}function lSe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(Rs(i,n))return;r.uniformMatrix3fv(this.addr,!1,n),Ps(i,n)}else{if(Rs(i,s))return;xQ.set(s),r.uniformMatrix3fv(this.addr,!1,xQ),Ps(i,s)}}function cSe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(Rs(i,n))return;r.uniformMatrix4fv(this.addr,!1,n),Ps(i,n)}else{if(Rs(i,s))return;CQ.set(s),r.uniformMatrix4fv(this.addr,!1,CQ),Ps(i,s)}}function uSe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n)}function dSe(r,n){const i=this.cache;Rs(i,n)||(r.uniform2iv(this.addr,n),Ps(i,n))}function hSe(r,n){const i=this.cache;Rs(i,n)||(r.uniform3iv(this.addr,n),Ps(i,n))}function fSe(r,n){const i=this.cache;Rs(i,n)||(r.uniform4iv(this.addr,n),Ps(i,n))}function pSe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1ui(this.addr,n),i[0]=n)}function mSe(r,n){const i=this.cache;Rs(i,n)||(r.uniform2uiv(this.addr,n),Ps(i,n))}function gSe(r,n){const i=this.cache;Rs(i,n)||(r.uniform3uiv(this.addr,n),Ps(i,n))}function _Se(r,n){const i=this.cache;Rs(i,n)||(r.uniform4uiv(this.addr,n),Ps(i,n))}function bSe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTexture2D(n||_Q,a)}function ASe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTexture3D(n||AQ,a)}function ySe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTextureCube(n||yQ,a)}function vSe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTexture2DArray(n||bQ,a)}function CSe(r,n){r.uniform1fv(this.addr,n)}function xSe(r,n){const i=Ap(n,this.size,2);r.uniform2fv(this.addr,i)}function MSe(r,n){const i=Ap(n,this.size,3);r.uniform3fv(this.addr,i)}function ESe(r,n){const i=Ap(n,this.size,4);r.uniform4fv(this.addr,i)}function SSe(r,n){const i=Ap(n,this.size,4);r.uniformMatrix2fv(this.addr,!1,i)}function DSe(r,n){const i=Ap(n,this.size,9);r.uniformMatrix3fv(this.addr,!1,i)}function ISe(r,n){const i=Ap(n,this.size,16);r.uniformMatrix4fv(this.addr,!1,i)}function TSe(r,n){r.uniform1iv(this.addr,n)}function kSe(r,n){r.uniform2iv(this.addr,n)}function RSe(r,n){r.uniform3iv(this.addr,n)}function PSe(r,n){r.uniform4iv(this.addr,n)}function OSe(r,n){r.uniform1uiv(this.addr,n)}function BSe(r,n){r.uniform2uiv(this.addr,n)}function LSe(r,n){r.uniform3uiv(this.addr,n)}function FSe(r,n){r.uniform4uiv(this.addr,n)}function NSe(r,n,i){const s=n.length,a=Zv(i,s);r.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)i.setTexture2D(n[l]||_Q,a[l])}function USe(r,n,i){const s=n.length,a=Zv(i,s);r.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)i.setTexture3D(n[l]||AQ,a[l])}function VSe(r,n,i){const s=n.length,a=Zv(i,s);r.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)i.setTextureCube(n[l]||yQ,a[l])}function zSe(r,n,i){const s=n.length,a=Zv(i,s);r.uniform1iv(this.addr,a);for(let l=0;l!==s;++l)i.setTexture2DArray(n[l]||bQ,a[l])}class GSe{constructor(n,i,s){this.id=n,this.addr=s,this.cache=[],this.setValue=function wSe(r){switch(r){case 5126:return iSe;case 35664:return rSe;case 35665:return sSe;case 35666:return oSe;case 35674:return aSe;case 35675:return lSe;case 35676:return cSe;case 5124:case 35670:return uSe;case 35667:case 35671:return dSe;case 35668:case 35672:return hSe;case 35669:case 35673:return fSe;case 5125:return pSe;case 36294:return mSe;case 36295:return gSe;case 36296:return _Se;case 35678:case 36198:case 36298:case 36306:case 35682:return bSe;case 35679:case 36299:case 36307:return ASe;case 35680:case 36300:case 36308:case 36293:return ySe;case 36289:case 36303:case 36311:case 36292:return vSe}}(i.type)}}class QSe{constructor(n,i,s){this.id=n,this.addr=s,this.cache=[],this.size=i.size,this.setValue=function HSe(r){switch(r){case 5126:return CSe;case 35664:return xSe;case 35665:return MSe;case 35666:return ESe;case 35674:return SSe;case 35675:return DSe;case 35676:return ISe;case 5124:case 35670:return TSe;case 35667:case 35671:return kSe;case 35668:case 35672:return RSe;case 35669:case 35673:return PSe;case 5125:return OSe;case 36294:return BSe;case 36295:return LSe;case 36296:return FSe;case 35678:case 36198:case 36298:case 36306:case 35682:return NSe;case 35679:case 36299:case 36307:return USe;case 35680:case 36300:case 36308:case 36293:return VSe;case 36289:case 36303:case 36311:case 36292:return zSe}}(i.type)}}class $Se{constructor(n){this.id=n,this.seq=[],this.map={}}setValue(n,i,s){const a=this.seq;for(let l=0,c=a.length;l!==c;++l){const u=a[l];u.setValue(n,i[u.id],s)}}}const GI=/(\w+)(\])?(\[|\.)?/g;function EQ(r,n){r.seq.push(n),r.map[n.id]=n}function WSe(r,n,i){const s=r.name,a=s.length;for(GI.lastIndex=0;;){const l=GI.exec(s),c=GI.lastIndex;let u=l[1];const h=l[3];if("]"===l[2]&&(u|=0),void 0===h||"["===h&&c+2===a){EQ(i,void 0===h?new GSe(u,r,n):new QSe(u,r,n));break}{let p=i.map[u];void 0===p&&(p=new $Se(u),EQ(i,p)),i=p}}}class Jv{constructor(n,i){this.seq=[],this.map={};const s=n.getProgramParameter(i,35718);for(let a=0;a<s;++a){const l=n.getActiveUniform(i,a);WSe(l,n.getUniformLocation(i,l.name),this)}}setValue(n,i,s,a){const l=this.map[i];void 0!==l&&l.setValue(n,s,a)}setOptional(n,i,s){const a=i[s];void 0!==a&&this.setValue(n,s,a)}static upload(n,i,s,a){for(let l=0,c=i.length;l!==c;++l){const u=i[l],d=s[u.id];!1!==d.needsUpdate&&u.setValue(n,d.value,a)}}static seqWithValue(n,i){const s=[];for(let a=0,l=n.length;a!==l;++a){const c=n[a];c.id in i&&s.push(c)}return s}}function SQ(r,n,i){const s=r.createShader(n);return r.shaderSource(s,i),r.compileShader(s),s}let jSe=0;function DQ(r,n,i){const s=r.getShaderParameter(n,35713),a=r.getShaderInfoLog(n).trim();if(s&&""===a)return"";const l=/ERROR: 0:(\d+)/.exec(a);if(l){const c=parseInt(l[1]);return i.toUpperCase()+"\n\n"+a+"\n\n"+function qSe(r,n){const i=r.split("\n"),s=[],a=Math.max(n-6,0),l=Math.min(n+6,i.length);for(let c=a;c<l;c++){const u=c+1;s.push(`${u===n?">":" "} ${u}: ${i[c]}`)}return s.join("\n")}(r.getShaderSource(n),c)}return a}function XSe(r,n){const i=function YSe(r){switch(r){case os:return["Linear","( value )"];case hn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}(n);return"vec4 "+r+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function KSe(r,n){let i;switch(n){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="OptimizedCineon";break;case 4:i="ACESFilmic";break;case 5:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),i="Linear"}return"vec3 "+r+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function D_(r){return""!==r}function IQ(r,n){const i=n.numSpotLightShadows+n.numSpotLightMaps-n.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,n.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,n.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function TQ(r,n){return r.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}const t1e=/^[ \t]*#include +<([\w\d./]+)>/gm;function QI(r){return r.replace(t1e,n1e)}function n1e(r,n){const i=gn[n];if(void 0===i)throw new Error("Can not resolve #include <"+n+">");return QI(i)}const i1e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kQ(r){return r.replace(i1e,r1e)}function r1e(r,n,i,s){let a="";for(let l=parseInt(n);l<parseInt(i);l++)a+=s.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return a}function RQ(r){let n="precision "+r.precision+" float;\nprecision "+r.precision+" int;";return"highp"===r.precision?n+="\n#define HIGH_PRECISION":"mediump"===r.precision?n+="\n#define MEDIUM_PRECISION":"lowp"===r.precision&&(n+="\n#define LOW_PRECISION"),n}function u1e(r,n,i,s){const a=r.getContext(),l=i.defines;let c=i.vertexShader,u=i.fragmentShader;const d=function s1e(r){let n="SHADOWMAP_TYPE_BASIC";return 1===r.shadowMapType?n="SHADOWMAP_TYPE_PCF":2===r.shadowMapType?n="SHADOWMAP_TYPE_PCF_SOFT":3===r.shadowMapType&&(n="SHADOWMAP_TYPE_VSM"),n}(i),h=function o1e(r){let n="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case 301:case 302:n="ENVMAP_TYPE_CUBE";break;case 306:n="ENVMAP_TYPE_CUBE_UV"}return n}(i),f=function a1e(r){let n="ENVMAP_MODE_REFLECTION";return r.envMap&&302===r.envMapMode&&(n="ENVMAP_MODE_REFRACTION"),n}(i),p=function l1e(r){let n="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}return n}(i),m=function c1e(r){const n=r.envMapCubeUVHeight;if(null===n)return null;const i=Math.log2(n)-2,s=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:s,maxMip:i}}(i),g=i.isWebGL2?"":function ZSe(r){return[r.extensionDerivatives||r.envMapCubeUVHeight||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap||r.transmission)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(D_).join("\n")}(i),_=function JSe(r){const n=[];for(const i in r){const s=r[i];!1!==s&&n.push("#define "+i+" "+s)}return n.join("\n")}(l),A=a.createProgram();let b,y,w=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(b=[_].filter(D_).join("\n"),b.length>0&&(b+="\n"),y=[g,_].filter(D_).join("\n"),y.length>0&&(y+="\n")):(b=[RQ(i),"#define SHADER_NAME "+i.shaderName,_,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+f:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+d:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(D_).join("\n"),y=[g,RQ(i),"#define SHADER_NAME "+i.shaderName,_,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.envMap?"#define "+f:"",i.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+d:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?gn.tonemapping_pars_fragment:"",0!==i.toneMapping?KSe("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",gn.encodings_pars_fragment,XSe("linearToOutputTexel",i.outputEncoding),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(D_).join("\n")),c=QI(c),c=IQ(c,i),c=TQ(c,i),u=QI(u),u=IQ(u,i),u=TQ(u,i),c=kQ(c),u=kQ(u),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(w="#version 300 es\n",b=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+b,y=["#define varying in","300 es"===i.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===i.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+y);const C=w+y+u,M=SQ(a,35633,w+b+c),E=SQ(a,35632,C);if(a.attachShader(A,M),a.attachShader(A,E),void 0!==i.index0AttributeName?a.bindAttribLocation(A,0,i.index0AttributeName):!0===i.morphTargets&&a.bindAttribLocation(A,0,"position"),a.linkProgram(A),r.debug.checkShaderErrors){const D=a.getProgramInfoLog(A).trim(),T=a.getShaderInfoLog(M).trim(),k=a.getShaderInfoLog(E).trim();let R=!0,F=!0;if(!1===a.getProgramParameter(A,35714)){R=!1;const O=DQ(a,M,"vertex"),j=DQ(a,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(A,35715)+"\n\nProgram Info Log: "+D+"\n"+O+"\n"+j)}else""!==D?console.warn("THREE.WebGLProgram: Program Info Log:",D):(""===T||""===k)&&(F=!1);F&&(this.diagnostics={runnable:R,programLog:D,vertexShader:{log:T,prefix:b},fragmentShader:{log:k,prefix:y}})}let S,x;return a.deleteShader(M),a.deleteShader(E),this.getUniforms=function(){return void 0===S&&(S=new Jv(a,A)),S},this.getAttributes=function(){return void 0===x&&(x=function e1e(r,n){const i={},s=r.getProgramParameter(n,35721);for(let a=0;a<s;a++){const l=r.getActiveAttrib(n,a),c=l.name;let u=1;35674===l.type&&(u=2),35675===l.type&&(u=3),35676===l.type&&(u=4),i[c]={type:l.type,location:r.getAttribLocation(n,c),locationSize:u}}return i}(a,A)),x},this.destroy=function(){s.releaseStatesOfProgram(this),a.deleteProgram(A),this.program=void 0},this.name=i.shaderName,this.id=jSe++,this.cacheKey=n,this.usedTimes=1,this.program=A,this.vertexShader=M,this.fragmentShader=E,this}let d1e=0;class h1e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(n){const s=n.fragmentShader,a=this._getShaderStage(n.vertexShader),l=this._getShaderStage(s),c=this._getShaderCacheForMaterial(n);return!1===c.has(a)&&(c.add(a),a.usedTimes++),!1===c.has(l)&&(c.add(l),l.usedTimes++),this}remove(n){const i=this.materialCache.get(n);for(const s of i)s.usedTimes--,0===s.usedTimes&&this.shaderCache.delete(s.code);return this.materialCache.delete(n),this}getVertexShaderID(n){return this._getShaderStage(n.vertexShader).id}getFragmentShaderID(n){return this._getShaderStage(n.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(n){const i=this.materialCache;let s=i.get(n);return void 0===s&&(s=new Set,i.set(n,s)),s}_getShaderStage(n){const i=this.shaderCache;let s=i.get(n);return void 0===s&&(s=new f1e(n),i.set(n,s)),s}}class f1e{constructor(n){this.id=d1e++,this.code=n,this.usedTimes=0}}function p1e(r,n,i,s,a,l,c){const u=new xI,d=new h1e,h=[],f=a.isWebGL2,p=a.logarithmicDepthBuffer,m=a.vertexTextures;let g=a.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function A(x,D,T,k,R){const F=k.fog,O=R.geometry,G=(x.isMeshStandardMaterial?i:n).get(x.envMap||(x.isMeshStandardMaterial?k.environment:null)),P=G&&306===G.mapping?G.image.height:null,z=_[x.type];null!==x.precision&&(g=a.getMaxPrecision(x.precision),g!==x.precision&&console.warn("THREE.WebGLProgram.getParameters:",x.precision,"not supported, using",g,"instead."));const V=O.morphAttributes.position||O.morphAttributes.normal||O.morphAttributes.color,Y=void 0!==V?V.length:0;let ae,Ce,xe,He,oe=0;if(void 0!==O.morphAttributes.position&&(oe=1),void 0!==O.morphAttributes.normal&&(oe=2),void 0!==O.morphAttributes.color&&(oe=3),z){const Ft=ol[z];ae=Ft.vertexShader,Ce=Ft.fragmentShader}else ae=x.vertexShader,Ce=x.fragmentShader,d.update(x),xe=d.getVertexShaderID(x),He=d.getFragmentShaderID(x);const le=r.getRenderTarget(),Xe=x.clearcoat>0,it=x.iridescence>0;return{isWebGL2:f,shaderID:z,shaderName:x.type,vertexShader:ae,fragmentShader:Ce,defines:x.defines,customVertexShaderID:xe,customFragmentShaderID:He,isRawShaderMaterial:!0===x.isRawShaderMaterial,glslVersion:x.glslVersion,precision:g,instancing:!0===R.isInstancedMesh,instancingColor:!0===R.isInstancedMesh&&null!==R.instanceColor,supportsVertexTextures:m,outputEncoding:null===le?r.outputEncoding:!0===le.isXRRenderTarget?le.texture.encoding:os,map:!!x.map,matcap:!!x.matcap,envMap:!!G,envMapMode:G&&G.mapping,envMapCubeUVHeight:P,lightMap:!!x.lightMap,aoMap:!!x.aoMap,emissiveMap:!!x.emissiveMap,bumpMap:!!x.bumpMap,normalMap:!!x.normalMap,objectSpaceNormalMap:1===x.normalMapType,tangentSpaceNormalMap:0===x.normalMapType,decodeVideoTexture:!!x.map&&!0===x.map.isVideoTexture&&x.map.encoding===hn,clearcoat:Xe,clearcoatMap:Xe&&!!x.clearcoatMap,clearcoatRoughnessMap:Xe&&!!x.clearcoatRoughnessMap,clearcoatNormalMap:Xe&&!!x.clearcoatNormalMap,iridescence:it,iridescenceMap:it&&!!x.iridescenceMap,iridescenceThicknessMap:it&&!!x.iridescenceThicknessMap,displacementMap:!!x.displacementMap,roughnessMap:!!x.roughnessMap,metalnessMap:!!x.metalnessMap,specularMap:!!x.specularMap,specularIntensityMap:!!x.specularIntensityMap,specularColorMap:!!x.specularColorMap,opaque:!1===x.transparent&&1===x.blending,alphaMap:!!x.alphaMap,alphaTest:x.alphaTest>0,gradientMap:!!x.gradientMap,sheen:x.sheen>0,sheenColorMap:!!x.sheenColorMap,sheenRoughnessMap:!!x.sheenRoughnessMap,transmission:x.transmission>0,transmissionMap:!!x.transmissionMap,thicknessMap:!!x.thicknessMap,combine:x.combine,vertexTangents:!!x.normalMap&&!!O.attributes.tangent,vertexColors:x.vertexColors,vertexAlphas:!0===x.vertexColors&&!!O.attributes.color&&4===O.attributes.color.itemSize,vertexUvs:!!(x.map||x.bumpMap||x.normalMap||x.specularMap||x.alphaMap||x.emissiveMap||x.roughnessMap||x.metalnessMap||x.clearcoatMap||x.clearcoatRoughnessMap||x.clearcoatNormalMap||x.iridescenceMap||x.iridescenceThicknessMap||x.displacementMap||x.transmissionMap||x.thicknessMap||x.specularIntensityMap||x.specularColorMap||x.sheenColorMap||x.sheenRoughnessMap),uvsVertexOnly:!(x.map||x.bumpMap||x.normalMap||x.specularMap||x.alphaMap||x.emissiveMap||x.roughnessMap||x.metalnessMap||x.clearcoatNormalMap||x.iridescenceMap||x.iridescenceThicknessMap||x.transmission>0||x.transmissionMap||x.thicknessMap||x.specularIntensityMap||x.specularColorMap||x.sheen>0||x.sheenColorMap||x.sheenRoughnessMap||!x.displacementMap),fog:!!F,useFog:!0===x.fog,fogExp2:F&&F.isFogExp2,flatShading:!!x.flatShading,sizeAttenuation:x.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===R.isSkinnedMesh,morphTargets:void 0!==O.morphAttributes.position,morphNormals:void 0!==O.morphAttributes.normal,morphColors:void 0!==O.morphAttributes.color,morphTargetsCount:Y,morphTextureStride:oe,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:x.dithering,shadowMapEnabled:r.shadowMap.enabled&&T.length>0,shadowMapType:r.shadowMap.type,toneMapping:x.toneMapped?r.toneMapping:0,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:x.premultipliedAlpha,doubleSided:2===x.side,flipSided:1===x.side,useDepthPacking:!!x.depthPacking,depthPacking:x.depthPacking||0,index0AttributeName:x.index0AttributeName,extensionDerivatives:x.extensions&&x.extensions.derivatives,extensionFragDepth:x.extensions&&x.extensions.fragDepth,extensionDrawBuffers:x.extensions&&x.extensions.drawBuffers,extensionShaderTextureLOD:x.extensions&&x.extensions.shaderTextureLOD,rendererExtensionFragDepth:f||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||s.has("EXT_shader_texture_lod"),customProgramCacheKey:x.customProgramCacheKey()}},getProgramCacheKey:function b(x){const D=[];if(x.shaderID?D.push(x.shaderID):(D.push(x.customVertexShaderID),D.push(x.customFragmentShaderID)),void 0!==x.defines)for(const T in x.defines)D.push(T),D.push(x.defines[T]);return!1===x.isRawShaderMaterial&&(function y(x,D){x.push(D.precision),x.push(D.outputEncoding),x.push(D.envMapMode),x.push(D.envMapCubeUVHeight),x.push(D.combine),x.push(D.vertexUvs),x.push(D.fogExp2),x.push(D.sizeAttenuation),x.push(D.morphTargetsCount),x.push(D.morphAttributeCount),x.push(D.numDirLights),x.push(D.numPointLights),x.push(D.numSpotLights),x.push(D.numSpotLightMaps),x.push(D.numHemiLights),x.push(D.numRectAreaLights),x.push(D.numDirLightShadows),x.push(D.numPointLightShadows),x.push(D.numSpotLightShadows),x.push(D.numSpotLightShadowsWithMaps),x.push(D.shadowMapType),x.push(D.toneMapping),x.push(D.numClippingPlanes),x.push(D.numClipIntersection),x.push(D.depthPacking)}(D,x),function w(x,D){u.disableAll(),D.isWebGL2&&u.enable(0),D.supportsVertexTextures&&u.enable(1),D.instancing&&u.enable(2),D.instancingColor&&u.enable(3),D.map&&u.enable(4),D.matcap&&u.enable(5),D.envMap&&u.enable(6),D.lightMap&&u.enable(7),D.aoMap&&u.enable(8),D.emissiveMap&&u.enable(9),D.bumpMap&&u.enable(10),D.normalMap&&u.enable(11),D.objectSpaceNormalMap&&u.enable(12),D.tangentSpaceNormalMap&&u.enable(13),D.clearcoat&&u.enable(14),D.clearcoatMap&&u.enable(15),D.clearcoatRoughnessMap&&u.enable(16),D.clearcoatNormalMap&&u.enable(17),D.iridescence&&u.enable(18),D.iridescenceMap&&u.enable(19),D.iridescenceThicknessMap&&u.enable(20),D.displacementMap&&u.enable(21),D.specularMap&&u.enable(22),D.roughnessMap&&u.enable(23),D.metalnessMap&&u.enable(24),D.gradientMap&&u.enable(25),D.alphaMap&&u.enable(26),D.alphaTest&&u.enable(27),D.vertexColors&&u.enable(28),D.vertexAlphas&&u.enable(29),D.vertexUvs&&u.enable(30),D.vertexTangents&&u.enable(31),D.uvsVertexOnly&&u.enable(32),x.push(u.mask),u.disableAll(),D.fog&&u.enable(0),D.useFog&&u.enable(1),D.flatShading&&u.enable(2),D.logarithmicDepthBuffer&&u.enable(3),D.skinning&&u.enable(4),D.morphTargets&&u.enable(5),D.morphNormals&&u.enable(6),D.morphColors&&u.enable(7),D.premultipliedAlpha&&u.enable(8),D.shadowMapEnabled&&u.enable(9),D.physicallyCorrectLights&&u.enable(10),D.doubleSided&&u.enable(11),D.flipSided&&u.enable(12),D.useDepthPacking&&u.enable(13),D.dithering&&u.enable(14),D.specularIntensityMap&&u.enable(15),D.specularColorMap&&u.enable(16),D.transmission&&u.enable(17),D.transmissionMap&&u.enable(18),D.thicknessMap&&u.enable(19),D.sheen&&u.enable(20),D.sheenColorMap&&u.enable(21),D.sheenRoughnessMap&&u.enable(22),D.decodeVideoTexture&&u.enable(23),D.opaque&&u.enable(24),x.push(u.mask)}(D,x),D.push(r.outputEncoding)),D.push(x.customProgramCacheKey),D.join()},getUniforms:function v(x){const D=_[x.type];let T;return T=D?Lxe.clone(ol[D].uniforms):x.uniforms,T},acquireProgram:function C(x,D){let T;for(let k=0,R=h.length;k<R;k++){const F=h[k];if(F.cacheKey===D){T=F,++T.usedTimes;break}}return void 0===T&&(T=new u1e(r,D,x,l),h.push(T)),T},releaseProgram:function M(x){if(0==--x.usedTimes){const D=h.indexOf(x);h[D]=h[h.length-1],h.pop(),x.destroy()}},releaseShaderCache:function E(x){d.remove(x)},programs:h,dispose:function S(){d.dispose()}}}function m1e(){let r=new WeakMap;return{get:function n(l){let c=r.get(l);return void 0===c&&(c={},r.set(l,c)),c},remove:function i(l){r.delete(l)},update:function s(l,c,u){r.get(l)[c]=u},dispose:function a(){r=new WeakMap}}}function g1e(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.material.id!==n.material.id?r.material.id-n.material.id:r.z!==n.z?r.z-n.z:r.id-n.id}function PQ(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.z!==n.z?n.z-r.z:r.id-n.id}function OQ(){const r=[];let n=0;const i=[],s=[],a=[];function c(p,m,g,_,A,b){let y=r[n];return void 0===y?(y={id:p.id,object:p,geometry:m,material:g,groupOrder:_,renderOrder:p.renderOrder,z:A,group:b},r[n]=y):(y.id=p.id,y.object=p,y.geometry=m,y.material=g,y.groupOrder=_,y.renderOrder=p.renderOrder,y.z=A,y.group=b),n++,y}return{opaque:i,transmissive:s,transparent:a,init:function l(){n=0,i.length=0,s.length=0,a.length=0},push:function u(p,m,g,_,A,b){const y=c(p,m,g,_,A,b);g.transmission>0?s.push(y):!0===g.transparent?a.push(y):i.push(y)},unshift:function d(p,m,g,_,A,b){const y=c(p,m,g,_,A,b);g.transmission>0?s.unshift(y):!0===g.transparent?a.unshift(y):i.unshift(y)},finish:function f(){for(let p=n,m=r.length;p<m;p++){const g=r[p];if(null===g.id)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}},sort:function h(p,m){i.length>1&&i.sort(p||g1e),s.length>1&&s.sort(m||PQ),a.length>1&&a.sort(m||PQ)}}}function _1e(){let r=new WeakMap;return{get:function n(s,a){const l=r.get(s);let c;return void 0===l?(c=new OQ,r.set(s,[c])):a>=l.length?(c=new OQ,l.push(c)):c=l[a],c},dispose:function i(){r=new WeakMap}}}function b1e(){const r={};return{get:function(n){if(void 0!==r[n.id])return r[n.id];let i;switch(n.type){case"DirectionalLight":i={direction:new L,color:new Ne};break;case"SpotLight":i={position:new L,direction:new L,color:new Ne,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new L,color:new Ne,distance:0,decay:0};break;case"HemisphereLight":i={direction:new L,skyColor:new Ne,groundColor:new Ne};break;case"RectAreaLight":i={color:new Ne,position:new L,halfWidth:new L,halfHeight:new L}}return r[n.id]=i,i}}}let y1e=0;function v1e(r,n){return(n.castShadow?2:0)-(r.castShadow?2:0)+(n.map?1:0)-(r.map?1:0)}function w1e(r,n){const i=new b1e,s=function A1e(){const r={};return{get:function(n){if(void 0!==r[n.id])return r[n.id];let i;switch(n.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new be,shadowCameraNear:1,shadowCameraFar:1e3}}return r[n.id]=i,i}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)a.probe.push(new L);const l=new L,c=new Pt,u=new Pt;return{setup:function d(f,p){let m=0,g=0,_=0;for(let k=0;k<9;k++)a.probe[k].set(0,0,0);let A=0,b=0,y=0,w=0,v=0,C=0,M=0,E=0,S=0,x=0;f.sort(v1e);const D=!0!==p?Math.PI:1;for(let k=0,R=f.length;k<R;k++){const F=f[k],O=F.color,j=F.intensity,G=F.distance,P=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)m+=O.r*j*D,g+=O.g*j*D,_+=O.b*j*D;else if(F.isLightProbe)for(let z=0;z<9;z++)a.probe[z].addScaledVector(F.sh.coefficients[z],j);else if(F.isDirectionalLight){const z=i.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity*D),F.castShadow){const V=F.shadow,Y=s.get(F);Y.shadowBias=V.bias,Y.shadowNormalBias=V.normalBias,Y.shadowRadius=V.radius,Y.shadowMapSize=V.mapSize,a.directionalShadow[A]=Y,a.directionalShadowMap[A]=P,a.directionalShadowMatrix[A]=F.shadow.matrix,C++}a.directional[A]=z,A++}else if(F.isSpotLight){const z=i.get(F);z.position.setFromMatrixPosition(F.matrixWorld),z.color.copy(O).multiplyScalar(j*D),z.distance=G,z.coneCos=Math.cos(F.angle),z.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),z.decay=F.decay,a.spot[y]=z;const V=F.shadow;if(F.map&&(a.spotLightMap[S]=F.map,S++,V.updateMatrices(F),F.castShadow&&x++),a.spotLightMatrix[y]=V.matrix,F.castShadow){const Y=s.get(F);Y.shadowBias=V.bias,Y.shadowNormalBias=V.normalBias,Y.shadowRadius=V.radius,Y.shadowMapSize=V.mapSize,a.spotShadow[y]=Y,a.spotShadowMap[y]=P,E++}y++}else if(F.isRectAreaLight){const z=i.get(F);z.color.copy(O).multiplyScalar(j),z.halfWidth.set(.5*F.width,0,0),z.halfHeight.set(0,.5*F.height,0),a.rectArea[w]=z,w++}else if(F.isPointLight){const z=i.get(F);if(z.color.copy(F.color).multiplyScalar(F.intensity*D),z.distance=F.distance,z.decay=F.decay,F.castShadow){const V=F.shadow,Y=s.get(F);Y.shadowBias=V.bias,Y.shadowNormalBias=V.normalBias,Y.shadowRadius=V.radius,Y.shadowMapSize=V.mapSize,Y.shadowCameraNear=V.camera.near,Y.shadowCameraFar=V.camera.far,a.pointShadow[b]=Y,a.pointShadowMap[b]=P,a.pointShadowMatrix[b]=F.shadow.matrix,M++}a.point[b]=z,b++}else if(F.isHemisphereLight){const z=i.get(F);z.skyColor.copy(F.color).multiplyScalar(j*D),z.groundColor.copy(F.groundColor).multiplyScalar(j*D),a.hemi[v]=z,v++}}w>0&&(n.isWebGL2||!0===r.has("OES_texture_float_linear")?(a.rectAreaLTC1=Le.LTC_FLOAT_1,a.rectAreaLTC2=Le.LTC_FLOAT_2):!0===r.has("OES_texture_half_float_linear")?(a.rectAreaLTC1=Le.LTC_HALF_1,a.rectAreaLTC2=Le.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),a.ambient[0]=m,a.ambient[1]=g,a.ambient[2]=_;const T=a.hash;(T.directionalLength!==A||T.pointLength!==b||T.spotLength!==y||T.rectAreaLength!==w||T.hemiLength!==v||T.numDirectionalShadows!==C||T.numPointShadows!==M||T.numSpotShadows!==E||T.numSpotMaps!==S)&&(a.directional.length=A,a.spot.length=y,a.rectArea.length=w,a.point.length=b,a.hemi.length=v,a.directionalShadow.length=C,a.directionalShadowMap.length=C,a.pointShadow.length=M,a.pointShadowMap.length=M,a.spotShadow.length=E,a.spotShadowMap.length=E,a.directionalShadowMatrix.length=C,a.pointShadowMatrix.length=M,a.spotLightMatrix.length=E+S-x,a.spotLightMap.length=S,a.numSpotLightShadowsWithMaps=x,T.directionalLength=A,T.pointLength=b,T.spotLength=y,T.rectAreaLength=w,T.hemiLength=v,T.numDirectionalShadows=C,T.numPointShadows=M,T.numSpotShadows=E,T.numSpotMaps=S,a.version=y1e++)},setupView:function h(f,p){let m=0,g=0,_=0,A=0,b=0;const y=p.matrixWorldInverse;for(let w=0,v=f.length;w<v;w++){const C=f[w];if(C.isDirectionalLight){const M=a.directional[m];M.direction.setFromMatrixPosition(C.matrixWorld),l.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(l),M.direction.transformDirection(y),m++}else if(C.isSpotLight){const M=a.spot[_];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(C.matrixWorld),l.setFromMatrixPosition(C.target.matrixWorld),M.direction.sub(l),M.direction.transformDirection(y),_++}else if(C.isRectAreaLight){const M=a.rectArea[A];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),u.identity(),c.copy(C.matrixWorld),c.premultiply(y),u.extractRotation(c),M.halfWidth.set(.5*C.width,0,0),M.halfHeight.set(0,.5*C.height,0),M.halfWidth.applyMatrix4(u),M.halfHeight.applyMatrix4(u),A++}else if(C.isPointLight){const M=a.point[g];M.position.setFromMatrixPosition(C.matrixWorld),M.position.applyMatrix4(y),g++}else if(C.isHemisphereLight){const M=a.hemi[b];M.direction.setFromMatrixPosition(C.matrixWorld),M.direction.transformDirection(y),b++}}},state:a}}function BQ(r,n){const i=new w1e(r,n),s=[],a=[];return{init:function l(){s.length=0,a.length=0},state:{lightsArray:s,shadowsArray:a,lights:i},setupLights:function d(p){i.setup(s,p)},setupLightsView:function h(p){i.setupView(s,p)},pushLight:function c(p){s.push(p)},pushShadow:function u(p){a.push(p)}}}function C1e(r,n){let i=new WeakMap;return{get:function s(l,c=0){const u=i.get(l);let d;return void 0===u?(d=new BQ(r,n),i.set(l,[d])):c>=u.length?(d=new BQ(r,n),u.push(d)):d=u[c],d},dispose:function a(){i=new WeakMap}}}class $I extends Go{constructor(n){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(n)}copy(n){return super.copy(n),this.depthPacking=n.depthPacking,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this}}class LQ extends Go{constructor(n){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new L,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(n)}copy(n){return super.copy(n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this}}function E1e(r,n,i){let s=new UI;const a=new be,l=new be,c=new qn,u=new $I({depthPacking:3201}),d=new LQ,h={},f=i.maxTextureSize,p={0:1,1:0,2:2},m=new $o({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new be},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),g=m.clone();g.defines.HORIZONTAL_PASS=1;const _=new rn;_.setAttribute("position",new _i(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Et(_,m),b=this;function y(C,M){const E=n.update(A);m.defines.VSM_SAMPLES!==C.blurSamples&&(m.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,m.needsUpdate=!0,g.needsUpdate=!0),null===C.mapPass&&(C.mapPass=new wa(a.x,a.y)),m.uniforms.shadow_pass.value=C.map.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,r.setRenderTarget(C.mapPass),r.clear(),r.renderBufferDirect(M,null,E,m,A,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,r.setRenderTarget(C.map),r.clear(),r.renderBufferDirect(M,null,E,g,A,null)}function w(C,M,E,S,x,D){let T=null;const k=!0===E.isPointLight?C.customDistanceMaterial:C.customDepthMaterial;if(T=void 0!==k?k:!0===E.isPointLight?d:u,r.localClippingEnabled&&!0===M.clipShadows&&Array.isArray(M.clippingPlanes)&&0!==M.clippingPlanes.length||M.displacementMap&&0!==M.displacementScale||M.alphaMap&&M.alphaTest>0){const R=T.uuid,F=M.uuid;let O=h[R];void 0===O&&(O={},h[R]=O);let j=O[F];void 0===j&&(j=T.clone(),O[F]=j),T=j}return T.visible=M.visible,T.wireframe=M.wireframe,T.side=3===D?null!==M.shadowSide?M.shadowSide:M.side:null!==M.shadowSide?M.shadowSide:p[M.side],T.alphaMap=M.alphaMap,T.alphaTest=M.alphaTest,T.clipShadows=M.clipShadows,T.clippingPlanes=M.clippingPlanes,T.clipIntersection=M.clipIntersection,T.displacementMap=M.displacementMap,T.displacementScale=M.displacementScale,T.displacementBias=M.displacementBias,T.wireframeLinewidth=M.wireframeLinewidth,T.linewidth=M.linewidth,!0===E.isPointLight&&!0===T.isMeshDistanceMaterial&&(T.referencePosition.setFromMatrixPosition(E.matrixWorld),T.nearDistance=S,T.farDistance=x),T}function v(C,M,E,S,x){if(!1===C.visible)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&3===x)&&(!C.frustumCulled||s.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(E.matrixWorldInverse,C.matrixWorld);const k=n.update(C),R=C.material;if(Array.isArray(R)){const F=k.groups;for(let O=0,j=F.length;O<j;O++){const G=F[O],P=R[G.materialIndex];if(P&&P.visible){const z=w(C,P,S,E.near,E.far,x);r.renderBufferDirect(E,null,k,z,C,G)}}}else if(R.visible){const F=w(C,R,S,E.near,E.far,x);r.renderBufferDirect(E,null,k,F,C,null)}}const T=C.children;for(let k=0,R=T.length;k<R;k++)v(T[k],M,E,S,x)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(C,M,E){if(!1===b.enabled||!1===b.autoUpdate&&!1===b.needsUpdate||0===C.length)return;const S=r.getRenderTarget(),x=r.getActiveCubeFace(),D=r.getActiveMipmapLevel(),T=r.state;T.setBlending(0),T.buffers.color.setClear(1,1,1,1),T.buffers.depth.setTest(!0),T.setScissorTest(!1);for(let k=0,R=C.length;k<R;k++){const F=C[k],O=F.shadow;if(void 0===O){console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");continue}if(!1===O.autoUpdate&&!1===O.needsUpdate)continue;a.copy(O.mapSize);const j=O.getFrameExtents();a.multiply(j),l.copy(O.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(l.x=Math.floor(f/j.x),a.x=l.x*j.x,O.mapSize.x=l.x),a.y>f&&(l.y=Math.floor(f/j.y),a.y=l.y*j.y,O.mapSize.y=l.y)),null===O.map&&(O.map=new wa(a.x,a.y,3!==this.type?{minFilter:tr,magFilter:tr}:{}),O.map.texture.name=F.name+".shadowMap",O.camera.updateProjectionMatrix()),r.setRenderTarget(O.map),r.clear();const G=O.getViewportCount();for(let P=0;P<G;P++){const z=O.getViewport(P);c.set(l.x*z.x,l.y*z.y,l.x*z.z,l.y*z.w),T.viewport(c),O.updateMatrices(F,P),s=O.getFrustum(),v(M,E,O.camera,F,this.type)}!0!==O.isPointLightShadow&&3===this.type&&y(O,E),O.needsUpdate=!1}b.needsUpdate=!1,r.setRenderTarget(S,x,D)}}function S1e(r,n,i){const s=i.isWebGL2,u=new function a(){let Z=!1;const Je=new qn;let he=null;const Ke=new qn(0,0,0,0);return{setMask:function($e){he!==$e&&!Z&&(r.colorMask($e,$e,$e,$e),he=$e)},setLocked:function($e){Z=$e},setClear:function($e,kn,Ur,sr,Ou){!0===Ou&&($e*=sr,kn*=sr,Ur*=sr),Je.set($e,kn,Ur,sr),!1===Ke.equals(Je)&&(r.clearColor($e,kn,Ur,sr),Ke.copy(Je))},reset:function(){Z=!1,he=null,Ke.set(-1,0,0,0)}}},d=new function l(){let Z=!1,Je=null,he=null,Ke=null;return{setTest:function($e){$e?Qe(2929):Xe(2929)},setMask:function($e){Je!==$e&&!Z&&(r.depthMask($e),Je=$e)},setFunc:function($e){if(he!==$e){if($e)switch($e){case 0:r.depthFunc(512);break;case 1:r.depthFunc(519);break;case 2:r.depthFunc(513);break;case 3:default:r.depthFunc(515);break;case 4:r.depthFunc(514);break;case 5:r.depthFunc(518);break;case 6:r.depthFunc(516);break;case 7:r.depthFunc(517)}else r.depthFunc(515);he=$e}},setLocked:function($e){Z=$e},setClear:function($e){Ke!==$e&&(r.clearDepth($e),Ke=$e)},reset:function(){Z=!1,Je=null,he=null,Ke=null}}},h=new function c(){let Z=!1,Je=null,he=null,Ke=null,$e=null,kn=null,Ur=null,sr=null,Ou=null;return{setTest:function(Xi){Z||(Xi?Qe(2960):Xe(2960))},setMask:function(Xi){Je!==Xi&&!Z&&(r.stencilMask(Xi),Je=Xi)},setFunc:function(Xi,Ec,Xo){(he!==Xi||Ke!==Ec||$e!==Xo)&&(r.stencilFunc(Xi,Ec,Xo),he=Xi,Ke=Ec,$e=Xo)},setOp:function(Xi,Ec,Xo){(kn!==Xi||Ur!==Ec||sr!==Xo)&&(r.stencilOp(Xi,Ec,Xo),kn=Xi,Ur=Ec,sr=Xo)},setLocked:function(Xi){Z=Xi},setClear:function(Xi){Ou!==Xi&&(r.clearStencil(Xi),Ou=Xi)},reset:function(){Z=!1,Je=null,he=null,Ke=null,$e=null,kn=null,Ur=null,sr=null,Ou=null}}},f=new WeakMap,p=new WeakMap;let m={},g={},_=new WeakMap,A=[],b=null,y=!1,w=null,v=null,C=null,M=null,E=null,S=null,x=null,D=!1,T=null,k=null,R=null,F=null,O=null;const j=r.getParameter(35661);let G=!1,P=0;const z=r.getParameter(7938);-1!==z.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(z)[1]),G=P>=1):-1!==z.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),G=P>=2);let V=null,Y={};const oe=r.getParameter(3088),ae=r.getParameter(2978),Ce=(new qn).fromArray(oe),xe=(new qn).fromArray(ae);function He(Z,Je,he){const Ke=new Uint8Array(4),$e=r.createTexture();r.bindTexture(Z,$e),r.texParameteri(Z,10241,9728),r.texParameteri(Z,10240,9728);for(let kn=0;kn<he;kn++)r.texImage2D(Je+kn,0,6408,1,1,0,6408,5121,Ke);return $e}const le={};function Qe(Z){!0!==m[Z]&&(r.enable(Z),m[Z]=!0)}function Xe(Z){!1!==m[Z]&&(r.disable(Z),m[Z]=!1)}le[3553]=He(3553,3553,1),le[34067]=He(34067,34069,6),u.setClear(0,0,0,1),d.setClear(1),h.setClear(0),Qe(2929),d.setFunc(3),Fe(!1),Vt(1),Qe(2884),Se(0);const ge={100:32774,101:32778,102:32779};if(s)ge[103]=32775,ge[104]=32776;else{const Z=n.get("EXT_blend_minmax");null!==Z&&(ge[103]=Z.MIN_EXT,ge[104]=Z.MAX_EXT)}const me={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Se(Z,Je,he,Ke,$e,kn,Ur,sr){if(0!==Z){if(!1===y&&(Qe(3042),y=!0),5===Z)$e=$e||Je,kn=kn||he,Ur=Ur||Ke,(Je!==v||$e!==E)&&(r.blendEquationSeparate(ge[Je],ge[$e]),v=Je,E=$e),(he!==C||Ke!==M||kn!==S||Ur!==x)&&(r.blendFuncSeparate(me[he],me[Ke],me[kn],me[Ur]),C=he,M=Ke,S=kn,x=Ur),w=Z,D=null;else if(Z!==w||sr!==D){if((100!==v||100!==E)&&(r.blendEquation(32774),v=100,E=100),sr)switch(Z){case 1:r.blendFuncSeparate(1,771,1,771);break;case 2:r.blendFunc(1,1);break;case 3:r.blendFuncSeparate(0,769,0,1);break;case 4:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z)}else switch(Z){case 1:r.blendFuncSeparate(770,771,1,771);break;case 2:r.blendFunc(770,1);break;case 3:r.blendFuncSeparate(0,769,0,1);break;case 4:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z)}C=null,M=null,S=null,x=null,w=Z,D=sr}}else!0===y&&(Xe(3042),y=!1)}function Fe(Z){T!==Z&&(r.frontFace(Z?2304:2305),T=Z)}function Vt(Z){0!==Z?(Qe(2884),Z!==k&&r.cullFace(1===Z?1029:2===Z?1028:1032)):Xe(2884),k=Z}function St(Z,Je,he){Z?(Qe(32823),(F!==Je||O!==he)&&(r.polygonOffset(Je,he),F=Je,O=he)):Xe(32823)}function Zn(Z){void 0===Z&&(Z=33984+j-1),V!==Z&&(r.activeTexture(Z),V=Z)}return{buffers:{color:u,depth:d,stencil:h},enable:Qe,disable:Xe,bindFramebuffer:function it(Z,Je){return g[Z]!==Je&&(r.bindFramebuffer(Z,Je),g[Z]=Je,s&&(36009===Z&&(g[36160]=Je),36160===Z&&(g[36009]=Je)),!0)},drawBuffers:function Re(Z,Je){let he=A,Ke=!1;if(Z)if(he=_.get(Je),void 0===he&&(he=[],_.set(Je,he)),Z.isWebGLMultipleRenderTargets){const $e=Z.texture;if(he.length!==$e.length||36064!==he[0]){for(let kn=0,Ur=$e.length;kn<Ur;kn++)he[kn]=36064+kn;he.length=$e.length,Ke=!0}}else 36064!==he[0]&&(he[0]=36064,Ke=!0);else 1029!==he[0]&&(he[0]=1029,Ke=!0);Ke&&(i.isWebGL2?r.drawBuffers(he):n.get("WEBGL_draw_buffers").drawBuffersWEBGL(he))},useProgram:function Ft(Z){return b!==Z&&(r.useProgram(Z),b=Z,!0)},setBlending:Se,setMaterial:function rt(Z,Je){2===Z.side?Xe(2884):Qe(2884);let he=1===Z.side;Je&&(he=!he),Fe(he),1===Z.blending&&!1===Z.transparent?Se(0):Se(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.premultipliedAlpha),d.setFunc(Z.depthFunc),d.setTest(Z.depthTest),d.setMask(Z.depthWrite),u.setMask(Z.colorWrite);const Ke=Z.stencilWrite;h.setTest(Ke),Ke&&(h.setMask(Z.stencilWriteMask),h.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),h.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),St(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),!0===Z.alphaToCoverage?Qe(32926):Xe(32926)},setFlipSided:Fe,setCullFace:Vt,setLineWidth:function Ot(Z){Z!==R&&(G&&r.lineWidth(Z),R=Z)},setPolygonOffset:St,setScissorTest:function Mi(Z){Z?Qe(3089):Xe(3089)},activeTexture:Zn,bindTexture:function Q(Z,Je){null===V&&Zn();let he=Y[V];void 0===he&&(he={type:void 0,texture:void 0},Y[V]=he),(he.type!==Z||he.texture!==Je)&&(r.bindTexture(Z,Je||le[Z]),he.type=Z,he.texture=Je)},unbindTexture:function U(){const Z=Y[V];void 0!==Z&&void 0!==Z.type&&(r.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)},compressedTexImage2D:function ce(){try{r.compressedTexImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},texImage2D:function mt(){try{r.texImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},texImage3D:function et(){try{r.texImage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},updateUBOMapping:function ln(Z,Je){let he=p.get(Je);void 0===he&&(he=new WeakMap,p.set(Je,he));let Ke=he.get(Z);void 0===Ke&&(Ke=r.getUniformBlockIndex(Je,Z.name),he.set(Z,Ke))},uniformBlockBinding:function Hn(Z,Je){const Ke=p.get(Je).get(Z);f.get(Z)!==Ke&&(r.uniformBlockBinding(Je,Ke,Z.__bindingPointIndex),f.set(Z,Ke))},texStorage2D:function qt(){try{r.texStorage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},texStorage3D:function ue(){try{r.texStorage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},texSubImage2D:function De(){try{r.texSubImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},texSubImage3D:function Pe(){try{r.texSubImage3D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},compressedTexSubImage2D:function Ge(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}},scissor:function bt(Z){!1===Ce.equals(Z)&&(r.scissor(Z.x,Z.y,Z.z,Z.w),Ce.copy(Z))},viewport:function ot(Z){!1===xe.equals(Z)&&(r.viewport(Z.x,Z.y,Z.z,Z.w),xe.copy(Z))},reset:function rr(){r.disable(3042),r.disable(2884),r.disable(2929),r.disable(32823),r.disable(3089),r.disable(2960),r.disable(32926),r.blendEquation(32774),r.blendFunc(1,0),r.blendFuncSeparate(1,0,1,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(513),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(519,0,4294967295),r.stencilOp(7680,7680,7680),r.clearStencil(0),r.cullFace(1029),r.frontFace(2305),r.polygonOffset(0,0),r.activeTexture(33984),r.bindFramebuffer(36160,null),!0===s&&(r.bindFramebuffer(36009,null),r.bindFramebuffer(36008,null)),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),m={},V=null,Y={},g={},_=new WeakMap,A=[],b=null,y=!1,w=null,v=null,C=null,M=null,E=null,S=null,x=null,D=!1,T=null,k=null,R=null,F=null,O=null,Ce.set(0,0,r.canvas.width,r.canvas.height),xe.set(0,0,r.canvas.width,r.canvas.height),u.reset(),d.reset(),h.reset()}}}function D1e(r,n,i,s,a,l,c){const u=a.isWebGL2,d=a.maxTextures,h=a.maxCubemapSize,f=a.maxTextureSize,p=a.maxSamples,m=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,g=/OculusBrowser/g.test(navigator.userAgent),_=new WeakMap;let A;const b=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function w(Q,U){return y?new OffscreenCanvas(Q,U):x_("canvas")}function v(Q,U,ce,De){let Pe=1;if((Q.width>De||Q.height>De)&&(Pe=De/Math.max(Q.width,Q.height)),Pe<1||!0===U){if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap){const Ge=U?Dv:Math.floor,qt=Ge(Pe*Q.width),ue=Ge(Pe*Q.height);void 0===A&&(A=w(qt,ue));const mt=ce?w(qt,ue):A;return mt.width=qt,mt.height=ue,mt.getContext("2d").drawImage(Q,0,0,qt,ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Q.width+"x"+Q.height+") to ("+qt+"x"+ue+")."),mt}return"data"in Q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Q.width+"x"+Q.height+")."),Q}return Q}function C(Q){return uI(Q.width)&&uI(Q.height)}function E(Q,U){return Q.generateMipmaps&&U&&Q.minFilter!==tr&&Q.minFilter!==si}function S(Q){r.generateMipmap(Q)}function x(Q,U,ce,De,Pe=!1){if(!1===u)return U;if(null!==Q){if(void 0!==r[Q])return r[Q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Ge=U;return 6403===U&&(5126===ce&&(Ge=33326),5131===ce&&(Ge=33325),5121===ce&&(Ge=33321)),33319===U&&(5126===ce&&(Ge=33328),5131===ce&&(Ge=33327),5121===ce&&(Ge=33323)),6408===U&&(5126===ce&&(Ge=34836),5131===ce&&(Ge=34842),5121===ce&&(Ge=De===hn&&!1===Pe?35907:32856),32819===ce&&(Ge=32854),32820===ce&&(Ge=32855)),(33325===Ge||33326===Ge||33327===Ge||33328===Ge||34842===Ge||34836===Ge)&&n.get("EXT_color_buffer_float"),Ge}function D(Q,U,ce){return!0===E(Q,ce)||Q.isFramebufferTexture&&Q.minFilter!==tr&&Q.minFilter!==si?Math.log2(Math.max(U.width,U.height))+1:void 0!==Q.mipmaps&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?U.mipmaps.length:1}function T(Q){return Q===tr||1004===Q||1005===Q?9728:9729}function k(Q){const U=Q.target;U.removeEventListener("dispose",k),function F(Q){const U=s.get(Q);if(void 0===U.__webglInit)return;const ce=Q.source,De=b.get(ce);if(De){const Pe=De[U.__cacheKey];Pe.usedTimes--,0===Pe.usedTimes&&O(Q),0===Object.keys(De).length&&b.delete(ce)}s.remove(Q)}(U),U.isVideoTexture&&_.delete(U)}function R(Q){const U=Q.target;U.removeEventListener("dispose",R),function j(Q){const U=Q.texture,ce=s.get(Q),De=s.get(U);if(void 0!==De.__webglTexture&&(r.deleteTexture(De.__webglTexture),c.memory.textures--),Q.depthTexture&&Q.depthTexture.dispose(),Q.isWebGLCubeRenderTarget)for(let Pe=0;Pe<6;Pe++)r.deleteFramebuffer(ce.__webglFramebuffer[Pe]),ce.__webglDepthbuffer&&r.deleteRenderbuffer(ce.__webglDepthbuffer[Pe]);else{if(r.deleteFramebuffer(ce.__webglFramebuffer),ce.__webglDepthbuffer&&r.deleteRenderbuffer(ce.__webglDepthbuffer),ce.__webglMultisampledFramebuffer&&r.deleteFramebuffer(ce.__webglMultisampledFramebuffer),ce.__webglColorRenderbuffer)for(let Pe=0;Pe<ce.__webglColorRenderbuffer.length;Pe++)ce.__webglColorRenderbuffer[Pe]&&r.deleteRenderbuffer(ce.__webglColorRenderbuffer[Pe]);ce.__webglDepthRenderbuffer&&r.deleteRenderbuffer(ce.__webglDepthRenderbuffer)}if(Q.isWebGLMultipleRenderTargets)for(let Pe=0,Ge=U.length;Pe<Ge;Pe++){const qt=s.get(U[Pe]);qt.__webglTexture&&(r.deleteTexture(qt.__webglTexture),c.memory.textures--),s.remove(U[Pe])}s.remove(U),s.remove(Q)}(U)}function O(Q){const U=s.get(Q);r.deleteTexture(U.__webglTexture),delete b.get(Q.source)[U.__cacheKey],c.memory.textures--}let G=0;function Y(Q,U){const ce=s.get(Q);if(Q.isVideoTexture&&function Mi(Q){const U=c.render.frame;_.get(Q)!==U&&(_.set(Q,U),Q.update())}(Q),!1===Q.isRenderTargetTexture&&Q.version>0&&ce.__version!==Q.version){const De=Q.image;if(null===De)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==De.complete)return void Xe(ce,Q,U);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+U),i.bindTexture(3553,ce.__webglTexture)}const xe={[rl]:10497,[ss]:33071,1002:33648},He={[tr]:9728,1004:9984,1005:9986,[si]:9729,1007:9985,[sl]:9987};function le(Q,U,ce){if(ce?(r.texParameteri(Q,10242,xe[U.wrapS]),r.texParameteri(Q,10243,xe[U.wrapT]),(32879===Q||35866===Q)&&r.texParameteri(Q,32882,xe[U.wrapR]),r.texParameteri(Q,10240,He[U.magFilter]),r.texParameteri(Q,10241,He[U.minFilter])):(r.texParameteri(Q,10242,33071),r.texParameteri(Q,10243,33071),(32879===Q||35866===Q)&&r.texParameteri(Q,32882,33071),(U.wrapS!==ss||U.wrapT!==ss)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(Q,10240,T(U.magFilter)),r.texParameteri(Q,10241,T(U.minFilter)),U.minFilter!==tr&&U.minFilter!==si&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===n.has("EXT_texture_filter_anisotropic")){const De=n.get("EXT_texture_filter_anisotropic");if(U.type===Ts&&!1===n.has("OES_texture_float_linear")||!1===u&&U.type===ks&&!1===n.has("OES_texture_half_float_linear"))return;(U.anisotropy>1||s.get(U).__currentAnisotropy)&&(r.texParameterf(Q,De.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,a.getMaxAnisotropy())),s.get(U).__currentAnisotropy=U.anisotropy)}}function Qe(Q,U){let ce=!1;void 0===Q.__webglInit&&(Q.__webglInit=!0,U.addEventListener("dispose",k));const De=U.source;let Pe=b.get(De);void 0===Pe&&(Pe={},b.set(De,Pe));const Ge=function V(Q){const U=[];return U.push(Q.wrapS),U.push(Q.wrapT),U.push(Q.magFilter),U.push(Q.minFilter),U.push(Q.anisotropy),U.push(Q.internalFormat),U.push(Q.format),U.push(Q.type),U.push(Q.generateMipmaps),U.push(Q.premultiplyAlpha),U.push(Q.flipY),U.push(Q.unpackAlignment),U.push(Q.encoding),U.join()}(U);if(Ge!==Q.__cacheKey){void 0===Pe[Ge]&&(Pe[Ge]={texture:r.createTexture(),usedTimes:0},c.memory.textures++,ce=!0),Pe[Ge].usedTimes++;const qt=Pe[Q.__cacheKey];void 0!==qt&&(Pe[Q.__cacheKey].usedTimes--,0===qt.usedTimes&&O(U)),Q.__cacheKey=Ge,Q.__webglTexture=Pe[Ge].texture}return ce}function Xe(Q,U,ce){let De=3553;U.isDataArrayTexture&&(De=35866),U.isData3DTexture&&(De=32879);const Pe=Qe(Q,U),Ge=U.source;if(i.activeTexture(33984+ce),i.bindTexture(De,Q.__webglTexture),Ge.version!==Ge.__currentVersion||!0===Pe){r.pixelStorei(37440,U.flipY),r.pixelStorei(37441,U.premultiplyAlpha),r.pixelStorei(3317,U.unpackAlignment),r.pixelStorei(37443,0);const qt=function M(Q){return!u&&(Q.wrapS!==ss||Q.wrapT!==ss||Q.minFilter!==tr&&Q.minFilter!==si)}(U)&&!1===C(U.image);let ue=v(U.image,qt,!1,f);ue=Zn(U,ue);const mt=C(ue)||u,et=l.convert(U.format,U.encoding);let ln,bt=l.convert(U.type),ot=x(U.internalFormat,et,bt,U.encoding,U.isVideoTexture);le(De,U,mt);const Hn=U.mipmaps,rr=u&&!0!==U.isVideoTexture,Z=void 0===Ge.__currentVersion||!0===Pe,Je=D(U,ue,mt);if(U.isDepthTexture)ot=6402,u?ot=U.type===Ts?36012:U.type===Id?33190:U.type===Kf?35056:33189:U.type===Ts&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===Td&&6402===ot&&1012!==U.type&&U.type!==Id&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=Id,bt=l.convert(U.type)),U.format===Zf&&6402===ot&&(ot=34041,U.type!==Kf&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=Kf,bt=l.convert(U.type))),Z&&(rr?i.texStorage2D(3553,1,ot,ue.width,ue.height):i.texImage2D(3553,0,ot,ue.width,ue.height,0,et,bt,null));else if(U.isDataTexture)if(Hn.length>0&&mt){rr&&Z&&i.texStorage2D(3553,Je,ot,Hn[0].width,Hn[0].height);for(let he=0,Ke=Hn.length;he<Ke;he++)ln=Hn[he],rr?i.texSubImage2D(3553,he,0,0,ln.width,ln.height,et,bt,ln.data):i.texImage2D(3553,he,ot,ln.width,ln.height,0,et,bt,ln.data);U.generateMipmaps=!1}else rr?(Z&&i.texStorage2D(3553,Je,ot,ue.width,ue.height),i.texSubImage2D(3553,0,0,0,ue.width,ue.height,et,bt,ue.data)):i.texImage2D(3553,0,ot,ue.width,ue.height,0,et,bt,ue.data);else if(U.isCompressedTexture){rr&&Z&&i.texStorage2D(3553,Je,ot,Hn[0].width,Hn[0].height);for(let he=0,Ke=Hn.length;he<Ke;he++)ln=Hn[he],U.format!==Ir?null!==et?rr?i.compressedTexSubImage2D(3553,he,0,0,ln.width,ln.height,et,ln.data):i.compressedTexImage2D(3553,he,ot,ln.width,ln.height,0,ln.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):rr?i.texSubImage2D(3553,he,0,0,ln.width,ln.height,et,bt,ln.data):i.texImage2D(3553,he,ot,ln.width,ln.height,0,et,bt,ln.data)}else if(U.isDataArrayTexture)rr?(Z&&i.texStorage3D(35866,Je,ot,ue.width,ue.height,ue.depth),i.texSubImage3D(35866,0,0,0,0,ue.width,ue.height,ue.depth,et,bt,ue.data)):i.texImage3D(35866,0,ot,ue.width,ue.height,ue.depth,0,et,bt,ue.data);else if(U.isData3DTexture)rr?(Z&&i.texStorage3D(32879,Je,ot,ue.width,ue.height,ue.depth),i.texSubImage3D(32879,0,0,0,0,ue.width,ue.height,ue.depth,et,bt,ue.data)):i.texImage3D(32879,0,ot,ue.width,ue.height,ue.depth,0,et,bt,ue.data);else if(U.isFramebufferTexture){if(Z)if(rr)i.texStorage2D(3553,Je,ot,ue.width,ue.height);else{let he=ue.width,Ke=ue.height;for(let $e=0;$e<Je;$e++)i.texImage2D(3553,$e,ot,he,Ke,0,et,bt,null),he>>=1,Ke>>=1}}else if(Hn.length>0&&mt){rr&&Z&&i.texStorage2D(3553,Je,ot,Hn[0].width,Hn[0].height);for(let he=0,Ke=Hn.length;he<Ke;he++)ln=Hn[he],rr?i.texSubImage2D(3553,he,0,0,et,bt,ln):i.texImage2D(3553,he,ot,et,bt,ln);U.generateMipmaps=!1}else rr?(Z&&i.texStorage2D(3553,Je,ot,ue.width,ue.height),i.texSubImage2D(3553,0,0,0,et,bt,ue)):i.texImage2D(3553,0,ot,et,bt,ue);E(U,mt)&&S(De),Ge.__currentVersion=Ge.version,U.onUpdate&&U.onUpdate(U)}Q.__version=U.version}function Re(Q,U,ce,De,Pe){const Ge=l.convert(ce.format,ce.encoding),qt=l.convert(ce.type),ue=x(ce.internalFormat,Ge,qt,ce.encoding);s.get(U).__hasExternalTextures||(32879===Pe||35866===Pe?i.texImage3D(Pe,0,ue,U.width,U.height,U.depth,0,Ge,qt,null):i.texImage2D(Pe,0,ue,U.width,U.height,0,Ge,qt,null)),i.bindFramebuffer(36160,Q),St(U)?m.framebufferTexture2DMultisampleEXT(36160,De,Pe,s.get(ce).__webglTexture,0,Ot(U)):r.framebufferTexture2D(36160,De,Pe,s.get(ce).__webglTexture,0),i.bindFramebuffer(36160,null)}function Ft(Q,U,ce){if(r.bindRenderbuffer(36161,Q),U.depthBuffer&&!U.stencilBuffer){let De=33189;if(ce||St(U)){const Pe=U.depthTexture;Pe&&Pe.isDepthTexture&&(Pe.type===Ts?De=36012:Pe.type===Id&&(De=33190));const Ge=Ot(U);St(U)?m.renderbufferStorageMultisampleEXT(36161,Ge,De,U.width,U.height):r.renderbufferStorageMultisample(36161,Ge,De,U.width,U.height)}else r.renderbufferStorage(36161,De,U.width,U.height);r.framebufferRenderbuffer(36160,36096,36161,Q)}else if(U.depthBuffer&&U.stencilBuffer){const De=Ot(U);ce&&!1===St(U)?r.renderbufferStorageMultisample(36161,De,35056,U.width,U.height):St(U)?m.renderbufferStorageMultisampleEXT(36161,De,35056,U.width,U.height):r.renderbufferStorage(36161,34041,U.width,U.height),r.framebufferRenderbuffer(36160,33306,36161,Q)}else{const De=!0===U.isWebGLMultipleRenderTargets?U.texture:[U.texture];for(let Pe=0;Pe<De.length;Pe++){const Ge=De[Pe],qt=l.convert(Ge.format,Ge.encoding),ue=l.convert(Ge.type),mt=x(Ge.internalFormat,qt,ue,Ge.encoding),et=Ot(U);ce&&!1===St(U)?r.renderbufferStorageMultisample(36161,et,mt,U.width,U.height):St(U)?m.renderbufferStorageMultisampleEXT(36161,et,mt,U.width,U.height):r.renderbufferStorage(36161,mt,U.width,U.height)}}r.bindRenderbuffer(36161,null)}function me(Q){const U=s.get(Q),ce=!0===Q.isWebGLCubeRenderTarget;if(Q.depthTexture&&!U.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");!function ge(Q,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,Q),!U.depthTexture||!U.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),Y(U.depthTexture,0);const De=s.get(U.depthTexture).__webglTexture,Pe=Ot(U);if(U.depthTexture.format===Td)St(U)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,De,0,Pe):r.framebufferTexture2D(36160,36096,3553,De,0);else{if(U.depthTexture.format!==Zf)throw new Error("Unknown depthTexture format");St(U)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,De,0,Pe):r.framebufferTexture2D(36160,33306,3553,De,0)}}(U.__webglFramebuffer,Q)}else if(ce){U.__webglDepthbuffer=[];for(let De=0;De<6;De++)i.bindFramebuffer(36160,U.__webglFramebuffer[De]),U.__webglDepthbuffer[De]=r.createRenderbuffer(),Ft(U.__webglDepthbuffer[De],Q,!1)}else i.bindFramebuffer(36160,U.__webglFramebuffer),U.__webglDepthbuffer=r.createRenderbuffer(),Ft(U.__webglDepthbuffer,Q,!1);i.bindFramebuffer(36160,null)}function Ot(Q){return Math.min(p,Q.samples)}function St(Q){const U=s.get(Q);return u&&Q.samples>0&&!0===n.has("WEBGL_multisampled_render_to_texture")&&!1!==U.__useRenderToTexture}function Zn(Q,U){const ce=Q.encoding,De=Q.format,Pe=Q.type;return!0===Q.isCompressedTexture||!0===Q.isVideoTexture||1035===Q.format||ce!==os&&(ce===hn?!1===u?!0===n.has("EXT_sRGB")&&De===Ir?(Q.format=1035,Q.minFilter=si,Q.generateMipmaps=!1):U=YG.sRGBToLinear(U):(De!==Ir||Pe!==Ys)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ce)),U}this.allocateTextureUnit=function z(){const Q=G;return Q>=d&&console.warn("THREE.WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+d),G+=1,Q},this.resetTextureUnits=function P(){G=0},this.setTexture2D=Y,this.setTexture2DArray=function oe(Q,U){const ce=s.get(Q);Q.version>0&&ce.__version!==Q.version?Xe(ce,Q,U):(i.activeTexture(33984+U),i.bindTexture(35866,ce.__webglTexture))},this.setTexture3D=function ae(Q,U){const ce=s.get(Q);Q.version>0&&ce.__version!==Q.version?Xe(ce,Q,U):(i.activeTexture(33984+U),i.bindTexture(32879,ce.__webglTexture))},this.setTextureCube=function Ce(Q,U){const ce=s.get(Q);Q.version>0&&ce.__version!==Q.version?function it(Q,U,ce){if(6!==U.image.length)return;const De=Qe(Q,U),Pe=U.source;if(i.activeTexture(33984+ce),i.bindTexture(34067,Q.__webglTexture),Pe.version!==Pe.__currentVersion||!0===De){r.pixelStorei(37440,U.flipY),r.pixelStorei(37441,U.premultiplyAlpha),r.pixelStorei(3317,U.unpackAlignment),r.pixelStorei(37443,0);const Ge=U.isCompressedTexture||U.image[0].isCompressedTexture,qt=U.image[0]&&U.image[0].isDataTexture,ue=[];for(let he=0;he<6;he++)ue[he]=Ge||qt?qt?U.image[he].image:U.image[he]:v(U.image[he],!1,!0,h),ue[he]=Zn(U,ue[he]);const mt=ue[0],et=C(mt)||u,bt=l.convert(U.format,U.encoding),ot=l.convert(U.type),ln=x(U.internalFormat,bt,ot,U.encoding),Hn=u&&!0!==U.isVideoTexture,rr=void 0===Pe.__currentVersion||!0===De;let Je,Z=D(U,mt,et);if(le(34067,U,et),Ge){Hn&&rr&&i.texStorage2D(34067,Z,ln,mt.width,mt.height);for(let he=0;he<6;he++){Je=ue[he].mipmaps;for(let Ke=0;Ke<Je.length;Ke++){const $e=Je[Ke];U.format!==Ir?null!==bt?Hn?i.compressedTexSubImage2D(34069+he,Ke,0,0,$e.width,$e.height,bt,$e.data):i.compressedTexImage2D(34069+he,Ke,ln,$e.width,$e.height,0,$e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Hn?i.texSubImage2D(34069+he,Ke,0,0,$e.width,$e.height,bt,ot,$e.data):i.texImage2D(34069+he,Ke,ln,$e.width,$e.height,0,bt,ot,$e.data)}}}else{Je=U.mipmaps,Hn&&rr&&(Je.length>0&&Z++,i.texStorage2D(34067,Z,ln,ue[0].width,ue[0].height));for(let he=0;he<6;he++)if(qt){Hn?i.texSubImage2D(34069+he,0,0,0,ue[he].width,ue[he].height,bt,ot,ue[he].data):i.texImage2D(34069+he,0,ln,ue[he].width,ue[he].height,0,bt,ot,ue[he].data);for(let Ke=0;Ke<Je.length;Ke++){const kn=Je[Ke].image[he].image;Hn?i.texSubImage2D(34069+he,Ke+1,0,0,kn.width,kn.height,bt,ot,kn.data):i.texImage2D(34069+he,Ke+1,ln,kn.width,kn.height,0,bt,ot,kn.data)}}else{Hn?i.texSubImage2D(34069+he,0,0,0,bt,ot,ue[he]):i.texImage2D(34069+he,0,ln,bt,ot,ue[he]);for(let Ke=0;Ke<Je.length;Ke++){const $e=Je[Ke];Hn?i.texSubImage2D(34069+he,Ke+1,0,0,bt,ot,$e.image[he]):i.texImage2D(34069+he,Ke+1,ln,bt,ot,$e.image[he])}}}E(U,et)&&S(34067),Pe.__currentVersion=Pe.version,U.onUpdate&&U.onUpdate(U)}Q.__version=U.version}(ce,Q,U):(i.activeTexture(33984+U),i.bindTexture(34067,ce.__webglTexture))},this.rebindTextures=function Se(Q,U,ce){const De=s.get(Q);void 0!==U&&Re(De.__webglFramebuffer,Q,Q.texture,36064,3553),void 0!==ce&&me(Q)},this.setupRenderTarget=function rt(Q){const U=Q.texture,ce=s.get(Q),De=s.get(U);Q.addEventListener("dispose",R),!0!==Q.isWebGLMultipleRenderTargets&&(void 0===De.__webglTexture&&(De.__webglTexture=r.createTexture()),De.__version=U.version,c.memory.textures++);const Pe=!0===Q.isWebGLCubeRenderTarget,Ge=!0===Q.isWebGLMultipleRenderTargets,qt=C(Q)||u;if(Pe){ce.__webglFramebuffer=[];for(let ue=0;ue<6;ue++)ce.__webglFramebuffer[ue]=r.createFramebuffer()}else{if(ce.__webglFramebuffer=r.createFramebuffer(),Ge)if(a.drawBuffers){const ue=Q.texture;for(let mt=0,et=ue.length;mt<et;mt++){const bt=s.get(ue[mt]);void 0===bt.__webglTexture&&(bt.__webglTexture=r.createTexture(),c.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(u&&Q.samples>0&&!1===St(Q)){const ue=Ge?U:[U];ce.__webglMultisampledFramebuffer=r.createFramebuffer(),ce.__webglColorRenderbuffer=[],i.bindFramebuffer(36160,ce.__webglMultisampledFramebuffer);for(let mt=0;mt<ue.length;mt++){const et=ue[mt];ce.__webglColorRenderbuffer[mt]=r.createRenderbuffer(),r.bindRenderbuffer(36161,ce.__webglColorRenderbuffer[mt]);const bt=l.convert(et.format,et.encoding),ot=l.convert(et.type),ln=x(et.internalFormat,bt,ot,et.encoding),Hn=Ot(Q);r.renderbufferStorageMultisample(36161,Hn,ln,Q.width,Q.height),r.framebufferRenderbuffer(36160,36064+mt,36161,ce.__webglColorRenderbuffer[mt])}r.bindRenderbuffer(36161,null),Q.depthBuffer&&(ce.__webglDepthRenderbuffer=r.createRenderbuffer(),Ft(ce.__webglDepthRenderbuffer,Q,!0)),i.bindFramebuffer(36160,null)}}if(Pe){i.bindTexture(34067,De.__webglTexture),le(34067,U,qt);for(let ue=0;ue<6;ue++)Re(ce.__webglFramebuffer[ue],Q,U,36064,34069+ue);E(U,qt)&&S(34067),i.unbindTexture()}else if(Ge){const ue=Q.texture;for(let mt=0,et=ue.length;mt<et;mt++){const bt=ue[mt],ot=s.get(bt);i.bindTexture(3553,ot.__webglTexture),le(3553,bt,qt),Re(ce.__webglFramebuffer,Q,bt,36064+mt,3553),E(bt,qt)&&S(3553)}i.unbindTexture()}else{let ue=3553;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(u?ue=Q.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(ue,De.__webglTexture),le(ue,U,qt),Re(ce.__webglFramebuffer,Q,U,36064,ue),E(U,qt)&&S(ue),i.unbindTexture()}Q.depthBuffer&&me(Q)},this.updateRenderTargetMipmap=function Fe(Q){const U=C(Q)||u,ce=!0===Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture];for(let De=0,Pe=ce.length;De<Pe;De++){const Ge=ce[De];if(E(Ge,U)){const qt=Q.isWebGLCubeRenderTarget?34067:3553,ue=s.get(Ge).__webglTexture;i.bindTexture(qt,ue),S(qt),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function Vt(Q){if(u&&Q.samples>0&&!1===St(Q)){const U=Q.isWebGLMultipleRenderTargets?Q.texture:[Q.texture],ce=Q.width,De=Q.height;let Pe=16384;const Ge=[],qt=Q.stencilBuffer?33306:36096,ue=s.get(Q),mt=!0===Q.isWebGLMultipleRenderTargets;if(mt)for(let et=0;et<U.length;et++)i.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+et,36161,null),i.bindFramebuffer(36160,ue.__webglFramebuffer),r.framebufferTexture2D(36009,36064+et,3553,null,0);i.bindFramebuffer(36008,ue.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,ue.__webglFramebuffer);for(let et=0;et<U.length;et++){Ge.push(36064+et),Q.depthBuffer&&Ge.push(qt);const bt=void 0!==ue.__ignoreDepthValues&&ue.__ignoreDepthValues;if(!1===bt&&(Q.depthBuffer&&(Pe|=256),Q.stencilBuffer&&(Pe|=1024)),mt&&r.framebufferRenderbuffer(36008,36064,36161,ue.__webglColorRenderbuffer[et]),!0===bt&&(r.invalidateFramebuffer(36008,[qt]),r.invalidateFramebuffer(36009,[qt])),mt){const ot=s.get(U[et]).__webglTexture;r.framebufferTexture2D(36009,36064,3553,ot,0)}r.blitFramebuffer(0,0,ce,De,0,0,ce,De,Pe,9728),g&&r.invalidateFramebuffer(36008,Ge)}if(i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,null),mt)for(let et=0;et<U.length;et++){i.bindFramebuffer(36160,ue.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064+et,36161,ue.__webglColorRenderbuffer[et]);const bt=s.get(U[et]).__webglTexture;i.bindFramebuffer(36160,ue.__webglFramebuffer),r.framebufferTexture2D(36009,36064+et,3553,bt,0)}i.bindFramebuffer(36009,ue.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=St}function I1e(r,n,i){const s=i.isWebGL2;return{convert:function a(l,c=null){let u;if(l===Ys)return 5121;if(1017===l)return 32819;if(1018===l)return 32820;if(1010===l)return 5120;if(1011===l)return 5122;if(1012===l)return 5123;if(1013===l)return 5124;if(l===Id)return 5125;if(l===Ts)return 5126;if(l===ks)return s?5131:(u=n.get("OES_texture_half_float"),null!==u?u.HALF_FLOAT_OES:null);if(1021===l)return 6406;if(l===Ir)return 6408;if(1024===l)return 6409;if(1025===l)return 6410;if(l===Td)return 6402;if(l===Zf)return 34041;if(l===y_)return 6403;if(1022===l)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===l)return u=n.get("EXT_sRGB"),null!==u?u.SRGB_ALPHA_EXT:null;if(1029===l)return 36244;if(l===v_)return 33319;if(1031===l)return 33320;if(1033===l)return 36249;if(l===xv||33777===l||33778===l||l===Mv)if(c===hn){if(u=n.get("WEBGL_compressed_texture_s3tc_srgb"),null===u)return null;if(l===xv)return u.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===l)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===l)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(l===Mv)return u.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(u=n.get("WEBGL_compressed_texture_s3tc"),null===u)return null;if(l===xv)return u.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===l)return u.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===l)return u.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(l===Mv)return u.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===l||35841===l||35842===l||35843===l){if(u=n.get("WEBGL_compressed_texture_pvrtc"),null===u)return null;if(35840===l)return u.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===l)return u.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===l)return u.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===l)return u.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===l)return u=n.get("WEBGL_compressed_texture_etc1"),null!==u?u.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===l||37496===l){if(u=n.get("WEBGL_compressed_texture_etc"),null===u)return null;if(37492===l)return c===hn?u.COMPRESSED_SRGB8_ETC2:u.COMPRESSED_RGB8_ETC2;if(37496===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:u.COMPRESSED_RGBA8_ETC2_EAC}if(37808===l||37809===l||37810===l||37811===l||37812===l||37813===l||37814===l||37815===l||37816===l||37817===l||37818===l||37819===l||37820===l||37821===l){if(u=n.get("WEBGL_compressed_texture_astc"),null===u)return null;if(37808===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:u.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:u.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:u.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:u.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:u.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:u.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:u.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:u.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:u.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:u.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:u.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:u.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:u.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===l)return c===hn?u.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:u.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===l){if(u=n.get("EXT_texture_compression_bptc"),null===u)return null;if(36492===l)return c===hn?u.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:u.COMPRESSED_RGBA_BPTC_UNORM_EXT}return l===Kf?s?34042:(u=n.get("WEBGL_depth_texture"),null!==u?u.UNSIGNED_INT_24_8_WEBGL:null):void 0!==r[l]?r[l]:null}}}class T1e extends gr{constructor(n=[]){super(),this.isArrayCamera=!0,this.cameras=n}}class oc extends pr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const k1e={type:"move"};class WI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new oc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new oc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new oc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(n){return null!==this._targetRay&&this._targetRay.dispatchEvent(n),null!==this._grip&&this._grip.dispatchEvent(n),null!==this._hand&&this._hand.dispatchEvent(n),this}disconnect(n){return this.dispatchEvent({type:"disconnected",data:n}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(n,i,s){let a=null,l=null,c=null;const u=this._targetRay,d=this._grip,h=this._hand;if(n&&"visible-blurred"!==i.session.visibilityState){if(h&&n.hand){c=!0;for(const A of n.hand.values()){const b=i.getJointPose(A,s);if(void 0===h.joints[A.jointName]){const w=new oc;w.matrixAutoUpdate=!1,w.visible=!1,h.joints[A.jointName]=w,h.add(w)}const y=h.joints[A.jointName];null!==b&&(y.matrix.fromArray(b.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.jointRadius=b.radius),y.visible=null!==b}const m=h.joints["index-finger-tip"].position.distanceTo(h.joints["thumb-tip"].position),g=.02,_=.005;h.inputState.pinching&&m>g+_?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:n.handedness,target:this})):!h.inputState.pinching&&m<=g-_&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:n.handedness,target:this}))}else null!==d&&n.gripSpace&&(l=i.getPose(n.gripSpace,s),null!==l&&(d.matrix.fromArray(l.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),l.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(l.linearVelocity)):d.hasLinearVelocity=!1,l.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(l.angularVelocity)):d.hasAngularVelocity=!1));null!==u&&(a=i.getPose(n.targetRaySpace,s),null===a&&null!==l&&(a=l),null!==a&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(k1e)))}return null!==u&&(u.visible=null!==a),null!==d&&(d.visible=null!==l),null!==h&&(h.visible=null!==c),this}}class R1e extends Xs{constructor(n,i,s,a,l,c,u,d,h,f){if((f=void 0!==f?f:Td)!==Td&&f!==Zf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===s&&f===Td&&(s=Id),void 0===s&&f===Zf&&(s=Kf),super(null,a,l,c,u,d,f,s,h),this.isDepthTexture=!0,this.image={width:n,height:i},this.magFilter=void 0!==u?u:tr,this.minFilter=void 0!==d?d:tr,this.flipY=!1,this.generateMipmaps=!1}}class P1e extends Ho{constructor(n,i){super();const s=this;let a=null,l=1,c=null,u="local-floor",d=null,h=null,f=null,p=null,m=null,g=null;const _=i.getContextAttributes();let A=null,b=null;const y=[],w=[],v=new gr;v.layers.enable(1),v.viewport=new qn;const C=new gr;C.layers.enable(2),C.viewport=new qn;const M=[v,C],E=new T1e;E.layers.enable(1),E.layers.enable(2);let S=null,x=null;function D(V){const Y=w.indexOf(V.inputSource);if(-1===Y)return;const oe=y[Y];void 0!==oe&&oe.dispatchEvent({type:V.type,data:V.inputSource})}function T(){a.removeEventListener("select",D),a.removeEventListener("selectstart",D),a.removeEventListener("selectend",D),a.removeEventListener("squeeze",D),a.removeEventListener("squeezestart",D),a.removeEventListener("squeezeend",D),a.removeEventListener("end",T),a.removeEventListener("inputsourceschange",k);for(let V=0;V<y.length;V++){const Y=w[V];null!==Y&&(w[V]=null,y[V].disconnect(Y))}S=null,x=null,n.setRenderTarget(A),m=null,p=null,f=null,a=null,b=null,z.stop(),s.isPresenting=!1,s.dispatchEvent({type:"sessionend"})}function k(V){for(let Y=0;Y<V.removed.length;Y++){const oe=V.removed[Y],ae=w.indexOf(oe);ae>=0&&(w[ae]=null,y[ae].dispatchEvent({type:"disconnected",data:oe}))}for(let Y=0;Y<V.added.length;Y++){const oe=V.added[Y];let ae=w.indexOf(oe);if(-1===ae){for(let xe=0;xe<y.length;xe++){if(xe>=w.length){w.push(oe),ae=xe;break}if(null===w[xe]){w[xe]=oe,ae=xe;break}}if(-1===ae)break}const Ce=y[ae];Ce&&Ce.dispatchEvent({type:"connected",data:oe})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(V){let Y=y[V];return void 0===Y&&(Y=new WI,y[V]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(V){let Y=y[V];return void 0===Y&&(Y=new WI,y[V]=Y),Y.getGripSpace()},this.getHand=function(V){let Y=y[V];return void 0===Y&&(Y=new WI,y[V]=Y),Y.getHandSpace()},this.setFramebufferScaleFactor=function(V){l=V,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(V){u=V,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||c},this.setReferenceSpace=function(V){d=V},this.getBaseLayer=function(){return null!==p?p:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return a},this.setSession=function(){var V=ut(function*(Y){if(a=Y,null!==a){if(A=n.getRenderTarget(),a.addEventListener("select",D),a.addEventListener("selectstart",D),a.addEventListener("selectend",D),a.addEventListener("squeeze",D),a.addEventListener("squeezestart",D),a.addEventListener("squeezeend",D),a.addEventListener("end",T),a.addEventListener("inputsourceschange",k),!0!==_.xrCompatible&&(yield i.makeXRCompatible()),void 0===a.renderState.layers||!1===n.capabilities.isWebGL2)m=new XRWebGLLayer(a,i,{antialias:void 0!==a.renderState.layers||_.antialias,alpha:_.alpha,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:l}),a.updateRenderState({baseLayer:m}),b=new wa(m.framebufferWidth,m.framebufferHeight,{format:Ir,type:Ys,encoding:n.outputEncoding,stencilBuffer:_.stencil});else{let oe=null,ae=null,Ce=null;_.depth&&(Ce=_.stencil?35056:33190,oe=_.stencil?Zf:Td,ae=_.stencil?Kf:Id);const xe={colorFormat:32856,depthFormat:Ce,scaleFactor:l};f=new XRWebGLBinding(a,i),p=f.createProjectionLayer(xe),a.updateRenderState({layers:[p]}),b=new wa(p.textureWidth,p.textureHeight,{format:Ir,type:Ys,depthTexture:new R1e(p.textureWidth,p.textureHeight,ae,void 0,void 0,void 0,void 0,void 0,void 0,oe),stencilBuffer:_.stencil,encoding:n.outputEncoding,samples:_.antialias?4:0}),n.properties.get(b).__ignoreDepthValues=p.ignoreDepthValues}b.isXRRenderTarget=!0,this.setFoveation(1),d=null,c=yield a.requestReferenceSpace(u),z.setContext(a),z.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}});return function(Y){return V.apply(this,arguments)}}();const R=new L,F=new L;function j(V,Y){null===Y?V.matrixWorld.copy(V.matrix):V.matrixWorld.multiplyMatrices(Y.matrixWorld,V.matrix),V.matrixWorldInverse.copy(V.matrixWorld).invert()}this.updateCamera=function(V){if(null===a)return;E.near=C.near=v.near=V.near,E.far=C.far=v.far=V.far,(S!==E.near||x!==E.far)&&(a.updateRenderState({depthNear:E.near,depthFar:E.far}),S=E.near,x=E.far);const Y=V.parent,oe=E.cameras;j(E,Y);for(let Ce=0;Ce<oe.length;Ce++)j(oe[Ce],Y);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),V.matrix.copy(E.matrix),V.matrix.decompose(V.position,V.quaternion,V.scale);const ae=V.children;for(let Ce=0,xe=ae.length;Ce<xe;Ce++)ae[Ce].updateMatrixWorld(!0);2===oe.length?function O(V,Y,oe){R.setFromMatrixPosition(Y.matrixWorld),F.setFromMatrixPosition(oe.matrixWorld);const ae=R.distanceTo(F),Ce=Y.projectionMatrix.elements,xe=oe.projectionMatrix.elements,He=Ce[14]/(Ce[10]-1),le=Ce[14]/(Ce[10]+1),Qe=(Ce[9]+1)/Ce[5],Xe=(Ce[9]-1)/Ce[5],it=(Ce[8]-1)/Ce[0],Re=(xe[8]+1)/xe[0],Ft=He*it,ge=He*Re,me=ae/(-it+Re),Se=me*-it;Y.matrixWorld.decompose(V.position,V.quaternion,V.scale),V.translateX(Se),V.translateZ(me),V.matrixWorld.compose(V.position,V.quaternion,V.scale),V.matrixWorldInverse.copy(V.matrixWorld).invert();const rt=He+me,Fe=le+me;V.projectionMatrix.makePerspective(Ft-Se,ge+(ae-Se),Qe*le/Fe*rt,Xe*le/Fe*rt,rt,Fe)}(E,v,C):E.projectionMatrix.copy(v.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){return null!==p?p.fixedFoveation:null!==m?m.fixedFoveation:void 0},this.setFoveation=function(V){null!==p&&(p.fixedFoveation=V),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=V)};let G=null;const z=new cQ;z.setAnimationLoop(function P(V,Y){if(h=Y.getViewerPose(d||c),g=Y,null!==h){const oe=h.views;null!==m&&(n.setRenderTargetFramebuffer(b,m.framebuffer),n.setRenderTarget(b));let ae=!1;oe.length!==E.cameras.length&&(E.cameras.length=0,ae=!0);for(let Ce=0;Ce<oe.length;Ce++){const xe=oe[Ce];let He=null;if(null!==m)He=m.getViewport(xe);else{const Qe=f.getViewSubImage(p,xe);He=Qe.viewport,0===Ce&&(n.setRenderTargetTextures(b,Qe.colorTexture,p.ignoreDepthValues?void 0:Qe.depthStencilTexture),n.setRenderTarget(b))}let le=M[Ce];void 0===le&&(le=new gr,le.layers.enable(Ce),le.viewport=new qn,M[Ce]=le),le.matrix.fromArray(xe.transform.matrix),le.projectionMatrix.fromArray(xe.projectionMatrix),le.viewport.set(He.x,He.y,He.width,He.height),0===Ce&&E.matrix.copy(le.matrix),!0===ae&&E.cameras.push(le)}}for(let oe=0;oe<y.length;oe++){const ae=w[oe],Ce=y[oe];null!==ae&&void 0!==Ce&&Ce.update(ae,Y,d||c)}G&&G(V,Y),g=null}),this.setAnimationLoop=function(V){G=V},this.dispose=function(){}}}function O1e(r,n){function a(A,b){A.opacity.value=b.opacity,b.color&&A.diffuse.value.copy(b.color),b.emissive&&A.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(A.map.value=b.map),b.alphaMap&&(A.alphaMap.value=b.alphaMap),b.bumpMap&&(A.bumpMap.value=b.bumpMap,A.bumpScale.value=b.bumpScale,1===b.side&&(A.bumpScale.value*=-1)),b.displacementMap&&(A.displacementMap.value=b.displacementMap,A.displacementScale.value=b.displacementScale,A.displacementBias.value=b.displacementBias),b.emissiveMap&&(A.emissiveMap.value=b.emissiveMap),b.normalMap&&(A.normalMap.value=b.normalMap,A.normalScale.value.copy(b.normalScale),1===b.side&&A.normalScale.value.negate()),b.specularMap&&(A.specularMap.value=b.specularMap),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest);const y=n.get(b).envMap;if(y&&(A.envMap.value=y,A.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,A.reflectivity.value=b.reflectivity,A.ior.value=b.ior,A.refractionRatio.value=b.refractionRatio),b.lightMap){A.lightMap.value=b.lightMap;const C=!0!==r.physicallyCorrectLights?Math.PI:1;A.lightMapIntensity.value=b.lightMapIntensity*C}let w,v;b.aoMap&&(A.aoMap.value=b.aoMap,A.aoMapIntensity.value=b.aoMapIntensity),b.map?w=b.map:b.specularMap?w=b.specularMap:b.displacementMap?w=b.displacementMap:b.normalMap?w=b.normalMap:b.bumpMap?w=b.bumpMap:b.roughnessMap?w=b.roughnessMap:b.metalnessMap?w=b.metalnessMap:b.alphaMap?w=b.alphaMap:b.emissiveMap?w=b.emissiveMap:b.clearcoatMap?w=b.clearcoatMap:b.clearcoatNormalMap?w=b.clearcoatNormalMap:b.clearcoatRoughnessMap?w=b.clearcoatRoughnessMap:b.iridescenceMap?w=b.iridescenceMap:b.iridescenceThicknessMap?w=b.iridescenceThicknessMap:b.specularIntensityMap?w=b.specularIntensityMap:b.specularColorMap?w=b.specularColorMap:b.transmissionMap?w=b.transmissionMap:b.thicknessMap?w=b.thicknessMap:b.sheenColorMap?w=b.sheenColorMap:b.sheenRoughnessMap&&(w=b.sheenRoughnessMap),void 0!==w&&(w.isWebGLRenderTarget&&(w=w.texture),!0===w.matrixAutoUpdate&&w.updateMatrix(),A.uvTransform.value.copy(w.matrix)),b.aoMap?v=b.aoMap:b.lightMap&&(v=b.lightMap),void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),A.uv2Transform.value.copy(v.matrix))}return{refreshFogUniforms:function i(A,b){A.fogColor.value.copy(b.color),b.isFog?(A.fogNear.value=b.near,A.fogFar.value=b.far):b.isFogExp2&&(A.fogDensity.value=b.density)},refreshMaterialUniforms:function s(A,b,y,w,v){b.isMeshBasicMaterial||b.isMeshLambertMaterial?a(A,b):b.isMeshToonMaterial?(a(A,b),function f(A,b){b.gradientMap&&(A.gradientMap.value=b.gradientMap)}(A,b)):b.isMeshPhongMaterial?(a(A,b),function h(A,b){A.specular.value.copy(b.specular),A.shininess.value=Math.max(b.shininess,1e-4)}(A,b)):b.isMeshStandardMaterial?(a(A,b),function p(A,b){A.roughness.value=b.roughness,A.metalness.value=b.metalness,b.roughnessMap&&(A.roughnessMap.value=b.roughnessMap),b.metalnessMap&&(A.metalnessMap.value=b.metalnessMap),n.get(b).envMap&&(A.envMapIntensity.value=b.envMapIntensity)}(A,b),b.isMeshPhysicalMaterial&&function m(A,b,y){A.ior.value=b.ior,b.sheen>0&&(A.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),A.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(A.sheenColorMap.value=b.sheenColorMap),b.sheenRoughnessMap&&(A.sheenRoughnessMap.value=b.sheenRoughnessMap)),b.clearcoat>0&&(A.clearcoat.value=b.clearcoat,A.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(A.clearcoatMap.value=b.clearcoatMap),b.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap),b.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),A.clearcoatNormalMap.value=b.clearcoatNormalMap,1===b.side&&A.clearcoatNormalScale.value.negate())),b.iridescence>0&&(A.iridescence.value=b.iridescence,A.iridescenceIOR.value=b.iridescenceIOR,A.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(A.iridescenceMap.value=b.iridescenceMap),b.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=b.iridescenceThicknessMap)),b.transmission>0&&(A.transmission.value=b.transmission,A.transmissionSamplerMap.value=y.texture,A.transmissionSamplerSize.value.set(y.width,y.height),b.transmissionMap&&(A.transmissionMap.value=b.transmissionMap),A.thickness.value=b.thickness,b.thicknessMap&&(A.thicknessMap.value=b.thicknessMap),A.attenuationDistance.value=b.attenuationDistance,A.attenuationColor.value.copy(b.attenuationColor)),A.specularIntensity.value=b.specularIntensity,A.specularColor.value.copy(b.specularColor),b.specularIntensityMap&&(A.specularIntensityMap.value=b.specularIntensityMap),b.specularColorMap&&(A.specularColorMap.value=b.specularColorMap)}(A,b,v)):b.isMeshMatcapMaterial?(a(A,b),function g(A,b){b.matcap&&(A.matcap.value=b.matcap)}(A,b)):b.isMeshDepthMaterial?a(A,b):b.isMeshDistanceMaterial?(a(A,b),function _(A,b){A.referencePosition.value.copy(b.referencePosition),A.nearDistance.value=b.nearDistance,A.farDistance.value=b.farDistance}(A,b)):b.isMeshNormalMaterial?a(A,b):b.isLineBasicMaterial?(function l(A,b){A.diffuse.value.copy(b.color),A.opacity.value=b.opacity}(A,b),b.isLineDashedMaterial&&function c(A,b){A.dashSize.value=b.dashSize,A.totalSize.value=b.dashSize+b.gapSize,A.scale.value=b.scale}(A,b)):b.isPointsMaterial?function u(A,b,y,w){let v;A.diffuse.value.copy(b.color),A.opacity.value=b.opacity,A.size.value=b.size*y,A.scale.value=.5*w,b.map&&(A.map.value=b.map),b.alphaMap&&(A.alphaMap.value=b.alphaMap),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest),b.map?v=b.map:b.alphaMap&&(v=b.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),A.uvTransform.value.copy(v.matrix))}(A,b,y,w):b.isSpriteMaterial?function d(A,b){let y;A.diffuse.value.copy(b.color),A.opacity.value=b.opacity,A.rotation.value=b.rotation,b.map&&(A.map.value=b.map),b.alphaMap&&(A.alphaMap.value=b.alphaMap),b.alphaTest>0&&(A.alphaTest.value=b.alphaTest),b.map?y=b.map:b.alphaMap&&(y=b.alphaMap),void 0!==y&&(!0===y.matrixAutoUpdate&&y.updateMatrix(),A.uvTransform.value.copy(y.matrix))}(A,b):b.isShadowMaterial?(A.color.value.copy(b.color),A.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function B1e(r,n,i,s){let a={},l={},c=[];const u=i.isWebGL2?r.getParameter(35375):0;function g(w,v,C){const M=w.value;if(void 0===C[v])return C[v]="number"==typeof M?M:M.clone(),!0;if("number"==typeof M){if(C[v]!==M)return C[v]=M,!0}else{const E=C[v];if(!1===E.equals(M))return E.copy(M),!0}return!1}function A(w){const v=w.value,C={boundary:0,storage:0};return"number"==typeof v?(C.boundary=4,C.storage=4):v.isVector2?(C.boundary=8,C.storage=8):v.isVector3||v.isColor?(C.boundary=16,C.storage=12):v.isVector4?(C.boundary=16,C.storage=16):v.isMatrix3?(C.boundary=48,C.storage=48):v.isMatrix4?(C.boundary=64,C.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),C}function b(w){const v=w.target;v.removeEventListener("dispose",b);const C=c.indexOf(v.__bindingPointIndex);c.splice(C,1),r.deleteBuffer(a[v.id]),delete a[v.id],delete l[v.id]}return{bind:function d(w,v){s.uniformBlockBinding(w,v.program)},update:function h(w,v){let C=a[w.id];void 0===C&&(function _(w){const v=w.uniforms;let C=0;let E=0;for(let S=0,x=v.length;S<x;S++){const D=v[S],T=A(D);if(D.__data=new Float32Array(T.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=C,S>0){E=C%16;const k=16-E;0!==E&&k-T.boundary<0&&(C+=16-E,D.__offset=C)}C+=T.storage}E=C%16,E>0&&(C+=16-E),w.__size=C,w.__cache={}}(w),C=function f(w){const v=function p(){for(let w=0;w<u;w++)if(-1===c.indexOf(w))return c.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();w.__bindingPointIndex=v;const C=r.createBuffer(),M=w.__size,E=w.usage;return r.bindBuffer(35345,C),r.bufferData(35345,M,E),r.bindBuffer(35345,null),r.bindBufferBase(35345,v,C),C}(w),a[w.id]=C,w.addEventListener("dispose",b)),s.updateUBOMapping(w,v.program);const E=n.render.frame;l[w.id]!==E&&(function m(w){const C=w.uniforms,M=w.__cache;r.bindBuffer(35345,a[w.id]);for(let E=0,S=C.length;E<S;E++){const x=C[E];if(!0===g(x,E,M)){const D=x.value,T=x.__offset;"number"==typeof D?(x.__data[0]=D,r.bufferSubData(35345,T,x.__data)):(x.value.isMatrix3?(x.__data[0]=x.value.elements[0],x.__data[1]=x.value.elements[1],x.__data[2]=x.value.elements[2],x.__data[3]=x.value.elements[0],x.__data[4]=x.value.elements[3],x.__data[5]=x.value.elements[4],x.__data[6]=x.value.elements[5],x.__data[7]=x.value.elements[0],x.__data[8]=x.value.elements[6],x.__data[9]=x.value.elements[7],x.__data[10]=x.value.elements[8],x.__data[11]=x.value.elements[0]):D.toArray(x.__data),r.bufferSubData(35345,T,x.__data))}}r.bindBuffer(35345,null)}(w),l[w.id]=E)},dispose:function y(){for(const w in a)r.deleteBuffer(a[w]);c=[],a={},l={}}}}function FQ(r={}){this.isWebGLRenderer=!0;const n=void 0!==r.canvas?r.canvas:function L1e(){const r=x_("canvas");return r.style.display="block",r}(),i=void 0!==r.context?r.context:null,s=void 0===r.depth||r.depth,a=void 0===r.stencil||r.stencil,l=void 0!==r.antialias&&r.antialias,c=void 0===r.premultipliedAlpha||r.premultipliedAlpha,u=void 0!==r.preserveDrawingBuffer&&r.preserveDrawingBuffer,d=void 0!==r.powerPreference?r.powerPreference:"default",h=void 0!==r.failIfMajorPerformanceCaveat&&r.failIfMajorPerformanceCaveat;let f;f=null!==i?i.getContextAttributes().alpha:void 0!==r.alpha&&r.alpha;let p=null,m=null;const g=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=os,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const A=this;let b=!1,y=0,w=0,v=null,C=-1,M=null;const E=new qn,S=new qn;let x=null,D=n.width,T=n.height,k=1,R=null,F=null;const O=new qn(0,0,D,T),j=new qn(0,0,D,T);let G=!1;const P=new UI;let z=!1,V=!1,Y=null;const oe=new Pt,ae=new be,Ce=new L,xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function He(){return null===v?k:1}let Xe,it,Re,Ft,ge,me,Se,rt,Fe,Vt,Ot,St,Mi,Zn,Q,U,ce,De,Pe,Ge,qt,ue,mt,et,le=i;function Qe(H,se){for(let fe=0;fe<H.length;fe++){const _e=n.getContext(H[fe],se);if(null!==_e)return _e}return null}try{const H={alpha:!0,depth:s,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r144"),n.addEventListener("webglcontextlost",ln,!1),n.addEventListener("webglcontextrestored",Hn,!1),n.addEventListener("webglcontextcreationerror",rr,!1),null===le){const se=["webgl2","webgl","experimental-webgl"];if(!0===A.isWebGL1Renderer&&se.shift(),le=Qe(se,H),null===le)throw Qe(se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===le.getShaderPrecisionFormat&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}function bt(){Xe=new YEe(le),it=new GEe(le,Xe,r),Xe.init(it),ue=new I1e(le,Xe,it),Re=new S1e(le,Xe,it),Ft=new ZEe,ge=new m1e,me=new D1e(le,Xe,Re,ge,it,ue,Ft),Se=new $Ee(A),rt=new qEe(A),Fe=new zxe(le,it),mt=new zEe(le,Xe,Fe,it),Vt=new XEe(le,Fe,Ft,mt),Ot=new nSe(le,Vt,Fe,Ft),Pe=new tSe(le,it,me),U=new QEe(ge),St=new p1e(A,Se,rt,Xe,it,mt,U),Mi=new O1e(A,ge),Zn=new _1e,Q=new C1e(Xe,it),De=new VEe(A,Se,Re,Ot,f,c),ce=new E1e(A,Ot,it),et=new B1e(le,Ft,it,Re),Ge=new HEe(le,Xe,Ft,it),qt=new KEe(le,Xe,Ft,it),Ft.programs=St.programs,A.capabilities=it,A.extensions=Xe,A.properties=ge,A.renderLists=Zn,A.shadowMap=ce,A.state=Re,A.info=Ft}bt();const ot=new P1e(A,le);function ln(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Hn(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const H=Ft.autoReset,se=ce.enabled,fe=ce.autoUpdate,ee=ce.needsUpdate,_e=ce.type;bt(),Ft.autoReset=H,ce.enabled=se,ce.autoUpdate=fe,ce.needsUpdate=ee,ce.type=_e}function rr(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Z(H){const se=H.target;se.removeEventListener("dispose",Z),function Je(H){(function he(H){const se=ge.get(H).programs;void 0!==se&&(se.forEach(function(fe){St.releaseProgram(fe)}),H.isShaderMaterial&&St.releaseShaderCache(H))})(H),ge.remove(H)}(se)}this.xr=ot,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const H=Xe.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Xe.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(H){void 0!==H&&(k=H,this.setSize(D,T,!1))},this.getSize=function(H){return H.set(D,T)},this.setSize=function(H,se,fe){ot.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(D=H,T=se,n.width=Math.floor(H*k),n.height=Math.floor(se*k),!1!==fe&&(n.style.width=H+"px",n.style.height=se+"px"),this.setViewport(0,0,H,se))},this.getDrawingBufferSize=function(H){return H.set(D*k,T*k).floor()},this.setDrawingBufferSize=function(H,se,fe){D=H,T=se,k=fe,n.width=Math.floor(H*fe),n.height=Math.floor(se*fe),this.setViewport(0,0,H,se)},this.getCurrentViewport=function(H){return H.copy(E)},this.getViewport=function(H){return H.copy(O)},this.setViewport=function(H,se,fe,ee){H.isVector4?O.set(H.x,H.y,H.z,H.w):O.set(H,se,fe,ee),Re.viewport(E.copy(O).multiplyScalar(k).floor())},this.getScissor=function(H){return H.copy(j)},this.setScissor=function(H,se,fe,ee){H.isVector4?j.set(H.x,H.y,H.z,H.w):j.set(H,se,fe,ee),Re.scissor(S.copy(j).multiplyScalar(k).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(H){Re.setScissorTest(G=H)},this.setOpaqueSort=function(H){R=H},this.setTransparentSort=function(H){F=H},this.getClearColor=function(H){return H.copy(De.getClearColor())},this.setClearColor=function(){De.setClearColor.apply(De,arguments)},this.getClearAlpha=function(){return De.getClearAlpha()},this.setClearAlpha=function(){De.setClearAlpha.apply(De,arguments)},this.clear=function(H=!0,se=!0,fe=!0){let ee=0;H&&(ee|=16384),se&&(ee|=256),fe&&(ee|=1024),le.clear(ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ln,!1),n.removeEventListener("webglcontextrestored",Hn,!1),n.removeEventListener("webglcontextcreationerror",rr,!1),Zn.dispose(),Q.dispose(),ge.dispose(),Se.dispose(),rt.dispose(),Ot.dispose(),mt.dispose(),et.dispose(),St.dispose(),ot.dispose(),ot.removeEventListener("sessionstart",kn),ot.removeEventListener("sessionend",Ur),Y&&(Y.dispose(),Y=null),sr.stop()},this.renderBufferDirect=function(H,se,fe,ee,_e,xt){null===se&&(se=xe);const Xt=_e.isMesh&&_e.matrixWorld.determinant()<0,fn=function HPe(H,se,fe,ee,_e){!0!==se.isScene&&(se=xe),me.resetTextureUnits();const xt=se.fog,fn=null===v?A.outputEncoding:!0===v.isXRRenderTarget?v.texture.encoding:os,Zt=(ee.isMeshStandardMaterial?rt:Se).get(ee.envMap||(ee.isMeshStandardMaterial?se.environment:null)),$n=!0===ee.vertexColors&&!!fe.attributes.color&&4===fe.attributes.color.itemSize,En=!!ee.normalMap&&!!fe.attributes.tangent,Sn=!!fe.morphAttributes.position,Ki=!!fe.morphAttributes.normal,hh=!!fe.morphAttributes.color,lm=ee.toneMapped?A.toneMapping:0,cm=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,bl=void 0!==cm?cm.length:0,Gn=ge.get(ee),um=m.state.lights;!0!==z||!0!==V&&H===M||U.setState(ee,H,H===M&&ee.id===C);let br=!1;ee.version===Gn.__version?(Gn.needsLights&&Gn.lightsStateVersion!==um.state.version||Gn.outputEncoding!==fn||_e.isInstancedMesh&&!1===Gn.instancing||!_e.isInstancedMesh&&!0===Gn.instancing||_e.isSkinnedMesh&&!1===Gn.skinning||!_e.isSkinnedMesh&&!0===Gn.skinning||Gn.envMap!==Zt||!0===ee.fog&&Gn.fog!==xt||void 0!==Gn.numClippingPlanes&&(Gn.numClippingPlanes!==U.numPlanes||Gn.numIntersection!==U.numIntersection)||Gn.vertexAlphas!==$n||Gn.vertexTangents!==En||Gn.morphTargets!==Sn||Gn.morphNormals!==Ki||Gn.morphColors!==hh||Gn.toneMapping!==lm||!0===it.isWebGL2&&Gn.morphTargetsCount!==bl)&&(br=!0):(br=!0,Gn.__version=ee.version);let Ko=Gn.currentProgram;!0===br&&(Ko=TC(ee,se,_e));let Bu=!1,N0=!1,VR=!1;const Fs=Ko.getUniforms(),fh=Gn.uniforms;if(Re.useProgram(Ko.program)&&(Bu=!0,N0=!0,VR=!0),ee.id!==C&&(C=ee.id,N0=!0),Bu||M!==H){if(Fs.setValue(le,"projectionMatrix",H.projectionMatrix),it.logarithmicDepthBuffer&&Fs.setValue(le,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),M!==H&&(M=H,N0=!0,VR=!0),ee.isShaderMaterial||ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshStandardMaterial||ee.envMap){const Mo=Fs.map.cameraPosition;void 0!==Mo&&Mo.setValue(le,Ce.setFromMatrixPosition(H.matrixWorld))}(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial)&&Fs.setValue(le,"isOrthographic",!0===H.isOrthographicCamera),(ee.isMeshPhongMaterial||ee.isMeshToonMaterial||ee.isMeshLambertMaterial||ee.isMeshBasicMaterial||ee.isMeshStandardMaterial||ee.isShaderMaterial||ee.isShadowMaterial||_e.isSkinnedMesh)&&Fs.setValue(le,"viewMatrix",H.matrixWorldInverse)}if(_e.isSkinnedMesh){Fs.setOptional(le,_e,"bindMatrix"),Fs.setOptional(le,_e,"bindMatrixInverse");const Mo=_e.skeleton;Mo&&(it.floatVertexTextures?(null===Mo.boneTexture&&Mo.computeBoneTexture(),Fs.setValue(le,"boneTexture",Mo.boneTexture,me),Fs.setValue(le,"boneTextureSize",Mo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const zR=fe.morphAttributes;if((void 0!==zR.position||void 0!==zR.normal||void 0!==zR.color&&!0===it.isWebGL2)&&Pe.update(_e,fe,ee,Ko),(N0||Gn.receiveShadow!==_e.receiveShadow)&&(Gn.receiveShadow=_e.receiveShadow,Fs.setValue(le,"receiveShadow",_e.receiveShadow)),ee.isMeshGouraudMaterial&&null!==ee.envMap&&(fh.envMap.value=Zt,fh.flipEnvMap.value=Zt.isCubeTexture&&!1===Zt.isRenderTargetTexture?-1:1),N0&&(Fs.setValue(le,"toneMappingExposure",A.toneMappingExposure),Gn.needsLights&&function GPe(H,se){H.ambientLightColor.needsUpdate=se,H.lightProbe.needsUpdate=se,H.directionalLights.needsUpdate=se,H.directionalLightShadows.needsUpdate=se,H.pointLights.needsUpdate=se,H.pointLightShadows.needsUpdate=se,H.spotLights.needsUpdate=se,H.spotLightShadows.needsUpdate=se,H.rectAreaLights.needsUpdate=se,H.hemisphereLights.needsUpdate=se}(fh,VR),xt&&!0===ee.fog&&Mi.refreshFogUniforms(fh,xt),Mi.refreshMaterialUniforms(fh,ee,k,T,Y),Jv.upload(le,Gn.uniformsList,fh,me)),ee.isShaderMaterial&&!0===ee.uniformsNeedUpdate&&(Jv.upload(le,Gn.uniformsList,fh,me),ee.uniformsNeedUpdate=!1),ee.isSpriteMaterial&&Fs.setValue(le,"center",_e.center),Fs.setValue(le,"modelViewMatrix",_e.modelViewMatrix),Fs.setValue(le,"normalMatrix",_e.normalMatrix),Fs.setValue(le,"modelMatrix",_e.matrixWorld),ee.isShaderMaterial||ee.isRawShaderMaterial){const Mo=ee.uniformsGroups;for(let HR=0,$Pe=Mo.length;HR<$Pe;HR++)if(it.isWebGL2){const M7=Mo[HR];et.update(M7,Ko),et.bind(M7,Ko)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ko}(H,se,fe,ee,_e);Re.setMaterial(ee,Xt);let Zt=fe.index;const $n=fe.attributes.position;if(null===Zt){if(void 0===$n||0===$n.count)return}else if(0===Zt.count)return;let En=1;!0===ee.wireframe&&(Zt=Vt.getWireframeAttribute(fe),En=2),mt.setup(_e,ee,fn,fe,Zt);let Sn,Ki=Ge;null!==Zt&&(Sn=Fe.get(Zt),Ki=qt,Ki.setIndex(Sn));const hh=null!==Zt?Zt.count:$n.count,lm=fe.drawRange.start*En,cm=fe.drawRange.count*En,bl=null!==xt?xt.start*En:0,Gn=null!==xt?xt.count*En:1/0,um=Math.max(lm,bl),br=Math.min(hh,lm+cm,bl+Gn)-1,Ko=Math.max(0,br-um+1);if(0!==Ko){if(_e.isMesh)!0===ee.wireframe?(Re.setLineWidth(ee.wireframeLinewidth*He()),Ki.setMode(1)):Ki.setMode(4);else if(_e.isLine){let Bu=ee.linewidth;void 0===Bu&&(Bu=1),Re.setLineWidth(Bu*He()),Ki.setMode(_e.isLineSegments?1:_e.isLineLoop?2:3)}else _e.isPoints?Ki.setMode(0):_e.isSprite&&Ki.setMode(4);if(_e.isInstancedMesh)Ki.renderInstances(um,Ko,_e.count);else if(fe.isInstancedBufferGeometry){const Bu=Math.min(fe.instanceCount,fe._maxInstanceCount);Ki.renderInstances(um,Ko,Bu)}else Ki.render(um,Ko)}},this.compile=function(H,se){function fe(ee,_e,xt){!0===ee.transparent&&2===ee.side?(ee.side=1,ee.needsUpdate=!0,TC(ee,_e,xt),ee.side=0,ee.needsUpdate=!0,TC(ee,_e,xt),ee.side=2):TC(ee,_e,xt)}m=Q.get(H),m.init(),_.push(m),H.traverseVisible(function(ee){ee.isLight&&ee.layers.test(se.layers)&&(m.pushLight(ee),ee.castShadow&&m.pushShadow(ee))}),m.setupLights(A.physicallyCorrectLights),H.traverse(function(ee){const _e=ee.material;if(_e)if(Array.isArray(_e))for(let xt=0;xt<_e.length;xt++)fe(_e[xt],H,ee);else fe(_e,H,ee)}),_.pop(),m=null};let Ke=null;function kn(){sr.stop()}function Ur(){sr.start()}const sr=new cQ;function Ou(H,se,fe,ee){if(!1===H.visible)return;if(H.layers.test(se.layers))if(H.isGroup)fe=H.renderOrder;else if(H.isLOD)!0===H.autoUpdate&&H.update(se);else if(H.isLight)m.pushLight(H),H.castShadow&&m.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||P.intersectsSprite(H)){ee&&Ce.setFromMatrixPosition(H.matrixWorld).applyMatrix4(oe);const Xt=Ot.update(H),fn=H.material;fn.visible&&p.push(H,Xt,fn,fe,Ce.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(H.isSkinnedMesh&&H.skeleton.frame!==Ft.render.frame&&(H.skeleton.update(),H.skeleton.frame=Ft.render.frame),!H.frustumCulled||P.intersectsObject(H))){ee&&Ce.setFromMatrixPosition(H.matrixWorld).applyMatrix4(oe);const Xt=Ot.update(H),fn=H.material;if(Array.isArray(fn)){const Zt=Xt.groups;for(let $n=0,En=Zt.length;$n<En;$n++){const Sn=Zt[$n],Ki=fn[Sn.materialIndex];Ki&&Ki.visible&&p.push(H,Xt,Ki,fe,Ce.z,Sn)}}else fn.visible&&p.push(H,Xt,fn,fe,Ce.z,null)}const xt=H.children;for(let Xt=0,fn=xt.length;Xt<fn;Xt++)Ou(xt[Xt],se,fe,ee)}function Xi(H,se,fe,ee){const _e=H.opaque,xt=H.transmissive,Xt=H.transparent;m.setupLightsView(fe),xt.length>0&&function Ec(H,se,fe){const ee=it.isWebGL2;null===Y&&(Y=new wa(1,1,{generateMipmaps:!0,type:Xe.has("EXT_color_buffer_half_float")?ks:Ys,minFilter:sl,samples:ee&&!0===l?4:0})),A.getDrawingBufferSize(ae),ee?Y.setSize(ae.x,ae.y):Y.setSize(Dv(ae.x),Dv(ae.y));const _e=A.getRenderTarget();A.setRenderTarget(Y),A.clear();const xt=A.toneMapping;A.toneMapping=0,Xo(H,se,fe),A.toneMapping=xt,me.updateMultisampleRenderTarget(Y),me.updateRenderTargetMipmap(Y),A.setRenderTarget(_e)}(_e,se,fe),ee&&Re.viewport(E.copy(ee)),_e.length>0&&Xo(_e,se,fe),xt.length>0&&Xo(xt,se,fe),Xt.length>0&&Xo(Xt,se,fe),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function Xo(H,se,fe){const ee=!0===se.isScene?se.overrideMaterial:null;for(let _e=0,xt=H.length;_e<xt;_e++){const Xt=H[_e],fn=Xt.object,Zt=Xt.geometry,$n=null===ee?Xt.material:ee,En=Xt.group;fn.layers.test(fe.layers)&&zPe(fn,se,fe,Zt,$n,En)}}function zPe(H,se,fe,ee,_e,xt){H.onBeforeRender(A,se,fe,ee,_e,xt),H.modelViewMatrix.multiplyMatrices(fe.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),_e.onBeforeRender(A,se,fe,ee,H,xt),!0===_e.transparent&&2===_e.side?(_e.side=1,_e.needsUpdate=!0,A.renderBufferDirect(fe,se,ee,_e,H,xt),_e.side=0,_e.needsUpdate=!0,A.renderBufferDirect(fe,se,ee,_e,H,xt),_e.side=2):A.renderBufferDirect(fe,se,ee,_e,H,xt),H.onAfterRender(A,se,fe,ee,_e,xt)}function TC(H,se,fe){!0!==se.isScene&&(se=xe);const ee=ge.get(H),_e=m.state.lights,Xt=_e.state.version,fn=St.getParameters(H,_e.state,m.state.shadowsArray,se,fe),Zt=St.getProgramCacheKey(fn);let $n=ee.programs;ee.environment=H.isMeshStandardMaterial?se.environment:null,ee.fog=se.fog,ee.envMap=(H.isMeshStandardMaterial?rt:Se).get(H.envMap||ee.environment),void 0===$n&&(H.addEventListener("dispose",Z),$n=new Map,ee.programs=$n);let En=$n.get(Zt);if(void 0!==En){if(ee.currentProgram===En&&ee.lightsStateVersion===Xt)return x7(H,fn),En}else fn.uniforms=St.getUniforms(H),H.onBuild(fe,fn,A),H.onBeforeCompile(fn,A),En=St.acquireProgram(fn,Zt),$n.set(Zt,En),ee.uniforms=fn.uniforms;const Sn=ee.uniforms;(!H.isShaderMaterial&&!H.isRawShaderMaterial||!0===H.clipping)&&(Sn.clippingPlanes=U.uniform),x7(H,fn),ee.needsLights=function QPe(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&!0===H.lights}(H),ee.lightsStateVersion=Xt,ee.needsLights&&(Sn.ambientLightColor.value=_e.state.ambient,Sn.lightProbe.value=_e.state.probe,Sn.directionalLights.value=_e.state.directional,Sn.directionalLightShadows.value=_e.state.directionalShadow,Sn.spotLights.value=_e.state.spot,Sn.spotLightShadows.value=_e.state.spotShadow,Sn.rectAreaLights.value=_e.state.rectArea,Sn.ltc_1.value=_e.state.rectAreaLTC1,Sn.ltc_2.value=_e.state.rectAreaLTC2,Sn.pointLights.value=_e.state.point,Sn.pointLightShadows.value=_e.state.pointShadow,Sn.hemisphereLights.value=_e.state.hemi,Sn.directionalShadowMap.value=_e.state.directionalShadowMap,Sn.directionalShadowMatrix.value=_e.state.directionalShadowMatrix,Sn.spotShadowMap.value=_e.state.spotShadowMap,Sn.spotLightMatrix.value=_e.state.spotLightMatrix,Sn.spotLightMap.value=_e.state.spotLightMap,Sn.pointShadowMap.value=_e.state.pointShadowMap,Sn.pointShadowMatrix.value=_e.state.pointShadowMatrix);const Ki=En.getUniforms(),hh=Jv.seqWithValue(Ki.seq,Sn);return ee.currentProgram=En,ee.uniformsList=hh,En}function x7(H,se){const fe=ge.get(H);fe.outputEncoding=se.outputEncoding,fe.instancing=se.instancing,fe.skinning=se.skinning,fe.morphTargets=se.morphTargets,fe.morphNormals=se.morphNormals,fe.morphColors=se.morphColors,fe.morphTargetsCount=se.morphTargetsCount,fe.numClippingPlanes=se.numClippingPlanes,fe.numIntersection=se.numClipIntersection,fe.vertexAlphas=se.vertexAlphas,fe.vertexTangents=se.vertexTangents,fe.toneMapping=se.toneMapping}sr.setAnimationLoop(function $e(H){Ke&&Ke(H)}),typeof self<"u"&&sr.setContext(self),this.setAnimationLoop=function(H){Ke=H,ot.setAnimationLoop(H),null===H?sr.stop():sr.start()},ot.addEventListener("sessionstart",kn),ot.addEventListener("sessionend",Ur),this.render=function(H,se){if(void 0===se||!0===se.isCamera){if(!0!==b){if(!0===H.matrixWorldAutoUpdate&&H.updateMatrixWorld(),null===se.parent&&!0===se.matrixWorldAutoUpdate&&se.updateMatrixWorld(),!0===ot.enabled&&!0===ot.isPresenting&&(!0===ot.cameraAutoUpdate&&ot.updateCamera(se),se=ot.getCamera()),!0===H.isScene&&H.onBeforeRender(A,H,se,v),m=Q.get(H,_.length),m.init(),_.push(m),oe.multiplyMatrices(se.projectionMatrix,se.matrixWorldInverse),P.setFromProjectionMatrix(oe),V=this.localClippingEnabled,z=U.init(this.clippingPlanes,V,se),p=Zn.get(H,g.length),p.init(),g.push(p),Ou(H,se,0,A.sortObjects),p.finish(),!0===A.sortObjects&&p.sort(R,F),!0===z&&U.beginShadows(),ce.render(m.state.shadowsArray,H,se),!0===z&&U.endShadows(),!0===this.info.autoReset&&this.info.reset(),De.render(p,H),m.setupLights(A.physicallyCorrectLights),se.isArrayCamera){const ee=se.cameras;for(let _e=0,xt=ee.length;_e<xt;_e++){const Xt=ee[_e];Xi(p,H,Xt,Xt.viewport)}}else Xi(p,H,se);null!==v&&(me.updateMultisampleRenderTarget(v),me.updateRenderTargetMipmap(v)),!0===H.isScene&&H.onAfterRender(A,H,se),mt.resetDefaultState(),C=-1,M=null,_.pop(),m=_.length>0?_[_.length-1]:null,g.pop(),p=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return w},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(H,se,fe){ge.get(H.texture).__webglTexture=se,ge.get(H.depthTexture).__webglTexture=fe;const ee=ge.get(H);ee.__hasExternalTextures=!0,ee.__hasExternalTextures&&(ee.__autoAllocateDepthBuffer=void 0===fe,ee.__autoAllocateDepthBuffer||!0===Xe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,se){const fe=ge.get(H);fe.__webglFramebuffer=se,fe.__useDefaultFramebuffer=void 0===se},this.setRenderTarget=function(H,se=0,fe=0){v=H,y=se,w=fe;let ee=!0;if(H){const Zt=ge.get(H);void 0!==Zt.__useDefaultFramebuffer?(Re.bindFramebuffer(36160,null),ee=!1):void 0===Zt.__webglFramebuffer?me.setupRenderTarget(H):Zt.__hasExternalTextures&&me.rebindTextures(H,ge.get(H.texture).__webglTexture,ge.get(H.depthTexture).__webglTexture)}let _e=null,xt=!1,Xt=!1;if(H){const Zt=H.texture;(Zt.isData3DTexture||Zt.isDataArrayTexture)&&(Xt=!0);const $n=ge.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(_e=$n[se],xt=!0):_e=it.isWebGL2&&H.samples>0&&!1===me.useMultisampledRTT(H)?ge.get(H).__webglMultisampledFramebuffer:$n,E.copy(H.viewport),S.copy(H.scissor),x=H.scissorTest}else E.copy(O).multiplyScalar(k).floor(),S.copy(j).multiplyScalar(k).floor(),x=G;if(Re.bindFramebuffer(36160,_e)&&it.drawBuffers&&ee&&Re.drawBuffers(H,_e),Re.viewport(E),Re.scissor(S),Re.setScissorTest(x),xt){const Zt=ge.get(H.texture);le.framebufferTexture2D(36160,36064,34069+se,Zt.__webglTexture,fe)}else if(Xt){const Zt=ge.get(H.texture);le.framebufferTextureLayer(36160,36064,Zt.__webglTexture,fe||0,se||0)}C=-1},this.readRenderTargetPixels=function(H,se,fe,ee,_e,xt,Xt){if(!H||!H.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let fn=ge.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&void 0!==Xt&&(fn=fn[Xt]),fn){Re.bindFramebuffer(36160,fn);try{const Zt=H.texture,$n=Zt.format,En=Zt.type;if($n!==Ir&&ue.convert($n)!==le.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Sn=En===ks&&(Xe.has("EXT_color_buffer_half_float")||it.isWebGL2&&Xe.has("EXT_color_buffer_float"));if(!(En===Ys||ue.convert(En)===le.getParameter(35738)||En===Ts&&(it.isWebGL2||Xe.has("OES_texture_float")||Xe.has("WEBGL_color_buffer_float"))||Sn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");se>=0&&se<=H.width-ee&&fe>=0&&fe<=H.height-_e&&le.readPixels(se,fe,ee,_e,ue.convert($n),ue.convert(En),xt)}finally{const Zt=null!==v?ge.get(v).__webglFramebuffer:null;Re.bindFramebuffer(36160,Zt)}}},this.copyFramebufferToTexture=function(H,se,fe=0){const ee=Math.pow(2,-fe),_e=Math.floor(se.image.width*ee),xt=Math.floor(se.image.height*ee);me.setTexture2D(se,0),le.copyTexSubImage2D(3553,fe,0,0,H.x,H.y,_e,xt),Re.unbindTexture()},this.copyTextureToTexture=function(H,se,fe,ee=0){const _e=se.image.width,xt=se.image.height,Xt=ue.convert(fe.format),fn=ue.convert(fe.type);me.setTexture2D(fe,0),le.pixelStorei(37440,fe.flipY),le.pixelStorei(37441,fe.premultiplyAlpha),le.pixelStorei(3317,fe.unpackAlignment),se.isDataTexture?le.texSubImage2D(3553,ee,H.x,H.y,_e,xt,Xt,fn,se.image.data):se.isCompressedTexture?le.compressedTexSubImage2D(3553,ee,H.x,H.y,se.mipmaps[0].width,se.mipmaps[0].height,Xt,se.mipmaps[0].data):le.texSubImage2D(3553,ee,H.x,H.y,Xt,fn,se.image),0===ee&&fe.generateMipmaps&&le.generateMipmap(3553),Re.unbindTexture()},this.copyTextureToTexture3D=function(H,se,fe,ee,_e=0){if(A.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const xt=H.max.x-H.min.x+1,Xt=H.max.y-H.min.y+1,fn=H.max.z-H.min.z+1,Zt=ue.convert(ee.format),$n=ue.convert(ee.type);let En;if(ee.isData3DTexture)me.setTexture3D(ee,0),En=32879;else{if(!ee.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");me.setTexture2DArray(ee,0),En=35866}le.pixelStorei(37440,ee.flipY),le.pixelStorei(37441,ee.premultiplyAlpha),le.pixelStorei(3317,ee.unpackAlignment);const Sn=le.getParameter(3314),Ki=le.getParameter(32878),hh=le.getParameter(3316),lm=le.getParameter(3315),cm=le.getParameter(32877),bl=fe.isCompressedTexture?fe.mipmaps[0]:fe.image;le.pixelStorei(3314,bl.width),le.pixelStorei(32878,bl.height),le.pixelStorei(3316,H.min.x),le.pixelStorei(3315,H.min.y),le.pixelStorei(32877,H.min.z),fe.isDataTexture||fe.isData3DTexture?le.texSubImage3D(En,_e,se.x,se.y,se.z,xt,Xt,fn,Zt,$n,bl.data):fe.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(En,_e,se.x,se.y,se.z,xt,Xt,fn,Zt,bl.data)):le.texSubImage3D(En,_e,se.x,se.y,se.z,xt,Xt,fn,Zt,$n,bl),le.pixelStorei(3314,Sn),le.pixelStorei(32878,Ki),le.pixelStorei(3316,hh),le.pixelStorei(3315,lm),le.pixelStorei(32877,cm),0===_e&&ee.generateMipmaps&&le.generateMipmap(En),Re.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?me.setTextureCube(H,0):H.isData3DTexture?me.setTexture3D(H,0):H.isDataArrayTexture?me.setTexture2DArray(H,0):me.setTexture2D(H,0),Re.unbindTexture()},this.resetState=function(){y=0,w=0,v=null,Re.reset(),mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class F1e extends FQ{}).prototype.isWebGL1Renderer=!0;class ac extends pr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(n,i){return super.copy(n,i),null!==n.background&&(this.background=n.background.clone()),null!==n.environment&&(this.environment=n.environment.clone()),null!==n.fog&&(this.fog=n.fog.clone()),null!==n.overrideMaterial&&(this.overrideMaterial=n.overrideMaterial.clone()),this.matrixAutoUpdate=n.matrixAutoUpdate,this}toJSON(n){const i=super.toJSON(n);return null!==this.fog&&(i.object.fog=this.fog.toJSON()),i}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(n){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=n}}class YI{constructor(n,i){this.isInterleavedBuffer=!0,this.array=n,this.stride=i,this.count=void 0!==n?n.length/i:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=_o()}onUploadCallback(){}set needsUpdate(n){!0===n&&this.version++}setUsage(n){return this.usage=n,this}copy(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this}copyAt(n,i,s){n*=this.stride,s*=i.stride;for(let a=0,l=this.stride;a<l;a++)this.array[n+a]=i.array[s+a];return this}set(n,i=0){return this.array.set(n,i),this}clone(n){void 0===n.arrayBuffers&&(n.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_o()),void 0===n.arrayBuffers[this.array.buffer._uuid]&&(n.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(n.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(i,this.stride);return s.setUsage(this.usage),s}onUpload(n){return this.onUploadCallback=n,this}toJSON(n){return void 0===n.arrayBuffers&&(n.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=_o()),void 0===n.arrayBuffers[this.array.buffer._uuid]&&(n.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Os=new L;class Gd{constructor(n,i,s,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=n,this.itemSize=i,this.offset=s,this.normalized=!0===a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(n){this.data.needsUpdate=n}applyMatrix4(n){for(let i=0,s=this.data.count;i<s;i++)Os.fromBufferAttribute(this,i),Os.applyMatrix4(n),this.setXYZ(i,Os.x,Os.y,Os.z);return this}applyNormalMatrix(n){for(let i=0,s=this.count;i<s;i++)Os.fromBufferAttribute(this,i),Os.applyNormalMatrix(n),this.setXYZ(i,Os.x,Os.y,Os.z);return this}transformDirection(n){for(let i=0,s=this.count;i<s;i++)Os.fromBufferAttribute(this,i),Os.transformDirection(n),this.setXYZ(i,Os.x,Os.y,Os.z);return this}setX(n,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[n*this.data.stride+this.offset]=i,this}setY(n,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[n*this.data.stride+this.offset+1]=i,this}setZ(n,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[n*this.data.stride+this.offset+2]=i,this}setW(n,i){return this.normalized&&(i=oi(i,this.array)),this.data.array[n*this.data.stride+this.offset+3]=i,this}getX(n){let i=this.data.array[n*this.data.stride+this.offset];return this.normalized&&(i=Zl(i,this.array)),i}getY(n){let i=this.data.array[n*this.data.stride+this.offset+1];return this.normalized&&(i=Zl(i,this.array)),i}getZ(n){let i=this.data.array[n*this.data.stride+this.offset+2];return this.normalized&&(i=Zl(i,this.array)),i}getW(n){let i=this.data.array[n*this.data.stride+this.offset+3];return this.normalized&&(i=Zl(i,this.array)),i}setXY(n,i,s){return n=n*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this}setXYZ(n,i,s,a){return n=n*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array),a=oi(a,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this.data.array[n+2]=a,this}setXYZW(n,i,s,a,l){return n=n*this.data.stride+this.offset,this.normalized&&(i=oi(i,this.array),s=oi(s,this.array),a=oi(a,this.array),l=oi(l,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this.data.array[n+2]=a,this.data.array[n+3]=l,this}clone(n){if(void 0===n){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)i.push(this.data.array[a+l])}return new _i(new this.array.constructor(i),this.itemSize,this.normalized)}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new Gd(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(n){if(void 0===n){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)i.push(this.data.array[a+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.toJSON(n)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const GQ=new L,QQ=new qn,$Q=new qn,V1e=new L,WQ=new Pt;class jQ extends Et{constructor(n,i){super(n,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Pt,this.bindMatrixInverse=new Pt}copy(n,i){return super.copy(n,i),this.bindMode=n.bindMode,this.bindMatrix.copy(n.bindMatrix),this.bindMatrixInverse.copy(n.bindMatrixInverse),this.skeleton=n.skeleton,this}bind(n,i){this.skeleton=n,void 0===i&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const n=new qn,i=this.geometry.attributes.skinWeight;for(let s=0,a=i.count;s<a;s++){n.fromBufferAttribute(i,s);const l=1/n.manhattanLength();l!==1/0?n.multiplyScalar(l):n.set(1,0,0,0),i.setXYZW(s,n.x,n.y,n.z,n.w)}}updateMatrixWorld(n){super.updateMatrixWorld(n),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(n,i){const s=this.skeleton,a=this.geometry;QQ.fromBufferAttribute(a.attributes.skinIndex,n),$Q.fromBufferAttribute(a.attributes.skinWeight,n),GQ.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let l=0;l<4;l++){const c=$Q.getComponent(l);if(0!==c){const u=QQ.getComponent(l);WQ.multiplyMatrices(s.bones[u].matrixWorld,s.boneInverses[u]),i.addScaledVector(V1e.copy(GQ).applyMatrix4(WQ),c)}}return i.applyMatrix4(this.bindMatrixInverse)}}class KI extends pr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xp extends Xs{constructor(n=null,i=1,s=1,a,l,c,u,d,h=tr,f=tr,p,m){super(null,c,u,d,h,f,a,l,p,m),this.isDataTexture=!0,this.image={data:n,width:i,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const qQ=new Pt,z1e=new Pt;class rw{constructor(n=[],i=[]){this.uuid=_o(),this.bones=n.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const n=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(16*n.length),0===i.length)this.calculateInverses();else if(n.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,a=this.bones.length;s<a;s++)this.boneInverses.push(new Pt)}}calculateInverses(){this.boneInverses.length=0;for(let n=0,i=this.bones.length;n<i;n++){const s=new Pt;this.bones[n]&&s.copy(this.bones[n].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];s&&s.matrixWorld.copy(this.boneInverses[n]).invert()}for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const n=this.bones,i=this.boneInverses,s=this.boneMatrices,a=this.boneTexture;for(let l=0,c=n.length;l<c;l++)qQ.multiplyMatrices(n[l]?n[l].matrixWorld:z1e,i[l]),qQ.toArray(s,16*l);null!==a&&(a.needsUpdate=!0)}clone(){return new rw(this.bones,this.boneInverses)}computeBoneTexture(){let n=Math.sqrt(4*this.bones.length);n=$G(n),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(this.boneMatrices);const s=new xp(i,n,n,Ir,Ts);return s.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=s,this.boneTextureSize=n,this}getBoneByName(n){for(let i=0,s=this.bones.length;i<s;i++){const a=this.bones[i];if(a.name===n)return a}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(n,i){this.uuid=n.uuid;for(let s=0,a=n.bones.length;s<a;s++){const l=n.bones[s];let c=i[l];void 0===c&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),c=new KI),this.bones.push(c),this.boneInverses.push((new Pt).fromArray(n.boneInverses[s]))}return this.init(),this}toJSON(){const n={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};n.uuid=this.uuid;const i=this.bones,s=this.boneInverses;for(let a=0,l=i.length;a<l;a++)n.bones.push(i[a].uuid),n.boneInverses.push(s[a].toArray());return n}}class Zs extends Go{constructor(n){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ne(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this.fog=n.fog,this}}const KQ=new L,ZQ=new L,JQ=new Pt,ZI=new Fv,ow=new ec;class Qd extends pr{constructor(n=new rn,i=new Zs){super(),this.isLine=!0,this.type="Line",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),this.material=n.material,this.geometry=n.geometry,this}computeLineDistances(){const n=this.geometry;if(null===n.index){const i=n.attributes.position,s=[0];for(let a=1,l=i.count;a<l;a++)KQ.fromBufferAttribute(i,a-1),ZQ.fromBufferAttribute(i,a),s[a]=s[a-1],s[a]+=KQ.distanceTo(ZQ);n.setAttribute("lineDistance",new st(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(n,i){const s=this.geometry,a=this.matrixWorld,l=n.params.Line.threshold,c=s.drawRange;if(null===s.boundingSphere&&s.computeBoundingSphere(),ow.copy(s.boundingSphere),ow.applyMatrix4(a),ow.radius+=l,!1===n.ray.intersectsSphere(ow))return;JQ.copy(a).invert(),ZI.copy(n.ray).applyMatrix4(JQ);const u=l/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,h=new L,f=new L,p=new L,m=new L,g=this.isLineSegments?2:1,_=s.index,b=s.attributes.position;if(null!==_)for(let v=Math.max(0,c.start),C=Math.min(_.count,c.start+c.count)-1;v<C;v+=g){const M=_.getX(v),E=_.getX(v+1);if(h.fromBufferAttribute(b,M),f.fromBufferAttribute(b,E),ZI.distanceSqToSegment(h,f,m,p)>d)continue;m.applyMatrix4(this.matrixWorld);const x=n.ray.origin.distanceTo(m);x<n.near||x>n.far||i.push({distance:x,point:p.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(let v=Math.max(0,c.start),C=Math.min(b.count,c.start+c.count)-1;v<C;v+=g){if(h.fromBufferAttribute(b,v),f.fromBufferAttribute(b,v+1),ZI.distanceSqToSegment(h,f,m,p)>d)continue;m.applyMatrix4(this.matrixWorld);const E=n.ray.origin.distanceTo(m);E<n.near||E>n.far||i.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const u=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=l}}}}}const e6=new L,t6=new L;class JI extends Qd{constructor(n,i){super(n,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const n=this.geometry;if(null===n.index){const i=n.attributes.position,s=[];for(let a=0,l=i.count;a<l;a+=2)e6.fromBufferAttribute(i,a),t6.fromBufferAttribute(i,a+1),s[a]=0===a?0:s[a-1],s[a+1]=s[a]+e6.distanceTo(t6);n.setAttribute("lineDistance",new st(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class n6 extends Qd{constructor(n,i){super(n,i),this.isLineLoop=!0,this.type="LineLoop"}}class eT extends Go{constructor(n){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ne(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}const i6=new Pt,tT=new Fv,aw=new ec,lw=new L;class r6 extends pr{constructor(n=new rn,i=new eT){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),this.material=n.material,this.geometry=n.geometry,this}raycast(n,i){const s=this.geometry,a=this.matrixWorld,l=n.params.Points.threshold,c=s.drawRange;if(null===s.boundingSphere&&s.computeBoundingSphere(),aw.copy(s.boundingSphere),aw.applyMatrix4(a),aw.radius+=l,!1===n.ray.intersectsSphere(aw))return;i6.copy(a).invert(),tT.copy(n.ray).applyMatrix4(i6);const u=l/((this.scale.x+this.scale.y+this.scale.z)/3),d=u*u,h=s.index,p=s.attributes.position;if(null!==h)for(let _=Math.max(0,c.start),A=Math.min(h.count,c.start+c.count);_<A;_++){const b=h.getX(_);lw.fromBufferAttribute(p,b),s6(lw,b,d,a,n,i,this)}else for(let _=Math.max(0,c.start),A=Math.min(p.count,c.start+c.count);_<A;_++)lw.fromBufferAttribute(p,_),s6(lw,_,d,a,n,i,this)}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const u=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=l}}}}}function s6(r,n,i,s,a,l,c){const u=tT.distanceSqToPoint(r);if(u<i){const d=new L;tT.closestPointToPoint(r,d),d.applyMatrix4(s);const h=a.ray.origin.distanceTo(d);if(h<a.near||h>a.far)return;l.push({distance:h,distanceToRay:Math.sqrt(u),point:d,index:n,face:null,object:c})}}class o6 extends Xs{constructor(n,i,s,a,l,c,u,d,h,f,p,m){super(null,c,u,d,h,f,a,l,p,m),this.isCompressedTexture=!0,this.image={width:i,height:s},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}}class cc extends Go{constructor(n){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ne(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ne(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new be(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class Au extends cc{constructor(n){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new be(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return nr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ne(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Ne(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ne(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(n)}get sheen(){return this._sheen}set sheen(n){this._sheen>0!=n>0&&this.version++,this._sheen=n}get clearcoat(){return this._clearcoat}set clearcoat(n){this._clearcoat>0!=n>0&&this.version++,this._clearcoat=n}get iridescence(){return this._iridescence}set iridescence(n){this._iridescence>0!=n>0&&this.version++,this._iridescence=n}get transmission(){return this._transmission}set transmission(n){this._transmission>0!=n>0&&this.version++,this._transmission=n}copy(n){return super.copy(n),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=n.clearcoat,this.clearcoatMap=n.clearcoatMap,this.clearcoatRoughness=n.clearcoatRoughness,this.clearcoatRoughnessMap=n.clearcoatRoughnessMap,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.ior=n.ior,this.iridescence=n.iridescence,this.iridescenceMap=n.iridescenceMap,this.iridescenceIOR=n.iridescenceIOR,this.iridescenceThicknessRange=[...n.iridescenceThicknessRange],this.iridescenceThicknessMap=n.iridescenceThicknessMap,this.sheen=n.sheen,this.sheenColor.copy(n.sheenColor),this.sheenColorMap=n.sheenColorMap,this.sheenRoughness=n.sheenRoughness,this.sheenRoughnessMap=n.sheenRoughnessMap,this.transmission=n.transmission,this.transmissionMap=n.transmissionMap,this.thickness=n.thickness,this.thicknessMap=n.thicknessMap,this.attenuationDistance=n.attenuationDistance,this.attenuationColor.copy(n.attenuationColor),this.specularIntensity=n.specularIntensity,this.specularIntensityMap=n.specularIntensityMap,this.specularColor.copy(n.specularColor),this.specularColorMap=n.specularColorMap,this}}function Wo(r,n,i){return xT(r)?new r.constructor(r.subarray(n,void 0!==i?i:r.length)):r.slice(n,i)}function Wd(r,n,i){return!r||!i&&r.constructor===n?r:"number"==typeof n.BYTES_PER_ELEMENT?new n(r):Array.prototype.slice.call(r)}function xT(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function y6(r){const i=r.length,s=new Array(i);for(let a=0;a!==i;++a)s[a]=a;return s.sort(function n(a,l){return r[a]-r[l]}),s}function MT(r,n,i){const s=r.length,a=new r.constructor(s);for(let l=0,c=0;c!==s;++l){const u=i[l]*n;for(let d=0;d!==n;++d)a[c++]=r[u+d]}return a}function ET(r,n,i,s){let a=1,l=r[0];for(;void 0!==l&&void 0===l[s];)l=r[a++];if(void 0===l)return;let c=l[s];if(void 0!==c)if(Array.isArray(c))do{c=l[s],void 0!==c&&(n.push(l.time),i.push.apply(i,c)),l=r[a++]}while(void 0!==l);else if(void 0!==c.toArray)do{c=l[s],void 0!==c&&(n.push(l.time),c.toArray(i,i.length)),l=r[a++]}while(void 0!==l);else do{c=l[s],void 0!==c&&(n.push(l.time),i.push(c)),l=r[a++]}while(void 0!==l)}class V_{constructor(n,i,s,a){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new i.constructor(s),this.sampleValues=i,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(n){const i=this.parameterPositions;let s=this._cachedIndex,a=i[s],l=i[s-1];e:{t:{let c;n:{i:if(!(n<a)){for(let u=s+2;;){if(void 0===a){if(n<l)break i;return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===u)break;if(l=a,a=i[++s],n<a)break t}c=i.length;break n}if(n>=l)break e;{const u=i[1];n<u&&(s=2,l=u);for(let d=s-2;;){if(void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(s===d)break;if(a=l,l=i[--s-1],n>=l)break t}c=s,s=0}}for(;s<c;){const u=s+c>>>1;n<i[u]?c=u:s=u+1}if(a=i[s],l=i[s-1],void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===a)return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,l,a)}return this.interpolate_(s,l,n,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(n){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=n*a;for(let c=0;c!==a;++c)i[c]=s[l+c];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class PDe extends V_{constructor(n,i,s,a){super(n,i,s,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ep,endingEnd:ep}}intervalChanged_(n,i,s){const a=this.parameterPositions;let l=n-2,c=n+1,u=a[l],d=a[c];if(void 0===u)switch(this.getSettings_().endingStart){case tp:l=n,u=2*i-s;break;case 2402:l=a.length-2,u=i+a[l]-a[l+1];break;default:l=n,u=s}if(void 0===d)switch(this.getSettings_().endingEnd){case tp:c=n,d=2*s-i;break;case 2402:c=1,d=s+a[1]-a[0];break;default:c=n-1,d=i}const h=.5*(s-i),f=this.valueSize;this._weightPrev=h/(i-u),this._weightNext=h/(d-s),this._offsetPrev=l*f,this._offsetNext=c*f}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,u=this.valueSize,d=n*u,h=d-u,f=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,g=this._weightNext,_=(s-i)/(a-i),A=_*_,b=A*_,y=-m*b+2*m*A-m*_,w=(1+m)*b+(-1.5-2*m)*A+(-.5+m)*_+1,v=(-1-g)*b+(1.5+g)*A+.5*_,C=g*b-g*A;for(let M=0;M!==u;++M)l[M]=y*c[f+M]+w*c[h+M]+v*c[d+M]+C*c[p+M];return l}}class v6 extends V_{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,u=this.valueSize,d=n*u,h=d-u,f=(s-i)/(a-i),p=1-f;for(let m=0;m!==u;++m)l[m]=c[h+m]*p+c[d+m]*f;return l}}class ODe extends V_{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n){return this.copySampleValue_(n-1)}}class ll{constructor(n,i,s,a){if(void 0===n)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===i||0===i.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=Wd(i,this.TimeBufferType),this.values=Wd(s,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(n){const i=n.constructor;let s;if(i.toJSON!==this.toJSON)s=i.toJSON(n);else{s={name:n.name,times:Wd(n.times,Array),values:Wd(n.values,Array)};const a=n.getInterpolation();a!==n.DefaultInterpolation&&(s.interpolation=a)}return s.type=n.ValueTypeName,s}InterpolantFactoryMethodDiscrete(n){return new ODe(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodLinear(n){return new v6(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodSmooth(n){return new PDe(this.times,this.values,this.getValueSize(),n)}setInterpolation(n){let i;switch(n){case Jf:i=this.InterpolantFactoryMethodDiscrete;break;case kd:i=this.InterpolantFactoryMethodLinear;break;case 2302:i=this.InterpolantFactoryMethodSmooth}if(void 0===i){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(n===this.DefaultInterpolation)throw new Error(s);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jf;case this.InterpolantFactoryMethodLinear:return kd;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(n){if(0!==n){const i=this.times;for(let s=0,a=i.length;s!==a;++s)i[s]+=n}return this}scale(n){if(1!==n){const i=this.times;for(let s=0,a=i.length;s!==a;++s)i[s]*=n}return this}trim(n,i){const s=this.times,a=s.length;let l=0,c=a-1;for(;l!==a&&s[l]<n;)++l;for(;-1!==c&&s[c]>i;)--c;if(++c,0!==l||c!==a){l>=c&&(c=Math.max(c,1),l=c-1);const u=this.getValueSize();this.times=Wo(s,l,c),this.values=Wo(this.values,l*u,c*u)}return this}validate(){let n=!0;const i=this.getValueSize();i-Math.floor(i)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);const s=this.times,a=this.values,l=s.length;0===l&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);let c=null;for(let u=0;u!==l;u++){const d=s[u];if("number"==typeof d&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,u,d),n=!1;break}if(null!==c&&c>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,u,d,c),n=!1;break}c=d}if(void 0!==a&&xT(a))for(let u=0,d=a.length;u!==d;++u){const h=a[u];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,h),n=!1;break}}return n}optimize(){const n=Wo(this.times),i=Wo(this.values),s=this.getValueSize(),a=2302===this.getInterpolation(),l=n.length-1;let c=1;for(let u=1;u<l;++u){let d=!1;const h=n[u];if(h!==n[u+1]&&(1!==u||h!==n[0]))if(a)d=!0;else{const p=u*s,m=p-s,g=p+s;for(let _=0;_!==s;++_){const A=i[p+_];if(A!==i[m+_]||A!==i[g+_]){d=!0;break}}}if(d){if(u!==c){n[c]=n[u];const p=u*s,m=c*s;for(let g=0;g!==s;++g)i[m+g]=i[p+g]}++c}}if(l>0){n[c]=n[l];for(let u=l*s,d=c*s,h=0;h!==s;++h)i[d+h]=i[u+h];++c}return c!==n.length?(this.times=Wo(n,0,c),this.values=Wo(i,0,c*s)):(this.times=n,this.values=i),this}clone(){const n=Wo(this.times,0),i=Wo(this.values,0),a=new(0,this.constructor)(this.name,n,i);return a.createInterpolant=this.createInterpolant,a}}ll.prototype.TimeBufferType=Float32Array,ll.prototype.ValueBufferType=Float32Array,ll.prototype.DefaultInterpolation=kd;class Sp extends ll{}Sp.prototype.ValueTypeName="bool",Sp.prototype.ValueBufferType=Array,Sp.prototype.DefaultInterpolation=Jf,Sp.prototype.InterpolantFactoryMethodLinear=void 0,Sp.prototype.InterpolantFactoryMethodSmooth=void 0;class w6 extends ll{}w6.prototype.ValueTypeName="color";class z_ extends ll{}z_.prototype.ValueTypeName="number";class BDe extends V_{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,u=this.valueSize,d=(s-i)/(a-i);let h=n*u;for(let f=h+u;h!==f;h+=4)Ks.slerpFlat(l,0,c,h-u,c,h,d);return l}}class jd extends ll{InterpolantFactoryMethodLinear(n){return new BDe(this.times,this.values,this.getValueSize(),n)}}jd.prototype.ValueTypeName="quaternion",jd.prototype.DefaultInterpolation=kd,jd.prototype.InterpolantFactoryMethodSmooth=void 0;class Dp extends ll{}Dp.prototype.ValueTypeName="string",Dp.prototype.ValueBufferType=Array,Dp.prototype.DefaultInterpolation=Jf,Dp.prototype.InterpolantFactoryMethodLinear=void 0,Dp.prototype.InterpolantFactoryMethodSmooth=void 0;class H_ extends ll{}H_.prototype.ValueTypeName="vector";class G_{constructor(n,i=-1,s,a=2500){this.name=n,this.tracks=s,this.duration=i,this.blendMode=a,this.uuid=_o(),this.duration<0&&this.resetDuration()}static parse(n){const i=[],s=n.tracks,a=1/(n.fps||1);for(let c=0,u=s.length;c!==u;++c)i.push(FDe(s[c]).scale(a));const l=new this(n.name,n.duration,i,n.blendMode);return l.uuid=n.uuid,l}static toJSON(n){const i=[],s=n.tracks,a={name:n.name,duration:n.duration,tracks:i,uuid:n.uuid,blendMode:n.blendMode};for(let l=0,c=s.length;l!==c;++l)i.push(ll.toJSON(s[l]));return a}static CreateFromMorphTargetSequence(n,i,s,a){const l=i.length,c=[];for(let u=0;u<l;u++){let d=[],h=[];d.push((u+l-1)%l,u,(u+1)%l),h.push(0,1,0);const f=y6(d);d=MT(d,1,f),h=MT(h,1,f),!a&&0===d[0]&&(d.push(l),h.push(h[0])),c.push(new z_(".morphTargetInfluences["+i[u].name+"]",d,h).scale(1/s))}return new this(n,-1,c)}static findByName(n,i){let s=n;if(!Array.isArray(n)){const a=n;s=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<s.length;a++)if(s[a].name===i)return s[a];return null}static CreateClipsFromMorphTargetSequences(n,i,s){const a={},l=/^([\w-]*?)([\d]+)$/;for(let u=0,d=n.length;u<d;u++){const h=n[u],f=h.name.match(l);if(f&&f.length>1){const p=f[1];let m=a[p];m||(a[p]=m=[]),m.push(h)}}const c=[];for(const u in a)c.push(this.CreateFromMorphTargetSequence(u,a[u],i,s));return c}static parseAnimation(n,i){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(p,m,g,_,A){if(0!==g.length){const b=[],y=[];ET(g,b,y,_),0!==b.length&&A.push(new p(m,b,y))}},a=[],l=n.name||"default",c=n.fps||30,u=n.blendMode;let d=n.length||-1;const h=n.hierarchy||[];for(let p=0;p<h.length;p++){const m=h[p].keys;if(m&&0!==m.length)if(m[0].morphTargets){const g={};let _;for(_=0;_<m.length;_++)if(m[_].morphTargets)for(let A=0;A<m[_].morphTargets.length;A++)g[m[_].morphTargets[A]]=-1;for(const A in g){const b=[],y=[];for(let w=0;w!==m[_].morphTargets.length;++w){const v=m[_];b.push(v.time),y.push(v.morphTarget===A?1:0)}a.push(new z_(".morphTargetInfluence["+A+"]",b,y))}d=g.length*c}else{const g=".bones["+i[p].name+"]";s(H_,g+".position",m,"pos",a),s(jd,g+".quaternion",m,"rot",a),s(H_,g+".scale",m,"scl",a)}}return 0===a.length?null:new this(l,d,a,u)}resetDuration(){let i=0;for(let s=0,a=this.tracks.length;s!==a;++s){const l=this.tracks[s];i=Math.max(i,l.times[l.times.length-1])}return this.duration=i,this}trim(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this}validate(){let n=!0;for(let i=0;i<this.tracks.length;i++)n=n&&this.tracks[i].validate();return n}optimize(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this}clone(){const n=[];for(let i=0;i<this.tracks.length;i++)n.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,n,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function FDe(r){if(void 0===r.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const n=function LDe(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return z_;case"vector":case"vector2":case"vector3":case"vector4":return H_;case"color":return w6;case"quaternion":return jd;case"bool":case"boolean":return Sp;case"string":return Dp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}(r.type);if(void 0===r.times){const i=[],s=[];ET(r.keys,i,s,"value"),r.times=i,r.values=s}return void 0!==n.parse?n.parse(r):new n(r.name,r.times,r.values,r.interpolation)}const Ip={enabled:!1,files:{},add:function(r,n){!1!==this.enabled&&(this.files[r]=n)},get:function(r){if(!1!==this.enabled)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class C6{constructor(n,i,s){const a=this;let d,l=!1,c=0,u=0;const h=[];this.onStart=void 0,this.onLoad=n,this.onProgress=i,this.onError=s,this.itemStart=function(f){u++,!1===l&&void 0!==a.onStart&&a.onStart(f,c,u),l=!0},this.itemEnd=function(f){c++,void 0!==a.onProgress&&a.onProgress(f,c,u),c===u&&(l=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(f){void 0!==a.onError&&a.onError(f)},this.resolveURL=function(f){return d?d(f):f},this.setURLModifier=function(f){return d=f,this},this.addHandler=function(f,p){return h.push(f,p),this},this.removeHandler=function(f){const p=h.indexOf(f);return-1!==p&&h.splice(p,2),this},this.getHandler=function(f){for(let p=0,m=h.length;p<m;p+=2){const g=h[p],_=h[p+1];if(g.global&&(g.lastIndex=0),g.test(f))return _}return null}}}const NDe=new C6;class yu{constructor(n){this.manager=void 0!==n?n:NDe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(n,i){const s=this;return new Promise(function(a,l){s.load(n,a,i,l)})}parse(){}setCrossOrigin(n){return this.crossOrigin=n,this}setWithCredentials(n){return this.withCredentials=n,this}setPath(n){return this.path=n,this}setResourcePath(n){return this.resourcePath=n,this}setRequestHeader(n){return this.requestHeader=n,this}}const uc={};class UDe extends Error{constructor(n,i){super(n),this.response=i}}class Bs extends yu{constructor(n){super(n)}load(n,i,s,a){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=Ip.get(n);if(void 0!==l)return this.manager.itemStart(n),setTimeout(()=>{i&&i(l),this.manager.itemEnd(n)},0),l;if(void 0!==uc[n])return void uc[n].push({onLoad:i,onProgress:s,onError:a});uc[n]=[],uc[n].push({onLoad:i,onProgress:s,onError:a});const c=new Request(n,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,d=this.responseType;fetch(c).then(h=>{if(200===h.status||0===h.status){if(0===h.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===h.body||void 0===h.body.getReader)return h;const f=uc[n],p=h.body.getReader(),m=h.headers.get("Content-Length"),g=m?parseInt(m):0,_=0!==g;let A=0;const b=new ReadableStream({start(y){!function w(){p.read().then(({done:v,value:C})=>{if(v)y.close();else{A+=C.byteLength;const M=new ProgressEvent("progress",{lengthComputable:_,loaded:A,total:g});for(let E=0,S=f.length;E<S;E++){const x=f[E];x.onProgress&&x.onProgress(M)}y.enqueue(C),w()}})}()}});return new Response(b)}throw new UDe(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(f=>(new DOMParser).parseFromString(f,u));case"json":return h.json();default:if(void 0===u)return h.text();{const p=/charset="?([^;"\s]*)"?/i.exec(u),m=p&&p[1]?p[1].toLowerCase():void 0,g=new TextDecoder(m);return h.arrayBuffer().then(_=>g.decode(_))}}}).then(h=>{Ip.add(n,h);const f=uc[n];delete uc[n];for(let p=0,m=f.length;p<m;p++){const g=f[p];g.onLoad&&g.onLoad(h)}}).catch(h=>{const f=uc[n];if(void 0===f)throw this.manager.itemError(n),h;delete uc[n];for(let p=0,m=f.length;p<m;p++){const g=f[p];g.onError&&g.onError(h)}this.manager.itemError(n)}).finally(()=>{this.manager.itemEnd(n)}),this.manager.itemStart(n)}setResponseType(n){return this.responseType=n,this}setMimeType(n){return this.mimeType=n,this}}class yw extends yu{constructor(n){super(n)}load(n,i,s,a){void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=this,c=Ip.get(n);if(void 0!==c)return l.manager.itemStart(n),setTimeout(function(){i&&i(c),l.manager.itemEnd(n)},0),c;const u=x_("img");function d(){f(),Ip.add(n,this),i&&i(this),l.manager.itemEnd(n)}function h(p){f(),a&&a(p),l.manager.itemError(n),l.manager.itemEnd(n)}function f(){u.removeEventListener("load",d,!1),u.removeEventListener("error",h,!1)}return u.addEventListener("load",d,!1),u.addEventListener("error",h,!1),"data:"!==n.slice(0,5)&&void 0!==this.crossOrigin&&(u.crossOrigin=this.crossOrigin),l.manager.itemStart(n),u.src=n,u}}class VDe extends yu{constructor(n){super(n)}load(n,i,s,a){const l=this,c=new xp,u=new Bs(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(l.withCredentials),u.load(n,function(d){const h=l.parse(d);!h||(void 0!==h.image?c.image=h.image:void 0!==h.data&&(c.image.width=h.width,c.image.height=h.height,c.image.data=h.data),c.wrapS=void 0!==h.wrapS?h.wrapS:ss,c.wrapT=void 0!==h.wrapT?h.wrapT:ss,c.magFilter=void 0!==h.magFilter?h.magFilter:si,c.minFilter=void 0!==h.minFilter?h.minFilter:si,c.anisotropy=void 0!==h.anisotropy?h.anisotropy:1,void 0!==h.encoding&&(c.encoding=h.encoding),void 0!==h.flipY&&(c.flipY=h.flipY),void 0!==h.format&&(c.format=h.format),void 0!==h.type&&(c.type=h.type),void 0!==h.mipmaps&&(c.mipmaps=h.mipmaps,c.minFilter=sl),1===h.mipmapCount&&(c.minFilter=si),void 0!==h.generateMipmaps&&(c.generateMipmaps=h.generateMipmaps),c.needsUpdate=!0,i&&i(c,h))},s,a),c}}class ST extends yu{constructor(n){super(n)}load(n,i,s,a){const l=new Xs,c=new yw(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(n,function(u){l.image=u,l.needsUpdate=!0,void 0!==i&&i(l)},s,a),l}}class vw extends pr{constructor(n,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Ne(n),this.intensity=i}dispose(){}copy(n,i){return super.copy(n,i),this.color.copy(n.color),this.intensity=n.intensity,this}toJSON(n){const i=super.toJSON(n);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,void 0!==this.groundColor&&(i.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(i.object.distance=this.distance),void 0!==this.angle&&(i.object.angle=this.angle),void 0!==this.decay&&(i.object.decay=this.decay),void 0!==this.penumbra&&(i.object.penumbra=this.penumbra),void 0!==this.shadow&&(i.object.shadow=this.shadow.toJSON()),i}}const x6=new Pt,M6=new L,E6=new L;class DT{constructor(n){this.camera=n,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new be(512,512),this.map=null,this.mapPass=null,this.matrix=new Pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new UI,this._frameExtents=new be(1,1),this._viewportCount=1,this._viewports=[new qn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(n){const i=this.camera,s=this.matrix;M6.setFromMatrixPosition(n.matrixWorld),i.position.copy(M6),E6.setFromMatrixPosition(n.target.matrixWorld),i.lookAt(E6),i.updateMatrixWorld(),x6.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(x6),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(i.projectionMatrix),s.multiply(i.matrixWorldInverse)}getViewport(n){return this._viewports[n]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const n={};return 0!==this.bias&&(n.bias=this.bias),0!==this.normalBias&&(n.normalBias=this.normalBias),1!==this.radius&&(n.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}class HDe extends DT{constructor(){super(new gr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(n){const i=this.camera,s=2*w_*n.angle*this.focus,a=this.mapSize.width/this.mapSize.height,l=n.distance||i.far;(s!==i.fov||a!==i.aspect||l!==i.far)&&(i.fov=s,i.aspect=a,i.far=l,i.updateProjectionMatrix()),super.updateMatrices(n)}copy(n){return super.copy(n),this.focus=n.focus,this}}class S6 extends vw{constructor(n,i,s=0,a=Math.PI/3,l=0,c=1){super(n,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pr.DefaultUp),this.updateMatrix(),this.target=new pr,this.distance=s,this.angle=a,this.penumbra=l,this.decay=c,this.map=null,this.shadow=new HDe}get power(){return this.intensity*Math.PI}set power(n){this.intensity=n/Math.PI}dispose(){this.shadow.dispose()}copy(n,i){return super.copy(n,i),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}const D6=new Pt,Q_=new L,IT=new L;class GDe extends DT{constructor(){super(new gr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new be(4,2),this._viewportCount=6,this._viewports=[new qn(2,1,1,1),new qn(0,1,1,1),new qn(3,1,1,1),new qn(1,1,1,1),new qn(3,0,1,1),new qn(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(n,i=0){const s=this.camera,a=this.matrix,l=n.distance||s.far;l!==s.far&&(s.far=l,s.updateProjectionMatrix()),Q_.setFromMatrixPosition(n.matrixWorld),s.position.copy(Q_),IT.copy(s.position),IT.add(this._cubeDirections[i]),s.up.copy(this._cubeUps[i]),s.lookAt(IT),s.updateMatrixWorld(),a.makeTranslation(-Q_.x,-Q_.y,-Q_.z),D6.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(D6)}}class ww extends vw{constructor(n,i,s=0,a=1){super(n,i),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=a,this.shadow=new GDe}get power(){return 4*this.intensity*Math.PI}set power(n){this.intensity=n/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(n,i){return super.copy(n,i),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}class QDe extends DT{constructor(){super(new Vd(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class TT extends vw{constructor(n,i){super(n,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pr.DefaultUp),this.updateMatrix(),this.target=new pr,this.shadow=new QDe}dispose(){this.shadow.dispose()}copy(n){return super.copy(n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}class jDe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let n=0;n<9;n++)this.coefficients.push(new L)}set(n){for(let i=0;i<9;i++)this.coefficients[i].copy(n[i]);return this}zero(){for(let n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this}getAt(n,i){const s=n.x,a=n.y,l=n.z,c=this.coefficients;return i.copy(c[0]).multiplyScalar(.282095),i.addScaledVector(c[1],.488603*a),i.addScaledVector(c[2],.488603*l),i.addScaledVector(c[3],.488603*s),i.addScaledVector(c[4],s*a*1.092548),i.addScaledVector(c[5],a*l*1.092548),i.addScaledVector(c[6],.315392*(3*l*l-1)),i.addScaledVector(c[7],s*l*1.092548),i.addScaledVector(c[8],.546274*(s*s-a*a)),i}getIrradianceAt(n,i){const s=n.x,a=n.y,l=n.z,c=this.coefficients;return i.copy(c[0]).multiplyScalar(.886227),i.addScaledVector(c[1],1.023328*a),i.addScaledVector(c[2],1.023328*l),i.addScaledVector(c[3],1.023328*s),i.addScaledVector(c[4],.858086*s*a),i.addScaledVector(c[5],.858086*a*l),i.addScaledVector(c[6],.743125*l*l-.247708),i.addScaledVector(c[7],.858086*s*l),i.addScaledVector(c[8],.429043*(s*s-a*a)),i}add(n){for(let i=0;i<9;i++)this.coefficients[i].add(n.coefficients[i]);return this}addScaledSH(n,i){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(n.coefficients[s],i);return this}scale(n){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(n);return this}lerp(n,i){for(let s=0;s<9;s++)this.coefficients[s].lerp(n.coefficients[s],i);return this}equals(n){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(n.coefficients[i]))return!1;return!0}copy(n){return this.set(n.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(n,i=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].fromArray(n,i+3*a);return this}toArray(n=[],i=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].toArray(n,i+3*a);return n}static getBasisAt(n,i){const s=n.x,a=n.y,l=n.z;i[0]=.282095,i[1]=.488603*a,i[2]=.488603*l,i[3]=.488603*s,i[4]=1.092548*s*a,i[5]=1.092548*a*l,i[6]=.315392*(3*l*l-1),i[7]=1.092548*s*l,i[8]=.546274*(s*s-a*a)}}class I6 extends vw{constructor(n=new jDe,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=n}copy(n){return super.copy(n),this.sh.copy(n.sh),this}fromJSON(n){return this.intensity=n.intensity,this.sh.fromArray(n.sh),this}toJSON(n){const i=super.toJSON(n);return i.object.sh=this.sh.toArray(),i}}class dc{static decodeText(n){if(typeof TextDecoder<"u")return(new TextDecoder).decode(n);let i="";for(let s=0,a=n.length;s<a;s++)i+=String.fromCharCode(n[s]);try{return decodeURIComponent(escape(i))}catch{return i}}static extractUrlBase(n){const i=n.lastIndexOf("/");return-1===i?"./":n.slice(0,i+1)}static resolveURL(n,i){return"string"!=typeof n||""===n?"":(/^https?:\/\//i.test(i)&&/^\//.test(n)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:i+n)}}class KDe extends yu{constructor(n){super(n),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(n){return this.options=n,this}load(n,i,s,a){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=this,c=Ip.get(n);if(void 0!==c)return l.manager.itemStart(n),setTimeout(function(){i&&i(c),l.manager.itemEnd(n)},0),c;const u={};u.credentials="anonymous"===this.crossOrigin?"same-origin":"include",u.headers=this.requestHeader,fetch(n,u).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(d){Ip.add(n,d),i&&i(d),l.manager.itemEnd(n)}).catch(function(d){a&&a(d),l.manager.itemError(n),l.manager.itemEnd(n)}),l.manager.itemStart(n)}}class tIe{constructor(n,i,s){let a,l,c;switch(this.binding=n,this.valueSize=s,i){case"quaternion":a=this._slerp,l=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*s),this._workIndex=5;break;case"string":case"bool":a=this._select,l=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(5*s);break;default:a=this._lerp,l=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*s)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=l,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(n,i){const s=this.buffer,a=this.valueSize,l=n*a+a;let c=this.cumulativeWeight;if(0===c){for(let u=0;u!==a;++u)s[l+u]=s[u];c=i}else c+=i,this._mixBufferRegion(s,l,0,i/c,a);this.cumulativeWeight=c}accumulateAdditive(n){const i=this.buffer,s=this.valueSize,a=s*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(i,a,0,n,s),this.cumulativeWeightAdditive+=n}apply(n){const i=this.valueSize,s=this.buffer,a=n*i+i,l=this.cumulativeWeight,c=this.cumulativeWeightAdditive,u=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1&&this._mixBufferRegion(s,a,i*this._origIndex,1-l,i),c>0&&this._mixBufferRegionAdditive(s,a,this._addIndex*i,1,i);for(let d=i,h=i+i;d!==h;++d)if(s[d]!==s[d+i]){u.setValue(s,a);break}}saveOriginalState(){const i=this.buffer,s=this.valueSize,a=s*this._origIndex;this.binding.getValue(i,a);for(let l=s,c=a;l!==c;++l)i[l]=i[a+l%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const n=this._addIndex*this.valueSize,i=n+this.valueSize;for(let s=n;s<i;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const n=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[i+s]=this.buffer[n+s]}_select(n,i,s,a,l){if(a>=.5)for(let c=0;c!==l;++c)n[i+c]=n[s+c]}_slerp(n,i,s,a){Ks.slerpFlat(n,i,n,i,n,s,a)}_slerpAdditive(n,i,s,a,l){const c=this._workIndex*l;Ks.multiplyQuaternionsFlat(n,c,n,i,n,s),Ks.slerpFlat(n,i,n,i,n,c,a)}_lerp(n,i,s,a,l){const c=1-a;for(let u=0;u!==l;++u){const d=i+u;n[d]=n[d]*c+n[s+u]*a}}_lerpAdditive(n,i,s,a,l){for(let c=0;c!==l;++c){const u=i+c;n[u]=n[u]+n[s+c]*a}}}const RT="\\[\\]\\.:\\/",nIe=new RegExp("["+RT+"]","g"),PT="[^"+RT+"]",iIe="[^"+RT.replace("\\.","")+"]",lIe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",PT)+/(WCOD+)?/.source.replace("WCOD",iIe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",PT)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",PT)+"$"),cIe=["material","materials","bones","map"];class uIe{constructor(n,i,s){const a=s||Vn.parseTrackName(i);this._targetGroup=n,this._bindings=n.subscribe_(i,a)}getValue(n,i){this.bind();const a=this._bindings[this._targetGroup.nCachedObjects_];void 0!==a&&a.getValue(n,i)}setValue(n,i){const s=this._bindings;for(let a=this._targetGroup.nCachedObjects_,l=s.length;a!==l;++a)s[a].setValue(n,i)}bind(){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].bind()}unbind(){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].unbind()}}let Vn=(()=>{class r{constructor(i,s,a){this.path=s,this.parsedPath=a||r.parseTrackName(s),this.node=r.findNode(i,this.parsedPath.nodeName)||i,this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,s,a){return i&&i.isAnimationObjectGroup?new r.Composite(i,s,a):new r(i,s,a)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(nIe,"")}static parseTrackName(i){const s=lIe.exec(i);if(null===s)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const a={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},l=a.nodeName&&a.nodeName.lastIndexOf(".");if(void 0!==l&&-1!==l){const c=a.nodeName.substring(l+1);-1!==cIe.indexOf(c)&&(a.nodeName=a.nodeName.substring(0,l),a.objectName=c)}if(null===a.propertyName||0===a.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return a}static findNode(i,s){if(void 0===s||""===s||"."===s||-1===s||s===i.name||s===i.uuid)return i;if(i.skeleton){const a=i.skeleton.getBoneByName(s);if(void 0!==a)return a}if(i.children){const a=function(c){for(let u=0;u<c.length;u++){const d=c[u];if(d.name===s||d.uuid===s)return d;const h=a(d.children);if(h)return h}return null},l=a(i.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,s){i[s]=this.targetObject[this.propertyName]}_getValue_array(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)i[s++]=a[l]}_getValue_arrayElement(i,s){i[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,s){this.resolvedProperty.toArray(i,s)}_setValue_direct(i,s){this.targetObject[this.propertyName]=i[s]}_setValue_direct_setNeedsUpdate(i,s){this.targetObject[this.propertyName]=i[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,s){this.targetObject[this.propertyName]=i[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++]}_setValue_array_setNeedsUpdate(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,s){this.resolvedProperty[this.propertyIndex]=i[s]}_setValue_arrayElement_setNeedsUpdate(i,s){this.resolvedProperty[this.propertyIndex]=i[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,s){this.resolvedProperty[this.propertyIndex]=i[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,s){this.resolvedProperty.fromArray(i,s)}_setValue_fromArray_setNeedsUpdate(i,s){this.resolvedProperty.fromArray(i,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,s){this.resolvedProperty.fromArray(i,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,s){this.bind(),this.getValue(i,s)}_setValue_unbound(i,s){this.bind(),this.setValue(i,s)}bind(){let i=this.node;const s=this.parsedPath,a=s.objectName,l=s.propertyName;let c=s.propertyIndex;if(i||(i=r.findNode(this.rootNode,s.nodeName)||this.rootNode,this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(a){let f=s.objectIndex;switch(a){case"materials":if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);i=i.material.materials;break;case"bones":if(!i.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);i=i.skeleton.bones;for(let p=0;p<i.length;p++)if(i[p].name===f){f=p;break}break;case"map":if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);i=i.material.map;break;default:if(void 0===i[a])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);i=i[a]}if(void 0!==f){if(void 0===i[f])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);i=i[f]}}const u=i[l];if(void 0===u)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+s.nodeName+"."+l+" but it wasn't found.",i);let d=this.Versioning.None;this.targetObject=i,void 0!==i.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==i.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==c){if("morphTargetInfluences"===l){if(!i.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!i.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==i.morphTargetDictionary[c]&&(c=i.morphTargetDictionary[c])}h=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=c}else void 0!==u.fromArray&&void 0!==u.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(h=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=l;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return r.Composite=uIe,r})();Vn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Vn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Vn.prototype.GetterByBindingType=[Vn.prototype._getValue_direct,Vn.prototype._getValue_array,Vn.prototype._getValue_arrayElement,Vn.prototype._getValue_toArray],Vn.prototype.SetterByBindingTypeAndVersioning=[[Vn.prototype._setValue_direct,Vn.prototype._setValue_direct_setNeedsUpdate,Vn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_array,Vn.prototype._setValue_array_setNeedsUpdate,Vn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_arrayElement,Vn.prototype._setValue_arrayElement_setNeedsUpdate,Vn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Vn.prototype._setValue_fromArray,Vn.prototype._setValue_fromArray_setNeedsUpdate,Vn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class dIe{constructor(n,i,s=null,a=i.blendMode){this._mixer=n,this._clip=i,this._localRoot=s,this.blendMode=a;const l=i.tracks,c=l.length,u=new Array(c),d={endingStart:ep,endingEnd:ep};for(let h=0;h!==c;++h){const f=l[h].createInterpolant(null);u[h]=f,f.settings=d}this._interpolantSettings=d,this._interpolants=u,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(n){return this._startTime=n,this}setLoop(n,i){return this.loop=n,this.repetitions=i,this}setEffectiveWeight(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(n){return this._scheduleFading(n,0,1)}fadeOut(n){return this._scheduleFading(n,1,0)}crossFadeFrom(n,i,s){if(n.fadeOut(i),this.fadeIn(i),s){const a=this._clip.duration,l=n._clip.duration,u=a/l;n.warp(1,l/a,i),this.warp(u,1,i)}return this}crossFadeTo(n,i,s){return n.crossFadeFrom(this,i,s)}stopFading(){const n=this._weightInterpolant;return null!==n&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}setEffectiveTimeScale(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(n){return this.timeScale=this._clip.duration/n,this.stopWarping()}syncWith(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()}halt(n){return this.warp(this._effectiveTimeScale,0,n)}warp(n,i,s){const a=this._mixer,l=a.time,c=this.timeScale;let u=this._timeScaleInterpolant;null===u&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const d=u.parameterPositions,h=u.sampleValues;return d[0]=l,d[1]=l+s,h[0]=n/c,h[1]=i/c,this}stopWarping(){const n=this._timeScaleInterpolant;return null!==n&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(n,i,s,a){if(!this.enabled)return void this._updateWeight(n);const l=this._startTime;if(null!==l){const d=(n-l)*s;d<0||0===s?i=0:(this._startTime=null,i=s*d)}i*=this._updateTimeScale(n);const c=this._updateTime(i),u=this._updateWeight(n);if(u>0){const d=this._interpolants,h=this._propertyBindings;if(2501===this.blendMode)for(let f=0,p=d.length;f!==p;++f)d[f].evaluate(c),h[f].accumulateAdditive(u);else for(let f=0,p=d.length;f!==p;++f)d[f].evaluate(c),h[f].accumulate(a,u)}}_updateWeight(n){let i=0;if(this.enabled){i=this.weight;const s=this._weightInterpolant;if(null!==s){const a=s.evaluate(n)[0];i*=a,n>s.parameterPositions[1]&&(this.stopFading(),0===a&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(n){let i=0;if(!this.paused){i=this.timeScale;const s=this._timeScaleInterpolant;null!==s&&(i*=s.evaluate(n)[0],n>s.parameterPositions[1]&&(this.stopWarping(),0===i?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(n){const i=this._clip.duration,s=this.loop;let a=this.time+n,l=this._loopCount;const c=2202===s;if(0===n)return-1===l?a:c&&1==(1&l)?i-a:a;if(2200===s){-1===l&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=i)a=i;else{if(!(a<0)){this.time=a;break e}a=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(-1===l&&(n>=0?(l=0,this._setEndings(!0,0===this.repetitions,c)):this._setEndings(0===this.repetitions,!0,c)),a>=i||a<0){const u=Math.floor(a/i);a-=i*u,l+=Math.abs(u);const d=this.repetitions-l;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=n>0?i:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(1===d){const h=n<0;this._setEndings(h,!h,c)}else this._setEndings(!1,!1,c);this._loopCount=l,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(c&&1==(1&l))return i-a}return a}_setEndings(n,i,s){const a=this._interpolantSettings;s?(a.endingStart=tp,a.endingEnd=tp):(a.endingStart=n?this.zeroSlopeAtStart?tp:ep:2402,a.endingEnd=i?this.zeroSlopeAtEnd?tp:ep:2402)}_scheduleFading(n,i,s){const a=this._mixer,l=a.time;let c=this._weightInterpolant;null===c&&(c=a._lendControlInterpolant(),this._weightInterpolant=c);const u=c.parameterPositions,d=c.sampleValues;return u[0]=l,d[0]=i,u[1]=l+n,d[1]=s,this}}const hIe=new Float32Array(1);class fIe extends Ho{constructor(n){super(),this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(n,i){const s=n._localRoot||this._root,a=n._clip.tracks,l=a.length,c=n._propertyBindings,u=n._interpolants,d=s.uuid,h=this._bindingsByRootAndName;let f=h[d];void 0===f&&(f={},h[d]=f);for(let p=0;p!==l;++p){const m=a[p],g=m.name;let _=f[g];if(void 0!==_)++_.referenceCount,c[p]=_;else{if(_=c[p],void 0!==_){null===_._cacheIndex&&(++_.referenceCount,this._addInactiveBinding(_,d,g));continue}_=new tIe(Vn.create(s,g,i&&i._propertyBindings[p].binding.parsedPath),m.ValueTypeName,m.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,d,g),c[p]=_}u[p].resultBuffer=_.buffer}}_activateAction(n){if(!this._isActiveAction(n)){if(null===n._cacheIndex){const s=(n._localRoot||this._root).uuid,a=n._clip.uuid,l=this._actionsByClip[a];this._bindAction(n,l&&l.knownActions[0]),this._addInactiveAction(n,a,s)}const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==l.useCount++&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(n)}}_deactivateAction(n){if(this._isActiveAction(n)){const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==--l.useCount&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(n)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}}_isActiveAction(n){const i=n._cacheIndex;return null!==i&&i<this._nActiveActions}_addInactiveAction(n,i,s){const a=this._actions,l=this._actionsByClip;let c=l[i];if(void 0===c)c={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,l[i]=c;else{const u=c.knownActions;n._byClipCacheIndex=u.length,u.push(n)}n._cacheIndex=a.length,a.push(n),c.actionByRoot[s]=n}_removeInactiveAction(n){const i=this._actions,s=i[i.length-1],a=n._cacheIndex;s._cacheIndex=a,i[a]=s,i.pop(),n._cacheIndex=null;const l=n._clip.uuid,c=this._actionsByClip,u=c[l],d=u.knownActions,h=d[d.length-1],f=n._byClipCacheIndex;h._byClipCacheIndex=f,d[f]=h,d.pop(),n._byClipCacheIndex=null,delete u.actionByRoot[(n._localRoot||this._root).uuid],0===d.length&&delete c[l],this._removeInactiveBindingsForAction(n)}_removeInactiveBindingsForAction(n){const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==--l.referenceCount&&this._removeInactiveBinding(l)}}_lendAction(n){const i=this._actions,s=n._cacheIndex,a=this._nActiveActions++,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_takeBackAction(n){const i=this._actions,s=n._cacheIndex,a=--this._nActiveActions,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_addInactiveBinding(n,i,s){const a=this._bindingsByRootAndName,l=this._bindings;let c=a[i];void 0===c&&(c={},a[i]=c),c[s]=n,n._cacheIndex=l.length,l.push(n)}_removeInactiveBinding(n){const i=this._bindings,s=n.binding,a=s.rootNode.uuid,l=s.path,c=this._bindingsByRootAndName,u=c[a],d=i[i.length-1],h=n._cacheIndex;d._cacheIndex=h,i[h]=d,i.pop(),delete u[l],0===Object.keys(u).length&&delete c[a]}_lendBinding(n){const i=this._bindings,s=n._cacheIndex,a=this._nActiveBindings++,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_takeBackBinding(n){const i=this._bindings,s=n._cacheIndex,a=--this._nActiveBindings,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_lendControlInterpolant(){const n=this._controlInterpolants,i=this._nActiveControlInterpolants++;let s=n[i];return void 0===s&&(s=new v6(new Float32Array(2),new Float32Array(2),1,hIe),s.__cacheIndex=i,n[i]=s),s}_takeBackControlInterpolant(n){const i=this._controlInterpolants,s=n.__cacheIndex,a=--this._nActiveControlInterpolants,l=i[a];n.__cacheIndex=a,i[a]=n,l.__cacheIndex=s,i[s]=l}clipAction(n,i,s){const a=i||this._root,l=a.uuid;let c="string"==typeof n?G_.findByName(a,n):n;const u=null!==c?c.uuid:n,d=this._actionsByClip[u];let h=null;if(void 0===s&&(s=null!==c?c.blendMode:2500),void 0!==d){const p=d.actionByRoot[l];if(void 0!==p&&p.blendMode===s)return p;h=d.knownActions[0],null===c&&(c=h._clip)}if(null===c)return null;const f=new dIe(this,c,i,s);return this._bindAction(f,h),this._addInactiveAction(f,u,l),f}existingAction(n,i){const s=i||this._root,a=s.uuid,l="string"==typeof n?G_.findByName(s,n):n,u=this._actionsByClip[l?l.uuid:n];return void 0!==u&&u.actionByRoot[a]||null}stopAllAction(){const n=this._actions;for(let s=this._nActiveActions-1;s>=0;--s)n[s].stop();return this}update(n){const i=this._actions,s=this._nActiveActions,a=this.time+=n*=this.timeScale,l=Math.sign(n),c=this._accuIndex^=1;for(let h=0;h!==s;++h)i[h]._update(a,n,l,c);const u=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)u[h].apply(c);return this}setTime(n){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(n)}getRoot(){return this._root}uncacheClip(n){const i=this._actions,s=n.uuid,a=this._actionsByClip,l=a[s];if(void 0!==l){const c=l.knownActions;for(let u=0,d=c.length;u!==d;++u){const h=c[u];this._deactivateAction(h);const f=h._cacheIndex,p=i[i.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,p._cacheIndex=f,i[f]=p,i.pop(),this._removeInactiveBindingsForAction(h)}delete a[s]}}uncacheRoot(n){const i=n.uuid,s=this._actionsByClip;for(const c in s){const d=s[c].actionByRoot[i];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}const l=this._bindingsByRootAndName[i];if(void 0!==l)for(const c in l){const u=l[c];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(n,i){const s=this.existingAction(n,i);null!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}}function U6(r,n){return r.distance-n.distance}function OT(r,n,i,s){if(r.layers.test(n.layers)&&r.raycast(n,i),!0===s){const a=r.children;for(let l=0,c=a.length;l<c;l++)OT(a[l],n,i,!0)}}class xw{constructor(n=1,i=0,s=0){return this.radius=n,this.phi=i,this.theta=s,this}set(n,i,s){return this.radius=n,this.phi=i,this.theta=s,this}copy(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,i,s){return this.radius=Math.sqrt(n*n+i*i+s*s),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,s),this.phi=Math.acos(nr(i/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const hc=_Ie();function _Ie(){const r=new ArrayBuffer(4),n=new Float32Array(r),i=new Uint32Array(r),s=new Uint32Array(512),a=new Uint32Array(512);for(let d=0;d<256;++d){const h=d-127;h<-27?(s[d]=0,s[256|d]=32768,a[d]=24,a[256|d]=24):h<-14?(s[d]=1024>>-h-14,s[256|d]=1024>>-h-14|32768,a[d]=-h-1,a[256|d]=-h-1):h<=15?(s[d]=h+15<<10,s[256|d]=h+15<<10|32768,a[d]=13,a[256|d]=13):h<128?(s[d]=31744,s[256|d]=64512,a[d]=24,a[256|d]=24):(s[d]=31744,s[256|d]=64512,a[d]=13,a[256|d]=13)}const l=new Uint32Array(2048),c=new Uint32Array(64),u=new Uint32Array(64);for(let d=1;d<1024;++d){let h=d<<13,f=0;for(;0==(8388608&h);)h<<=1,f-=8388608;h&=-8388609,f+=947912704,l[d]=h|f}for(let d=1024;d<2048;++d)l[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)c[d]=d<<23;c[31]=1199570944,c[32]=2147483648;for(let d=33;d<63;++d)c[d]=2147483648+(d-32<<23);c[63]=3347054592;for(let d=1;d<64;++d)32!==d&&(u[d]=1024);return{floatView:n,uint32View:i,baseTable:s,shiftTable:a,mantissaTable:l,exponentTable:c,offsetTable:u}}var kw=Object.freeze({__proto__:null,toHalfFloat:function bIe(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=nr(r,-65504,65504),hc.floatView[0]=r;const n=hc.uint32View[0],i=n>>23&511;return hc.baseTable[i]+((8388607&n)>>hc.shiftTable[i])},fromHalfFloat:function AIe(r){const n=r>>10;return hc.uint32View[0]=hc.mantissaTable[hc.offsetTable[n]+(1023&r)]+hc.exponentTable[n],hc.floatView[0]}});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"144"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="144");const Rw=window,FT=Rw.ShadowRoot&&(void 0===Rw.ShadyCSS||Rw.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,NT=Symbol(),Y6=new WeakMap;class X6{constructor(n,i,s){if(this._$cssResult$=!0,s!==NT)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=i}get styleSheet(){let n=this.o;const i=this.t;if(FT&&void 0===n){const s=void 0!==i&&1===i.length;s&&(n=Y6.get(i)),void 0===n&&((this.o=n=new CSSStyleSheet).replaceSync(this.cssText),s&&Y6.set(i,n))}return n}toString(){return this.cssText}}const K6=FT?r=>r:r=>r instanceof CSSStyleSheet?(n=>{let i="";for(const s of n.cssRules)i+=s.cssText;return(r=>new X6("string"==typeof r?r:r+"",void 0,NT))(i)})(r):r;var UT;const Pw=window,Z6=Pw.trustedTypes,wIe=Z6?Z6.emptyScript:"",J6=Pw.reactiveElementPolyfillSupport,VT={toAttribute(r,n){switch(n){case Boolean:r=r?wIe:null;break;case Object:case Array:r=null==r?r:JSON.stringify(r)}return r},fromAttribute(r,n){let i=r;switch(n){case Boolean:i=null!==r;break;case Number:i=null===r?null:Number(r);break;case Object:case Array:try{i=JSON.parse(r)}catch{i=null}}return i}},e8=(r,n)=>n!==r&&(n==n||r==r),zT={attribute:!0,type:String,converter:VT,reflect:!1,hasChanged:e8};class Jd extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(n){var i;null!==(i=this.h)&&void 0!==i||(this.h=[]),this.h.push(n)}static get observedAttributes(){this.finalize();const n=[];return this.elementProperties.forEach((i,s)=>{const a=this._$Ep(s,i);void 0!==a&&(this._$Ev.set(a,s),n.push(a))}),n}static createProperty(n,i=zT){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(n,i),!i.noAccessor&&!this.prototype.hasOwnProperty(n)){const s="symbol"==typeof n?Symbol():"__"+n,a=this.getPropertyDescriptor(n,s,i);void 0!==a&&Object.defineProperty(this.prototype,n,a)}}static getPropertyDescriptor(n,i,s){return{get(){return this[i]},set(a){const l=this[n];this[i]=a,this.requestUpdate(n,l,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(n){return this.elementProperties.get(n)||zT}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const n=Object.getPrototypeOf(this);if(n.finalize(),this.elementProperties=new Map(n.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const i=this.properties,s=[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)];for(const a of s)this.createProperty(a,i[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(n){const i=[];if(Array.isArray(n)){const s=new Set(n.flat(1/0).reverse());for(const a of s)i.unshift(K6(a))}else void 0!==n&&i.push(K6(n));return i}static _$Ep(n,i){const s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof n?n.toLowerCase():void 0}u(){var n;this._$E_=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(n=this.constructor.h)||void 0===n||n.forEach(i=>i(this))}addController(n){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(n),void 0!==this.renderRoot&&this.isConnected&&(null===(s=n.hostConnected)||void 0===s||s.call(n))}removeController(n){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(n)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((n,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])})}createRenderRoot(){var n;const i=null!==(n=this.shadowRoot)&&void 0!==n?n:this.attachShadow(this.constructor.shadowRootOptions);return((r,n)=>{FT?r.adoptedStyleSheets=n.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet):n.forEach(i=>{const s=document.createElement("style"),a=Rw.litNonce;void 0!==a&&s.setAttribute("nonce",a),s.textContent=i.cssText,r.appendChild(s)})})(i,this.constructor.elementStyles),i}connectedCallback(){var n;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(n=this._$ES)||void 0===n||n.forEach(i=>{var s;return null===(s=i.hostConnected)||void 0===s?void 0:s.call(i)})}enableUpdating(n){}disconnectedCallback(){var n;null===(n=this._$ES)||void 0===n||n.forEach(i=>{var s;return null===(s=i.hostDisconnected)||void 0===s?void 0:s.call(i)})}attributeChangedCallback(n,i,s){this._$AK(n,s)}_$EO(n,i,s=zT){var a;const l=this.constructor._$Ep(n,s);if(void 0!==l&&!0===s.reflect){const c=(void 0!==(null===(a=s.converter)||void 0===a?void 0:a.toAttribute)?s.converter:VT).toAttribute(i,s.type);this._$El=n,null==c?this.removeAttribute(l):this.setAttribute(l,c),this._$El=null}}_$AK(n,i){var s;const a=this.constructor,l=a._$Ev.get(n);if(void 0!==l&&this._$El!==l){const c=a.getPropertyOptions(l),u="function"==typeof c.converter?{fromAttribute:c.converter}:void 0!==(null===(s=c.converter)||void 0===s?void 0:s.fromAttribute)?c.converter:VT;this._$El=l,this[l]=u.fromAttribute(i,c.type),this._$El=null}}requestUpdate(n,i,s){let a=!0;void 0!==n&&(((s=s||this.constructor.getPropertyOptions(n)).hasChanged||e8)(this[n],i)?(this._$AL.has(n)||this._$AL.set(n,i),!0===s.reflect&&this._$El!==n&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(n,s))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){var n=this;return ut(function*(){n.isUpdatePending=!0;try{yield n._$E_}catch(s){Promise.reject(s)}const i=n.scheduleUpdate();return null!=i&&(yield i),!n.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(n=this._$ES)||void 0===n||n.forEach(a=>{var l;return null===(l=a.hostUpdate)||void 0===l?void 0:l.call(a)}),this.update(s)):this._$Ek()}catch(a){throw i=!1,this._$Ek(),a}i&&this._$AE(s)}willUpdate(n){}_$AE(n){var i;null===(i=this._$ES)||void 0===i||i.forEach(s=>{var a;return null===(a=s.hostUpdated)||void 0===a?void 0:a.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(n)),this.updated(n)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(n){return!0}update(n){void 0!==this._$EC&&(this._$EC.forEach((i,s)=>this._$EO(s,this[s],i)),this._$EC=void 0),this._$Ek()}updated(n){}firstUpdated(n){}}var HT;Jd.finalized=!0,Jd.elementProperties=new Map,Jd.elementStyles=[],Jd.shadowRootOptions={mode:"open"},J6?.({ReactiveElement:Jd}),(null!==(UT=Pw.reactiveElementVersions)&&void 0!==UT?UT:Pw.reactiveElementVersions=[]).push("1.4.1");const Ow=window,Tp=Ow.trustedTypes,t8=Tp?Tp.createPolicy("lit-html",{createHTML:r=>r}):void 0,fc=`lit$${(Math.random()+"").slice(9)}$`,GT="?"+fc,CIe=`<${GT}>`,kp=document,$_=(r="")=>kp.createComment(r),W_=r=>null===r||"object"!=typeof r&&"function"!=typeof r,n8=Array.isArray,j_=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,r8=/-->/g,s8=/>/g,eh=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),o8=/'/g,a8=/"/g,l8=/^(?:script|style|textarea|title)$/i,c8=r=>(n,...i)=>({_$litType$:r,strings:n,values:i}),Bw=c8(1),Rp=(c8(2),Symbol.for("lit-noChange")),Lr=Symbol.for("lit-nothing"),u8=new WeakMap,Pp=kp.createTreeWalker(kp,129,null,!1);class q_{constructor({strings:n,_$litType$:i},s){let a;this.parts=[];let l=0,c=0;const u=n.length-1,d=this.parts,[h,f]=((r,n)=>{const i=r.length-1,s=[];let a,l=2===n?"<svg>":"",c=j_;for(let d=0;d<i;d++){const h=r[d];let f,p,m=-1,g=0;for(;g<h.length&&(c.lastIndex=g,p=c.exec(h),null!==p);)g=c.lastIndex,c===j_?"!--"===p[1]?c=r8:void 0!==p[1]?c=s8:void 0!==p[2]?(l8.test(p[2])&&(a=RegExp("</"+p[2],"g")),c=eh):void 0!==p[3]&&(c=eh):c===eh?">"===p[0]?(c=a??j_,m=-1):void 0===p[1]?m=-2:(m=c.lastIndex-p[2].length,f=p[1],c=void 0===p[3]?eh:'"'===p[3]?a8:o8):c===a8||c===o8?c=eh:c===r8||c===s8?c=j_:(c=eh,a=void 0);const _=c===eh&&r[d+1].startsWith("/>")?" ":"";l+=c===j_?h+CIe:m>=0?(s.push(f),h.slice(0,m)+"$lit$"+h.slice(m)+fc+_):h+fc+(-2===m?(s.push(void 0),d):_)}const u=l+(r[i]||"<?>")+(2===n?"</svg>":"");if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==t8?t8.createHTML(u):u,s]})(n,i);if(this.el=q_.createElement(h,s),Pp.currentNode=this.el.content,2===i){const p=this.el.content,m=p.firstChild;m.remove(),p.append(...m.childNodes)}for(;null!==(a=Pp.nextNode())&&d.length<u;){if(1===a.nodeType){if(a.hasAttributes()){const p=[];for(const m of a.getAttributeNames())if(m.endsWith("$lit$")||m.startsWith(fc)){const g=f[c++];if(p.push(m),void 0!==g){const _=a.getAttribute(g.toLowerCase()+"$lit$").split(fc),A=/([.?@])?(.*)/.exec(g);d.push({type:1,index:l,name:A[2],strings:_,ctor:"."===A[1]?f8:"?"===A[1]?p8:"@"===A[1]?m8:Y_})}else d.push({type:6,index:l})}for(const m of p)a.removeAttribute(m)}if(l8.test(a.tagName)){const p=a.textContent.split(fc),m=p.length-1;if(m>0){a.textContent=Tp?Tp.emptyScript:"";for(let g=0;g<m;g++)a.append(p[g],$_()),Pp.nextNode(),d.push({type:2,index:++l});a.append(p[m],$_())}}}else if(8===a.nodeType)if(a.data===GT)d.push({type:2,index:l});else{let p=-1;for(;-1!==(p=a.data.indexOf(fc,p+1));)d.push({type:7,index:l}),p+=fc.length-1}l++}}static createElement(n,i){const s=kp.createElement("template");return s.innerHTML=n,s}}function th(r,n,i=r,s){var a,l,c,u;if(n===Rp)return n;let d=void 0!==s?null===(a=i._$Co)||void 0===a?void 0:a[s]:i._$Cl;const h=W_(n)?void 0:n._$litDirective$;return d?.constructor!==h&&(null===(l=d?._$AO)||void 0===l||l.call(d,!1),void 0===h?d=void 0:(d=new h(r),d._$AT(r,i,s)),void 0!==s?(null!==(c=(u=i)._$Co)&&void 0!==c?c:u._$Co=[])[s]=d:i._$Cl=d),void 0!==d&&(n=th(r,d._$AS(r,n.values),d,s)),n}class h8{constructor(n,i){this.u=[],this._$AN=void 0,this._$AD=n,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(n){var i;const{el:{content:s},parts:a}=this._$AD,l=(null!==(i=n?.creationScope)&&void 0!==i?i:kp).importNode(s,!0);Pp.currentNode=l;let c=Pp.nextNode(),u=0,d=0,h=a[0];for(;void 0!==h;){if(u===h.index){let f;2===h.type?f=new Op(c,c.nextSibling,this,n):1===h.type?f=new h.ctor(c,h.name,h.strings,this,n):6===h.type&&(f=new g8(c,this,n)),this.u.push(f),h=a[++d]}u!==h?.index&&(c=Pp.nextNode(),u++)}return l}p(n){let i=0;for(const s of this.u)void 0!==s&&(void 0!==s.strings?(s._$AI(n,s,i),i+=s.strings.length-2):s._$AI(n[i])),i++}}class Op{constructor(n,i,s,a){var l;this.type=2,this._$AH=Lr,this._$AN=void 0,this._$AA=n,this._$AB=i,this._$AM=s,this.options=a,this._$Cm=null===(l=a?.isConnected)||void 0===l||l}get _$AU(){var n,i;return null!==(i=null===(n=this._$AM)||void 0===n?void 0:n._$AU)&&void 0!==i?i:this._$Cm}get parentNode(){let n=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===n.nodeType&&(n=i.parentNode),n}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(n,i=this){n=th(this,n,i),W_(n)?n===Lr||null==n||""===n?(this._$AH!==Lr&&this._$AR(),this._$AH=Lr):n!==this._$AH&&n!==Rp&&this.g(n):void 0!==n._$litType$?this.$(n):void 0!==n.nodeType?this.T(n):(r=>n8(r)||"function"==typeof r?.[Symbol.iterator])(n)?this.k(n):this.g(n)}O(n,i=this._$AB){return this._$AA.parentNode.insertBefore(n,i)}T(n){this._$AH!==n&&(this._$AR(),this._$AH=this.O(n))}g(n){this._$AH!==Lr&&W_(this._$AH)?this._$AA.nextSibling.data=n:this.T(kp.createTextNode(n)),this._$AH=n}$(n){var i;const{values:s,_$litType$:a}=n,l="number"==typeof a?this._$AC(n):(void 0===a.el&&(a.el=q_.createElement(a.h,this.options)),a);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===l)this._$AH.p(s);else{const c=new h8(l,this),u=c.v(this.options);c.p(s),this.T(u),this._$AH=c}}_$AC(n){let i=u8.get(n.strings);return void 0===i&&u8.set(n.strings,i=new q_(n)),i}k(n){n8(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,a=0;for(const l of n)a===i.length?i.push(s=new Op(this.O($_()),this.O($_()),this,this.options)):s=i[a],s._$AI(l),a++;a<i.length&&(this._$AR(s&&s._$AB.nextSibling,a),i.length=a)}_$AR(n=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);n&&n!==this._$AB;){const a=n.nextSibling;n.remove(),n=a}}setConnected(n){var i;void 0===this._$AM&&(this._$Cm=n,null===(i=this._$AP)||void 0===i||i.call(this,n))}}class Y_{constructor(n,i,s,a,l){this.type=1,this._$AH=Lr,this._$AN=void 0,this.element=n,this.name=i,this._$AM=a,this.options=l,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Lr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(n,i=this,s,a){const l=this.strings;let c=!1;if(void 0===l)n=th(this,n,i,0),c=!W_(n)||n!==this._$AH&&n!==Rp,c&&(this._$AH=n);else{const u=n;let d,h;for(n=l[0],d=0;d<l.length-1;d++)h=th(this,u[s+d],i,d),h===Rp&&(h=this._$AH[d]),c||(c=!W_(h)||h!==this._$AH[d]),h===Lr?n=Lr:n!==Lr&&(n+=(h??"")+l[d+1]),this._$AH[d]=h}c&&!a&&this.j(n)}j(n){n===Lr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n??"")}}class f8 extends Y_{constructor(){super(...arguments),this.type=3}j(n){this.element[this.name]=n===Lr?void 0:n}}const xIe=Tp?Tp.emptyScript:"";class p8 extends Y_{constructor(){super(...arguments),this.type=4}j(n){n&&n!==Lr?this.element.setAttribute(this.name,xIe):this.element.removeAttribute(this.name)}}class m8 extends Y_{constructor(n,i,s,a,l){super(n,i,s,a,l),this.type=5}_$AI(n,i=this){var s;if((n=null!==(s=th(this,n,i,0))&&void 0!==s?s:Lr)===Rp)return;const a=this._$AH,l=n===Lr&&a!==Lr||n.capture!==a.capture||n.once!==a.once||n.passive!==a.passive,c=n!==Lr&&(a===Lr||l);l&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,n),this._$AH=n}handleEvent(n){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,n):this._$AH.handleEvent(n)}}class g8{constructor(n,i,s){this.element=n,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(n){th(this,n)}}(0,Ow.litHtmlPolyfillSupport)?.(q_,Op),(null!==(HT=Ow.litHtmlVersions)&&void 0!==HT?HT:Ow.litHtmlVersions=[]).push("2.4.0");const b8=(r,n,i)=>{var s,a;const l=null!==(s=i?.renderBefore)&&void 0!==s?s:n;let c=l._$litPart$;if(void 0===c){const u=null!==(a=i?.renderBefore)&&void 0!==a?a:null;l._$litPart$=c=new Op(n.insertBefore($_(),u),u,void 0,i??{})}return c._$AI(r),c};var QT,$T;class Lw extends Jd{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n,i;const s=super.createRenderRoot();return null!==(n=(i=this.renderOptions).renderBefore)&&void 0!==n||(i.renderBefore=s.firstChild),s}update(n){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(n),this._$Do=b8(i,this.renderRoot,this.renderOptions)}connectedCallback(){var n;super.connectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!0)}disconnectedCallback(){var n;super.disconnectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!1)}render(){return Rp}}Lw.finalized=!0,Lw._$litElement$=!0,null===(QT=globalThis.litElementHydrateSupport)||void 0===QT||QT.call(globalThis,{LitElement:Lw}),(0,globalThis.litElementPolyfillSupport)?.({LitElement:Lw}),(null!==($T=globalThis.litElementVersions)&&void 0!==$T?$T:globalThis.litElementVersions=[]).push("3.2.2");const y8=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,v8=y8&&null!=self.XRSession.prototype.requestHitTestSource,WT=null!=self.ResizeObserver,jT=null!=self.IntersectionObserver,w8=v8,MIe=((()=>{const r=navigator.userAgent||navigator.vendor||self.opera;let n=!1;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))})(),/\bCrOS\b/.test(navigator.userAgent),/android/i.test(navigator.userAgent)),qT=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,SIe=(/Safari\//.test(navigator.userAgent),/firefox/i.test(navigator.userAgent)),DIe=/OculusBrowser/.test(navigator.userAgent),IIe=(qT&&/CriOS\//.test(navigator.userAgent),MIe&&!SIe&&!DIe),TIe=Boolean(window.webkit&&window.webkit.messageHandlers),C8=(()=>{if(qT){if(TIe)return Boolean(/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent));{const r=document.createElement("a");return Boolean(r.relList&&r.relList.supports&&r.relList.supports("ar"))}}return!1})(),x8=r=>r&&"null"!==r?kIe(r):null,M8=()=>{if(w8)return;const r=[];throw y8||r.push("WebXR Device API"),v8||r.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${r.join(", ")}`)},kIe=r=>new URL(r,window.location.toString()).toString(),E8=(r,n)=>{let i=null;return(...s)=>{null!=i&&self.clearTimeout(i),i=self.setTimeout(()=>{i=null,r(...s)},n)}},cl=(r,n,i)=>Math.max(n,Math.min(i,r)),XT=(()=>{const r=(()=>{var n;if(null!==(n=document.documentElement.getAttribute("itemtype"))&&void 0!==n&&n.includes("schema.org/SearchResultsPage"))return!0;const i=null!=document.head?Array.from(document.head.querySelectorAll("meta")):[];for(const s of i)if("viewport"===s.name)return!0;return!1})();return r||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>r?window.devicePixelRatio:1})(),S8=(()=>{const n=new RegExp("[?&]model-viewer-debug-mode(&|$)");return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(n)})();var X_=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const K_=Symbol("currentEnvironmentMap"),Z_=Symbol("currentBackground"),Fw=Symbol("updateEnvironment"),Nw=Symbol("cancelEnvironmentUpdate"),QIe=Bw`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

/* NOTE: This rule set is our integration surface area with the
 * :focus-visible polyfill.
 *
 * @see https://github.com/WICG/focus-visible/pull/196 */
:host([data-js-focus-visible]:focus:not(.focus-visible)),
:host([data-js-focus-visible]) :focus:not(.focus-visible) {
  outline: none;
}

.container {
  position: relative;
  overflow: hidden;
}

.userInput {
  width: 100%;
  height: 100%;
  display: none;
  position: relative;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  left: 0;
  top: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
  pointer-events: none;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  display: none;
  background-color: inherit;
}

.slot.poster.show {
  display: inherit;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff0;
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.centered {
  align-items: center;
  justify-content: center;
}

.cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  overflow: hidden;
  opacity: 0;
  will-change: opacity;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.animated-container {
  will-change: transform, opacity;
  opacity: 0;
  transition: opacity 0.3s;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.pan-target {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  left: 50%;
  top: 50%;
  transform: translate3d(-50%, -50%, 0);
  background-color: transparent;
  opacity: 0;
  transition: opacity 0.3s;
}

#default-pan-target {
  width: 6px;
  height: 6px;
  border-radius: 6px;
  border: 1px solid white;
  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: env(safe-area-inset-top, 16px);
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="3D model">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>

  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          aria-label="View in your space">
        ${Bw`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`}
      </a>
    </slot>
  </div>

  <div class="slot pan-target">
    <slot name="pan-target">
      <div id="default-pan-target">
      </div>
    </slot>
  </div>

  <div class="slot interaction-prompt cover centered">
    <div id="prompt" class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${Bw`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`}
      </slot>
    </div>
  </div>

  <div id="finger0" class="animated-container cover">
    <slot name="finger0" aria-hidden="true">
    </slot>
  </div>
  <div id="finger1" class="animated-container cover">
    <slot name="finger1" aria-hidden="true">
    </slot>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>

    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${Bw`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`}
        </a>
      </slot>
    </div>
  </div>
</div>
<div class="screen-reader-only" role="region" aria-label="Live announcements">
  <span id="status" role="status"></span>
</div>`,KT=new WeakMap;function jIe(){let r,n;function a(c,u,d,h,f,p){const m=p.num_components(),_=d.num_points()*m,A=_*f.BYTES_PER_ELEMENT,b=function l(c,u){switch(u){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}(c,f),y=c._malloc(A);u.GetAttributeDataArrayForAllPoints(d,p,b,A,y);const w=new f(c.HEAPF32.buffer,y,_).slice();return c._free(y),{name:h,array:w,itemSize:m}}onmessage=function(c){const u=c.data;switch(u.type){case"init":r=u.decoderConfig,n=new Promise(function(f){r.onModuleLoaded=function(p){f({draco:p})},DracoDecoderModule(r)});break;case"decode":const d=u.buffer,h=u.taskConfig;n.then(f=>{const p=f.draco,m=new p.Decoder,g=new p.DecoderBuffer;g.Init(new Int8Array(d),d.byteLength);try{const _=function i(c,u,d,h){const f=h.attributeIDs,p=h.attributeTypes;let m,g;const _=u.GetEncodedGeometryType(d);if(_===c.TRIANGULAR_MESH)m=new c.Mesh,g=u.DecodeBufferToMesh(d,m);else{if(_!==c.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");m=new c.PointCloud,g=u.DecodeBufferToPointCloud(d,m)}if(!g.ok()||0===m.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+g.error_msg());const A={index:null,attributes:[]};for(const b in f){const y=self[p[b]];let w,v;if(h.useUniqueIDs)v=f[b],w=u.GetAttributeByUniqueId(m,v);else{if(v=u.GetAttributeId(m,c[f[b]]),-1===v)continue;w=u.GetAttribute(m,v)}A.attributes.push(a(c,u,m,b,y,w))}return _===c.TRIANGULAR_MESH&&(A.index=function s(c,u,d){const f=3*d.num_faces(),p=4*f,m=c._malloc(p);u.GetTrianglesUInt32Array(d,p,m);const g=new Uint32Array(c.HEAPF32.buffer,m,f).slice();return c._free(m),{array:g,itemSize:1}}(c,u,m)),c.destroy(m),A}(p,m,g,h),A=_.attributes.map(b=>b.array.buffer);_.index&&A.push(_.index.array.buffer),self.postMessage({type:"decode",id:u.id,geometry:_},A)}catch(_){console.error(_),self.postMessage({type:"error",id:u.id,error:_.message})}finally{p.destroy(g),p.destroy(m)}})}}}class qIe extends yu{constructor(n){super(n),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(i){return new JIe(i)}),this.register(function(i){return new oTe(i)}),this.register(function(i){return new aTe(i)}),this.register(function(i){return new tTe(i)}),this.register(function(i){return new nTe(i)}),this.register(function(i){return new iTe(i)}),this.register(function(i){return new rTe(i)}),this.register(function(i){return new ZIe(i)}),this.register(function(i){return new sTe(i)}),this.register(function(i){return new eTe(i)}),this.register(function(i){return new XIe(i)}),this.register(function(i){return new lTe(i)})}load(n,i,s,a){const l=this;let c;c=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:dc.extractUrlBase(n),this.manager.itemStart(n);const u=function(h){a?a(h):console.error(h),l.manager.itemError(n),l.manager.itemEnd(n)},d=new Bs(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(n,function(h){try{l.parse(h,c,function(f){i(f),l.manager.itemEnd(n)},u)}catch(f){u(f)}},s,u)}setDRACOLoader(n){return this.dracoLoader=n,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(n){return this.ktx2Loader=n,this}setMeshoptDecoder(n){return this.meshoptDecoder=n,this}register(n){return-1===this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.push(n),this}unregister(n){return-1!==this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(n),1),this}parse(n,i,s,a){let l;const c={},u={};if("string"==typeof n)l=n;else if(dc.decodeText(new Uint8Array(n,0,4))===D8){try{c[_n.KHR_BINARY_GLTF]=new cTe(n)}catch(p){return void(a&&a(p))}l=c[_n.KHR_BINARY_GLTF].content}else l=dc.decodeText(new Uint8Array(n));const d=JSON.parse(l);if(void 0===d.asset||d.asset.version[0]<2)return void(a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new wTe(d,{path:i||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const p=this.pluginCallbacks[f](h);u[p.name]=p,c[p.name]=!0}if(d.extensionsUsed)for(let f=0;f<d.extensionsUsed.length;++f){const p=d.extensionsUsed[f],m=d.extensionsRequired||[];switch(p){case _n.KHR_MATERIALS_UNLIT:c[p]=new KIe;break;case _n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:c[p]=new hTe;break;case _n.KHR_DRACO_MESH_COMPRESSION:c[p]=new uTe(d,this.dracoLoader);break;case _n.KHR_TEXTURE_TRANSFORM:c[p]=new dTe;break;case _n.KHR_MESH_QUANTIZATION:c[p]=new fTe;break;default:m.indexOf(p)>=0&&void 0===u[p]&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}h.setExtensions(c),h.setPlugins(u),h.parse(s,a)}parseAsync(n,i){const s=this;return new Promise(function(a,l){s.parse(n,i,a,l)})}}function YIe(){let r={};return{get:function(n){return r[n]},add:function(n,i){r[n]=i},remove:function(n){delete r[n]},removeAll:function(){r={}}}}const _n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class XIe{constructor(n){this.parser=n,this.name=_n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const n=this.parser,i=this.parser.json.nodes||[];for(let s=0,a=i.length;s<a;s++){const l=i[s];l.extensions&&l.extensions[this.name]&&void 0!==l.extensions[this.name].light&&n._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(n){const i=this.parser,s="light:"+n;let a=i.cache.get(s);if(a)return a;const l=i.json,d=((l.extensions&&l.extensions[this.name]||{}).lights||[])[n];let h;const f=new Ne(16777215);void 0!==d.color&&f.fromArray(d.color);const p=void 0!==d.range?d.range:0;switch(d.type){case"directional":h=new TT(f),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new ww(f),h.distance=p;break;case"spot":h=new S6(f),h.distance=p,d.spot=d.spot||{},d.spot.innerConeAngle=void 0!==d.spot.innerConeAngle?d.spot.innerConeAngle:0,d.spot.outerConeAngle=void 0!==d.spot.outerConeAngle?d.spot.outerConeAngle:Math.PI/4,h.angle=d.spot.outerConeAngle,h.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return h.position.set(0,0,0),h.decay=2,void 0!==d.intensity&&(h.intensity=d.intensity),h.name=i.createUniqueName(d.name||"light_"+n),a=Promise.resolve(h),i.cache.add(s,a),a}createNodeAttachment(n){const i=this,s=this.parser,l=s.json.nodes[n],u=(l.extensions&&l.extensions[this.name]||{}).light;return void 0===u?null:this._loadLight(u).then(function(d){return s._getNodeRef(i.cache,u,d)})}}class KIe{constructor(){this.name=_n.KHR_MATERIALS_UNLIT}getMaterialType(){return cs}extendParams(n,i,s){const a=[];n.color=new Ne(1,1,1),n.opacity=1;const l=i.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const c=l.baseColorFactor;n.color.fromArray(c),n.opacity=c[3]}void 0!==l.baseColorTexture&&a.push(s.assignTexture(n,"map",l.baseColorTexture,hn))}return Promise.all(a)}}class ZIe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(n,i){const a=this.parser.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name].emissiveStrength;return void 0!==l&&(i.emissiveIntensity=l),Promise.resolve()}}class JIe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_CLEARCOAT}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];if(void 0!==c.clearcoatFactor&&(i.clearcoat=c.clearcoatFactor),void 0!==c.clearcoatTexture&&l.push(s.assignTexture(i,"clearcoatMap",c.clearcoatTexture)),void 0!==c.clearcoatRoughnessFactor&&(i.clearcoatRoughness=c.clearcoatRoughnessFactor),void 0!==c.clearcoatRoughnessTexture&&l.push(s.assignTexture(i,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),void 0!==c.clearcoatNormalTexture&&(l.push(s.assignTexture(i,"clearcoatNormalMap",c.clearcoatNormalTexture)),void 0!==c.clearcoatNormalTexture.scale)){const u=c.clearcoatNormalTexture.scale;i.clearcoatNormalScale=new be(u,u)}return Promise.all(l)}}class eTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_IRIDESCENCE}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return void 0!==c.iridescenceFactor&&(i.iridescence=c.iridescenceFactor),void 0!==c.iridescenceTexture&&l.push(s.assignTexture(i,"iridescenceMap",c.iridescenceTexture)),void 0!==c.iridescenceIor&&(i.iridescenceIOR=c.iridescenceIor),void 0===i.iridescenceThicknessRange&&(i.iridescenceThicknessRange=[100,400]),void 0!==c.iridescenceThicknessMinimum&&(i.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),void 0!==c.iridescenceThicknessMaximum&&(i.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),void 0!==c.iridescenceThicknessTexture&&l.push(s.assignTexture(i,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(l)}}class tTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_SHEEN}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[];i.sheenColor=new Ne(0,0,0),i.sheenRoughness=0,i.sheen=1;const c=a.extensions[this.name];return void 0!==c.sheenColorFactor&&i.sheenColor.fromArray(c.sheenColorFactor),void 0!==c.sheenRoughnessFactor&&(i.sheenRoughness=c.sheenRoughnessFactor),void 0!==c.sheenColorTexture&&l.push(s.assignTexture(i,"sheenColorMap",c.sheenColorTexture,hn)),void 0!==c.sheenRoughnessTexture&&l.push(s.assignTexture(i,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(l)}}class nTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_TRANSMISSION}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return void 0!==c.transmissionFactor&&(i.transmission=c.transmissionFactor),void 0!==c.transmissionTexture&&l.push(s.assignTexture(i,"transmissionMap",c.transmissionTexture)),Promise.all(l)}}class iTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_VOLUME}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];i.thickness=void 0!==c.thicknessFactor?c.thicknessFactor:0,void 0!==c.thicknessTexture&&l.push(s.assignTexture(i,"thicknessMap",c.thicknessTexture)),i.attenuationDistance=c.attenuationDistance||0;const u=c.attenuationColor||[1,1,1];return i.attenuationColor=new Ne(u[0],u[1],u[2]),Promise.all(l)}}class rTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_IOR}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const a=this.parser.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name];return i.ior=void 0!==l.ior?l.ior:1.5,Promise.resolve()}}class sTe{constructor(n){this.parser=n,this.name=_n.KHR_MATERIALS_SPECULAR}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Au:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];i.specularIntensity=void 0!==c.specularFactor?c.specularFactor:1,void 0!==c.specularTexture&&l.push(s.assignTexture(i,"specularIntensityMap",c.specularTexture));const u=c.specularColorFactor||[1,1,1];return i.specularColor=new Ne(u[0],u[1],u[2]),void 0!==c.specularColorTexture&&l.push(s.assignTexture(i,"specularColorMap",c.specularColorTexture,hn)),Promise.all(l)}}class oTe{constructor(n){this.parser=n,this.name=_n.KHR_TEXTURE_BASISU}loadTexture(n){const i=this.parser,s=i.json,a=s.textures[n];if(!a.extensions||!a.extensions[this.name])return null;const l=a.extensions[this.name],c=i.options.ktx2Loader;if(!c){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return i.loadTextureImage(n,l.source,c)}}class aTe{constructor(n){this.parser=n,this.name=_n.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(n){const i=this.name,s=this.parser,a=s.json,l=a.textures[n];if(!l.extensions||!l.extensions[i])return null;const c=l.extensions[i],u=a.images[c.source];let d=s.textureLoader;if(u.uri){const h=s.options.manager.getHandler(u.uri);null!==h&&(d=h)}return this.detectSupport().then(function(h){if(h)return s.loadTextureImage(n,c.source,d);if(a.extensionsRequired&&a.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(n)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(n){const i=new Image;i.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",i.onload=i.onerror=function(){n(1===i.height)}})),this.isSupported}}class lTe{constructor(n){this.name=_n.EXT_MESHOPT_COMPRESSION,this.parser=n}loadBufferView(n){const i=this.parser.json,s=i.bufferViews[n];if(s.extensions&&s.extensions[this.name]){const a=s.extensions[this.name],l=this.parser.getDependency("buffer",a.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(u){const f=a.count,p=a.byteStride,m=new Uint8Array(u,a.byteOffset||0,a.byteLength||0);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(f,p,m,a.mode,a.filter).then(function(g){return g.buffer}):c.ready.then(function(){const g=new ArrayBuffer(f*p);return c.decodeGltfBuffer(new Uint8Array(g),f,p,m,a.mode,a.filter),g})})}return null}}const D8="glTF";class cTe{constructor(n){this.name=_n.KHR_BINARY_GLTF,this.content=null,this.body=null;const i=new DataView(n,0,12);if(this.header={magic:dc.decodeText(new Uint8Array(n.slice(0,4))),version:i.getUint32(4,!0),length:i.getUint32(8,!0)},this.header.magic!==D8)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const s=this.header.length-12,a=new DataView(n,12);let l=0;for(;l<s;){const c=a.getUint32(l,!0);l+=4;const u=a.getUint32(l,!0);if(l+=4,1313821514===u){const d=new Uint8Array(n,12+l,c);this.content=dc.decodeText(d)}else if(5130562===u){const d=12+l;this.body=n.slice(d,d+c)}l+=c}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class uTe{constructor(n,i){if(!i)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=_n.KHR_DRACO_MESH_COMPRESSION,this.json=n,this.dracoLoader=i,this.dracoLoader.preload()}decodePrimitive(n,i){const s=this.json,a=this.dracoLoader,l=n.extensions[this.name].bufferView,c=n.extensions[this.name].attributes,u={},d={},h={};for(const f in c){const p=JT[f]||f.toLowerCase();u[p]=c[f]}for(const f in n.attributes){const p=JT[f]||f.toLowerCase();if(void 0!==c[f]){const m=s.accessors[n.attributes[f]];h[p]=e0[m.componentType].name,d[p]=!0===m.normalized}}return i.getDependency("bufferView",l).then(function(f){return new Promise(function(p){a.decodeDracoFile(f,function(m){for(const g in m.attributes){const _=m.attributes[g],A=d[g];void 0!==A&&(_.normalized=A)}p(m)},u,h)})})}}class dTe{constructor(){this.name=_n.KHR_TEXTURE_TRANSFORM}extendTexture(n,i){return void 0!==i.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===i.offset&&void 0===i.rotation&&void 0===i.scale||(n=n.clone(),void 0!==i.offset&&n.offset.fromArray(i.offset),void 0!==i.rotation&&(n.rotation=i.rotation),void 0!==i.scale&&n.repeat.fromArray(i.scale),n.needsUpdate=!0),n}}class ZT extends cc{constructor(n){super(),this.isGLTFSpecularGlossinessMaterial=!0;const i=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),s=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),a=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),l=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),u={specular:{value:(new Ne).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=u,this.onBeforeCompile=function(d){for(const h in u)d.uniforms[h]=u[h];d.fragmentShader=d.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",i).replace("#include <metalnessmap_pars_fragment>",s).replace("#include <roughnessmap_fragment>",a).replace("#include <metalnessmap_fragment>",l).replace("#include <lights_physical_fragment>",c)},Object.defineProperties(this,{specular:{get:function(){return u.specular.value},set:function(d){u.specular.value=d}},specularMap:{get:function(){return u.specularMap.value},set:function(d){u.specularMap.value=d,d?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return u.glossiness.value},set:function(d){u.glossiness.value=d}},glossinessMap:{get:function(){return u.glossinessMap.value},set:function(d){u.glossinessMap.value=d,d?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(n)}copy(n){return super.copy(n),this.specularMap=n.specularMap,this.specular.copy(n.specular),this.glossinessMap=n.glossinessMap,this.glossiness=n.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class hTe{constructor(){this.name=_n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return ZT}extendParams(n,i,s){const a=i.extensions[this.name];n.color=new Ne(1,1,1),n.opacity=1;const l=[];if(Array.isArray(a.diffuseFactor)){const c=a.diffuseFactor;n.color.fromArray(c),n.opacity=c[3]}if(void 0!==a.diffuseTexture&&l.push(s.assignTexture(n,"map",a.diffuseTexture,hn)),n.emissive=new Ne(0,0,0),n.glossiness=void 0!==a.glossinessFactor?a.glossinessFactor:1,n.specular=new Ne(1,1,1),Array.isArray(a.specularFactor)&&n.specular.fromArray(a.specularFactor),void 0!==a.specularGlossinessTexture){const c=a.specularGlossinessTexture;l.push(s.assignTexture(n,"glossinessMap",c)),l.push(s.assignTexture(n,"specularMap",c,hn))}return Promise.all(l)}createMaterial(n){const i=new ZT(n);return i.fog=!0,i.color=n.color,i.map=void 0===n.map?null:n.map,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=void 0===n.aoMap?null:n.aoMap,i.aoMapIntensity=1,i.emissive=n.emissive,i.emissiveIntensity=void 0===n.emissiveIntensity?1:n.emissiveIntensity,i.emissiveMap=void 0===n.emissiveMap?null:n.emissiveMap,i.bumpMap=void 0===n.bumpMap?null:n.bumpMap,i.bumpScale=1,i.normalMap=void 0===n.normalMap?null:n.normalMap,i.normalMapType=0,n.normalScale&&(i.normalScale=n.normalScale),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=void 0===n.specularMap?null:n.specularMap,i.specular=n.specular,i.glossinessMap=void 0===n.glossinessMap?null:n.glossinessMap,i.glossiness=n.glossiness,i.alphaMap=null,i.envMap=void 0===n.envMap?null:n.envMap,i.envMapIntensity=1,i}}class fTe{constructor(){this.name=_n.KHR_MESH_QUANTIZATION}}class T8 extends V_{constructor(n,i,s,a){super(n,i,s,a)}copySampleValue_(n){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=n*a*3+a;for(let c=0;c!==a;c++)i[c]=s[l+c];return i}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,u=this.valueSize,d=2*u,h=3*u,f=a-i,p=(s-i)/f,m=p*p,g=m*p,_=n*h,A=_-h,b=-2*g+3*m,y=g-m,w=1-b,v=y-m+p;for(let C=0;C!==u;C++)l[C]=w*c[A+C+u]+v*(c[A+C+d]*f)+b*c[_+C+u]+y*(c[_+C]*f);return l}}const pTe=new Ks;class mTe extends T8{interpolate_(n,i,s,a){const l=super.interpolate_(n,i,s,a);return pTe.fromArray(l).normalize().toArray(l),l}}const e0={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k8={9728:tr,9729:si,9984:1004,9985:1007,9986:1005,9987:sl},R8={33071:ss,33648:1002,10497:rl},P8={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},JT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},wu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},gTe={CUBICSPLINE:void 0,LINEAR:kd,STEP:Jf};function t0(r,n,i){for(const s in i.extensions)void 0===r[s]&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[s]=i.extensions[s])}function nh(r,n){void 0!==n.extras&&("object"==typeof n.extras?Object.assign(r.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function ATe(r,n){if(r.updateMorphTargets(),void 0!==n.weights)for(let i=0,s=n.weights.length;i<s;i++)r.morphTargetInfluences[i]=n.weights[i];if(n.extras&&Array.isArray(n.extras.targetNames)){const i=n.extras.targetNames;if(r.morphTargetInfluences.length===i.length){r.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++)r.morphTargetDictionary[i[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yTe(r){const n=r.extensions&&r.extensions[_n.KHR_DRACO_MESH_COMPRESSION];let i;return i=n?"draco:"+n.bufferView+":"+n.indices+":"+O8(n.attributes):r.indices+":"+O8(r.attributes)+":"+r.mode,i}function O8(r){let n="";const i=Object.keys(r).sort();for(let s=0,a=i.length;s<a;s++)n+=i[s]+":"+r[i[s]]+";";return n}function tk(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class wTe{constructor(n={},i={}){this.json=n,this.extensions={},this.plugins={},this.options=i,this.cache=new YIe,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const s=!0===/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a=navigator.userAgent.indexOf("Firefox")>-1,l=a?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;this.textureLoader=typeof createImageBitmap>"u"||s||a&&l<98?new ST(this.options.manager):new KDe(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Bs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(n){this.extensions=n}setPlugins(n){this.plugins=n}parse(n,i){const s=this,a=this.json,l=this.extensions;this.cache.removeAll(),this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(c){const u={scene:c[0][a.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:a.asset,parser:s,userData:{}};t0(l,u,a),nh(u,a),Promise.all(s._invokeAll(function(d){return d.afterRoot&&d.afterRoot(u)})).then(function(){n(u)})}).catch(i)}_markDefs(){const n=this.json.nodes||[],i=this.json.skins||[],s=this.json.meshes||[];for(let a=0,l=i.length;a<l;a++){const c=i[a].joints;for(let u=0,d=c.length;u<d;u++)n[c[u]].isBone=!0}for(let a=0,l=n.length;a<l;a++){const c=n[a];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(s[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(n,i){void 0!==i&&(void 0===n.refs[i]&&(n.refs[i]=n.uses[i]=0),n.refs[i]++)}_getNodeRef(n,i,s){if(n.refs[i]<=1)return s;const a=s.clone(),l=(c,u)=>{const d=this.associations.get(c);null!=d&&this.associations.set(u,d);for(const[h,f]of c.children.entries())l(f,u.children[h])};return l(s,a),a.name+="_instance_"+n.uses[i]++,a}_invokeOne(n){const i=Object.values(this.plugins);i.push(this);for(let s=0;s<i.length;s++){const a=n(i[s]);if(a)return a}return null}_invokeAll(n){const i=Object.values(this.plugins);i.unshift(this);const s=[];for(let a=0;a<i.length;a++){const l=n(i[a]);l&&s.push(l)}return s}getDependency(n,i){const s=n+":"+i;let a=this.cache.get(s);if(!a){switch(n){case"scene":a=this.loadScene(i);break;case"node":a=this.loadNode(i);break;case"mesh":a=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(i)});break;case"accessor":a=this.loadAccessor(i);break;case"bufferView":a=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(i)});break;case"buffer":a=this.loadBuffer(i);break;case"material":a=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(i)});break;case"texture":a=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(i)});break;case"skin":a=this.loadSkin(i);break;case"animation":a=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(i)});break;case"camera":a=this.loadCamera(i);break;default:throw new Error("Unknown type: "+n)}this.cache.add(s,a)}return a}getDependencies(n){let i=this.cache.get(n);if(!i){const s=this;i=Promise.all((this.json[n+("mesh"===n?"es":"s")]||[]).map(function(l,c){return s.getDependency(n,c)})),this.cache.add(n,i)}return i}loadBuffer(n){const i=this.json.buffers[n],s=this.fileLoader;if(i.type&&"arraybuffer"!==i.type)throw new Error("THREE.GLTFLoader: "+i.type+" buffer type is not supported.");if(void 0===i.uri&&0===n)return Promise.resolve(this.extensions[_n.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(l,c){s.load(dc.resolveURL(i.uri,a.path),l,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+i.uri+'".'))})})}loadBufferView(n){const i=this.json.bufferViews[n];return this.getDependency("buffer",i.buffer).then(function(s){const l=i.byteOffset||0;return s.slice(l,l+(i.byteLength||0))})}loadAccessor(n){const i=this,s=this.json,a=this.json.accessors[n];if(void 0===a.bufferView&&void 0===a.sparse)return Promise.resolve(null);const l=[];return l.push(void 0!==a.bufferView?this.getDependency("bufferView",a.bufferView):null),void 0!==a.sparse&&(l.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(l).then(function(c){const u=c[0],d=P8[a.type],h=e0[a.componentType],f=h.BYTES_PER_ELEMENT,m=a.byteOffset||0,g=void 0!==a.bufferView?s.bufferViews[a.bufferView].byteStride:void 0,_=!0===a.normalized;let A,b;if(g&&g!==f*d){const y=Math.floor(m/g),w="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+y+":"+a.count;let v=i.cache.get(w);v||(A=new h(u,y*g,a.count*g/f),v=new YI(A,g/f),i.cache.add(w,v)),b=new Gd(v,d,m%g/f,_)}else A=null===u?new h(a.count*d):new h(u,m,a.count*d),b=new _i(A,d,_);if(void 0!==a.sparse){const C=a.sparse.values.byteOffset||0,M=new(0,e0[a.sparse.indices.componentType])(c[1],a.sparse.indices.byteOffset||0,a.sparse.count*P8.SCALAR),E=new h(c[2],C,a.sparse.count*d);null!==u&&(b=new _i(b.array.slice(),b.itemSize,b.normalized));for(let S=0,x=M.length;S<x;S++){const D=M[S];if(b.setX(D,E[S*d]),d>=2&&b.setY(D,E[S*d+1]),d>=3&&b.setZ(D,E[S*d+2]),d>=4&&b.setW(D,E[S*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(n){const i=this.json,l=i.textures[n].source,c=i.images[l];let u=this.textureLoader;if(c.uri){const d=this.options.manager.getHandler(c.uri);null!==d&&(u=d)}return this.loadTextureImage(n,l,u)}loadTextureImage(n,i,s){const a=this,l=this.json,c=l.textures[n],u=l.images[i],d=(u.uri||u.bufferView)+":"+c.sampler;if(this.textureCache[d])return this.textureCache[d];const h=this.loadImageSource(i,s).then(function(f){f.flipY=!1,c.name&&(f.name=c.name);const m=(l.samplers||{})[c.sampler]||{};return f.magFilter=k8[m.magFilter]||si,f.minFilter=k8[m.minFilter]||sl,f.wrapS=R8[m.wrapS]||rl,f.wrapT=R8[m.wrapT]||rl,a.associations.set(f,{textures:n}),f}).catch(function(){return null});return this.textureCache[d]=h,h}loadImageSource(n,i){const a=this.json,l=this.options;if(void 0!==this.sourceCache[n])return this.sourceCache[n].then(p=>p.clone());const c=a.images[n],u=self.URL||self.webkitURL;let d=c.uri||"",h=!1;if(void 0!==c.bufferView)d=this.getDependency("bufferView",c.bufferView).then(function(p){h=!0;const m=new Blob([p],{type:c.mimeType});return d=u.createObjectURL(m),d});else if(void 0===c.uri)throw new Error("THREE.GLTFLoader: Image "+n+" is missing URI and bufferView");const f=Promise.resolve(d).then(function(p){return new Promise(function(m,g){let _=m;!0===i.isImageBitmapLoader&&(_=function(A){const b=new Xs(A);b.needsUpdate=!0,m(b)}),i.load(dc.resolveURL(p,l.path),_,void 0,g)})}).then(function(p){return!0===h&&u.revokeObjectURL(d),p.userData.mimeType=c.mimeType||function vTe(r){return r.search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data\:image\/jpeg/)?"image/jpeg":r.search(/\.webp($|\?)/i)>0||0===r.search(/^data\:image\/webp/)?"image/webp":"image/png"}(c.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),p});return this.sourceCache[n]=f,f}assignTexture(n,i,s,a){const l=this;return this.getDependency("texture",s.index).then(function(c){if(void 0!==s.texCoord&&0!=s.texCoord&&!("aoMap"===i&&1==s.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+s.texCoord+" for texture "+i+" not yet supported."),l.extensions[_n.KHR_TEXTURE_TRANSFORM]){const u=void 0!==s.extensions?s.extensions[_n.KHR_TEXTURE_TRANSFORM]:void 0;if(u){const d=l.associations.get(c);c=l.extensions[_n.KHR_TEXTURE_TRANSFORM].extendTexture(c,u),l.associations.set(c,d)}}return void 0!==a&&(c.encoding=a),n[i]=c,c})}assignFinalMaterial(n){const i=n.geometry;let s=n.material;const a=void 0===i.attributes.tangent,l=void 0!==i.attributes.color,c=void 0===i.attributes.normal;if(n.isPoints){const u="PointsMaterial:"+s.uuid;let d=this.cache.get(u);d||(d=new eT,Go.prototype.copy.call(d,s),d.color.copy(s.color),d.map=s.map,d.sizeAttenuation=!1,this.cache.add(u,d)),s=d}else if(n.isLine){const u="LineBasicMaterial:"+s.uuid;let d=this.cache.get(u);d||(d=new Zs,Go.prototype.copy.call(d,s),d.color.copy(s.color),this.cache.add(u,d)),s=d}if(a||l||c){let u="ClonedMaterial:"+s.uuid+":";s.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),a&&(u+="derivative-tangents:"),l&&(u+="vertex-colors:"),c&&(u+="flat-shading:");let d=this.cache.get(u);d||(d=s.clone(),l&&(d.vertexColors=!0),c&&(d.flatShading=!0),a&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(s))),s=d}s.aoMap&&void 0===i.attributes.uv2&&void 0!==i.attributes.uv&&i.setAttribute("uv2",i.attributes.uv),n.material=s}getMaterialType(){return cc}loadMaterial(n){const i=this,a=this.extensions,l=this.json.materials[n];let c;const u={},d=l.extensions||{},h=[];if(d[_n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const p=a[_n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];c=p.getMaterialType(),h.push(p.extendParams(u,l,i))}else if(d[_n.KHR_MATERIALS_UNLIT]){const p=a[_n.KHR_MATERIALS_UNLIT];c=p.getMaterialType(),h.push(p.extendParams(u,l,i))}else{const p=l.pbrMetallicRoughness||{};if(u.color=new Ne(1,1,1),u.opacity=1,Array.isArray(p.baseColorFactor)){const m=p.baseColorFactor;u.color.fromArray(m),u.opacity=m[3]}void 0!==p.baseColorTexture&&h.push(i.assignTexture(u,"map",p.baseColorTexture,hn)),u.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,u.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(h.push(i.assignTexture(u,"metalnessMap",p.metallicRoughnessTexture)),h.push(i.assignTexture(u,"roughnessMap",p.metallicRoughnessTexture))),c=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(n)}),h.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(n,u)})))}!0===l.doubleSided&&(u.side=2);const f=l.alphaMode||"OPAQUE";if("BLEND"===f?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,"MASK"===f&&(u.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&c!==cs&&(h.push(i.assignTexture(u,"normalMap",l.normalTexture)),u.normalScale=new be(1,1),void 0!==l.normalTexture.scale)){const p=l.normalTexture.scale;u.normalScale.set(p,p)}return void 0!==l.occlusionTexture&&c!==cs&&(h.push(i.assignTexture(u,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(u.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&c!==cs&&(u.emissive=(new Ne).fromArray(l.emissiveFactor)),void 0!==l.emissiveTexture&&c!==cs&&h.push(i.assignTexture(u,"emissiveMap",l.emissiveTexture,hn)),Promise.all(h).then(function(){let p;return p=c===ZT?a[_n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(u):new c(u),l.name&&(p.name=l.name),nh(p,l),i.associations.set(p,{materials:n}),l.extensions&&t0(a,p,l),p})}createUniqueName(n){const i=Vn.sanitizeNodeName(n||"");let s=i;for(let a=1;this.nodeNamesUsed[s];++a)s=i+"_"+a;return this.nodeNamesUsed[s]=!0,s}loadGeometries(n){const i=this,s=this.extensions,a=this.primitiveCache;function l(u){return s[_n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(u,i).then(function(d){return L8(d,u,i)})}const c=[];for(let u=0,d=n.length;u<d;u++){const h=n[u],f=yTe(h),p=a[f];if(p)c.push(p.promise);else{let m;m=h.extensions&&h.extensions[_n.KHR_DRACO_MESH_COMPRESSION]?l(h):L8(new rn,h,i),a[f]={primitive:h,promise:m},c.push(m)}}return Promise.all(c)}loadMesh(n){const i=this,a=this.extensions,l=this.json.meshes[n],c=l.primitives,u=[];for(let d=0,h=c.length;d<h;d++){const f=void 0===c[d].material?(void 0===(r=this.cache).DefaultMaterial&&(r.DefaultMaterial=new cc({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),r.DefaultMaterial):this.getDependency("material",c[d].material);u.push(f)}var r;return u.push(i.loadGeometries(c)),Promise.all(u).then(function(d){const h=d.slice(0,d.length-1),f=d[d.length-1],p=[];for(let g=0,_=f.length;g<_;g++){const A=f[g],b=c[g];let y;const w=h[g];if(4===b.mode||5===b.mode||6===b.mode||void 0===b.mode)y=!0===l.isSkinnedMesh?new jQ(A,w):new Et(A,w),!0===y.isSkinnedMesh&&!y.geometry.attributes.skinWeight.normalized&&y.normalizeSkinWeights(),5===b.mode?y.geometry=F8(y.geometry,1):6===b.mode&&(y.geometry=F8(y.geometry,2));else if(1===b.mode)y=new JI(A,w);else if(3===b.mode)y=new Qd(A,w);else if(2===b.mode)y=new n6(A,w);else{if(0!==b.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);y=new r6(A,w)}Object.keys(y.geometry.morphAttributes).length>0&&ATe(y,l),y.name=i.createUniqueName(l.name||"mesh_"+n),nh(y,l),b.extensions&&t0(a,y,b),i.assignFinalMaterial(y),p.push(y)}for(let g=0,_=p.length;g<_;g++)i.associations.set(p[g],{meshes:n,primitives:g});if(1===p.length)return p[0];const m=new oc;i.associations.set(m,{meshes:n});for(let g=0,_=p.length;g<_;g++)m.add(p[g]);return m})}loadCamera(n){let i;const s=this.json.cameras[n],a=s[s.type];if(a)return"perspective"===s.type?i=new gr(WG.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):"orthographic"===s.type&&(i=new Vd(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),s.name&&(i.name=this.createUniqueName(s.name)),nh(i,s),Promise.resolve(i);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(n){const i=this.json.skins[n],s={joints:i.joints};return void 0===i.inverseBindMatrices?Promise.resolve(s):this.getDependency("accessor",i.inverseBindMatrices).then(function(a){return s.inverseBindMatrices=a,s})}loadAnimation(n){const s=this.json.animations[n],a=[],l=[],c=[],u=[],d=[];for(let h=0,f=s.channels.length;h<f;h++){const p=s.channels[h],m=s.samplers[p.sampler],g=p.target,A=void 0!==s.parameters?s.parameters[m.input]:m.input,b=void 0!==s.parameters?s.parameters[m.output]:m.output;a.push(this.getDependency("node",g.node)),l.push(this.getDependency("accessor",A)),c.push(this.getDependency("accessor",b)),u.push(m),d.push(g)}return Promise.all([Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u),Promise.all(d)]).then(function(h){const f=h[0],p=h[1],m=h[2],g=h[3],_=h[4],A=[];for(let y=0,w=f.length;y<w;y++){const v=f[y],C=p[y],M=m[y],E=g[y],S=_[y];if(void 0===v)continue;let x;switch(v.updateMatrix(),wu[S.path]){case wu.weights:x=z_;break;case wu.rotation:x=jd;break;default:x=H_}const D=v.name?v.name:v.uuid,T=void 0!==E.interpolation?gTe[E.interpolation]:kd,k=[];wu[S.path]===wu.weights?v.traverse(function(F){F.morphTargetInfluences&&k.push(F.name?F.name:F.uuid)}):k.push(D);let R=M.array;if(M.normalized){const F=tk(R.constructor),O=new Float32Array(R.length);for(let j=0,G=R.length;j<G;j++)O[j]=R[j]*F;R=O}for(let F=0,O=k.length;F<O;F++){const j=new x(k[F]+"."+wu[S.path],C.array,R,T);"CUBICSPLINE"===E.interpolation&&(j.createInterpolant=function(P){return new(this instanceof jd?mTe:T8)(this.times,this.values,this.getValueSize()/3,P)},j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(j)}}return new G_(s.name?s.name:"animation_"+n,void 0,A)})}createNodeMesh(n){const s=this,a=this.json.nodes[n];return void 0===a.mesh?null:s.getDependency("mesh",a.mesh).then(function(l){const c=s._getNodeRef(s.meshCache,a.mesh,l);return void 0!==a.weights&&c.traverse(function(u){if(u.isMesh)for(let d=0,h=a.weights.length;d<h;d++)u.morphTargetInfluences[d]=a.weights[d]}),c})}loadNode(n){const s=this.extensions,a=this,l=this.json.nodes[n],c=l.name?a.createUniqueName(l.name):"";return function(){const u=[],d=a._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(n)});return d&&u.push(d),void 0!==l.camera&&u.push(a.getDependency("camera",l.camera).then(function(h){return a._getNodeRef(a.cameraCache,l.camera,h)})),a._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(n)}).forEach(function(h){u.push(h)}),Promise.all(u)}().then(function(u){let d;if(d=!0===l.isBone?new KI:u.length>1?new oc:1===u.length?u[0]:new pr,d!==u[0])for(let h=0,f=u.length;h<f;h++)d.add(u[h]);if(l.name&&(d.userData.name=l.name,d.name=c),nh(d,l),l.extensions&&t0(s,d,l),void 0!==l.matrix){const h=new Pt;h.fromArray(l.matrix),d.applyMatrix4(h)}else void 0!==l.translation&&d.position.fromArray(l.translation),void 0!==l.rotation&&d.quaternion.fromArray(l.rotation),void 0!==l.scale&&d.scale.fromArray(l.scale);return a.associations.has(d)||a.associations.set(d,{}),a.associations.get(d).nodes=n,d})}loadScene(n){const i=this.json,s=this.extensions,a=this.json.scenes[n],l=this,c=new oc;a.name&&(c.name=l.createUniqueName(a.name)),nh(c,a),a.extensions&&t0(s,c,a);const u=a.nodes||[],d=[];for(let h=0,f=u.length;h<f;h++)d.push(B8(u[h],c,i,l));return Promise.all(d).then(function(){return l.associations=(f=>{const p=new Map;for(const[m,g]of l.associations)(m instanceof Go||m instanceof Xs)&&p.set(m,g);return f.traverse(m=>{const g=l.associations.get(m);null!=g&&p.set(m,g)}),p})(c),c})}}function B8(r,n,i,s){const a=i.nodes[r];return s.getDependency("node",r).then(function(l){if(void 0===a.skin)return l;let c;return s.getDependency("skin",a.skin).then(function(u){c=u;const d=[];for(let h=0,f=c.joints.length;h<f;h++)d.push(s.getDependency("node",c.joints[h]));return Promise.all(d)}).then(function(u){return l.traverse(function(d){if(!d.isMesh)return;const h=[],f=[];for(let p=0,m=u.length;p<m;p++){const g=u[p];if(g){h.push(g);const _=new Pt;void 0!==c.inverseBindMatrices&&_.fromArray(c.inverseBindMatrices.array,16*p),f.push(_)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',c.joints[p])}d.bind(new rw(h,f),d.matrixWorld)}),l})}).then(function(l){n.add(l);const c=[];if(a.children){const u=a.children;for(let d=0,h=u.length;d<h;d++)c.push(B8(u[d],l,i,s))}return Promise.all(c)})}function L8(r,n,i){const s=n.attributes,a=[];function l(c,u){return i.getDependency("accessor",c).then(function(d){r.setAttribute(u,d)})}for(const c in s){const u=JT[c]||c.toLowerCase();u in r.attributes||a.push(l(s[c],u))}if(void 0!==n.indices&&!r.index){const c=i.getDependency("accessor",n.indices).then(function(u){r.setIndex(u)});a.push(c)}return nh(r,n),function CTe(r,n,i){const s=n.attributes,a=new bo;if(void 0===s.POSITION)return;{const u=i.json.accessors[s.POSITION],d=u.min,h=u.max;if(void 0===d||void 0===h)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(a.set(new L(d[0],d[1],d[2]),new L(h[0],h[1],h[2])),u.normalized){const f=tk(e0[u.componentType]);a.min.multiplyScalar(f),a.max.multiplyScalar(f)}}const l=n.targets;if(void 0!==l){const u=new L,d=new L;for(let h=0,f=l.length;h<f;h++){const p=l[h];if(void 0!==p.POSITION){const m=i.json.accessors[p.POSITION],g=m.min,_=m.max;if(void 0!==g&&void 0!==_){if(d.setX(Math.max(Math.abs(g[0]),Math.abs(_[0]))),d.setY(Math.max(Math.abs(g[1]),Math.abs(_[1]))),d.setZ(Math.max(Math.abs(g[2]),Math.abs(_[2]))),m.normalized){const A=tk(e0[m.componentType]);d.multiplyScalar(A)}u.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(u)}r.boundingBox=a;const c=new ec;a.getCenter(c.center),c.radius=a.min.distanceTo(a.max)/2,r.boundingSphere=c}(r,n,i),Promise.all(a).then(function(){return void 0!==n.targets?function bTe(r,n,i){let s=!1,a=!1,l=!1;for(let h=0,f=n.length;h<f;h++){const p=n[h];if(void 0!==p.POSITION&&(s=!0),void 0!==p.NORMAL&&(a=!0),void 0!==p.COLOR_0&&(l=!0),s&&a&&l)break}if(!s&&!a&&!l)return Promise.resolve(r);const c=[],u=[],d=[];for(let h=0,f=n.length;h<f;h++){const p=n[h];if(s){const m=void 0!==p.POSITION?i.getDependency("accessor",p.POSITION):r.attributes.position;c.push(m)}if(a){const m=void 0!==p.NORMAL?i.getDependency("accessor",p.NORMAL):r.attributes.normal;u.push(m)}if(l){const m=void 0!==p.COLOR_0?i.getDependency("accessor",p.COLOR_0):r.attributes.color;d.push(m)}}return Promise.all([Promise.all(c),Promise.all(u),Promise.all(d)]).then(function(h){const p=h[1],m=h[2];return s&&(r.morphAttributes.position=h[0]),a&&(r.morphAttributes.normal=p),l&&(r.morphAttributes.color=m),r.morphTargetsRelative=!0,r})}(r,n.targets,i):r})}function F8(r,n){let i=r.getIndex();if(null===i){const c=[],u=r.getAttribute("position");if(void 0===u)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r;for(let d=0;d<u.count;d++)c.push(d);r.setIndex(c),i=r.getIndex()}const s=i.count-2,a=[];if(2===n)for(let c=1;c<=s;c++)a.push(i.getX(0)),a.push(i.getX(c)),a.push(i.getX(c+1));else for(let c=0;c<s;c++)c%2==0?(a.push(i.getX(c)),a.push(i.getX(c+1)),a.push(i.getX(c+2))):(a.push(i.getX(c+2)),a.push(i.getX(c+1)),a.push(i.getX(c)));a.length/3!==s&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=r.clone();return l.setIndex(a),l}class xTe{constructor(n=4){this.pool=n,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(n){if(!this.workers[n]){const i=this.workerCreator();i.addEventListener("message",this._onMessage.bind(this,n)),this.workers[n]=i}}_getIdleWorker(){for(let n=0;n<this.pool;n++)if(!(this.workerStatus&1<<n))return n;return-1}_onMessage(n,i){const s=this.workersResolve[n];if(s&&s(i),this.queue.length){const{resolve:a,msg:l,transfer:c}=this.queue.shift();this.workersResolve[n]=a,this.workers[n].postMessage(l,c)}else this.workerStatus^=1<<n}setWorkerCreator(n){this.workerCreator=n}setWorkerLimit(n){this.pool=n}postMessage(n,i){return new Promise(s=>{const a=this._getIdleWorker();-1!==a?(this._initWorker(a),this.workerStatus|=1<<a,this.workersResolve[a]=s,this.workers[a].postMessage(n,i)):this.queue.push({resolve:s,msg:n,transfer:i})})}dispose(){this.workers.forEach(n=>n.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}class TTe{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class n0{constructor(n,i,s,a){this._dataView=new DataView(n.buffer,n.byteOffset+i,s),this._littleEndian=a,this._offset=0}_nextUint8(){const n=this._dataView.getUint8(this._offset);return this._offset+=1,n}_nextUint16(){const n=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,n}_nextUint32(){const n=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,n}_nextUint64(){const n=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,n}_nextInt32(){const n=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,n}_skip(n){return this._offset+=n,this}_scan(n,i=0){const s=this._offset;let a=0;for(;this._dataView.getUint8(this._offset)!==i&&a<n;)a++,this._offset++;return a<n&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,a)}}new Uint8Array([0]);const $r=[171,75,84,88,32,50,48,187,13,10,26,10];function Y8(r){return typeof TextDecoder<"u"?(new TextDecoder).decode(r):Buffer.from(r).toString("utf8")}let ok,mc,ak;const lk={env:{emscripten_notify_memory_growth:function(r){ak=new Uint8Array(mc.exports.memory.buffer)}}};class PTe{init(){return ok||(ok=typeof fetch<"u"?fetch("data:application/wasm;base64,"+X8).then(n=>n.arrayBuffer()).then(n=>WebAssembly.instantiate(n,lk)).then(this._init):WebAssembly.instantiate(Buffer.from(X8,"base64"),lk).then(this._init),ok)}_init(n){mc=n.instance,lk.env.emscripten_notify_memory_growth(0)}decode(n,i=0){if(!mc)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=n.byteLength,a=mc.exports.malloc(s);ak.set(n,a),i=i||Number(mc.exports.ZSTD_findDecompressedSize(a,s));const l=mc.exports.malloc(i),c=mc.exports.ZSTD_decompress(l,i,a,s),u=ak.slice(l,l+c);return mc.exports.free(a),mc.exports.free(l),u}}const X8="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",ck=new WeakMap;let dk,uk=0,OTe=(()=>{class r extends yu{constructor(i){super(i),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new xTe,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(i){return this.transcoderPath=i,this}setWorkerLimit(i){return this.workerPool.setWorkerLimit(i),this}detectSupport(i){return this.workerConfig={astcSupported:i.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:i.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:i.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:i.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:i.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:i.extensions.has("WEBGL_compressed_texture_pvrtc")||i.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},i.capabilities.isWebGL2&&(this.workerConfig.etc1Supported=!1),this}init(){if(!this.transcoderPending){const i=new Bs(this.manager);i.setPath(this.transcoderPath),i.setWithCredentials(this.withCredentials);const s=i.loadAsync("basis_transcoder.js"),a=new Bs(this.manager);a.setPath(this.transcoderPath),a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);const l=a.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([s,l]).then(([c,u])=>{const d=r.BasisWorker.toString(),h=["/* constants */","let _EngineFormat = "+JSON.stringify(r.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(r.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(r.BasisFormat),"/* basis_transcoder.js */",c,"/* worker */",d.substring(d.indexOf("{")+1,d.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([h])),this.transcoderBinary=u,this.workerPool.setWorkerCreator(()=>{const f=new Worker(this.workerSourceURL),p=this.transcoderBinary.slice(0);return f.postMessage({type:"init",config:this.workerConfig,transcoderBinary:p},[p]),f})}),uk>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),uk++}return this.transcoderPending}load(i,s,a,l){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const c=new Bs(this.manager);c.setResponseType("arraybuffer"),c.setWithCredentials(this.withCredentials),c.load(i,u=>{if(ck.has(u))return ck.get(u).promise.then(s).catch(l);this._createTexture(u).then(d=>s?s(d):null).catch(l)},a,l)}_createTextureFrom(i){const{mipmaps:s,width:a,height:l,format:c,type:u,error:d,dfdTransferFn:h,dfdFlags:f}=i;if("error"===u)return Promise.reject(d);const p=new o6(s,a,l,c,Ys);return p.minFilter=1===s.length?si:sl,p.magFilter=si,p.generateMipmaps=!1,p.needsUpdate=!0,p.encoding=2===h?hn:os,p.premultiplyAlpha=!!(1&f),p}_createTexture(i,s={}){const a=function kTe(r){const n=new Uint8Array(r.buffer,r.byteOffset,$r.length);if(n[0]!==$r[0]||n[1]!==$r[1]||n[2]!==$r[2]||n[3]!==$r[3]||n[4]!==$r[4]||n[5]!==$r[5]||n[6]!==$r[6]||n[7]!==$r[7]||n[8]!==$r[8]||n[9]!==$r[9]||n[10]!==$r[10]||n[11]!==$r[11])throw new Error("Missing KTX 2.0 identifier.");const i=new TTe,s=17*Uint32Array.BYTES_PER_ELEMENT,a=new n0(r,$r.length,s,!0);i.vkFormat=a._nextUint32(),i.typeSize=a._nextUint32(),i.pixelWidth=a._nextUint32(),i.pixelHeight=a._nextUint32(),i.pixelDepth=a._nextUint32(),i.layerCount=a._nextUint32(),i.faceCount=a._nextUint32();const l=a._nextUint32();i.supercompressionScheme=a._nextUint32();const c=a._nextUint32(),u=a._nextUint32(),d=a._nextUint32(),h=a._nextUint32(),f=a._nextUint64(),p=a._nextUint64(),m=new n0(r,$r.length+s,3*l*8,!0);for(let P=0;P<l;P++)i.levels.push({levelData:new Uint8Array(r.buffer,r.byteOffset+m._nextUint64(),m._nextUint64()),uncompressedByteLength:m._nextUint64()});const g=new n0(r,c,u,!0),_={vendorId:g._skip(4)._nextUint16(),descriptorType:g._nextUint16(),versionNumber:g._nextUint16(),descriptorBlockSize:g._nextUint16(),colorModel:g._nextUint8(),colorPrimaries:g._nextUint8(),transferFunction:g._nextUint8(),flags:g._nextUint8(),texelBlockDimension:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],bytesPlane:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],samples:[]},A=(_.descriptorBlockSize/4-6)/4;for(let P=0;P<A;P++){const z={bitOffset:g._nextUint16(),bitLength:g._nextUint8(),channelType:g._nextUint8(),samplePosition:[g._nextUint8(),g._nextUint8(),g._nextUint8(),g._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&z.channelType?(z.sampleLower=g._nextInt32(),z.sampleUpper=g._nextInt32()):(z.sampleLower=g._nextUint32(),z.sampleUpper=g._nextUint32()),_.samples[P]=z}i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(_);const b=new n0(r,d,h,!0);for(;b._offset<h;){const P=b._nextUint32(),z=b._scan(P),V=Y8(z),Y=b._scan(P-z.byteLength);i.keyValue[V]=V.match(/^ktx/i)?Y8(Y):Y,b._offset%4&&b._skip(4-b._offset%4)}if(p<=0)return i;const y=new n0(r,f,p,!0),w=y._nextUint16(),v=y._nextUint16(),C=y._nextUint32(),M=y._nextUint32(),E=y._nextUint32(),S=y._nextUint32(),x=[];for(let P=0;P<l;P++)x.push({imageFlags:y._nextUint32(),rgbSliceByteOffset:y._nextUint32(),rgbSliceByteLength:y._nextUint32(),alphaSliceByteOffset:y._nextUint32(),alphaSliceByteLength:y._nextUint32()});const D=f+y._offset,T=D+C,k=T+M,R=k+E,F=new Uint8Array(r.buffer,r.byteOffset+D,C),O=new Uint8Array(r.buffer,r.byteOffset+T,M),j=new Uint8Array(r.buffer,r.byteOffset+k,E),G=new Uint8Array(r.buffer,r.byteOffset+R,S);return i.globalData={endpointCount:w,selectorCount:v,imageDescs:x,endpointsData:F,selectorsData:O,tablesData:j,extendedData:G},i}(new Uint8Array(i));if(0!==a.vkFormat)return function LTe(r){return fk.apply(this,arguments)}(a);const l=s,c=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:i,taskConfig:l},[i])).then(u=>this._createTextureFrom(u.data));return ck.set(i,{promise:c}),c}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),uk--,this}}return r.BasisFormat={ETC1S:0,UASTC_4x4:1},r.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},r.EngineFormat={RGBAFormat:Ir,RGBA_ASTC_4x4_Format:37808,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT5_Format:Mv,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:xv},r.BasisWorker=function(){let n,i,s;const a=_EngineFormat,l=_TranscoderFormat,c=_BasisFormat;self.addEventListener("message",function(_){const A=_.data;switch(A.type){case"init":n=A.config,function u(_){i=new Promise(A=>{s={wasmBinary:_,onRuntimeInitialized:A},BASIS(s)}).then(()=>{s.initializeBasis(),void 0===s.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}(A.transcoderBinary);break;case"transcode":i.then(()=>{try{const{width:b,height:y,hasAlpha:w,mipmaps:v,format:C,dfdTransferFn:M,dfdFlags:E}=function d(_){const A=new s.KTX2File(new Uint8Array(_));function b(){A.close(),A.delete()}if(!A.isValid())throw b(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const y=A.isUASTC()?c.UASTC_4x4:c.ETC1S,w=A.getWidth(),v=A.getHeight(),C=A.getLevels(),M=A.getHasAlpha(),E=A.getDFDTransferFunc(),S=A.getDFDFlags(),{transcoderFormat:x,engineFormat:D}=function m(_,A,b,y){let w,v;const C=_===c.ETC1S?f:p;for(let M=0;M<C.length;M++){const E=C[M];if(n[E.if]&&E.basisFormat.includes(_)&&!(y&&E.transcoderFormat.length<2)&&(!E.needsPowerOfTwo||g(A)&&g(b)))return w=E.transcoderFormat[y?1:0],v=E.engineFormat[y?1:0],{transcoderFormat:w,engineFormat:v}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),w=l.RGBA32,v=a.RGBAFormat,{transcoderFormat:w,engineFormat:v}}(y,w,v,M);if(!w||!v||!C)throw b(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!A.startTranscoding())throw b(),new Error("THREE.KTX2Loader: .startTranscoding failed");const T=[];for(let k=0;k<C;k++){const R=A.getImageLevelInfo(k,0,0),F=R.origWidth,O=R.origHeight,j=new Uint8Array(A.getImageTranscodedSizeInBytes(k,0,0,x));if(!A.transcodeImage(j,k,0,0,x,0,-1,-1))throw b(),new Error("THREE.KTX2Loader: .transcodeImage failed.");T.push({data:j,width:F,height:O})}return b(),{width:w,height:v,hasAlpha:M,mipmaps:T,format:D,dfdTransferFn:E,dfdFlags:S}}(A.buffer),S=[];for(let x=0;x<v.length;++x)S.push(v[x].data.buffer);self.postMessage({type:"transcode",id:A.id,width:b,height:y,hasAlpha:w,mipmaps:v,format:C,dfdTransferFn:M,dfdFlags:E},S)}catch(b){console.error(b),self.postMessage({type:"error",id:A.id,error:b.message})}})}});const h=[{if:"astcSupported",basisFormat:[c.UASTC_4x4],transcoderFormat:[l.ASTC_4x4,l.ASTC_4x4],engineFormat:[a.RGBA_ASTC_4x4_Format,a.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.BC7_M5,l.BC7_M5],engineFormat:[a.RGBA_BPTC_Format,a.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.BC1,l.BC3],engineFormat:[a.RGB_S3TC_DXT1_Format,a.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.ETC1,l.ETC2],engineFormat:[a.RGB_ETC2_Format,a.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.ETC1],engineFormat:[a.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.PVRTC1_4_RGB,l.PVRTC1_4_RGBA],engineFormat:[a.RGB_PVRTC_4BPPV1_Format,a.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],f=h.sort(function(_,A){return _.priorityETC1S-A.priorityETC1S}),p=h.sort(function(_,A){return _.priorityUASTC-A.priorityUASTC});function g(_){return _<=2||0==(_&_-1)&&0!==_}},r})();const K8={109:Ir,97:Ir,37:Ir,43:Ir,103:v_,83:v_,16:v_,22:v_,100:y_,76:y_,15:y_,9:y_},hk={109:Ts,97:ks,37:Ys,43:Ys,103:Ts,83:ks,16:Ys,22:Ys,100:Ts,76:ks,15:Ys,9:Ys},BTe={43:hn,22:hn,15:hn};function fk(){return fk=ut(function*(r){const{vkFormat:n,pixelWidth:i,pixelHeight:s,pixelDepth:a}=r;if(void 0===K8[n])throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");const l=r.levels[0];let c,u;if(0===r.supercompressionScheme)c=l.levelData;else{if(2!==r.supercompressionScheme)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");dk||(dk=new Promise(function(){var h=ut(function*(f){const p=new PTe;yield p.init(),f(p)});return function(f){return h.apply(this,arguments)}}())),c=(yield dk).decode(l.levelData,l.uncompressedByteLength)}u=hk[n]===Ts?new Float32Array(c.buffer,c.byteOffset,c.byteLength/Float32Array.BYTES_PER_ELEMENT):hk[n]===ks?new Uint16Array(c.buffer,c.byteOffset,c.byteLength/Uint16Array.BYTES_PER_ELEMENT):c;const d=0===a?new xp(u,i,s):new mI(u,i,s,a);return d.type=hk[n],d.format=K8[n],d.encoding=BTe[n]||os,d.needsUpdate=!0,Promise.resolve(d)}),fk.apply(this,arguments)}var Z8,J8;const Ea=Symbol("retainerCount"),gc=Symbol("recentlyUsed"),Vw=Symbol("evict"),r0=Symbol("evictionThreshold"),pk=Symbol("cache");class FTe{constructor(n,i=5){this[Z8]=new Map,this[J8]=[],this[pk]=n,this[r0]=i}set evictionThreshold(n){this[r0]=n,this[Vw]()}get evictionThreshold(){return this[r0]}get cache(){return this[pk]}retainerCount(n){return this[Ea].get(n)||0}reset(){this[Ea].clear(),this[gc]=[]}retain(n){this[Ea].has(n)||this[Ea].set(n,0),this[Ea].set(n,this[Ea].get(n)+1);const i=this[gc].indexOf(n);-1!==i&&this[gc].splice(i,1),this[gc].unshift(n),this[Vw]()}release(n){this[Ea].has(n)&&this[Ea].set(n,Math.max(this[Ea].get(n)-1,0)),this[Vw]()}[(Z8=Ea,J8=gc,Vw)](){if(!(this[gc].length<this[r0]))for(let n=this[gc].length-1;n>=this[r0];--n){const i=this[gc][n];0===this[Ea].get(i)&&(this[pk].delete(i),this[gc].splice(n,1))}}}const UTe=r=>{const n=new Map;for(const i of r.mappings)for(const s of i.variants)n.set(s,{material:null,gltfMaterialIndex:i.material});return n};class VTe{constructor(n){this.parser=n,this.name="KHR_materials_variants"}afterRoot(n){const i=this.parser,s=i.json;if(void 0===s.extensions||void 0===s.extensions[this.name])return null;const c=(r=>{const n=[],i=new Set;for(const s of r){let a=s,l=0;for(;i.has(a);)a=s+"."+ ++l;i.add(a),n.push(a)}return n})((s.extensions[this.name].variants||[]).map(u=>u.name));for(const u of n.scenes)u.traverse(d=>{const h=d;if(!h.isMesh)return;const f=i.associations.get(h);if(null==f||null==f.meshes||null==f.primitives)return;const _=s.meshes[f.meshes].primitives[f.primitives].extensions;!_||!_[this.name]||(h.userData.variantMaterials=UTe(_[this.name]))});return n.userData.variants=c,Promise.resolve()}}var e$,t$;const _c=new Map,mk=new Map;let n$;const i$=new class WIe extends yu{constructor(n){super(n),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(n){return this.decoderPath=n,this}setDecoderConfig(n){return this.decoderConfig=n,this}setWorkerLimit(n){return this.workerLimit=n,this}load(n,i,s,a){const l=new Bs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(n,c=>{this.decodeDracoFile(c,i).catch(a)},s,a)}decodeDracoFile(n,i,s,a){return this.decodeGeometry(n,{attributeIDs:s||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!s}).then(i)}decodeGeometry(n,i){const s=JSON.stringify(i);if(KT.has(n)){const d=KT.get(n);if(d.key===s)return d.promise;if(0===n.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const l=this.workerNextTaskID++,u=this._getWorker(l,n.byteLength).then(d=>(a=d,new Promise((h,f)=>{a._callbacks[l]={resolve:h,reject:f},a.postMessage({type:"decode",id:l,taskConfig:i,buffer:n},[n])}))).then(d=>this._createGeometry(d.geometry));return u.catch(()=>!0).then(()=>{a&&l&&this._releaseTask(a,l)}),KT.set(n,{key:s,promise:u}),u}_createGeometry(n){const i=new rn;n.index&&i.setIndex(new _i(n.index.array,1));for(let s=0;s<n.attributes.length;s++){const a=n.attributes[s];i.setAttribute(a.name,new _i(a.array,a.itemSize))}return i}_loadLibrary(n,i){const s=new Bs(this.manager);return s.setPath(this.decoderPath),s.setResponseType(i),s.setWithCredentials(this.withCredentials),new Promise((a,l)=>{s.load(n,a,void 0,l)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const n="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,i=[];return n?i.push(this._loadLibrary("draco_decoder.js","text")):(i.push(this._loadLibrary("draco_wasm_wrapper.js","text")),i.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(i).then(s=>{const a=s[0];n||(this.decoderConfig.wasmBinary=s[1]);const l=jIe.toString(),c=["/* draco decoder */",a,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(n,i){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(l){const c=l.data;switch(c.type){case"decode":a._callbacks[c.id].resolve(c);break;case"error":a._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,l){return a._taskLoad>l._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[n]=i,s._taskLoad+=i,s})}_releaseTask(n,i){n._taskLoad-=n._taskCosts[i],delete n._callbacks[i],delete n._taskCosts[i]}debug(){console.log("Task load: ",this.workerPool.map(n=>n._taskLoad))}dispose(){for(let n=0;n<this.workerPool.length;++n)this.workerPool[n].terminate();return this.workerPool.length=0,this}};let r$;const gk=new OTe;let _k,bk;const ih=Symbol("loader"),Cu=Symbol("evictionPolicy"),s$=Symbol("GLTFInstance");class Fr extends Ho{constructor(n){super(),this[t$]=(new qIe).register(i=>new VTe(i)),this[s$]=n,this[ih].setDRACOLoader(i$),this[ih].setKTX2Loader(gk)}static setDRACODecoderLocation(n){n$=n,i$.setDecoderPath(n)}static getDRACODecoderLocation(){return n$}static setKTX2TranscoderLocation(n){r$=n,gk.setTranscoderPath(n)}static getKTX2TranscoderLocation(){return r$}static setMeshoptDecoderLocation(n){var r;_k!==n&&(_k=n,bk=(r=n,new Promise((n,i)=>{const s=document.createElement("script");document.body.appendChild(s),s.onload=n,s.onerror=i,s.async=!0,s.src=r})).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return _k}static initializeKTX2Loader(n){gk.detectSupport(n)}static get cache(){return _c}static clearCache(){_c.forEach((n,i)=>{this.delete(i)}),this[Cu].reset()}static has(n){return _c.has(n)}static delete(n){var i=this;return ut(function*(){if(!i.has(n))return;const s=_c.get(n);mk.delete(n),_c.delete(n),(yield s).dispose()})()}static hasFinishedLoading(n){return!!mk.get(n)}get[(e$=Cu,t$=ih,Cu)](){return this.constructor[Cu]}preload(n,i,s=(()=>{})){var a=this;return ut(function*(){if(a[ih].setWithCredentials(Fr.withCredentials),a.dispatchEvent({type:"preload",element:i,src:n}),!_c.has(n)){null!=bk&&a[ih].setMeshoptDecoder(yield bk);const l=((r,n,i=(()=>{}))=>{const s=a=>{const l=a.loaded/a.total;i(Math.max(0,Math.min(1,isFinite(l)?l:1)))};return new Promise((a,l)=>{n.load(r,a,s,l)})})(n,a[ih],d=>{s(.8*d)}),c=a[s$],u=l.then(d=>c.prepare(d)).then(d=>(s(.9),new c(d))).catch(d=>(console.error(d),new c));_c.set(n,u)}yield _c.get(n),mk.set(n,!0),s&&s(1)})()}load(n,i,s=(()=>{})){var a=this;return ut(function*(){yield a.preload(n,i,s);const c=yield(yield _c.get(n)).clone();return a[Cu].retain(n),c.dispose=()=>{a[Cu].release(n)},c})()}}Fr[e$]=new FTe(Fr);class GTe extends pr{constructor(n=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=n,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof Element&&null!==i.element.parentNode&&i.element.parentNode.removeChild(i.element)})})}copy(n,i){return super.copy(n,i),this.element=n.element.cloneNode(!0),this}}const Bp=new L,o$=new Pt,a$=new Pt,l$=new L,c$=new L;class QTe{constructor(n={}){const i=this;let s,a,l,c;const u={objects:new WeakMap},d=void 0!==n.element?n.element:document.createElement("div");function h(g,_,A){if(g.isCSS2DObject){Bp.setFromMatrixPosition(g.matrixWorld),Bp.applyMatrix4(a$);const b=!0===g.visible&&Bp.z>=-1&&Bp.z<=1&&!0===g.layers.test(A.layers);if(g.element.style.display=!0===b?"":"none",!0===b){g.onBeforeRender(i,_,A);const w=g.element;w.style.transform="translate(-50%,-50%) translate("+(Bp.x*l+l)+"px,"+(-Bp.y*c+c)+"px)",w.parentNode!==d&&d.appendChild(w),g.onAfterRender(i,_,A)}const y={distanceToCameraSquared:f(A,g)};u.objects.set(g,y)}for(let b=0,y=g.children.length;b<y;b++)h(g.children[b],_,A)}function f(g,_){return l$.setFromMatrixPosition(g.matrixWorld),c$.setFromMatrixPosition(_.matrixWorld),l$.distanceToSquared(c$)}d.style.overflow="hidden",this.domElement=d,this.getSize=function(){return{width:s,height:a}},this.render=function(g,_){!0===g.matrixWorldAutoUpdate&&g.updateMatrixWorld(),null===_.parent&&!0===_.matrixWorldAutoUpdate&&_.updateMatrixWorld(),o$.copy(_.matrixWorldInverse),a$.multiplyMatrices(_.projectionMatrix,o$),h(g,g,_),function m(g){const _=function p(g){const _=[];return g.traverse(function(A){A.isCSS2DObject&&_.push(A)}),_}(g).sort(function(b,y){return b.renderOrder!==y.renderOrder?y.renderOrder-b.renderOrder:u.objects.get(b).distanceToCameraSquared-u.objects.get(y).distanceToCameraSquared}),A=_.length;for(let b=0,y=_.length;b<y;b++)_[b].element.style.zIndex=A-b}(g)},this.setSize=function(g,_){s=g,a=_,l=s/2,c=a/2,d.style.width=g+"px",d.style.height=_+"px"}}}const ds=(r,n)=>({type:"number",number:r,unit:n}),rh=(()=>{const r={};return i=>{const s=i;if(s in r)return r[s];const a=[];let l=0;for(;i;){if(++l>1e3){i="";break}const c=u$(i),u=c.nodes[0];if(null==u||0===u.terms.length)break;a.push(u),i=c.remainingInput}return r[s]=a}})(),u$=(()=>{const r=/^(\-\-|[a-z\u0240-\uffff])/i,n=/^([\*\+\/]|[\-]\s)/i,i=/^[\),]/;return l=>{const c=[];for(;l.length&&(l=l.trim(),!i.test(l));)if("("===l[0]){const{nodes:u,remainingInput:d}=d$(l);l=d,c.push({type:"function",name:{type:"ident",value:"calc"},arguments:u})}else if(r.test(l)){const u=$Te(l),d=u.nodes[0];if("("===(l=u.remainingInput)[0]){const{nodes:h,remainingInput:f}=d$(l);c.push({type:"function",name:d,arguments:h}),l=f}else c.push(d)}else if(n.test(l))c.push({type:"operator",value:l[0]}),l=l.slice(1);else{const{nodes:u,remainingInput:d}="#"===l[0]?jTe(l):WTe(l);if(0===u.length)break;c.push(u[0]),l=d}return{nodes:[{type:"expression",terms:c}],remainingInput:l}}})(),$Te=(()=>{const r=/[^a-z0-9_\-\u0240-\uffff]/i;return n=>{const i=n.match(r);return{nodes:[{type:"ident",value:null==i?n:n.substr(0,i.index)}],remainingInput:null==i?"":n.substr(i.index)}}})(),WTe=(()=>{const r=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,n=/^[a-z%]+/i,i=/^(m|mm|cm|rad|deg|[%])$/;return s=>{const a=s.match(r),l=null==a?"0":a[0],c=(s=null==l?s:s.slice(l.length)).match(n);let u=null!=c&&""!==c[0]?c[0]:null;const d=null==c?s:s.slice(u.length);return null!=u&&!i.test(u)&&(u=null),{nodes:[{type:"number",number:parseFloat(l)||0,unit:u}],remainingInput:d}}})(),jTe=(()=>{const r=/^[a-f0-9]*/i;return n=>{const i=(n=n.slice(1).trim()).match(r);return{nodes:null==i?[]:[{type:"hex",value:i[0]}],remainingInput:null==i?n:n.slice(i[0].length)}}})(),d$=r=>{const n=[];for(r=r.slice(1).trim();r.length;){const i=u$(r);if(n.push(i.nodes[0]),","===(r=i.remainingInput.trim())[0])r=r.slice(1).trim();else if(")"===r[0]){r=r.slice(1);break}}return{nodes:n,remainingInput:r}},h$=Symbol("visitedTypes");class qTe{constructor(n){this[h$]=n}walk(n,i){const s=n.slice();for(;s.length;){const a=s.shift();switch(this[h$].indexOf(a.type)>-1&&i(a),a.type){case"expression":s.unshift(...a.terms);break;case"function":s.unshift(a.name,...a.arguments)}}}}const xu=Object.freeze({type:"number",number:0,unit:null}),zw=(r,n=0)=>{let{number:i,unit:s}=r;if(isFinite(i)){if("rad"===r.unit||null==r.unit)return r}else i=n,s="rad";return{type:"number",number:("deg"===s&&null!=i?i:0)*Math.PI/180,unit:"rad"}},f$=(r,n=0)=>{let a,{number:i,unit:s}=r;if(isFinite(i)){if("m"===r.unit)return r}else i=n,s="m";switch(s){default:a=1;break;case"cm":a=.01;break;case"mm":a=.001}return{type:"number",number:a*i,unit:"m"}},ul=(()=>{const r=i=>i,n={rad:r,deg:zw,m:r,mm:f$,cm:f$};return(i,s=xu)=>{isFinite(i.number)||(i.number=s.number,i.unit=s.unit);const{unit:a}=i;if(null==a)return i;const l=n[a];return null==l?s:l(i)}})();class vo{constructor(n=50){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(n)}setDecayTime(n){this.naturalFrequency=1/Math.max(.001,n)}update(n,i,s,a){const l=2e-4*this.naturalFrequency;if(null==n||0===a||n===i&&0===this.velocity)return i;if(s<0)return n;const c=n-i,u=this.velocity+this.naturalFrequency*c,d=c+s*u,h=Math.exp(-this.naturalFrequency*s),f=(u-this.naturalFrequency*d)*h,p=-this.naturalFrequency*(f+u*h);return Math.abs(f)<l*Math.abs(a)&&p*c>=0?(this.velocity=0,i):(this.velocity=f,i+d*h)}}class g$ extends GTe{constructor(n){super(document.createElement("div")),this.normal=new L(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=n.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(n.position),this.updateNormal(n.normal)}get facingCamera(){return!this.element.classList.contains("hide")}show(){(!this.facingCamera||!this.initialized)&&this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}updatePosition(n){if(null==n)return;const i=rh(n)[0].terms;for(let s=0;s<3;++s)this.position.setComponent(s,ul(i[s]).number);this.updateMatrixWorld()}updateNormal(n){if(null==n)return;const i=rh(n)[0].terms;for(let s=0;s<3;++s)this.normal.setComponent(s,ul(i[s]).number)}orient(n){this.pivot.style.transform=`rotate(${n}rad)`}updateVisibility(n){n?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(i=>{if(i.nodeType!==Node.ELEMENT_NODE)return;const s=i,a=s.dataset.visibilityAttribute;if(null!=a){const l=`data-${a}`;n?s.setAttribute(l,""):s.removeAttribute(l)}s.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:n}}))}),this.initialized=!0}}const Hw=(r,n,i)=>{let s=i;const a=new L;return r.traverseVisible(l=>{let c,u;l.updateWorldMatrix(!1,!1);const d=l.geometry;if(void 0!==d)if(d.isGeometry){const h=d.vertices;for(c=0,u=h.length;c<u;c++)a.copy(h[c]),l.isSkinnedMesh?l.boneTransform(c,a):a.applyMatrix4(l.matrixWorld),s=n(s,a)}else if(d.isBufferGeometry){const{position:h}=d.attributes;if(void 0!==h)for(c=0,u=h.count;c<u;c++)a.fromBufferAttribute(h,c),l.isSkinnedMesh?l.boneTransform(c,a):a.applyMatrix4(l.matrixWorld),s=n(s,a)}}),s},XTe={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},KTe={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"};function Ak(r,n,i){return(1-i)*r+i*n}Math,Math;class ike extends pr{constructor(n,i,s){super(),this.camera=new Vd,this.renderTarget=null,this.renderTargetBlur=null,this.depthMaterial=new $I,this.horizontalBlurMaterial=new $o(XTe),this.verticalBlurMaterial=new $o(KTe),this.intensity=0,this.softness=1,this.boundingBox=new bo,this.size=new L,this.maxDimension=0,this.isAnimated=!1,this.needsUpdate=!1;const{camera:a}=this;a.rotation.x=Math.PI/2,a.left=-.5,a.right=.5,a.bottom=-.5,a.top=.5,this.add(a);const l=new _u,c=new cs({opacity:1,transparent:!0,side:1});this.floor=new Et(l,c),this.floor.userData.shadow=!0,a.add(this.floor),this.blurPlane=new Et(l),this.blurPlane.visible=!1,a.add(this.blurPlane),n.target.add(this),this.depthMaterial.onBeforeCompile=function(u){u.fragmentShader=u.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial.depthTest=!1,this.setScene(n,i,s)}setScene(n,i,s){const{boundingBox:a,size:l,rotation:c,position:u}=this;if(this.isAnimated=n.animationNames.length>0,this.boundingBox.copy(n.boundingBox),this.size.copy(n.size),this.maxDimension=Math.max(l.x,l.y,l.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(u),"back"===s){const{min:d,max:h}=a;[d.y,d.z]=[d.z,d.y],[h.y,h.z]=[h.z,h.y],[l.y,l.z]=[l.z,l.y],c.x=Math.PI/2,c.y=Math.PI}else c.x=0,c.y=0;if(this.isAnimated){const d=a.min.y,h=a.max.y;l.y=this.maxDimension,a.expandByVector(l.subScalar(this.maxDimension).multiplyScalar(-.5)),a.min.y=d,a.max.y=h,l.set(this.maxDimension,h-d,this.maxDimension)}"bottom"===s?u.y=a.min.y:u.z=a.min.y,this.setSoftness(i)}setSoftness(n){this.softness=n;const{size:i,camera:s}=this,a=this.isAnimated?2:1,l=a*Math.pow(2,9-3*n);this.setMapSize(l);const c=i.y/2,u=i.y*a;s.near=0,s.far=Ak(u,c,n),this.depthMaterial.opacity=1/n,s.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}setMapSize(n){const{size:i}=this;this.isAnimated&&(n*=2);const s=Math.floor(i.x>i.z?n:n*i.x/i.z),a=Math.floor(i.x>i.z?n*i.z/i.x:n),c=10+s,u=10+a;if(null!=this.renderTarget&&(this.renderTarget.width!==c||this.renderTarget.height!==u)&&(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){const d={format:Ir};this.renderTarget=new wa(c,u,d),this.renderTargetBlur=new wa(c,u,d),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(i.x*(1+10/s),i.z*(1+10/a),1),this.needsUpdate=!0}setIntensity(n){this.intensity=n,n>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=n*Ak(.3,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.intensity}setOffset(n){this.floor.position.z=.001*this.maxDimension-n}render(n,i){i.overrideMaterial=this.depthMaterial;const s=n.getClearAlpha();n.setClearAlpha(0),this.floor.visible=!1;const a=n.xr.enabled;n.xr.enabled=!1;const l=n.getRenderTarget();n.setRenderTarget(this.renderTarget),n.render(i,this.camera),i.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(n),n.xr.enabled=a,n.setRenderTarget(l),n.setClearAlpha(s)}blurShadow(n){const{camera:i,horizontalBlurMaterial:s,verticalBlurMaterial:a,renderTarget:l,renderTargetBlur:c,blurPlane:u}=this;u.visible=!0,u.material=s,s.uniforms.h.value=1/this.renderTarget.width,s.uniforms.tDiffuse.value=this.renderTarget.texture,n.setRenderTarget(c),n.render(u,i),u.material=a,a.uniforms.v.value=1/this.renderTarget.height,a.uniforms.tDiffuse.value=this.renderTargetBlur.texture,n.setRenderTarget(l),n.render(u,i),u.visible=!1}}const wk=new L,A$=new L,y$=new L,rke=new class mIe{constructor(n,i,s=0,a=1/0){this.ray=new Fv(n,i),this.near=s,this.far=a,this.camera=null,this.layers=new xI,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(n,i){this.ray.set(n,i)}setFromCamera(n,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}intersectObject(n,i=!0,s=[]){return OT(n,this,s,i),s.sort(U6),s}intersectObjects(n,i=!0,s=[]){for(let a=0,l=n.length;a<l;a++)OT(n[a],this,s,i);return s.sort(U6),s}},ske=new L,s0=new be;class oke extends ac{constructor({canvas:n,element:i,width:s,height:a}){super(),this.context=null,this.annotationRenderer=new QTe,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.scaleStep=0,this.renderCount=0,this.externalRenderer=null,this.camera=new gr(45,1,.1,100),this.xrCamera=null,this.url=null,this.target=new pr,this.animationNames=[],this.boundingBox=new bo,this.boundingSphere=new ec,this.size=new L,this.idealAspect=0,this.framedFoVDeg=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.bakedShadows=new Set,this.exposure=1,this.canScale=!0,this.isDirty=!1,this.goalTarget=new L,this.targetDamperX=new vo,this.targetDamperY=new vo,this.targetDamperZ=new vo,this._currentGLTF=null,this._model=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=i,this.canvas=n,this.camera=new gr(45,1,.1,100),this.camera.name="MainCamera",this.add(this.target),this.setSize(s,a),this.target.name="Target",this.mixer=new fIe(this.target);const{domElement:l}=this.annotationRenderer,{style:c}=l;c.display="none",c.pointerEvents="none",c.position="absolute",c.top="0",this.element.shadowRoot.querySelector(".default").appendChild(l),this.schemaElement.setAttribute("type","application/ld+json")}createContext(){this.context=this.canvas.getContext("2d")}getCamera(){return null!=this.xrCamera?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}forceRescale(){this.scaleStep=-1,this.queueRender()}setObject(n){var i=this;return ut(function*(){i.reset(),i._model=n,i.target.add(n),yield i.setupScene()})()}setSource(n,i=(()=>{})){var s=this;return ut(function*(){if(!n||n===s.url)return void i(1);if(s.reset(),s.url=n,null!=s.externalRenderer){const d=yield s.externalRenderer.load(i);return s.boundingSphere.radius=d.framedRadius,void(s.idealAspect=d.fieldOfViewAspect)}let a;null!=s.cancelPendingSourceChange&&(s.cancelPendingSourceChange(),s.cancelPendingSourceChange=null);try{a=yield new Promise(function(){var d=ut(function*(h,f){s.cancelPendingSourceChange=()=>f();try{h(yield s.element[bi].loader.load(n,s.element,i))}catch(p){f(p)}});return function(h,f){return d.apply(this,arguments)}}())}catch(d){if(null==d)return;throw d}s.reset(),s.url=n,s._currentGLTF=a,null!=a&&(s._model=a.scene,s.target.add(a.scene));const{animations:l}=a,c=new Map,u=[];for(const d of l)c.set(d.name,d),u.push(d.name);s.animations=l,s.animationsByName=c,s.animationNames=u,yield s.setupScene()})()}setupScene(){var n=this;return ut(function*(){n.applyTransform(),n.updateBoundingBox(),yield n.updateFraming(),n.updateShadow(),n.setShadowIntensity(n.shadowIntensity)})()}reset(){this.url=null,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();const{_model:n}=this;null!=n&&(n.removeFromParent(),this._model=null);const i=this._currentGLTF;null!=i&&(i.dispose(),this._currentGLTF=null),null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}get currentGLTF(){return this._currentGLTF}setSize(n,i){if(this.width!==n||this.height!==i){if(this.width=Math.max(n,1),this.height=Math.max(i,1),this.annotationRenderer.setSize(n,i),this.aspect=this.width/this.height,null!=this.externalRenderer){const s=XT();this.externalRenderer.resize(n*s,i*s)}this.queueRender()}}markBakedShadow(n){n.userData.shadow=!0,this.bakedShadows.add(n)}unmarkBakedShadow(n){n.userData.shadow=!1,n.visible=!0,this.bakedShadows.delete(n),this.boundingBox.expandByObject(n)}findBakedShadows(n){const i=new bo;n.traverse(s=>{const a=s;if(!a.isMesh||!a.material.transparent)return;i.setFromObject(a);const c=i.getSize(ske),u=Math.min(c.x,c.y,c.z);Math.max(c.x,c.y,c.z)<100*u||this.markBakedShadow(a)})}checkBakedShadows(){const{min:n,max:i}=this.boundingBox,s=new bo;this.boundingBox.getSize(this.size);for(const a of this.bakedShadows)s.setFromObject(a),!(s.min.y<n.y+this.size.y/100&&s.min.x<=n.x&&s.max.x>=i.x&&s.min.z<=n.z&&s.max.z>=i.z)&&(s.min.z<n.z+this.size.z/100&&s.min.x<=n.x&&s.max.x>=i.x&&s.min.y<=n.y&&s.max.y>=i.y||this.unmarkBakedShadow(a))}applyTransform(){const{model:n}=this;if(null==n)return;const i=rh(this.element.orientation)[0].terms,s=ul(i[0]).number,a=ul(i[1]).number,l=ul(i[2]).number;n.quaternion.setFromEuler(new CI(a,l,s,"YXZ"));const c=rh(this.element.scale)[0].terms;n.scale.set(c[0].number,c[1].number,c[2].number)}updateBoundingBox(){const{model:n}=this;if(null==n)return;this.target.remove(n),this.findBakedShadows(n);const i=(s,a)=>s.expandByPoint(a);this.setBakedShadowVisibility(!1),this.boundingBox=Hw(n,i,new bo),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach(s=>this.unmarkBakedShadow(s)),this.boundingBox=Hw(n,i,new bo)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(n)}updateFraming(){var n=this;return ut(function*(){const{model:i}=n;if(null==i)return;n.target.remove(i),n.setBakedShadowVisibility(!1);const{center:s}=n.boundingSphere;n.element.requestUpdate("cameraTarget"),yield n.element.updateComplete,s.copy(n.getTarget()),n.boundingSphere.radius=Math.sqrt(Hw(i,(c,u)=>Math.max(c,s.distanceToSquared(u)),0)),n.idealAspect=Hw(i,(c,u)=>{u.sub(s);const d=Math.sqrt(u.x*u.x+u.z*u.z);return Math.max(c,d/(n.idealCameraDistance()-Math.abs(u.y)))},0)/Math.tan(n.framedFoVDeg/2*Math.PI/180),n.setBakedShadowVisibility(),n.target.add(i)})()}setBakedShadowVisibility(n=this.shadowIntensity<=0){for(const i of this.bakedShadows)i.visible=n}idealCameraDistance(){const n=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(n)}adjustedFoV(n){const i=Math.tan(n/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(i)*180/Math.PI}getNDC(n,i){if(null!=this.xrCamera)s0.set(n/window.screen.width,i/window.screen.height);else{const s=this.element.getBoundingClientRect();s0.set((n-s.x)/this.width,(i-s.y)/this.height)}return s0.multiplyScalar(2).subScalar(1),s0.y*=-1,s0}getSize(){return{width:this.width,height:this.height}}setEnvironmentAndSkybox(n,i){this.element[bi].arRenderer.presentedScene!==this&&(this.environment=n,this.background=i,this.queueRender())}setTarget(n,i,s){this.goalTarget.set(-n,-i,-s)}setTargetDamperDecayTime(n){this.targetDamperX.setDecayTime(n),this.targetDamperY.setDecayTime(n),this.targetDamperZ.setDecayTime(n)}getTarget(){return this.goalTarget.clone().multiplyScalar(-1)}jumpToGoal(){this.updateTarget(1e4)}updateTarget(n){const i=this.goalTarget,s=this.target.position;if(i.equals(s))return!1;{const a=this.boundingSphere.radius/10;let{x:l,y:c,z:u}=s;return l=this.targetDamperX.update(l,i.x,n,a),c=this.targetDamperY.update(c,i.y,n,a),u=this.targetDamperZ.update(u,i.z,n,a),this.target.position.set(l,c,u),this.target.updateMatrixWorld(),this.queueRender(),!0}}pointTowards(n,i){const{x:s,z:a}=this.position;this.yaw=Math.atan2(n-s,i-a)}get model(){return this._model}set yaw(n){this.rotation.y=n,this.queueRender()}get yaw(){return this.rotation.y}set animationTime(n){this.mixer.setTime(n),this.queueShadowRender()}get animationTime(){if(null!=this.currentAnimationAction){const n=Math.max(this.currentAnimationAction._loopCount,0);return 2202===this.currentAnimationAction.loop&&1==(1&n)?this.duration-this.currentAnimationAction.time:this.currentAnimationAction.time}return 0}set animationTimeScale(n){this.mixer.timeScale=n}get animationTimeScale(){return this.mixer.timeScale}get duration(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return null!=this.currentAnimationAction}playAnimation(n=null,i=0,s=2201,a=1/0){if(null==this._currentGLTF)return;const{animations:l}=this;if(null==l||0===l.length)return void console.warn("Cannot play animation (model does not have any animations)");let c=null;if(null!=n&&(c=this.animationsByName.get(n),null==c)){const u=parseInt(n);!isNaN(u)&&u>=0&&u<l.length&&(c=l[u])}null==c&&(c=l[0]);try{const{currentAnimationAction:u}=this,d=this.mixer.clipAction(c,this);this.currentAnimationAction=d,this.element.paused?this.mixer.stopAllAction():(d.paused=!1,null!=u&&d!==u?d.crossFadeFrom(u,i,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),d.setLoop(s,a),d.enabled=!0,d.clampWhenFinished=!0,d.play()}catch(u){console.error(u)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(n){this.mixer.update(n),this.queueShadowRender()}subscribeMixerEvent(n,i){this.mixer.addEventListener(n,i)}updateShadow(){const n=this.shadow;null!=n&&(n.setScene(this,this.shadowSoftness,"wall"===this.element.arPlacement?"back":"bottom"),n.needsUpdate=!0)}renderShadow(n){const i=this.shadow;null!=i&&1==i.needsUpdate&&(i.render(n,this),i.needsUpdate=!1)}queueShadowRender(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}setShadowIntensity(n){this.shadowIntensity=n,null==this._currentGLTF||(this.setBakedShadowVisibility(),n<=0&&null==this.shadow)||(null==this.shadow&&(this.shadow=new ike(this,this.shadowSoftness,"wall"===this.element.arPlacement?"back":"bottom")),this.shadow.setIntensity(n))}setShadowSoftness(n){this.shadowSoftness=n,this.shadow?.setSoftness(n)}setShadowOffset(n){this.shadow?.setOffset(n)}get raycaster(){return rke}positionAndNormalFromPoint(n,i=this){this.raycaster.setFromCamera(n,this.getCamera());const a=this.raycaster.intersectObject(i,!0).find(l=>l.object.visible&&!l.object.userData.shadow);return null==a||null==a.face?null:null==a.uv?{position:a.point,normal:a.face.normal,uv:null}:(a.face.normal.applyNormalMatrix((new ls).getNormalMatrix(a.object.matrixWorld)),{position:a.point,normal:a.face.normal,uv:a.uv})}addHotspot(n){this.target.add(n),this.annotationRenderer.domElement.appendChild(n.element)}removeHotspot(n){this.target.remove(n)}forHotspots(n){const{children:i}=this.target;for(let s=0,a=i.length;s<a;s++){const l=i[s];l instanceof g$&&n(l)}}updateHotspots(n){this.forHotspots(i=>{wk.copy(n),A$.setFromMatrixPosition(i.matrixWorld),wk.sub(A$),y$.copy(i.normal).transformDirection(this.target.matrixWorld),wk.dot(y$)<0?i.hide():i.show()})}orientHotspots(n){this.forHotspots(i=>{i.orient(n)})}setHotspotsVisibility(n){this.forHotspots(i=>{i.visible=n})}updateSchema(n){var i;const{schemaElement:s,element:a}=this,{alt:l,poster:c,iosSrc:u}=a;if(null!=n){const d=[{"@type":"MediaObject",contentUrl:n,encodingFormat:"gltf"===(null===(i=n.split(".").pop())||void 0===i?void 0:i.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];u&&d.push({"@type":"MediaObject",contentUrl:u,encodingFormat:"model/vnd.usdz+zip"}),s.textContent=JSON.stringify({"@context":"http://schema.org/","@type":"3DModel",image:c??void 0,name:l??void 0,encoding:d}),document.head.appendChild(s)}else null!=s.parentElement&&s.parentElement.removeChild(s)}}class ake{constructor(n,i,s,a,l){this.xrLight=n,this.renderer=i,this.lightProbe=s,this.xrWebGLBinding=null,this.estimationStartCallback=l,this.frameCallback=this.onXRFrame.bind(this);const c=i.xr.getSession();if(a&&"XRWebGLBinding"in window){const u=new FI(16);n.environment=u.texture;const d=i.getContext();switch(c.preferredReflectionFormat){case"srgba8":d.getExtension("EXT_sRGB");break;case"rgba16f":d.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(c,d),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}c.requestAnimationFrame(this.frameCallback)}updateReflection(){const n=this.renderer.properties.get(this.xrLight.environment);if(n){const i=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);i&&(n.__webglTexture=i,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(n,i){if(!this.xrLight)return;i.session.requestAnimationFrame(this.frameCallback);const a=i.getLightEstimate(this.lightProbe);if(a){this.xrLight.lightProbe.sh.fromArray(a.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const l=Math.max(1,Math.max(a.primaryLightIntensity.x,Math.max(a.primaryLightIntensity.y,a.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(a.primaryLightIntensity.x/l,a.primaryLightIntensity.y/l,a.primaryLightIntensity.z/l),this.xrLight.directionalLight.intensity=l,this.xrLight.directionalLight.position.copy(a.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class lke extends oc{constructor(n,i=!0){super(),this.lightProbe=new I6,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new TT,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let s=null,a=!1;n.xr.addEventListener("sessionstart",()=>{const l=n.xr.getSession();"requestLightProbe"in l&&l.requestLightProbe({reflectionFormat:l.preferredReflectionFormat}).then(c=>{s=new ake(this,n,c,i,()=>{a=!0,this.dispatchEvent({type:"estimationstart"})})})}),n.xr.addEventListener("sessionend",()=>{s&&(s.dispose(),s=null),a&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{s&&(s.dispose(),s=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}const uke=Math.PI/24,C$=new be,Gw=(r,n,i)=>{let s=n>0?i>0?0:-Math.PI/2:i>0?Math.PI/2:Math.PI;for(let a=0;a<=12;++a)r.push(n+.17*Math.cos(s),i+.17*Math.sin(s),0,n+.2*Math.cos(s),i+.2*Math.sin(s),0),s+=uke};class x$ extends Et{constructor(n,i){const s=new rn,a=[],l=[],{size:c,boundingBox:u}=n,d=c.x/2,h=("back"===i?c.y:c.z)/2;Gw(l,d,h),Gw(l,-d,h),Gw(l,-d,-h),Gw(l,d,-h);const f=l.length/3;for(let g=0;g<f-2;g+=2)a.push(g,g+1,g+3,g,g+3,g+2);const p=f-2;a.push(p,p+1,1,p,1,0),s.setAttribute("position",new st(l,3)),s.setIndex(a),super(s),this.side=i;const m=this.material;switch(m.side=2,m.transparent=!0,m.opacity=0,this.goalOpacity=0,this.opacityDamper=new vo,this.hitPlane=new Et(new _u(2*(d+.2),2*(h+.2))),this.hitPlane.visible=!1,this.hitPlane.material.side=2,this.add(this.hitPlane),u.getCenter(this.position),i){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=u.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=u.min.z,this.position.z=this.shadowHeight}n.target.add(this),this.offsetHeight=0}getHit(n,i,s){C$.set(i,-s),this.hitPlane.visible=!0;const a=n.positionAndNormalFromPoint(C$,this.hitPlane);return this.hitPlane.visible=!1,null==a?null:a.position}getExpandedHit(n,i,s){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();const a=this.getHit(n,i,s);return this.hitPlane.scale.set(1,1,1),a}set offsetHeight(n){n-=.001,"back"===this.side?this.position.z=this.shadowHeight+n:this.position.y=this.shadowHeight+n}get offsetHeight(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(n){this.goalOpacity=n?.75:0}updateOpacity(n){const i=this.material;i.opacity=this.opacityDamper.update(i.opacity,this.goalOpacity,n,1),this.visible=i.opacity>0}dispose(){var n;const{geometry:i,material:s}=this.hitPlane;i.dispose(),s.dispose(),this.geometry.dispose(),this.material.dispose(),null===(n=this.parent)||void 0===n||n.remove(this)}}const Qw=new L,_ke=new Pt,bke=new L,Ake=new gr(45,1,.1,100);class yke extends Ho{constructor(n){super(),this.renderer=n,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new L,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new L,this.firstRatio=0,this.lastAngle=0,this.goalPosition=new L,this.goalYaw=0,this.goalScale=1,this.xDamper=new vo,this.yDamper=new vo,this.zDamper=new vo,this.yawDamper=new vo,this.scaleDamper=new vo,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{null!=this.placementBox&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new x$(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=i=>{const s=this.transientHitTestSource;if(null==s)return;const a=this.frame.getHitTestResultsForTransientInput(s),l=this.presentedScene,c=this.placementBox;if(1===a.length){this.inputSource=i.inputSource;const{axes:u}=this.inputSource.gamepad,d=c.getHit(this.presentedScene,u[0],u[1]);c.show=!0,null!=d?(this.isTranslating=!0,this.lastDragPosition.copy(d)):!1===this.placeOnWall&&(this.isRotating=!0,this.lastAngle=1.5*u[0])}else if(2===a.length){c.show=!0,this.isTwoFingering=!0;const{separation:u}=this.fingerPolar(a);this.firstRatio=u/l.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=n.threeRenderer,this.threeRenderer.xr.enabled=!0}resolveARSession(){var n=this;return ut(function*(){M8();const i=yield navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:n.overlay?{root:n.overlay}:void 0});return n.threeRenderer.xr.setReferenceSpaceType("local"),yield n.threeRenderer.xr.setSession(i),n.threeRenderer.xr.cameraAutoUpdate=!1,i})()}get presentedScene(){return this._presentedScene}supportsPresentation(){return ut(function*(){try{return M8(),yield navigator.xr.isSessionSupported("immersive-ar")}catch(n){return console.warn("Request to present in WebXR denied:"),console.warn(n),console.warn("Falling back to next ar-mode"),!1}})()}present(n,i=!1){var s=this;return ut(function*(){s.isPresenting&&console.warn("Cannot present while a model is already presenting");let a=new Promise((f,p)=>{requestAnimationFrame(()=>f())});n.setHotspotsVisibility(!1),n.queueRender(),yield a,s._presentedScene=n,s.overlay=n.element.shadowRoot.querySelector("div.default"),!0===i&&(s.xrLight=new lke(s.threeRenderer),s.xrLight.addEventListener("estimationstart",()=>{if(!s.isPresenting||null==s.xrLight)return;const f=s.presentedScene;f.add(s.xrLight),f.environment=s.xrLight.environment}));const l=yield s.resolveARSession();l.addEventListener("end",()=>{s.postSessionCleanup()},{once:!0});const c=n.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");c.classList.add("enabled"),c.addEventListener("click",s.onExitWebXRButtonContainerClick),s.exitWebXRButtonContainer=c;const u=yield l.requestReferenceSpace("viewer");s.tracking=!0,s.frames=0,s.initialized=!1,s.turntableRotation=n.yaw,s.goalYaw=n.yaw,s.goalScale=1,n.background=null,s.oldShadowIntensity=n.shadowIntensity,n.setShadowIntensity(.01),s.oldTarget.copy(n.getTarget()),n.element.addEventListener("load",s.onUpdateScene);const d=20*Math.PI/180,h=!0===s.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(d),z:-Math.cos(d)});l.requestHitTestSource({space:u,offsetRay:h}).then(f=>{s.initialHitSource=f}),s.currentSession=l,s.placementBox=new x$(n,s.placeOnWall?"back":"bottom"),s.placementComplete=!1,s.lastTick=performance.now(),s.dispatchEvent({type:"status",status:"session-started"})})()}stopPresenting(){var n=this;return ut(function*(){if(!n.isPresenting)return;const i=new Promise(s=>{n.resolveCleanup=s});try{yield n.currentSession.end(),yield i}catch(s){console.warn("Error while trying to end WebXR AR session"),console.warn(s),n.postSessionCleanup()}})()}get isPresenting(){return null!=this.presentedScene}get target(){return this.oldTarget}updateTarget(){const n=this.presentedScene;if(null!=n){const i=n.getTarget();this.oldTarget.copy(i),this.placeOnWall?i.z=n.boundingBox.min.z:i.y=n.boundingBox.min.y,n.setTarget(i.x,i.y,i.z)}}postSessionCleanup(){const n=this.currentSession;null!=n&&(n.removeEventListener("selectstart",this.onSelectStart),n.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const i=this.presentedScene;if(this._presentedScene=null,null!=i){const{element:c}=i;null!=this.xrLight&&(i.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),i.position.set(0,0,0),i.scale.set(1,1,1),i.setShadowOffset(0);const u=this.turntableRotation;null!=u&&(i.yaw=u);const d=this.oldShadowIntensity;null!=d&&i.setShadowIntensity(d),i.setEnvironmentAndSkybox(c[K_],c[Z_]);const h=this.oldTarget;i.setTarget(h.x,h.y,h.z),i.xrCamera=null,i.element.removeEventListener("load",this.onUpdateScene),i.orientHotspots(0),c.requestUpdate("cameraTarget"),c.requestUpdate("maxCameraOrbit"),c[f0](c.getBoundingClientRect())}this.renderer.height=0;const s=this.exitWebXRButtonContainer;null!=s&&(s.classList.remove("enabled"),s.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const a=this.transientHitTestSource;null!=a&&(a.cancel(),this.transientHitTestSource=null);const l=this.initialHitSource;null!=l&&(l.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:"not-presenting"})}updateView(n){const i=this.presentedScene,s=this.threeRenderer.xr;s.updateCamera(Ake),i.xrCamera=s.getCamera();const{elements:a}=i.getCamera().matrixWorld;i.orientHotspots(Math.atan2(a[1],a[5])),this.initialized||(this.placeInitially(),this.initialized=!0),n.requestViewportScale&&n.recommendedViewportScale&&n.requestViewportScale(Math.max(n.recommendedViewportScale,.25));const c=this.currentSession.renderState.baseLayer.getViewport(n);this.threeRenderer.setViewport(c.x,c.y,c.width,c.height)}placeInitially(){const n=this.presentedScene,{position:i,element:s}=n,a=n.getCamera(),{width:l,height:c}=this.overlay.getBoundingClientRect();n.setSize(l,c),a.projectionMatrixInverse.copy(a.projectionMatrix).invert();const{theta:u,radius:d}=s.getCameraOrbit(),h=a.getWorldDirection(Qw);n.yaw=Math.atan2(-h.x,-h.z)-u,this.goalYaw=n.yaw,i.copy(a.position).add(h.multiplyScalar(d)),this.updateTarget();const f=n.getTarget();i.add(f).sub(this.oldTarget),this.goalPosition.copy(i),n.setHotspotsVisibility(!0);const{session:p}=this.frame;p.addEventListener("selectstart",this.onSelectStart),p.addEventListener("selectend",this.onSelectEnd),p.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(m=>{this.transientHitTestSource=m})}getTouchLocation(){const{axes:n}=this.inputSource.gamepad;let i=this.placementBox.getExpandedHit(this.presentedScene,n[0],n[1]);return null!=i&&(Qw.copy(i).sub(this.presentedScene.getCamera().position),Qw.length()>10)?null:i}getHitPoint(n){const i=this.threeRenderer.xr.getReferenceSpace(),s=n.getPose(i);if(null==s)return null;const a=_ke.fromArray(s.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(a.elements[4],a.elements[6])),a.elements[5]>.75!==this.placeOnWall?bke.setFromMatrixPosition(a):null}moveToFloor(n){const i=this.initialHitSource;if(null==i)return;const s=n.getHitTestResults(i);if(0==s.length)return;const l=this.getHitPoint(s[0]);null!=l&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(l):this.goalPosition.y=l.y),i.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:"object-placed"}))}fingerPolar(n){const i=n[0].inputSource.gamepad.axes,s=n[1].inputSource.gamepad.axes,a=s[0]-i[0],l=s[1]-i[1],c=Math.atan2(l,a);let u=this.lastAngle-c;return u>Math.PI?u-=2*Math.PI:u<-Math.PI&&(u+=2*Math.PI),this.lastAngle=c,{separation:Math.sqrt(a*a+l*l),deltaYaw:u}}processInput(n){const i=this.transientHitTestSource;if(null==i||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const s=n.getHitTestResultsForTransientInput(i),a=this.presentedScene,l=a.scale.x;if(this.isTwoFingering)if(s.length<2)this.isTwoFingering=!1;else{const{separation:c,deltaYaw:u}=this.fingerPolar(s);if(!1===this.placeOnWall&&(this.goalYaw+=u),a.canScale){const d=c/this.firstRatio;this.goalScale=d<1.3&&d>.7692307692307692?1:d}}else if(2!==s.length)if(this.isRotating){const c=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=c-this.lastAngle,this.lastAngle=c}else this.isTranslating&&s.forEach(c=>{if(c.inputSource!==this.inputSource)return;let u=null;if(c.results.length>0&&(u=this.getHitPoint(c.results[0])),null==u&&(u=this.getTouchLocation()),null!=u){if(this.goalPosition.sub(this.lastDragPosition),!1===this.placeOnWall){const d=u.y-this.lastDragPosition.y;if(d<0){this.placementBox.offsetHeight=d/l,this.presentedScene.setShadowOffset(d);const h=Qw.copy(a.getCamera().position),f=-d/(h.y-u.y);h.multiplyScalar(f),u.multiplyScalar(1-f).add(h)}}this.goalPosition.add(u),this.lastDragPosition.copy(u)}});else{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:c}=this.fingerPolar(s);this.firstRatio=c/l}}moveScene(n){const i=this.presentedScene,{position:s,yaw:a}=i,l=i.boundingSphere.radius,c=this.goalPosition,u=i.scale.x,d=this.placementBox;if(!c.equals(s)||this.goalScale!==u){let{x:h,y:f,z:p}=s;h=this.xDamper.update(h,c.x,n,l),f=this.yDamper.update(f,c.y,n,l),p=this.zDamper.update(p,c.z,n,l),s.set(h,f,p);const m=this.scaleDamper.update(u,this.goalScale,n,1);if(i.scale.set(m,m,m),!this.isTranslating){const g=c.y-f;this.placementComplete&&!1===this.placeOnWall?(d.offsetHeight=g/m,i.setShadowOffset(g)):0===g&&(this.placementComplete=!0,d.show=!1,i.setShadowIntensity(.8))}}d.updateOpacity(n),i.updateTarget(n),i.yaw=this.yawDamper.update(a,this.goalYaw,n,Math.PI)}onWebXRFrame(n,i){this.frame=i,++this.frames;const s=this.threeRenderer.xr.getReferenceSpace(),a=i.getViewerPose(s);null==a&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:"not-tracking"}));const l=this.presentedScene;if(null==a||null==l||!l.element.loaded)return void this.threeRenderer.clear();!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:"tracking"}));let c=!0;for(const u of a.views){if(this.updateView(u),c){this.moveToFloor(i),this.processInput(i);const d=n-this.lastTick;this.moveScene(d),this.renderer.preRender(l,n,d),this.lastTick=n,l.renderShadow(this.threeRenderer)}this.threeRenderer.render(l,l.getCamera()),c=!1}}}class vke{constructor(n){n.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:n,THREE:{ShaderMaterial:$o,Texture:Xs,Mesh:Et,Scene:ac,PlaneGeometry:_u,OrthographicCamera:Vd,WebGLRenderTarget:wa}}}))})}addScene(n){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:n}}))}removeScene(n){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:n}}))}}function Cke(r){const n=new Map,i=new Map,s=r.clone();return I$(r,s,function(a,l){n.set(l,a),i.set(a,l)}),s.traverse(function(a){if(!a.isSkinnedMesh)return;const l=a,c=n.get(a),u=c.skeleton.bones;l.skeleton=c.skeleton.clone(),l.bindMatrix.copy(c.bindMatrix),l.skeleton.bones=u.map(function(d){return i.get(d)}),l.bind(l.skeleton,l.bindMatrix)}),s}function I$(r,n,i){i(r,n);for(let s=0;s<r.children.length;s++)I$(r.children[s],n.children[s],i)}const T$=Symbol("prepared"),$w=Symbol("prepare"),dl=Symbol("preparedGLTF"),Ww=Symbol("clone");class xke{constructor(n){this[dl]=n}static prepare(n){if(null==n.scene)throw new Error("Model does not have a scene");if(n[T$])return n;const i=this[$w](n);return i[T$]=!0,i}static[$w](n){const{scene:i}=n,s=[i];return Object.assign(Object.assign({},n),{scene:i,scenes:s})}get parser(){return this[dl].parser}get animations(){return this[dl].animations}get scene(){return this[dl].scene}get scenes(){return this[dl].scenes}get cameras(){return this[dl].cameras}get asset(){return this[dl].asset}get userData(){return this[dl].userData}clone(){return new(0,this.constructor)(this[Ww]())}dispose(){this.scenes.forEach(n=>{n.traverse(i=>{if(!i.isMesh)return;const s=i;(Array.isArray(s.material)?s.material:[s.material]).forEach(l=>{for(const c in l){const u=l[c];if(u instanceof Xs){const d=u.source.data;null!=d.close&&d.close(),u.dispose()}}l.dispose()}),s.geometry.dispose()})})}[Ww](){const n=this[dl],i=Cke(this.scene);Mke(i,this.scene);const s=[i],a=n.userData?Object.assign({},n.userData):{};return Object.assign(Object.assign({},n),{scene:i,scenes:s,userData:a})}}const Mke=(r,n)=>{k$(r,n,(i,s)=>{void 0!==s.userData.variantMaterials&&(i.userData.variantMaterials=new Map(s.userData.variantMaterials)),void 0!==s.userData.variantData&&(i.userData.variantData=s.userData.variantData),void 0!==s.userData.originalMaterial&&(i.userData.originalMaterial=s.userData.originalMaterial)})},k$=(r,n,i)=>{i(r,n);for(let s=0;s<r.children.length;s++)k$(r.children[s],n.children[s],i)},R$=Symbol("threeGLTF"),P$=Symbol("gltf"),O$=Symbol("gltfElementMap"),B$=Symbol("threeObjectMap"),L$=Symbol("parallelTraverseThreeScene"),F$=Symbol("correlateOriginalThreeGLTF"),N$=Symbol("correlateCloneThreeGLTF");class o0{constructor(n,i,s,a){this[R$]=n,this[P$]=i,this[O$]=a,this[B$]=s}static from(n,i){return null!=i?this[N$](n,i):this[F$](n)}static[F$](n){const i=n.parser.json,s=n.parser.associations,a=new Map,l={name:"Default"},c={type:"materials",index:-1};for(const u of s.keys())u instanceof Go&&null==s.get(u)&&(c.index<0&&(null==i.materials&&(i.materials=[]),c.index=i.materials.length,i.materials.push(l)),u.name=l.name,s.set(u,{materials:c.index}));for(const[u,d]of s){if(d){const h=u;h.userData=h.userData||{},h.userData.associations=d}for(const h in d)if(null!=h&&"primitives"!==h){const m=(i[h]||[])[d[h]];if(null==m)continue;let g=a.get(m);null==g&&(g=new Set,a.set(m,g)),g.add(u)}}return new o0(n,i,s,a)}static[N$](n,i){const s=i.threeGLTF,l=JSON.parse(JSON.stringify(i.gltf)),c=new Map,u=new Map;for(let d=0;d<s.scenes.length;d++)this[L$](s.scenes[d],n.scenes[d],(h,f)=>{const p=i.threeObjectMap.get(h);if(null!=p)for(const m in p)if(null!=m&&"primitives"!==m){const g=m,_=p[g],A=l[g][_],b=c.get(f)||{};b[g]=_,c.set(f,b);const y=u.get(A)||new Set;y.add(f),u.set(A,y)}});return new o0(n,l,c,u)}static[L$](n,i,s){const l=(c,u)=>{if(s(c,u),c.isObject3D){if((c=>c.isMesh)(c))if(Array.isArray(c.material))for(let d=0;d<c.material.length;++d)l(c.material[d],u.material[d]);else l(c.material,u.material);for(let d=0;d<c.children.length;++d)l(c.children[d],u.children[d])}};l(n,i)}get threeGLTF(){return this[R$]}get gltf(){return this[P$]}get gltfElementMap(){return this[O$]}get threeObjectMap(){return this[B$]}}const a0=Symbol("correlatedSceneGraph");class Eke extends xke{static[$w](n){const i=super[$w](n);null==i[a0]&&(i[a0]=o0.from(i));const{scene:s}=i,a=new ec(void 0,1/0);return s.traverse(l=>{l.renderOrder=1e3,l.frustumCulled=!1,l.name||(l.name=l.uuid);const c=l;if(c.isMesh){const{geometry:u}=c;c.castShadow=!0,c.isSkinnedMesh&&(u.boundingSphere=a,u.boundingBox=null);const d=c.material;if(!0===d.isMeshBasicMaterial&&(d.toneMapped=!1),d.shadowSide=0,d.aoMap){const{gltf:h,threeObjectMap:f}=i[a0],p=f.get(d);if(null!=h.materials&&null!=p&&null!=p.materials){const m=h.materials[p.materials];m.occlusionTexture&&0===m.occlusionTexture.texCoord&&null!=u.attributes.uv&&u.setAttribute("uv2",u.attributes.uv)}}}}),i}get correlatedSceneGraph(){return this[dl][a0]}[Ww](){const n=super[Ww](),i=new Map;return n.scene.traverse(s=>{if(s.isMesh){const a=s,l=a.material;if(null!=l){if(i.has(l.uuid))return void(a.material=i.get(l.uuid));a.material=l.clone(),i.set(l.uuid,a.material)}}}),n[a0]=o0.from(n,this.correlatedSceneGraph),n}}class Dke extends ac{constructor(){super(),this.position.y=-3.5;const n=new sc;n.deleteAttribute("uv");const i=new cc({metalness:0,side:1}),s=new cc({metalness:0}),a=new ww(16777215,500,28,2);a.position.set(.418,16.199,.3),this.add(a);const l=new Et(n,i);l.position.set(-.757,13.219,.717),l.scale.set(31.713,28.305,28.591),this.add(l);const c=new Et(n,s);c.position.set(-10.906,2.009,1.846),c.rotation.set(0,-.195,0),c.scale.set(2.328,7.905,4.651),this.add(c);const u=new Et(n,s);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),this.add(u);const d=new Et(n,s);d.position.set(6.167,.857,7.803),d.rotation.set(0,.561,0),d.scale.set(3.927,6.285,3.687),this.add(d);const h=new Et(n,s);h.position.set(-2.017,.018,6.124),h.rotation.set(0,.333,0),h.scale.set(2.002,4.566,2.064),this.add(h);const f=new Et(n,s);f.position.set(2.291,-.756,-2.621),f.rotation.set(0,-.286,0),f.scale.set(1.546,1.552,1.496),this.add(f);const p=new Et(n,s);p.position.set(-2.193,-.369,-5.547),p.rotation.set(0,.516,0),p.scale.set(3.875,3.487,2.986),this.add(p);const m=new Et(n,this.createAreaLightMaterial(50));m.position.set(-16.116,14.37,8.208),m.scale.set(.1,2.428,2.739),this.add(m);const g=new Et(n,this.createAreaLightMaterial(50));g.position.set(-16.109,18.021,-8.207),g.scale.set(.1,2.425,2.751),this.add(g);const _=new Et(n,this.createAreaLightMaterial(17));_.position.set(14.904,12.198,-1.832),_.scale.set(.15,4.265,6.331),this.add(_);const A=new Et(n,this.createAreaLightMaterial(43));A.position.set(-.462,8.89,14.52),A.scale.set(4.38,5.441,.088),this.add(A);const b=new Et(n,this.createAreaLightMaterial(20));b.position.set(3.235,11.486,-12.541),b.scale.set(2.5,2,.1),this.add(b);const y=new Et(n,this.createAreaLightMaterial(100));y.position.set(0,20,0),y.scale.set(1,.1,1),this.add(y)}createAreaLightMaterial(n){const i=new cs;return i.color.setScalar(n),i}}class Ike extends ac{constructor(){super(),this.position.y=-3.5;const n=new sc;n.deleteAttribute("uv");const i=new cc({metalness:0,side:1}),s=new cc({metalness:0}),a=new ww(16777215,400,28,2);a.position.set(.5,14,.5),this.add(a);const l=new Et(n,i);l.position.set(0,13.2,0),l.scale.set(31.5,28.5,31.5),this.add(l);const c=new Et(n,s);c.position.set(-10.906,-1,1.846),c.rotation.set(0,-.195,0),c.scale.set(2.328,7.905,4.651),this.add(c);const u=new Et(n,s);u.position.set(-5.607,-.754,-.758),u.rotation.set(0,.994,0),u.scale.set(1.97,1.534,3.955),this.add(u);const d=new Et(n,s);d.position.set(6.167,-.16,7.803),d.rotation.set(0,.561,0),d.scale.set(3.927,6.285,3.687),this.add(d);const h=new Et(n,s);h.position.set(-2.017,.018,6.124),h.rotation.set(0,.333,0),h.scale.set(2.002,4.566,2.064),this.add(h);const f=new Et(n,s);f.position.set(2.291,-.756,-2.621),f.rotation.set(0,-.286,0),f.scale.set(1.546,1.552,1.496),this.add(f);const p=new Et(n,s);p.position.set(-2.193,-.369,-5.547),p.rotation.set(0,.516,0),p.scale.set(3.875,3.487,2.986),this.add(p);const m=new Et(n,this.createAreaLightMaterial(80));m.position.set(-14,10,8),m.scale.set(.1,2.5,2.5),this.add(m);const g=new Et(n,this.createAreaLightMaterial(80));g.position.set(-14,14,-4),g.scale.set(.1,2.5,2.5),this.add(g);const _=new Et(n,this.createAreaLightMaterial(23));_.position.set(14,12,0),_.scale.set(.1,5,5),this.add(_);const A=new Et(n,this.createAreaLightMaterial(16));A.position.set(0,9,14),A.scale.set(5,5,.1),this.add(A);const b=new Et(n,this.createAreaLightMaterial(80));b.position.set(7,8,-14),b.scale.set(2.5,2.5,.1),this.add(b);const y=new Et(n,this.createAreaLightMaterial(80));y.position.set(-7,16,-14),y.scale.set(2.5,2.5,.1),this.add(y);const w=new Et(n,this.createAreaLightMaterial(1));w.position.set(0,20,0),w.scale.set(.1,.1,.1),this.add(w)}createAreaLightMaterial(n){const i=new cs;return i.color.setScalar(n),i}}const kke=/\.hdr(\.js)?$/,Rke=new ST,U$=new class Ske extends VDe{constructor(n){super(n),this.type=ks}parse(n){const u=function(v,C){switch(v){case 1:console.error("THREE.RGBELoader Read Error: "+(C||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(C||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(C||""));break;default:console.error("THREE.RGBELoader: Error: "+(C||""))}return-1},m=function(v,C,M){C=C||1024;let S=v.pos,x=-1,D=0,T="",k=String.fromCharCode.apply(null,new Uint16Array(v.subarray(S,S+128)));for(;0>(x=k.indexOf("\n"))&&D<C&&S<v.byteLength;)T+=k,D+=k.length,S+=128,k+=String.fromCharCode.apply(null,new Uint16Array(v.subarray(S,S+128)));return-1<x&&(!1!==M&&(v.pos+=D+x+1),T+k.slice(0,x))},A=function(v,C,M,E){const x=Math.pow(2,v[C+3]-128)/255;M[E+0]=v[C+0]*x,M[E+1]=v[C+1]*x,M[E+2]=v[C+2]*x,M[E+3]=1},b=function(v,C,M,E){const x=Math.pow(2,v[C+3]-128)/255;M[E+0]=kw.toHalfFloat(Math.min(v[C+0]*x,65504)),M[E+1]=kw.toHalfFloat(Math.min(v[C+1]*x,65504)),M[E+2]=kw.toHalfFloat(Math.min(v[C+2]*x,65504)),M[E+3]=kw.toHalfFloat(1)},y=new Uint8Array(n);y.pos=0;const w=function(v){const M=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,E=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*FORMAT=(\S+)\s*$/,x=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,D={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let T,k;if(v.pos>=v.byteLength||!(T=m(v)))return u(1,"no header found");if(!(k=T.match(/^#\?(\S+)/)))return u(3,"bad initial token");for(D.valid|=1,D.programtype=k[1],D.string+=T+"\n";T=m(v),!1!==T;)if(D.string+=T+"\n","#"!==T.charAt(0)){if((k=T.match(M))&&(D.gamma=parseFloat(k[1])),(k=T.match(E))&&(D.exposure=parseFloat(k[1])),(k=T.match(S))&&(D.valid|=2,D.format=k[1]),(k=T.match(x))&&(D.valid|=4,D.height=parseInt(k[1],10),D.width=parseInt(k[2],10)),2&D.valid&&4&D.valid)break}else D.comments+=T+"\n";return 2&D.valid?4&D.valid?D:u(3,"missing image size specifier"):u(3,"missing format specifier")}(y);if(-1!==w){const v=w.width,C=w.height,M=function(v,C,M){const E=C;if(E<8||E>32767||2!==v[0]||2!==v[1]||128&v[2])return new Uint8Array(v);if(E!==(v[2]<<8|v[3]))return u(3,"wrong scanline width");const S=new Uint8Array(4*C*M);if(!S.length)return u(4,"unable to allocate buffer space");let x=0,D=0;const T=4*E,k=new Uint8Array(4),R=new Uint8Array(T);let F=M;for(;F>0&&D<v.byteLength;){if(D+4>v.byteLength)return u(1);if(k[0]=v[D++],k[1]=v[D++],k[2]=v[D++],k[3]=v[D++],2!=k[0]||2!=k[1]||(k[2]<<8|k[3])!=E)return u(3,"bad rgbe scanline format");let j,O=0;for(;O<T&&D<v.byteLength;){j=v[D++];const P=j>128;if(P&&(j-=128),0===j||O+j>T)return u(3,"bad scanline data");if(P){const z=v[D++];for(let V=0;V<j;V++)R[O++]=z}else R.set(v.subarray(D,D+j),O),O+=j,D+=j}const G=E;for(let P=0;P<G;P++){let z=0;S[x]=R[P+z],z+=E,S[x+1]=R[P+z],z+=E,S[x+2]=R[P+z],z+=E,S[x+3]=R[P+z],x+=4}F--}return S}(y.subarray(y.pos),v,C);if(-1!==M){let E,S,x;switch(this.type){case Ts:x=M.length/4;const D=new Float32Array(4*x);for(let k=0;k<x;k++)A(M,4*k,D,4*k);E=D,S=Ts;break;case ks:x=M.length/4;const T=new Uint16Array(4*x);for(let k=0;k<x;k++)b(M,4*k,T,4*k);E=T,S=ks;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:v,height:C,data:E,header:w.string,gamma:w.gamma,exposure:w.exposure,type:S}}}return null}setDataType(n){return this.type=n,this}load(n,i,s,a){return super.load(n,function l(c,u){switch(c.type){case Ts:case ks:c.encoding=os,c.minFilter=si,c.magFilter=si,c.generateMipmaps=!1,c.flipY=!0}i&&i(c,u)},s,a)}};U$.setDataType(ks);class V$ extends Ho{constructor(n){super(),this.threeRenderer=n,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}load(n,i=(()=>{})){return ut(function*(){try{const s=kke.test(n),a=s?U$:Rke,l=yield new Promise((c,u)=>a.load(n,c,d=>{i(d.loaded/d.total*.9)},u));return i(1),l.name=n,l.mapping=303,s||(l.encoding=hn),l}finally{i&&i(1)}})()}generateEnvironmentMapAndSkybox(n=null,i=null,s=(()=>{})){var a=this;return ut(function*(){const l="legacy"!==i;("legacy"===i||"neutral"===i)&&(i=null),i=x8(i);let u,c=Promise.resolve(null);n&&(c=a.loadEquirectFromUrl(n,s)),u=i?a.loadEquirectFromUrl(i,s):n?a.loadEquirectFromUrl(n,s):l?a.loadGeneratedEnvironmentMapAlt():a.loadGeneratedEnvironmentMap();const[d,h]=yield Promise.all([u,c]);if(null==d)throw new Error("Failed to load environment map.");return{environmentMap:d,skybox:h}})()}loadEquirectFromUrl(n,i){var s=this;return ut(function*(){if(!s.skyboxCache.has(n)){const a=s.load(n,i);s.skyboxCache.set(n,a)}return s.skyboxCache.get(n)})()}GenerateEnvironmentMap(n,i){var s=this;return ut(function*(){yield((r=0)=>new Promise(n=>setTimeout(n,r)))();const a=s.threeRenderer,l=new FI(256,{generateMipmaps:!1,type:ks,format:Ir,encoding:os,depthBuffer:!0}),c=new LI(.1,100,l),u=c.renderTarget.texture;u.name=i;const d=a.outputEncoding,h=a.toneMapping;return a.toneMapping=0,a.outputEncoding=os,c.update(a,n),s.blurCubemap(l,.04),a.toneMapping=h,a.outputEncoding=d,u})()}loadGeneratedEnvironmentMap(){var n=this;return ut(function*(){return null==n.generatedEnvironmentMap&&(n.generatedEnvironmentMap=n.GenerateEnvironmentMap(new Dke,"legacy")),n.generatedEnvironmentMap})()}loadGeneratedEnvironmentMapAlt(){var n=this;return ut(function*(){return null==n.generatedEnvironmentMapAlt&&(n.generatedEnvironmentMapAlt=n.GenerateEnvironmentMap(new Ike,"neutral")),n.generatedEnvironmentMapAlt})()}blurCubemap(n,i){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(20);const a=new sc,l=new Et(a,this.blurMaterial);this.blurScene=new ac,this.blurScene.add(l)}const s=n.clone();this.halfblur(n,s,i,"latitudinal"),this.halfblur(s,n,i,"longitudinal")}halfblur(n,i,s,a){const c=n.width,u=isFinite(s)?Math.PI/(2*c):2*Math.PI/39,d=s/u,h=isFinite(s)?1+Math.floor(3*d):20;h>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${h} samples when the maximum is set to 20`);const f=[];let p=0;for(let _=0;_<20;++_){const A=_/d,b=Math.exp(-A*A/2);f.push(b),0==_?p+=b:_<h&&(p+=2*b)}for(let _=0;_<f.length;_++)f[_]=f[_]/p;const m=this.blurMaterial.uniforms;m.envMap.value=n.texture,m.samples.value=h,m.weights.value=f,m.latitudinal.value="latitudinal"===a,m.dTheta.value=u,new LI(.1,100,i).update(this.threeRenderer,this.blurScene)}getBlurShader(n){const i=new Float32Array(n),s=new L(0,1,0);return new $o({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:s}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:0,depthTest:!1,depthWrite:!1,side:1})}dispose(){var n=this;return ut(function*(){for(const[,i]of n.skyboxCache)(yield i).dispose();null!=n.generatedEnvironmentMap&&((yield n.generatedEnvironmentMap).dispose(),n.generatedEnvironmentMap=null),null!=n.generatedEnvironmentMapAlt&&((yield n.generatedEnvironmentMapAlt).dispose(),n.generatedEnvironmentMapAlt=null),null!=n.blurMaterial&&n.blurMaterial.dispose()})()}}const Np=[1,.79,.62,.5,.4,.31,.25],H$="high-performance";class Ac extends Ho{constructor(n){super(),this.loader=new Fr(Eke),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.lastTick=performance.now(),this.renderedLastFrame=!1,this.scaleStep=0,this.lastStep=3,this.avgFrameDuration=50,this.onWebGLContextLost=i=>{this.dispatchEvent({type:"contextlost",sourceEvent:i})},this.onWebGLContextRestored=()=>{var i;null===(i=this.textureUtils)||void 0===i||i.dispose(),this.textureUtils=new V$(this.threeRenderer);for(const s of this.scenes)s.element[Fw]()},this.dpr=XT(),this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas",this.canvas3D.classList.add("show");try{this.threeRenderer=new FQ({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:n.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=hn,this.threeRenderer.physicallyCorrectLights=!0,this.threeRenderer.setPixelRatio(1),this.debugger=n.debug?new vke(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=4}catch(i){console.warn(i)}this.arRenderer=new yke(this),this.textureUtils=this.canRender?new V$(this.threeRenderer):null,Fr.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize()}static get singleton(){return this._singleton}static resetSingleton(){const n=this._singleton.dispose();for(const i of n)i.disconnectedCallback();this._singleton=new Ac({powerPreference:(self.ModelViewerElement||{}).powerPreference||H$,debug:S8()});for(const i of n)i.connectedCallback()}get canRender(){return null!=this.threeRenderer}get scaleFactor(){return Np[this.scaleStep]}set minScale(n){let i=1;for(;i<Np.length&&!(Np[i]<n);)++i;this.lastStep=i-1}registerScene(n){this.scenes.add(n),n.forceRescale();const i=new be;this.threeRenderer.getSize(i),n.canvas.width=i.x,n.canvas.height=i.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((s,a)=>this.render(s,a)),null!=this.debugger&&this.debugger.addScene(n)}unregisterScene(n){this.scenes.delete(n),this.canvas3D.parentElement===n.canvas.parentElement&&n.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(n)}displayCanvas(n){return this.multipleScenesVisible?n.element[Ok]:this.canvas3D}countVisibleScenes(){const{canvas3D:n}=this;let i=0,s=null;for(const l of this.scenes){const{element:c}=l;c.modelIsVisible&&null==l.externalRenderer&&++i,n.parentElement===l.canvas.parentElement&&(s=l)}const a=i>1;if(null!=s){const c=!s.element.modelIsVisible;if(a&&!this.multipleScenesVisible||c){const{width:u,height:d}=this.sceneSize(s);this.copyPixels(s,u,d),n.parentElement.removeChild(n)}}this.multipleScenesVisible=a}updateRendererSize(){const n=XT();if(n!==this.dpr)for(const a of this.scenes){const{element:l}=a;l[Vp](l.getBoundingClientRect())}let i=0,s=0;for(const a of this.scenes)i=Math.max(i,a.width),s=Math.max(s,a.height);if(i!==this.width||s!==this.height||n!==this.dpr){this.width=i,this.height=s,this.dpr=n,i=Math.ceil(i*n),s=Math.ceil(s*n),this.canRender&&this.threeRenderer.setSize(i,s,!1);for(const a of this.scenes){const{canvas:l}=a;l.width=i,l.height=s,a.forceRescale()}}}updateRendererScale(n){const i=this.scaleStep;this.avgFrameDuration+=cl(.2*(n-this.avgFrameDuration),-5,5),this.avgFrameDuration>60?++this.scaleStep:this.avgFrameDuration<40&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),i!==this.scaleStep&&(this.avgFrameDuration=50)}shouldRender(n){if(n.shouldRender())n.scaleStep!=this.scaleStep&&(n.scaleStep=this.scaleStep,this.rescaleCanvas(n));else{if(0==n.scaleStep)return!1;n.scaleStep=0,this.rescaleCanvas(n)}return!0}rescaleCanvas(n){const i=Np[n.scaleStep],s=Math.ceil(this.width/i),a=Math.ceil(this.height/i),{style:l}=n.canvas;l.width=`${s}px`,l.height=`${a}px`,this.canvas3D.style.width=`${s}px`,this.canvas3D.style.height=`${a}px`;const c=this.dpr*i,u=i<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";n.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:c,minimumDpr:this.dpr*Np[this.lastStep],pixelWidth:Math.ceil(n.width*c),pixelHeight:Math.ceil(n.height*c),reason:u}}))}sceneSize(n){const{dpr:i}=this,s=Np[n.scaleStep];return{width:Math.min(Math.ceil(n.width*s*i),this.canvas3D.width),height:Math.min(Math.ceil(n.height*s*i),this.canvas3D.height)}}copyPixels(n,i,s){null==n.context&&n.createContext();const a=n.context;a.clearRect(0,0,i,s),a.drawImage(this.canvas3D,0,0,i,s,0,0,i,s),n.canvas.classList.add("show")}orderedScenes(){const n=[];for(const i of[!1,!0])for(const s of this.scenes)s.element.modelIsVisible===i&&n.push(s);return n}get isPresenting(){return this.arRenderer.isPresenting}preRender(n,i,s){const{element:a,exposure:l}=n;a[fl](i,s);const c="number"==typeof l&&!Number.isNaN(l);this.threeRenderer.toneMappingExposure=c?l:1}render(n,i){if(null!=i)return void this.arRenderer.onWebXRFrame(n,i);const s=n-this.lastTick;if(this.lastTick=n,!this.canRender||this.isPresenting)return;this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(s),this.renderedLastFrame=!1);const{canvas3D:a}=this;for(const l of this.orderedScenes()){const{element:c}=l;if(!c.loaded||!c.modelIsVisible&&l.renderCount>0||(this.preRender(l,n,s),!this.shouldRender(l)))continue;if(null!=l.externalRenderer){const h=l.getCamera();h.updateMatrix();const{matrix:f,projectionMatrix:p}=h,m=f.elements.slice(),g=l.getTarget();m[12]+=g.x,m[13]+=g.y,m[14]+=g.z,l.externalRenderer.render({viewMatrix:m,projectionMatrix:p.elements});continue}if(!c.modelIsVisible&&!this.multipleScenesVisible)for(const h of this.scenes)h.element.modelIsVisible&&h.queueRender();const{width:u,height:d}=this.sceneSize(l);l.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-d,u,d),this.threeRenderer.render(l,l.camera),this.multipleScenesVisible||0===l.renderCount?this.copyPixels(l,u,d):(l.canvas.parentElement.appendChild(a),l.canvas.classList.remove("show")),l.hasRendered(),++l.renderCount,this.renderedLastFrame=!0}}dispose(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const n=[];for(const i of this.scenes)n.push(i.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),n}}Ac._singleton=new Ac({powerPreference:(self.ModelViewerElement||{}).powerPreference||H$,debug:S8()});const Bke=function(){var r=ut(function*(n){return new Promise((i,s)=>{const l=n.match(/data:(.*);/);if(!l)return s(new Error(`${n} is not a valid data Url`));const c=l[1],u=n.replace(/data:image\/\w+;base64,/,""),d=atob(u),h=[];for(let f=0;f<d.length;f+=512){const p=d.slice(f,f+512),m=new Array(p.length);for(let _=0;_<p.length;_++)m[_]=p.charCodeAt(_);const g=new Uint8Array(m);h.push(g)}i(new Blob(h,{type:c}))})});return function(i){return r.apply(this,arguments)}}();class Lke extends EventTarget{constructor(){super(...arguments),this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(){const n={progress:0,completed:!1};return this.ongoingActivities.add(n),1===this.ongoingActivityCount&&this.announceTotalProgress(n,0),i=>{let s;return s=Math.max(cl(i,0,1),n.progress),s!==n.progress&&this.announceTotalProgress(n,s),n.progress}}announceTotalProgress(n,i){let s=0,a=0;1==i&&(n.completed=!0);for(const u of this.ongoingActivities){const{progress:d}=u;s+=1-d,!0===u.completed&&a++}const l=n.progress;n.progress=i,this.totalProgress+=(i-l)*(1-this.totalProgress)/s,this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:a===this.ongoingActivityCount?1:this.totalProgress}})),a===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}var G$,Q$,$$,W$,j$,q$,Y$,X$,K$,Z$,J$,eW,tW,jw=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const jo=document.createElement("canvas"),Sk=Symbol("fallbackResizeHandler"),nW=Symbol("defaultAriaLabel"),qw=Symbol("resizeObserver"),l0=Symbol("clearModelTimeout"),Dk=Symbol("onContextLost"),Up=Symbol("loaded"),Ik=Symbol("status"),Tk=Symbol("onFocus"),kk=Symbol("onBlur"),Vp=Symbol("updateSize"),Yw=Symbol("intersectionObserver"),sh=Symbol("isElementInViewport"),Xw=Symbol("announceModelVisibility"),c0=Symbol("ariaLabel"),Rk=Symbol("altDefaulted"),u0=Symbol("statusElement"),Pk=Symbol("updateStatus"),d0=Symbol("loadedTime"),zp=Symbol("updateSource"),iW=Symbol("markLoaded"),h0=Symbol("container"),hl=Symbol("input"),Ok=Symbol("canvas"),ze=Symbol("scene"),Js=Symbol("needsRender"),fl=Symbol("tick"),Eu=Symbol("onModelLoad"),f0=Symbol("onResize"),bi=Symbol("renderer"),Hp=Symbol("progressTracker"),rW=Symbol("getLoaded"),oh=Symbol("getModelIsVisible"),Gp=Symbol("shouldAttemptPreload"),p0=r=>({x:r.x,y:r.y,z:r.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),Hke=r=>({u:r.x,v:r.y,toString(){return`${this.u} ${this.v}`}});class m0 extends Jd{constructor(){super(),this.alt=null,this.src=null,this.withCredentials=!1,this.generateSchema=!1,this[G$]=!1,this[Q$]=!1,this[$$]=0,this[W$]="",this[j$]=null,this[q$]=E8(()=>{const a=this.getBoundingClientRect();this[Vp](a)},50),this[Y$]=E8(a=>{const l=this.modelIsVisible;l!==a&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:l}}))},0),this[X$]=null,this[K$]=null,this[Z$]=new Lke,this[J$]=()=>{this[u0].textContent=this[Ik]},this[eW]=()=>{this[u0].textContent=""},this[tW]=a=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:a.sourceEvent}}))},this.attachShadow({mode:"open"});const n=this.shadowRoot;let i,s;if(b8(QIe,n),this[h0]=n.querySelector(".container"),this[hl]=n.querySelector(".userInput"),this[Ok]=n.querySelector("canvas"),this[u0]=n.querySelector("#status"),this[nW]=this[hl].getAttribute("aria-label"),this.isConnected){const a=this.getBoundingClientRect();i=a.width,s=a.height}else i=300,s=150;this[ze]=new oke({canvas:this[Ok],element:this,width:i,height:s}),Promise.resolve().then(()=>{this[Vp](this.getBoundingClientRect())}),WT&&(this[qw]=new ResizeObserver(a=>{if(!this[bi].isPresenting)for(let l of a)l.target===this&&this[Vp](l.contentRect)})),jT?this[Yw]=new IntersectionObserver(a=>{for(let l of a)if(l.target===this){const c=this.modelIsVisible;this[sh]=l.isIntersecting,this[Xw](c),this[sh]&&!this.loaded&&this[zp]()}},{root:null,rootMargin:"0px",threshold:1e-5}):this[sh]=!0}static get is(){return"model-viewer"}static set modelCacheSize(n){Fr[Cu].evictionThreshold=n}static get modelCacheSize(){return Fr[Cu].evictionThreshold}static set minimumRenderScale(n){n>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),n<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),Ac.singleton.minScale=n}static get minimumRenderScale(){return Ac.singleton.minScale}get loaded(){return this[rW]()}get[(G$=sh,Q$=Up,$$=d0,W$=Ik,j$=l0,q$=Sk,Y$=Xw,X$=qw,K$=Yw,Z$=Hp,bi)](){return Ac.singleton}get modelIsVisible(){return this[oh]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),WT?this[qw].observe(this):self.addEventListener("resize",this[Sk]),jT&&this[Yw].observe(this),this.addEventListener("focus",this[Tk]),this.addEventListener("blur",this[kk]);const n=this[bi];n.addEventListener("contextlost",this[Dk]),n.registerScene(this[ze]),null!=this[l0]&&(self.clearTimeout(this[l0]),this[l0]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),WT?this[qw].unobserve(this):self.removeEventListener("resize",this[Sk]),jT&&this[Yw].unobserve(this),this.removeEventListener("focus",this[Tk]),this.removeEventListener("blur",this[kk]);const n=this[bi];n.removeEventListener("contextlost",this[Dk]),n.unregisterScene(this[ze]),this[l0]=self.setTimeout(()=>{this[ze].reset()},1e3)}updated(n){super.updated(n),n.has("src")&&(null==this.src?(this[Up]=!1,this[d0]=0,this[ze].reset()):this.src!==this[ze].url&&(this[Up]=!1,this[d0]=0,this[zp]())),n.has("alt")&&this[hl].setAttribute("aria-label",this[c0]),n.has("withCredentials")&&(Fr.withCredentials=this.withCredentials),n.has("generateSchema")&&this[ze].updateSchema(this.generateSchema?this.src:null)}toDataURL(n,i){return this[bi].displayCanvas(this[ze]).toDataURL(n,i)}toBlob(n){var i=this;return ut(function*(){const s=n?n.mimeType:void 0,a=n?n.qualityArgument:void 0,l=n?n.idealAspect:void 0,{width:c,height:u,idealAspect:d,aspect:h}=i[ze],{dpr:f,scaleFactor:p}=i[bi];let m=c*p*f,g=u*p*f,_=0,A=0;if(!0===l)if(d>h){const b=g;g=Math.round(m/d),A=(b-g)/2}else{const b=m;m=Math.round(g*d),_=(b-m)/2}jo.width=m,jo.height=g;try{return new Promise(function(){var b=ut(function*(y,w){return jo.getContext("2d").drawImage(i[bi].displayCanvas(i[ze]),_,A,m,g,0,0,m,g),!jo.msToBlob||s&&"image/png"!==s?jo.toBlob?void jo.toBlob(v=>{if(!v)return w(new Error("Unable to retrieve canvas blob"));y(v)},s,a):y(yield Bke(jo.toDataURL(s,a))):y(jo.msToBlob())});return function(y,w){return b.apply(this,arguments)}}())}finally{i[Vp]({width:c,height:u})}})()}registerRenderer(n){this[ze].externalRenderer=n}unregisterRenderer(){this[ze].externalRenderer=null}get[c0](){return this[Rk]}get[Rk](){return null==this.alt||"null"===this.alt?this[nW]:this.alt}[rW](){return this[Up]}[oh](){return this.loaded&&this[sh]}[Gp](){return!!this.src&&this[sh]}[Vp]({width:n,height:i}){this[h0].style.width=`${n}px`,this[h0].style.height=`${i}px`,this[f0]({width:parseFloat(n),height:parseFloat(i)})}[fl](n,i){}[iW](){this[Up]||(this[Up]=!0,this[d0]=performance.now())}[Js](){this[ze].queueRender()}[Eu](){}[Pk](n){this[Ik]=n;const i=this.getRootNode();null!=i&&i.activeElement===this&&this[u0].textContent!=n&&(this[u0].textContent=n)}[(J$=Tk,eW=kk,f0)](n){this[ze].setSize(n.width,n.height)}[(tW=Dk,zp)](){var n=this;return ut(function*(){const i=n[ze];if(n.loaded||!n[Gp]()||n.src===i.url)return;n.generateSchema&&i.updateSchema(n.src),n[Pk]("Loading"),i.stopAnimation();const s=n[Hp].beginActivity(),a=n.src;try{const l=i.setSource(a,u=>s(.95*cl(u,0,1))),c=n[Fw]();yield Promise.all([l,c]),n[iW](),n[Eu](),yield new Promise(u=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.dispatchEvent(new CustomEvent("load",{detail:{url:a}})),u()})})})}catch(l){n.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:l}}))}finally{s(1)}})()}}jw([Yt({type:String})],m0.prototype,"alt",void 0),jw([Yt({type:String})],m0.prototype,"src",void 0),jw([Yt({type:Boolean,attribute:"with-credentials"})],m0.prototype,"withCredentials",void 0),jw([Yt({type:Boolean,attribute:"generate-schema"})],m0.prototype,"generateSchema",void 0);var Bk=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const Lk=Symbol("changeAnimation"),yc=Symbol("paused"),Gke={repetitions:1/0,pingpong:!1},Qp=Symbol("hotspotMap"),Fk=Symbol("mutationCallback"),g0=Symbol("observer"),Nk=Symbol("addHotspot"),oW=Symbol("removeHotspot"),Uk=new Pt,aW=new ls;var Vk=function(r){return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};try{URL.revokeObjectURL(Vk(""))}catch{Vk=function(n){return"data:application/javascript;charset=UTF-8,"+encodeURI(n)}}var Yn=Uint8Array,Nr=Uint16Array,vc=Uint32Array,$p=new Yn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wp=new Yn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_0=new Yn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uW=function(r,n){for(var i=new Nr(31),s=0;s<31;++s)i[s]=n+=1<<r[s-1];var a=new vc(i[30]);for(s=1;s<30;++s)for(var l=i[s];l<i[s+1];++l)a[l]=l-i[s]<<5|s;return[i,a]},dW=uW($p,2),Kw=dW[1];dW[0][28]=258,Kw[258]=28;for(var Hk=uW(Wp,0)[1],b0=new Nr(32768),xi=0;xi<32768;++xi){var Su=(43690&xi)>>>1|(21845&xi)<<1;b0[xi]=((65280&(Su=(61680&(Su=(52428&Su)>>>2|(13107&Su)<<2))>>>4|(3855&Su)<<4))>>>8|(255&Su)<<8)>>>1}var pl=function(r,n,i){for(var s=r.length,a=0,l=new Nr(n);a<s;++a)++l[r[a]-1];var u,c=new Nr(n);for(a=0;a<n;++a)c[a]=c[a-1]+l[a-1]<<1;if(i){u=new Nr(1<<n);var d=15-n;for(a=0;a<s;++a)if(r[a])for(var h=a<<4|r[a],f=n-r[a],p=c[r[a]-1]++<<f,m=p|(1<<f)-1;p<=m;++p)u[b0[p]>>>d]=h}else for(u=new Nr(s),a=0;a<s;++a)r[a]&&(u[a]=b0[c[r[a]-1]++]>>>15-r[a]);return u},Du=new Yn(288);for(xi=0;xi<144;++xi)Du[xi]=8;for(xi=144;xi<256;++xi)Du[xi]=9;for(xi=256;xi<280;++xi)Du[xi]=7;for(xi=280;xi<288;++xi)Du[xi]=8;var A0=new Yn(32);for(xi=0;xi<32;++xi)A0[xi]=5;var pW=pl(Du,9,0),gW=pl(A0,5,0),y0=function(r){return(r/8|0)+(7&r&&1)},Iu=function(r,n,i){(null==n||n<0)&&(n=0),(null==i||i>r.length)&&(i=r.length);var s=new(r instanceof Nr?Nr:r instanceof vc?vc:Yn)(i-n);return s.set(r.subarray(n,i)),s},ml=function(r,n,i){var s=n/8|0;r[s]|=i<<=7&n,r[s+1]|=i>>>8},jp=function(r,n,i){var s=n/8|0;r[s]|=i<<=7&n,r[s+1]|=i>>>8,r[s+2]|=i>>>16},tC=function(r,n){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s,f:r[s]});var a=i.length,l=i.slice();if(!a)return[iC,0];if(1==a){var c=new Yn(i[0].s+1);return c[i[0].s]=1,[c,1]}i.sort(function(M,E){return M.f-E.f}),i.push({s:-1,f:25001});var u=i[0],d=i[1],h=0,f=1,p=2;for(i[0]={s:-1,f:u.f+d.f,l:u,r:d};f!=a-1;)u=i[i[h].f<i[p].f?h++:p++],d=i[h!=f&&i[h].f<i[p].f?h++:p++],i[f++]={s:-1,f:u.f+d.f,l:u,r:d};var m=l[0].s;for(s=1;s<a;++s)l[s].s>m&&(m=l[s].s);var g=new Nr(m+1),_=nC(i[f-1],g,0);if(_>n){s=0;var A=0,b=_-n,y=1<<b;for(l.sort(function(E,S){return g[S.s]-g[E.s]||E.f-S.f});s<a;++s){var w=l[s].s;if(!(g[w]>n))break;A+=y-(1<<_-g[w]),g[w]=n}for(A>>>=b;A>0;){var v=l[s].s;g[v]<n?A-=1<<n-g[v]++-1:++s}for(;s>=0&&A;--s){var C=l[s].s;g[C]==n&&(--g[C],++A)}_=n}return[new Yn(g),_]},nC=function(r,n,i){return-1==r.s?Math.max(nC(r.l,n,i+1),nC(r.r,n,i+1)):n[r.s]=i},Gk=function(r){for(var n=r.length;n&&!r[--n];);for(var i=new Nr(++n),s=0,a=r[0],l=1,c=function(d){i[s++]=d},u=1;u<=n;++u)if(r[u]==a&&u!=n)++l;else{if(!a&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(a),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(a);l=1,a=r[u]}return[i.subarray(0,s),n]},qp=function(r,n){for(var i=0,s=0;s<n.length;++s)i+=r[s]*n[s];return i},v0=function(r,n,i){var s=i.length,a=y0(n+2);r[a]=255&s,r[a+1]=s>>>8,r[a+2]=255^r[a],r[a+3]=255^r[a+1];for(var l=0;l<s;++l)r[a+l+4]=i[l];return 8*(a+4+s)},Qk=function(r,n,i,s,a,l,c,u,d,h,f){ml(n,f++,i),++a[256];for(var p=tC(a,15),m=p[0],g=p[1],_=tC(l,15),A=_[0],b=_[1],y=Gk(m),w=y[0],v=y[1],C=Gk(A),M=C[0],E=C[1],S=new Nr(19),x=0;x<w.length;++x)S[31&w[x]]++;for(x=0;x<M.length;++x)S[31&M[x]]++;for(var D=tC(S,7),T=D[0],k=D[1],R=19;R>4&&!T[_0[R-1]];--R);var G,P,z,V,F=h+5<<3,O=qp(a,Du)+qp(l,A0)+c,j=qp(a,m)+qp(l,A)+c+14+3*R+qp(S,T)+(2*S[16]+3*S[17]+7*S[18]);if(F<=O&&F<=j)return v0(n,f,r.subarray(d,d+h));if(ml(n,f,1+(j<O)),f+=2,j<O){G=pl(m,g,0),P=m,z=pl(A,b,0),V=A;var Y=pl(T,k,0);for(ml(n,f,v-257),ml(n,f+5,E-1),ml(n,f+10,R-4),f+=14,x=0;x<R;++x)ml(n,f+3*x,T[_0[x]]);f+=3*R;for(var oe=[w,M],ae=0;ae<2;++ae){var Ce=oe[ae];for(x=0;x<Ce.length;++x)ml(n,f,Y[xe=31&Ce[x]]),f+=T[xe],xe>15&&(ml(n,f,Ce[x]>>>5&127),f+=Ce[x]>>>12)}}else G=pW,P=Du,z=gW,V=A0;for(x=0;x<u;++x)if(s[x]>255){var xe;jp(n,f,G[257+(xe=s[x]>>>18&31)]),f+=P[xe+257],xe>7&&(ml(n,f,s[x]>>>23&31),f+=$p[xe]);var He=31&s[x];jp(n,f,z[He]),f+=V[He],He>3&&(jp(n,f,s[x]>>>5&8191),f+=Wp[He])}else jp(n,f,G[s[x]]),f+=P[s[x]];return jp(n,f,G[256]),f+P[256]},bW=new vc([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iC=new Yn(0),yW=function(){for(var r=new vc(256),n=0;n<256;++n){for(var i=n,s=9;--s;)i=(1&i&&3988292384)^i>>>1;r[n]=i}return r}(),rC=function(){var r=-1;return{p:function(n){for(var i=r,s=0;s<n.length;++s)i=yW[255&i^n[s]]^i>>>8;r=i},d:function(){return~r}}},sC=function(r,n,i,s,a){return function(r,n,i,s,a,l){var c=r.length,u=new Yn(s+c+5*(1+Math.ceil(c/7e3))+a),d=u.subarray(s,u.length-a),h=0;if(!n||c<8)for(var f=0;f<=c;f+=65535){var p=f+65535;p<c?h=v0(d,h,r.subarray(f,p)):(d[f]=l,h=v0(d,h,r.subarray(f,c)))}else{for(var m=bW[n-1],g=m>>>13,_=8191&m,A=(1<<i)-1,b=new Nr(32768),y=new Nr(A+1),w=Math.ceil(i/3),v=2*w,C=function(Se){return(r[Se]^r[Se+1]<<w^r[Se+2]<<v)&A},M=new vc(25e3),E=new Nr(288),S=new Nr(32),x=0,D=0,T=(f=0,0),k=0,R=0;f<c;++f){var F=C(f),O=32767&f,j=y[F];if(b[O]=j,y[F]=O,k<=f){var G=c-f;if((x>7e3||T>24576)&&G>423){h=Qk(r,d,0,M,E,S,D,T,R,f-R,h),T=x=D=0,R=f;for(var P=0;P<286;++P)E[P]=0;for(P=0;P<30;++P)S[P]=0}var z=2,V=0,Y=_,oe=O-j&32767;if(G>2&&F==C(f-oe))for(var ae=Math.min(g,G)-1,Ce=Math.min(32767,f),xe=Math.min(258,G);oe<=Ce&&--Y&&O!=j;){if(r[f+z]==r[f+z-oe]){for(var He=0;He<xe&&r[f+He]==r[f+He-oe];++He);if(He>z){if(z=He,V=oe,He>ae)break;var le=Math.min(oe,He-2),Qe=0;for(P=0;P<le;++P){var Xe=f-oe+P+32768&32767,Re=Xe-b[Xe]+32768&32767;Re>Qe&&(Qe=Re,j=Xe)}}}oe+=(O=j)-(j=b[O])+32768&32767}if(V){M[T++]=268435456|Kw[z]<<18|Hk[V];var Ft=31&Kw[z],ge=31&Hk[V];D+=$p[Ft]+Wp[ge],++E[257+Ft],++S[ge],k=f+z,++x}else M[T++]=r[f],++E[r[f]]}}h=Qk(r,d,l,M,E,S,D,T,R,f-R,h),!l&&7&h&&(h=v0(d,h+1,iC))}return Iu(u,0,s+y0(h)+a)}(r,n.level??6,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+n.mem,i,s,!a)},oC=function(r,n){var i={};for(var s in r)i[s]=r[s];for(var s in n)i[s]=n[s];return i},zi=function(r,n,i){for(;i;++n)r[n]=i,i>>>=8};function lC(r,n){return sC(r,n||{},0,0)}var Kk=function(r,n,i,s){for(var a in r){var l=r[a],c=n+a;l instanceof Yn?i[c]=[l,s]:Array.isArray(l)?i[c]=[l[0],oC(s,l[1])]:Kk(l,c+"/",i,s)}},PW=typeof TextEncoder<"u"&&new TextEncoder,Zk=typeof TextDecoder<"u"&&new TextDecoder;try{Zk.decode(iC,{stream:!0})}catch{}function Xp(r,n){if(n){for(var i=new Yn(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}if(PW)return PW.encode(r);var a=r.length,l=new Yn(r.length+(r.length>>1)),c=0,u=function(f){l[c++]=f};for(s=0;s<a;++s){if(c+5>l.length){var d=new Yn(c+8+(a-s<<1));d.set(l),l=d}var h=r.charCodeAt(s);h<128||n?u(h):h<2048?(u(192|h>>6),u(128|63&h)):h>55295&&h<57344?(u(240|(h=65536+(1047552&h)|1023&r.charCodeAt(++s))>>18),u(128|h>>12&63),u(128|h>>6&63),u(128|63&h)):(u(224|h>>12),u(128|h>>6&63),u(128|63&h))}return Iu(l,0,c)}var C0=function(r){var n=0;if(r)for(var i in r){var s=r[i].length;if(s>65535)throw"extra field too long";n+=s+4}return n},cC=function(r,n,i,s,a,l,c,u){var d=s.length,h=i.extra,f=u&&u.length,p=C0(h);zi(r,n,null!=c?33639248:67324752),n+=4,null!=c&&(r[n++]=20,r[n++]=i.os),r[n]=20,n+=2,r[n++]=i.flag<<1|(null==l&&8),r[n++]=a&&8,r[n++]=255&i.compression,r[n++]=i.compression>>8;var m=new Date(i.mtime??Date.now()),g=m.getFullYear()-1980;if(g<0||g>119)throw"date not in range 1980-2099";if(zi(r,n,g<<25|m.getMonth()+1<<21|m.getDate()<<16|m.getHours()<<11|m.getMinutes()<<5|m.getSeconds()>>>1),n+=4,null!=l&&(zi(r,n,i.crc),zi(r,n+4,l),zi(r,n+8,i.size)),zi(r,n+12,d),zi(r,n+14,p),n+=16,null!=c&&(zi(r,n,f),zi(r,n+6,i.attrs),zi(r,n+10,c),n+=14),r.set(s,n),n+=d,p)for(var _ in h){var A=h[_],b=A.length;zi(r,n,+_),zi(r,n+2,b),r.set(A,n+4),n+=4+b}return f&&(r.set(u,n),n+=f),n};class oRe{parse(n){return ut(function*(){const i={},s="model.usda";i[s]=null;let a='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';const l={},c={};n.traverseVisible(d=>{if(d.isMesh){const h=d.geometry,f=d.material;if(f.isMeshStandardMaterial){const p="geometries/Geometry_"+h.id+".usd";if(!(p in i)){const m=function dRe(r){return`\ndef "Geometry"\n{\n  ${function hRe(r){const i=r.attributes,s=i.position.count;return`\n    def Mesh "Geometry"\n    {\n        int[] faceVertexCounts = [${function fRe(r){return Array((null!==r.index?r.index.count:r.attributes.position.count)/3).fill(3).join(", ")}(r)}]\n        int[] faceVertexIndices = [${function pRe(r){const n=r.index,i=[];if(null!==n)for(let s=0;s<n.count;s++)i.push(n.getX(s));else{const s=r.attributes.position.count;for(let a=0;a<s;a++)i.push(a)}return i.join(", ")}(r)}]\n        normal3f[] normals = [${NW(i.normal,s)}] (\n            interpolation = "vertex"\n        )\n        point3f[] points = [${NW(i.position,s)}]\n        float2[] primvars:st = [${function mRe(r,n){if(void 0===r)return console.warn("USDZExporter: UVs missing."),Array(n).fill("(0, 0)").join(", ");const i=[];for(let s=0;s<r.count;s++){const a=r.getX(s),l=r.getY(s);i.push(`(${a.toPrecision(7)}, ${1-l.toPrecision(7)})`)}return i.join(", ")}(i.uv,s)}] (\n            interpolation = "vertex"\n        )\n        uniform token subdivisionScheme = "none"\n    }\n`}(r)}\n}\n`}(h);i[p]=function lRe(r){let n='#usda 1.0\n(\n    customLayerData = {\n        string creator = "Three.js USDZExporter"\n    }\n    metersPerUnit = 1\n    upAxis = "Y"\n)\n\n';return n+=r,Xp(n)}(m)}f.uuid in l||(l[f.uuid]=f),a+=function cRe(r,n,i){const s="Object_"+r.id,a=function uRe(r){const n=r.elements;return`( ${uC(n,0)}, ${uC(n,4)}, ${uC(n,8)}, ${uC(n,12)} )`}(r.matrixWorld);return r.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",r),`def Xform "${s}" (\n    prepend references = @./geometries/Geometry_${n.id}.usd@</Geometry>\n)\n{\n    matrix4d xformOp:transform = ${a}\n    uniform token[] xformOpOrder = ["xformOp:transform"]\n\n    rel material:binding = </Materials/Material_${i.id}>\n}\n\n`}(d,h,f)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",d)}}),a+=function gRe(r,n){const i=[];for(const s in r)i.push(_Re(r[s],n));return`def "Materials"\n{\n${i.join("")}\n}\n\n`}(l,c),i[s]=Xp(a),a=null;for(const d in c){const h=c[d],f=d.split("_")[1],p=1023===h.format,m=aRe(h.image,f),g=yield new Promise(_=>m.toBlob(_,p?"image/png":"image/jpeg",1));i[`textures/Texture_${d}.${p?"png":"jpg"}`]=new Uint8Array(yield g.arrayBuffer())}let u=0;for(const d in i){const h=i[d];u+=34+d.length;const p=63&u;if(4!==p){const g=new Uint8Array(64-p);i[d]=[h,{extra:{12345:g}}]}u=h.length}return function sRe(r,n){n||(n={});var i={},s=[];Kk(r,"",i,n);var a=0,l=0;for(var c in i){var u=i[c],d=u[0],h=u[1],f=0==h.level?0:8,m=(p=Xp(c)).length,g=h.comment,_=g&&Xp(g),A=_&&_.length,b=C0(h.extra);if(m>65535)throw"filename too long";var y=f?lC(d,h):d,w=y.length,v=rC();v.p(d),s.push(oC(h,{size:d.length,crc:v.d(),c:y,f:p,m:_,u:m!=c.length||_&&g.length!=A,o:a,compression:f})),a+=30+m+b+w,l+=76+2*(m+b)+(A||0)+w}for(var C=new Yn(l+22),M=a,E=l-a,S=0;S<s.length;++S){var p;cC(C,(p=s[S]).o,p,p.f,p.u,p.c.length);var x=30+p.f.length+C0(p.extra);C.set(p.c,p.o+x),cC(C,a,p,p.f,p.u,p.c.length,p.o,p.m),a+=16+x+(p.m?p.m.length:0)}return function(r,n,i,s,a){zi(r,n,101010256),zi(r,n+8,i),zi(r,n+10,i),zi(r,n+12,s),zi(r,n+16,a)}(C,a,s.length,E,M),C}(i,{level:0})})()}}function aRe(r,n){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const i=1024/Math.max(r.width,r.height),s=document.createElement("canvas");s.width=r.width*Math.min(1,i),s.height=r.height*Math.min(1,i);const a=s.getContext("2d");if(a.drawImage(r,0,0,s.width,s.height),void 0!==n){const l=parseInt(n,16),c=(l>>16&255)/255,u=(l>>8&255)/255,d=(255&l)/255,h=a.getImageData(0,0,s.width,s.height),f=h.data;for(let p=0;p<f.length;p+=4)f[p+0]=f[p+0]*c,f[p+1]=f[p+1]*u,f[p+2]=f[p+2]*d;a.putImageData(h,0,0)}return s}}function uC(r,n){return`(${r[n+0]}, ${r[n+1]}, ${r[n+2]}, ${r[n+3]})`}function NW(r,n){if(void 0===r)return console.warn("USDZExporter: Normals missing."),Array(n).fill("(0, 0, 0)").join(", ");const i=[];for(let s=0;s<r.count;s++){const a=r.getX(s),l=r.getY(s),c=r.getZ(s);i.push(`(${a.toPrecision(7)}, ${l.toPrecision(7)}, ${c.toPrecision(7)})`)}return i.join(", ")}function _Re(r,n){const i="            ",s=[],a=[];function l(c,u,d){const h=c.id+(d?"_"+d.getHexString():""),f=1023===c.format;return n[h]=c,`\n        def Shader "Transform2d_${u}" (\n            sdrMetadata = {\n                string role = "math"\n            }\n        )\n        {\n            uniform token info:id = "UsdTransform2d"\n            float2 inputs:in.connect = </Materials/Material_${r.id}/uvReader_st.outputs:result>\n            float2 inputs:scale = ${VW(c.repeat)}\n            float2 inputs:translation = ${VW(c.offset)}\n            float2 outputs:result\n        }\n\n        def Shader "Texture_${c.id}_${u}"\n        {\n            uniform token info:id = "UsdUVTexture"\n            asset inputs:file = @textures/Texture_${h}.${f?"png":"jpg"}@\n            float2 inputs:st.connect = </Materials/Material_${r.id}/Transform2d_${u}.outputs:result>\n            token inputs:wrapS = "repeat"\n            token inputs:wrapT = "repeat"\n            float outputs:r\n            float outputs:g\n            float outputs:b\n            float3 outputs:rgb\n            ${r.transparent||r.alphaTest>0?"float outputs:a":""}\n        }`}return 2===r.side&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",r),null!==r.map?(s.push(`${i}color3f inputs:diffuseColor.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:rgb>`),r.transparent?s.push(`${i}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:a>`):r.alphaTest>0&&(s.push(`${i}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:a>`),s.push(`${i}float inputs:opacityThreshold = ${r.alphaTest}`)),a.push(l(r.map,"diffuse",r.color))):s.push(`${i}color3f inputs:diffuseColor = ${UW(r.color)}`),null!==r.emissiveMap?(s.push(`${i}color3f inputs:emissiveColor.connect = </Materials/Material_${r.id}/Texture_${r.emissiveMap.id}_emissive.outputs:rgb>`),a.push(l(r.emissiveMap,"emissive"))):r.emissive.getHex()>0&&s.push(`${i}color3f inputs:emissiveColor = ${UW(r.emissive)}`),null!==r.normalMap&&(s.push(`${i}normal3f inputs:normal.connect = </Materials/Material_${r.id}/Texture_${r.normalMap.id}_normal.outputs:rgb>`),a.push(l(r.normalMap,"normal"))),null!==r.aoMap&&(s.push(`${i}float inputs:occlusion.connect = </Materials/Material_${r.id}/Texture_${r.aoMap.id}_occlusion.outputs:r>`),a.push(l(r.aoMap,"occlusion"))),null!==r.roughnessMap&&1===r.roughness?(s.push(`${i}float inputs:roughness.connect = </Materials/Material_${r.id}/Texture_${r.roughnessMap.id}_roughness.outputs:g>`),a.push(l(r.roughnessMap,"roughness"))):s.push(`${i}float inputs:roughness = ${r.roughness}`),null!==r.metalnessMap&&1===r.metalness?(s.push(`${i}float inputs:metallic.connect = </Materials/Material_${r.id}/Texture_${r.metalnessMap.id}_metallic.outputs:b>`),a.push(l(r.metalnessMap,"metallic"))):s.push(`${i}float inputs:metallic = ${r.metalness}`),null!==r.alphaMap?(s.push(`${i}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.alphaMap.id}_opacity.outputs:r>`),s.push(`${i}float inputs:opacityThreshold = 0.0001`),a.push(l(r.alphaMap,"opacity"))):s.push(`${i}float inputs:opacity = ${r.opacity}`),r.isMeshPhysicalMaterial&&(s.push(`${i}float inputs:clearcoat = ${r.clearcoat}`),s.push(`${i}float inputs:clearcoatRoughness = ${r.clearcoatRoughness}`),s.push(`${i}float inputs:ior = ${r.ior}`)),`\n    def Material "Material_${r.id}"\n    {\n        def Shader "PreviewSurface"\n        {\n            uniform token info:id = "UsdPreviewSurface"\n${s.join("\n")}\n            int inputs:useSpecularWorkflow = 0\n            token outputs:surface\n        }\n\n        token outputs:surface.connect = </Materials/Material_${r.id}/PreviewSurface.outputs:surface>\n        token inputs:frame:stPrimvarName = "st"\n\n        def Shader "uvReader_st"\n        {\n            uniform token info:id = "UsdPrimvarReader_float2"\n            token inputs:varname.connect = </Materials/Material_${r.id}.inputs:frame:stPrimvarName>\n            float2 inputs:fallback = (0.0, 0.0)\n            float2 outputs:result\n        }\n\n${a.join("\n")}\n\n    }\n`}function UW(r){return`(${r.r}, ${r.g}, ${r.b})`}function VW(r){return`(${r.x}, ${r.y})`}var Kp=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};let zW=!1,HW=!1;const GW="#model-viewer-no-ar-fallback",ARe=(r=["quick-look","scene-viewer","webxr","none"],n=>{try{const i=rh(n),s=(i.length?i[0].terms:[]).filter(l=>l&&"ident"===l.type).map(l=>l.value).filter(l=>r.indexOf(l)>-1),a=new Set;for(const l of s)a.add(l);return a}catch{}return new Set}),wc=Symbol("arButtonContainer"),QW=Symbol("enterARWithWebXR"),$W=Symbol("openSceneViewer"),WW=Symbol("openIOSARQuickLook"),vRe=Symbol("canActivateAR"),dC=Symbol("arMode"),Jk=Symbol("arModes"),Zp=Symbol("arAnchor"),hC=Symbol("preload"),fC=Symbol("onARButtonContainerClick"),eR=Symbol("onARStatus"),tR=Symbol("onARTracking"),nR=Symbol("onARTap"),M0=Symbol("selectARMode"),iR=Symbol("triggerLoad");var r,jW,qW,YW;const Jp=Symbol("evaluate"),pC=Symbol("lastValue");class Ii{constructor(){this[jW]=null}static evaluatableFor(n,i=xu){if(n instanceof Ii)return n;if("number"===n.type)return"%"===n.unit?new CRe(n,i):n;switch(n.name.value){case"calc":return new ERe(n,i);case"env":return new xRe(n)}return xu}static evaluate(n){return n instanceof Ii?n.evaluate():n}static isConstant(n){return!(n instanceof Ii)||n.isConstant}static applyIntrinsics(n,i){const{basis:s,keywords:a}=i,{auto:l}=a;return s.map((c,u)=>{const d=l[u]??c;let h=n[u]?n[u]:d;if("ident"===h.type){const f=h.value;f in a&&(h=a[f][u])}return(null==h||"ident"===h.type)&&(h=d),"%"===h.unit?ds(h.number/100*c.number,c.unit):(h=ul(h,c),h.unit!==c.unit?c:h)})}get isConstant(){return!1}evaluate(){return(!this.isConstant||null==this[pC])&&(this[pC]=this[Jp]()),this[pC]}}jW=pC;const XW=Symbol("percentage"),rR=Symbol("basis");class CRe extends Ii{constructor(n,i){super(),this[XW]=n,this[rR]=i}get isConstant(){return!0}[Jp](){return ds(this[XW].number/100*this[rR].number,this[rR].unit)}}const mC=Symbol("identNode");class xRe extends Ii{constructor(n){super(),this[qW]=null;const i=n.arguments.length?n.arguments[0].terms[0]:null;null!=i&&"ident"===i.type&&(this[mC]=i)}get isConstant(){return!1}[(qW=mC,Jp)](){return null!=this[mC]&&"window-scroll-y"===this[mC].value?{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}:xu}}const MRe=/[\*\/]/,em=Symbol("evaluator");class ERe extends Ii{constructor(n,i=xu){if(super(),this[YW]=null,1!==n.arguments.length)return;const s=n.arguments[0].terms.slice(),a=[];for(;s.length;){const l=s.shift();if(a.length>0){const c=a[a.length-1];if("operator"===c.type&&MRe.test(c.value)){const u=a.pop(),d=a.pop();if(null==d)return;a.push(new ZW(u,Ii.evaluatableFor(d,i),Ii.evaluatableFor(l,i)));continue}}a.push("operator"===l.type?l:Ii.evaluatableFor(l,i))}for(;a.length>2;){const[l,c,u]=a.splice(0,3);if("operator"!==c.type)return;a.unshift(new ZW(c,Ii.evaluatableFor(l,i),Ii.evaluatableFor(u,i)))}1===a.length&&(this[em]=a[0])}get isConstant(){return null==this[em]||Ii.isConstant(this[em])}[(YW=em,Jp)](){return null!=this[em]?Ii.evaluate(this[em]):xu}}const KW=Symbol("operator"),sR=Symbol("left"),oR=Symbol("right");class ZW extends Ii{constructor(n,i,s){super(),this[KW]=n,this[sR]=i,this[oR]=s}get isConstant(){return Ii.isConstant(this[sR])&&Ii.isConstant(this[oR])}[Jp](){const n=ul(Ii.evaluate(this[sR])),i=ul(Ii.evaluate(this[oR])),{number:s,unit:a}=n,{number:l,unit:c}=i;if(null!=c&&null!=a&&c!=a)return xu;const u=a||c;let d;switch(this[KW].value){case"+":d=s+l;break;case"-":d=s-l;break;case"/":d=s/l;break;case"*":d=s*l;break;default:return xu}return{type:"number",number:d,unit:u}}}const aR=Symbol("evaluatables"),JW=Symbol("intrinsics");class ej extends Ii{constructor(n,i){super(),this[JW]=i;const s=n[0],a=null!=s?s.terms:[];this[aR]=i.basis.map((l,c)=>{const u=a[c];return null==u?{type:"ident",value:"auto"}:"ident"===u.type?u:Ii.evaluatableFor(u,l)})}get isConstant(){for(const n of this[aR])if(!Ii.isConstant(n))return!1;return!0}[Jp](){const n=this[aR].map(i=>Ii.evaluate(i));return Ii.applyIntrinsics(n,this[JW]).map(i=>i.number)}}var tj,nj,ij,rj;const tm=Symbol("instances"),sj=Symbol("activateListener"),oj=Symbol("deactivateListener"),lR=Symbol("notifyInstances"),aj=Symbol("notify"),lj=Symbol("callback");class gl{constructor(n){this[lj]=n}static[lR](){for(const n of gl[tm])n[aj]()}static[(tj=tm,sj)](){window.addEventListener("scroll",this[lR],{passive:!0})}static[oj](){window.removeEventListener("scroll",this[lR])}observe(){0===gl[tm].size&&gl[sj](),gl[tm].add(this)}disconnect(){gl[tm].delete(this),0===gl[tm].size&&gl[oj]()}[aj](){this[lj]()}}gl[tj]=new Set;const cj=Symbol("computeStyleCallback"),uj=Symbol("astWalker"),E0=Symbol("dependencies"),dj=Symbol("onScroll");class SRe{constructor(n){this[nj]={},this[ij]=new qTe(["function"]),this[rj]=()=>{this[cj]({relatedState:"window-scroll"})},this[cj]=n}observeEffectsFor(n){const i={},s=this[E0];this[uj].walk(n,a=>{const{name:l}=a,u=a.arguments[0].terms[0];if("env"===l.value&&null!=u&&"ident"===u.type&&"window-scroll-y"===u.value&&null==i["window-scroll"]){const d="window-scroll"in s?s["window-scroll"]:new gl(this[dj]);d.observe(),delete s["window-scroll"],i["window-scroll"]=d}});for(const a in s)s[a].disconnect();this[E0]=i}dispose(){for(const n in this[E0])this[E0][n].disconnect()}}nj=E0,ij=uj,rj=dj;const ku=r=>{const n=r.observeEffects||!1,i=r.intrinsics instanceof Function?r.intrinsics:()=>r.intrinsics;return(s,a)=>{const l=s.updated,c=s.connectedCallback,u=s.disconnectedCallback,d=Symbol(`${a}StyleEffector`),h=Symbol(`${a}StyleEvaluator`),f=Symbol(`${a}UpdateEvaluator`),p=Symbol(`${a}EvaluateAndSync`);Object.defineProperties(s,{[d]:{value:null,writable:!0},[h]:{value:null,writable:!0},[f]:{value:function(){const m=rh(this[a]);this[h]=new ej(m,i(this)),null==this[d]&&n&&(this[d]=new SRe(()=>this[p]())),null!=this[d]&&this[d].observeEffectsFor(m)}},[p]:{value:function(){if(null==this[h])return;const m=this[h].evaluate();this[r.updateHandler](m)}},updated:{value:function(m){m.has(a)&&(this[f](),this[p]()),l.call(this,m)}},connectedCallback:{value:function(){c.call(this),this.requestUpdate(a,this[a])}},disconnectedCallback:{value:function(){u.call(this),null!=this[d]&&(this[d].dispose(),this[d]=null)}}})}},TRe=new be,fj=new L,pj=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),gC=Math.PI/8;class kRe extends Ho{constructor(n,i,s){super(),this.camera=n,this.element=i,this.scene=s,this.orbitSensitivity=1,this.inputSensitivity=1,this.changeSource="none",this._interactionEnabled=!1,this._disableZoom=!1,this.isUserPointing=!1,this.enablePan=!0,this.enableTap=!0,this.panProjection=new ls,this.panPerPixel=0,this.spherical=new xw,this.goalSpherical=new xw,this.thetaDamper=new vo,this.phiDamper=new vo,this.radiusDamper=new vo,this.logFov=Math.log(pj.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new vo,this.touchMode=null,this.pointers=[],this.startTime=0,this.startPointerPosition={clientX:0,clientY:0},this.lastSeparation=0,this.touchDecided=!1,this.onContext=a=>{if(this.enablePan)a.preventDefault();else for(const l of this.pointers)this.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},this.startPointerPosition),{pointerId:l.id})))},this.touchModeZoom=(a,l)=>{if(!this._disableZoom){const c=this.twoTouchDistance(this.pointers[0],this.pointers[1]),u=.04*(this.lastSeparation-c)*50/this.scene.height;this.lastSeparation=c,this.userAdjustOrbit(0,0,u)}this.panPerPixel>0&&this.movePan(a,l)},this.disableScroll=a=>{a.preventDefault()},this.touchModeRotate=(a,l)=>{const{touchAction:c}=this._options;if(!this.touchDecided&&"none"!==c){this.touchDecided=!0;const u=Math.abs(a),d=Math.abs(l);if("user-interaction"===this.changeSource&&("pan-y"===c&&d>u||"pan-x"===c&&u>d))return void(this.touchMode=null);this.element.addEventListener("touchmove",this.disableScroll,{passive:!1})}this.handleSinglePointerMove(a,l)},this.onPointerDown=a=>{if(this.pointers.length>2)return;const{element:l}=this;0===this.pointers.length&&(l.addEventListener("pointermove",this.onPointerMove),l.addEventListener("pointerup",this.onPointerUp),this.touchMode=null,this.touchDecided=!1,this.startPointerPosition.clientX=a.clientX,this.startPointerPosition.clientY=a.clientY,this.startTime=performance.now());try{l.setPointerCapture(a.pointerId)}catch{}this.pointers.push({clientX:a.clientX,clientY:a.clientY,id:a.pointerId}),this.isUserPointing=!1,"touch"===a.pointerType?(this.changeSource=a.altKey?"automatic":"user-interaction",this.onTouchChange(a)):(this.changeSource="user-interaction",this.onMouseDown(a))},this.onPointerMove=a=>{const l=this.pointers.find(h=>h.id===a.pointerId);if(null==l)return;const c=this.pointers.length,u=(a.clientX-l.clientX)/c,d=(a.clientY-l.clientY)/c;0===u&&0===d||(l.clientX=a.clientX,l.clientY=a.clientY,"touch"===a.pointerType?(this.changeSource=a.altKey?"automatic":"user-interaction",null!==this.touchMode&&this.touchMode(u,d)):(this.changeSource="user-interaction",this.panPerPixel>0?this.movePan(u,d):this.handleSinglePointerMove(u,d)))},this.onPointerUp=a=>{const{element:l}=this,c=this.pointers.findIndex(u=>u.id===a.pointerId);-1!==c&&this.pointers.splice(c,1),this.panPerPixel>0&&!a.altKey&&this.resetRadius(),0===this.pointers.length?(l.removeEventListener("pointermove",this.onPointerMove),l.removeEventListener("pointerup",this.onPointerUp),l.removeEventListener("touchmove",this.disableScroll),this.enablePan&&this.enableTap&&this.recenter(a)):null!==this.touchMode&&this.onTouchChange(a),this.scene.element[yC].style.opacity=0,l.style.cursor="grab",this.panPerPixel=0,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end"})},this.onWheel=a=>{this.changeSource="user-interaction",this.userAdjustOrbit(0,0,a.deltaY*(1==a.deltaMode?18:1)*.04/30),a.preventDefault()},this.onKeyDown=a=>{const{changeSource:l}=this;this.changeSource="user-interaction",(a.shiftKey&&this.enablePan?this.panKeyCodeHandler(a):this.orbitZoomKeyCodeHandler(a))?a.preventDefault():this.changeSource=l},this._options=Object.assign({},pj),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(!1===this._interactionEnabled){const{element:n}=this;n.addEventListener("pointerdown",this.onPointerDown),n.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||n.addEventListener("wheel",this.onWheel),n.addEventListener("keydown",this.onKeyDown),n.addEventListener("touchmove",()=>{},{passive:!1}),n.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(!0===this._interactionEnabled){const{element:n}=this;n.removeEventListener("pointerdown",this.onPointerDown),n.removeEventListener("pointermove",this.onPointerMove),n.removeEventListener("pointerup",this.onPointerUp),n.removeEventListener("pointercancel",this.onPointerUp),n.removeEventListener("wheel",this.onWheel),n.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("contextmenu",this.onContext),n.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(n){this._disableZoom!=n&&(this._disableZoom=n,!0===n?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(n=new xw){return n.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(n){Object.assign(this._options,n),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(n,i){this.camera.near=Math.max(n,i/1e3),this.camera.far=i,this.camera.updateProjectionMatrix()}updateAspect(n){this.camera.aspect=n,this.camera.updateProjectionMatrix()}setOrbit(n=this.goalSpherical.theta,i=this.goalSpherical.phi,s=this.goalSpherical.radius){const{minimumAzimuthalAngle:a,maximumAzimuthalAngle:l,minimumPolarAngle:c,maximumPolarAngle:u,minimumRadius:d,maximumRadius:h}=this._options,{theta:f,phi:p,radius:m}=this.goalSpherical,g=cl(n,a,l);!isFinite(a)&&!isFinite(l)&&(this.spherical.theta=this.wrapAngle(this.spherical.theta-g)+g);const _=cl(i,c,u),A=cl(s,d,h);return(g!==f||_!==p||A!==m)&&(this.goalSpherical.theta=g,this.goalSpherical.phi=_,this.goalSpherical.radius=A,this.goalSpherical.makeSafe(),!0)}setRadius(n){this.goalSpherical.radius=n,this.setOrbit()}setFieldOfView(n){const{minimumFieldOfView:i,maximumFieldOfView:s}=this._options;n=cl(n,i,s),this.goalLogFov=Math.log(n)}setDamperDecayTime(n){this.thetaDamper.setDecayTime(n),this.phiDamper.setDecayTime(n),this.radiusDamper.setDecayTime(n),this.fovDamper.setDecayTime(n)}adjustOrbit(n,i,s){const{theta:a,phi:l,radius:c}=this.goalSpherical,{minimumRadius:u,maximumRadius:d,minimumFieldOfView:h,maximumFieldOfView:f}=this._options,p=this.spherical.theta-a,m=Math.PI-.001,g=a-cl(n,-m-p,m-p),_=l-i,A=0===s?0:((s>0?d:u)-c)/(Math.log(s>0?f:h)-this.goalLogFov),b=c+s*(isFinite(A)?A:2*(d-u));this.setOrbit(g,_,b),0!==s&&this.setFieldOfView(Math.exp(this.goalLogFov+s))}jumpToGoal(){this.update(0,1e4)}update(n,i){if(this.isStationary())return;const{maximumPolarAngle:s,maximumRadius:a}=this._options,l=this.spherical.theta-this.goalSpherical.theta;Math.abs(l)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(l)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,i,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,i,s),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,i,a),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,i,1),this.moveCamera()}updateTouchActionStyle(){const{style:n}=this.element;if(this._interactionEnabled){const{touchAction:i}=this._options;n.touchAction=this._disableZoom&&"none"!==i?"manipulation":i}else n.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}dispatchChange(){this.dispatchEvent({type:"change",source:this.changeSource})}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new CI(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix()),this.dispatchChange()}userAdjustOrbit(n,i,s){this.adjustOrbit(n*this.orbitSensitivity*this.inputSensitivity,i*this.orbitSensitivity*this.inputSensitivity,s*this.inputSensitivity),this.dispatchChange()}wrapAngle(n){const i=(n+Math.PI)/(2*Math.PI);return 2*(i-Math.floor(i))*Math.PI-Math.PI}pixelLengthToSphericalAngle(n){return 2*Math.PI*n/this.element.clientHeight}twoTouchDistance(n,i){const{clientX:s,clientY:a}=n,{clientX:l,clientY:c}=i,u=l-s,d=c-a;return Math.sqrt(u*u+d*d)}handleSinglePointerMove(n,i){const s=this.pixelLengthToSphericalAngle(n),a=this.pixelLengthToSphericalAngle(i);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(s,a,0)}initializePan(){const{theta:n,phi:i}=this.spherical,s=n-this.scene.yaw;this.panPerPixel=.018/this.scene.height,this.panProjection.set(-Math.cos(s),-Math.cos(i)*Math.sin(s),0,0,Math.sin(i),0,Math.sin(s),-Math.cos(i)*Math.cos(s),0)}movePan(n,i){const{scene:s}=this,a=fj.set(n,i,0).multiplyScalar(this.inputSensitivity),l=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;a.multiplyScalar(l);const c=s.getTarget();c.add(a.applyMatrix3(this.panProjection)),s.boundingSphere.clampPoint(c,c),s.setTarget(c.x,c.y,c.z),this.dispatchChange()}recenter(n){if(performance.now()>this.startTime+300||Math.abs(n.clientX-this.startPointerPosition.clientX)>2||Math.abs(n.clientY-this.startPointerPosition.clientY)>2)return;const{scene:i}=this,s=i.positionAndNormalFromPoint(i.getNDC(n.clientX,n.clientY));if(null==s){const{cameraTarget:a}=i.element;i.element.cameraTarget="",i.element.cameraTarget=a,this.userAdjustOrbit(0,0,1)}else i.target.worldToLocal(s.position),i.setTarget(s.position.x,s.position.y,s.position.z)}resetRadius(){const{scene:n}=this,i=n.positionAndNormalFromPoint(TRe.set(0,0));if(null==i)return;n.target.worldToLocal(i.position);const s=n.getTarget(),{theta:a,phi:l}=this.spherical,c=a-n.yaw,u=fj.set(Math.sin(l)*Math.sin(c),Math.cos(l),Math.sin(l)*Math.cos(c)),d=u.dot(i.position.sub(s));s.add(u.multiplyScalar(d)),n.setTarget(s.x,s.y,s.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-d)}onTouchChange(n){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom)return this.touchMode=null,void this.element.removeEventListener("touchmove",this.disableScroll);this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),n.altKey||(this.scene.element[yC].style.opacity=1))}}onMouseDown(n){this.panPerPixel=0,this.enablePan&&(2===n.button||n.ctrlKey||n.metaKey||n.shiftKey)&&(this.initializePan(),this.scene.element[yC].style.opacity=1),this.element.style.cursor="grabbing"}orbitZoomKeyCodeHandler(n){let i=!0;switch(n.key){case"PageUp":this.userAdjustOrbit(0,0,.04);break;case"PageDown":this.userAdjustOrbit(0,0,-.04);break;case"ArrowUp":this.userAdjustOrbit(0,-gC,0);break;case"ArrowDown":this.userAdjustOrbit(0,gC,0);break;case"ArrowLeft":this.userAdjustOrbit(-gC,0,0);break;case"ArrowRight":this.userAdjustOrbit(gC,0,0);break;default:i=!1}return i}panKeyCodeHandler(n){this.initializePan();let i=!0;switch(n.key){case"ArrowUp":this.movePan(0,-10);break;case"ArrowDown":this.movePan(0,10);break;case"ArrowLeft":this.movePan(-10,0);break;case"ArrowRight":this.movePan(10,0);break;default:i=!1}return i}}const mj=r=>r<.5?2*r*r:(4-2*r)*r-1,RRe=(r,n,i=mj)=>s=>r+(n-r)*i(s),nm=r=>{const n=[],i=[];let s=r.initialValue;for(let a=0;a<r.keyframes.length;++a){const l=r.keyframes[a],{value:c,frames:u}=l,h=RRe(s,c,l.ease||mj);n.push(h),i.push(u),s=c}return((r,n)=>{const s=n.map((a=0,l=>a+=l));var a;return a=>{a=cl(a,0,1),a*=s[s.length-1];const l=s.findIndex(d=>d>=a),c=l<1?0:s[l-1];return r[l]((a-c)/(s[l]-c))}})(n,i)};var fs=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const BRe=nm({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),LRe=nm({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),gj="0deg 75deg 105%",HRe=["front","right","back","left"],GRe=["upper-","","lower-"],_j=()=>({basis:[zw(ds(30,"deg"))],keywords:{auto:[null]}}),jRe=()=>({basis:[zw(ds(12,"deg"))],keywords:{auto:[null]}}),bj=(()=>{const r=rh(gj)[0].terms,n=ul(r[0]),i=ul(r[1]);return s=>{const a=s[ze].idealCameraDistance();return{basis:[n,i,ds(a,"m")],keywords:{auto:[null,null,ds(105,"%")]}}}})(),qRe=r=>{const n=2.2*r[ze].boundingSphere.radius;return{basis:[ds(-1/0,"rad"),ds(Math.PI/8,"rad"),ds(n,"m")],keywords:{auto:[null,null,null]}}},YRe=r=>{const n=bj(r),s=new ej([],n).evaluate()[2];return{basis:[ds(1/0,"rad"),ds(Math.PI-Math.PI/8,"rad"),ds(s,"m")],keywords:{auto:[null,null,null]}}},XRe=r=>{const n=r[ze].boundingBox.getCenter(new L);return{basis:[ds(n.x,"m"),ds(n.y,"m"),ds(n.z,"m")],keywords:{auto:[null,null,null]}}},Aj=Math.PI/2,KRe=Math.PI/3,ZRe=Aj/2,JRe=2*Math.PI,Xn=Symbol("controls"),yC=Symbol("panElement"),cR=Symbol("promptElement"),uR=Symbol("promptAnimatedContainer"),dR=Symbol("fingerAnimatedContainers"),vC=Symbol("deferInteractionPrompt"),yj=Symbol("updateAria"),vj=Symbol("updateCameraForRadius"),wC=Symbol("onChange"),S0=Symbol("onPointerChange"),ah=Symbol("waitingToPromptUser"),CC=Symbol("userHasInteracted"),im=Symbol("promptElementVisibleTime"),D0=Symbol("lastPromptOffset"),hR=Symbol("lastSpherical"),I0=Symbol("jumpCamera"),fR=Symbol("initialized"),T0=Symbol("maintainThetaPhi"),wj=Symbol("syncCameraOrbit"),Cj=Symbol("syncFieldOfView"),xj=Symbol("syncCameraTarget"),Mj=Symbol("syncMinCameraOrbit"),Ej=Symbol("syncMaxCameraOrbit"),Sj=Symbol("syncMinFieldOfView"),Dj=Symbol("syncMaxFieldOfView");var pR=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const lh=Symbol("defaultProgressBarElement"),gR=Symbol("posterContainerElement"),rm=Symbol("defaultPosterElement"),k0=Symbol("shouldDismissPoster"),_R=Symbol("hidePoster"),xC=Symbol("modelIsRevealed"),bR=Symbol("updateProgressBar"),rPe=Symbol("ariaLabelCallToAction"),AR=Symbol("onProgress");class yR{constructor(){this.pluginCallbacks=[],this.register(function(n){return new pPe(n)}),this.register(function(n){return new mPe(n)}),this.register(function(n){return new gPe(n)}),this.register(function(n){return new APe(n)}),this.register(function(n){return new yPe(n)}),this.register(function(n){return new _Pe(n)}),this.register(function(n){return new bPe(n)})}register(n){return-1===this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.push(n),this}unregister(n){return-1!==this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(n),1),this}parse(n,i,s,a){const l=new fPe,c=[];for(let u=0,d=this.pluginCallbacks.length;u<d;u++)c.push(this.pluginCallbacks[u](l));l.setPlugins(c),l.write(n,i,a).catch(s)}parseAsync(n,i){const s=this;return new Promise(function(a,l){s.parse(n,a,l,i)})}}const wo={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987,1001:33071,1e3:10497,1002:33648},Tj={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"};function R0(r,n){return r.length===n.length&&r.every(function(i,s){return i===n[s]})}function Pj(r){return 4*Math.ceil(r/4)}function vR(r,n=0){const i=Pj(r.byteLength);if(i!==r.byteLength){const s=new Uint8Array(i);if(s.set(new Uint8Array(r)),0!==n)for(let a=r.byteLength;a<i;a++)s[a]=n;return s.buffer}return r}function Oj(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function Bj(r,n){if(void 0!==r.toBlob)return new Promise(s=>r.toBlob(s,n));let i;return"image/jpeg"===n?i=.92:"image/webp"===n&&(i=.8),r.convertToBlob({type:n,quality:i})}class fPe{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(n){this.plugins=n}write(n,i,s){var a=this;return ut(function*(){a.options=Object.assign({},{binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},s),a.options.animations.length>0&&(a.options.trs=!0),a.processInput(n),yield Promise.all(a.pending);const u=a.json;s=a.options;const d=a.extensionsUsed,h=new Blob(a.buffers,{type:"application/octet-stream"}),f=Object.keys(d);if(f.length>0&&(u.extensionsUsed=f),u.buffers&&u.buffers.length>0&&(u.buffers[0].byteLength=h.size),!0===s.binary){const p=new FileReader;p.readAsArrayBuffer(h),p.onloadend=function(){const m=vR(p.result),g=new DataView(new ArrayBuffer(8));g.setUint32(0,m.byteLength,!0),g.setUint32(4,5130562,!0);const _=vR(function uPe(r){return(new TextEncoder).encode(r).buffer}(JSON.stringify(u)),32),A=new DataView(new ArrayBuffer(8));A.setUint32(0,_.byteLength,!0),A.setUint32(4,1313821514,!0);const b=new ArrayBuffer(12),y=new DataView(b);y.setUint32(0,1179937895,!0),y.setUint32(4,2,!0),y.setUint32(8,12+A.byteLength+_.byteLength+g.byteLength+m.byteLength,!0);const v=new Blob([b,A,_,g,m],{type:"application/octet-stream"}),C=new FileReader;C.readAsArrayBuffer(v),C.onloadend=function(){i(C.result)}}}else if(u.buffers&&u.buffers.length>0){const p=new FileReader;p.readAsDataURL(h),p.onloadend=function(){u.buffers[0].uri=p.result,i(u)}}else i(u)})()}serializeUserData(n,i){if(0===Object.keys(n.userData).length)return;const s=this.options,a=this.extensionsUsed;try{const l=JSON.parse(JSON.stringify(n.userData));if(s.includeCustomExtensions&&l.gltfExtensions){void 0===i.extensions&&(i.extensions={});for(const c in l.gltfExtensions)i.extensions[c]=l.gltfExtensions[c],a[c]=!0;delete l.gltfExtensions}Object.keys(l).length>0&&(i.extras=l)}catch(l){console.warn("THREE.GLTFExporter: userData of '"+n.name+"' won't be serialized because of JSON.stringify error - "+l.message)}}getUID(n,i=!1){if(!1===this.uids.has(n)){const a=new Map;a.set(!0,this.uid++),a.set(!1,this.uid++),this.uids.set(n,a)}return this.uids.get(n).get(i)}isNormalizedNormalAttribute(n){if(this.cache.attributesNormalized.has(n))return!1;const s=new L;for(let a=0,l=n.count;a<l;a++)if(Math.abs(s.fromBufferAttribute(n,a).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(n){const i=this.cache;if(i.attributesNormalized.has(n))return i.attributesNormalized.get(n);const s=n.clone(),a=new L;for(let l=0,c=s.count;l<c;l++)a.fromBufferAttribute(s,l),0===a.x&&0===a.y&&0===a.z?a.setX(1):a.normalize(),s.setXYZ(l,a.x,a.y,a.z);return i.attributesNormalized.set(n,s),s}applyTextureTransform(n,i){let s=!1;const a={};(0!==i.offset.x||0!==i.offset.y)&&(a.offset=i.offset.toArray(),s=!0),0!==i.rotation&&(a.rotation=i.rotation,s=!0),(1!==i.repeat.x||1!==i.repeat.y)&&(a.scale=i.repeat.toArray(),s=!0),s&&(n.extensions=n.extensions||{},n.extensions.KHR_texture_transform=a,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(n,i){if(n===i)return n;function s(g){return g.encoding===hn?function(A){return A<.04045?.0773993808*A:Math.pow(.9478672986*A+.0521327014,2.4)}:function(A){return A}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures.");const a=n?.image,l=i?.image,c=Math.max(a?.width||0,l?.width||0),u=Math.max(a?.height||0,l?.height||0),d=Oj();d.width=c,d.height=u;const h=d.getContext("2d");h.fillStyle="#00ffff",h.fillRect(0,0,c,u);const f=h.getImageData(0,0,c,u);if(a){h.drawImage(a,0,0,c,u);const g=s(n),_=h.getImageData(0,0,c,u).data;for(let A=2;A<_.length;A+=4)f.data[A]=256*g(_[A]/256)}if(l){h.drawImage(l,0,0,c,u);const g=s(i),_=h.getImageData(0,0,c,u).data;for(let A=1;A<_.length;A+=4)f.data[A]=256*g(_[A]/256)}h.putImageData(f,0,0);const m=(n||i).clone();return m.source=new Bd(d),m.encoding=os,m}processBuffer(n){const i=this.json,s=this.buffers;return i.buffers||(i.buffers=[{byteLength:0}]),s.push(n),0}processBufferView(n,i,s,a,l){const c=this.json;let u;c.bufferViews||(c.bufferViews=[]),u=5121===i?1:5123===i?2:4;const d=Pj(a*n.itemSize*u),h=new DataView(new ArrayBuffer(d));let f=0;for(let g=s;g<s+a;g++)for(let _=0;_<n.itemSize;_++){let A;n.itemSize>4?A=n.array[g*n.itemSize+_]:0===_?A=n.getX(g):1===_?A=n.getY(g):2===_?A=n.getZ(g):3===_&&(A=n.getW(g)),5126===i?h.setFloat32(f,A,!0):5125===i?h.setUint32(f,A,!0):5123===i?h.setUint16(f,A,!0):5121===i&&h.setUint8(f,A),f+=u}const p={buffer:this.processBuffer(h.buffer),byteOffset:this.byteOffset,byteLength:d};return void 0!==l&&(p.target=l),34962===l&&(p.byteStride=n.itemSize*u),this.byteOffset+=d,c.bufferViews.push(p),{id:c.bufferViews.length-1,byteLength:0}}processBufferViewImage(n){const i=this,s=i.json;return s.bufferViews||(s.bufferViews=[]),new Promise(function(a){const l=new FileReader;l.readAsArrayBuffer(n),l.onloadend=function(){const c=vR(l.result),u={buffer:i.processBuffer(c),byteOffset:i.byteOffset,byteLength:c.byteLength};i.byteOffset+=c.byteLength,a(s.bufferViews.push(u)-1)}})}processAccessor(n,i,s,a){const l=this.options,c=this.json;let d;if(n.array.constructor===Float32Array)d=5126;else if(n.array.constructor===Uint32Array)d=5125;else if(n.array.constructor===Uint16Array)d=5123;else{if(n.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");d=5121}if(void 0===s&&(s=0),void 0===a&&(a=n.count),l.truncateDrawRange&&void 0!==i&&null===i.index){const g=s+a,_=i.drawRange.count===1/0?n.count:i.drawRange.start+i.drawRange.count;s=Math.max(s,i.drawRange.start),(a=Math.min(g,_)-s)<0&&(a=0)}if(0===a)return null;const h=function hPe(r,n,i){const s={min:new Array(r.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(r.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let a=n;a<n+i;a++)for(let l=0;l<r.itemSize;l++){let c;r.itemSize>4?c=r.array[a*r.itemSize+l]:0===l?c=r.getX(a):1===l?c=r.getY(a):2===l?c=r.getZ(a):3===l&&(c=r.getW(a)),s.min[l]=Math.min(s.min[l],c),s.max[l]=Math.max(s.max[l],c)}return s}(n,s,a);let f;void 0!==i&&(f=n===i.index?34963:34962);const p=this.processBufferView(n,d,s,a,f),m={bufferView:p.id,byteOffset:p.byteOffset,componentType:d,count:a,max:h.max,min:h.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[n.itemSize]};return!0===n.normalized&&(m.normalized=!0),c.accessors||(c.accessors=[]),c.accessors.push(m)-1}processImage(n,i,s,a="image/png"){const l=this,c=l.cache,u=l.json,d=l.options,h=l.pending;c.images.has(n)||c.images.set(n,{});const f=c.images.get(n),p=a+":flipY/"+s.toString();if(void 0!==f[p])return f[p];u.images||(u.images=[]);const m={mimeType:a},g=Oj();g.width=Math.min(n.width,d.maxTextureSize),g.height=Math.min(n.height,d.maxTextureSize);const _=g.getContext("2d");if(!0===s&&(_.translate(0,g.height),_.scale(1,-1)),void 0!==n.data){i!==Ir&&console.error("GLTFExporter: Only RGBAFormat is supported."),(n.width>d.maxTextureSize||n.height>d.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",n);const b=new Uint8ClampedArray(n.height*n.width*4);for(let y=0;y<b.length;y+=4)b[y+0]=n.data[y+0],b[y+1]=n.data[y+1],b[y+2]=n.data[y+2],b[y+3]=n.data[y+3];_.putImageData(new ImageData(b,n.width,n.height),0,0)}else _.drawImage(n,0,0,g.width,g.height);!0===d.binary?h.push(Bj(g,a).then(b=>l.processBufferViewImage(b)).then(b=>{m.bufferView=b})):void 0!==g.toDataURL?m.uri=g.toDataURL(a):h.push(Bj(g,a).then(b=>(new FileReader).readAsDataURL(b)).then(b=>{m.uri=b}));const A=u.images.push(m)-1;return f[p]=A,A}processSampler(n){const i=this.json;return i.samplers||(i.samplers=[]),i.samplers.push({magFilter:wo[n.magFilter],minFilter:wo[n.minFilter],wrapS:wo[n.wrapS],wrapT:wo[n.wrapT]})-1}processTexture(n){const i=this.cache,s=this.json;if(i.textures.has(n))return i.textures.get(n);s.textures||(s.textures=[]);let a=n.userData.mimeType;"image/webp"===a&&(a="image/png");const l={sampler:this.processSampler(n),source:this.processImage(n.image,n.format,n.flipY,a)};n.name&&(l.name=n.name),this._invokeAll(function(u){u.writeTexture&&u.writeTexture(n,l)});const c=s.textures.push(l)-1;return i.textures.set(n,c),c}processMaterial(n){const i=this.cache,s=this.json;if(i.materials.has(n))return i.materials.get(n);if(n.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;s.materials||(s.materials=[]);const a={pbrMetallicRoughness:{}};!0!==n.isMeshStandardMaterial&&!0!==n.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const l=n.color.toArray().concat([n.opacity]);if(R0(l,[1,1,1,1])||(a.pbrMetallicRoughness.baseColorFactor=l),n.isMeshStandardMaterial?(a.pbrMetallicRoughness.metallicFactor=n.metalness,a.pbrMetallicRoughness.roughnessFactor=n.roughness):(a.pbrMetallicRoughness.metallicFactor=.5,a.pbrMetallicRoughness.roughnessFactor=.5),n.metalnessMap||n.roughnessMap){const u=this.buildMetalRoughTexture(n.metalnessMap,n.roughnessMap),d={index:this.processTexture(u)};this.applyTextureTransform(d,u),a.pbrMetallicRoughness.metallicRoughnessTexture=d}if(n.map){const u={index:this.processTexture(n.map)};this.applyTextureTransform(u,n.map),a.pbrMetallicRoughness.baseColorTexture=u}if(n.emissive){const u=n.emissive.clone().multiplyScalar(n.emissiveIntensity),d=Math.max(u.r,u.g,u.b);if(d>1&&(u.multiplyScalar(1/d),console.warn("THREE.GLTFExporter: Some emissive components exceed 1; emissive has been limited")),d>0&&(a.emissiveFactor=u.toArray()),n.emissiveMap){const h={index:this.processTexture(n.emissiveMap)};this.applyTextureTransform(h,n.emissiveMap),a.emissiveTexture=h}}if(n.normalMap){const u={index:this.processTexture(n.normalMap)};n.normalScale&&1!==n.normalScale.x&&(u.scale=n.normalScale.x),this.applyTextureTransform(u,n.normalMap),a.normalTexture=u}if(n.aoMap){const u={index:this.processTexture(n.aoMap),texCoord:1};1!==n.aoMapIntensity&&(u.strength=n.aoMapIntensity),this.applyTextureTransform(u,n.aoMap),a.occlusionTexture=u}n.transparent?a.alphaMode="BLEND":n.alphaTest>0&&(a.alphaMode="MASK",a.alphaCutoff=n.alphaTest),2===n.side&&(a.doubleSided=!0),""!==n.name&&(a.name=n.name),this.serializeUserData(n,a),this._invokeAll(function(u){u.writeMaterial&&u.writeMaterial(n,a)});const c=s.materials.push(a)-1;return i.materials.set(n,c),c}processMesh(n){const i=this.cache,s=this.json,a=[n.geometry.uuid];if(Array.isArray(n.material))for(let v=0,C=n.material.length;v<C;v++)a.push(n.material[v].uuid);else a.push(n.material.uuid);const l=a.join(":");if(i.meshes.has(l))return i.meshes.get(l);const c=n.geometry;let u;u=n.isLineSegments?1:n.isLineLoop?2:n.isLine?3:n.isPoints?0:n.material.wireframe?1:4;const d={},h={},f=[],p=[],m={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},g=c.getAttribute("normal");void 0!==g&&!this.isNormalizedNormalAttribute(g)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),c.setAttribute("normal",this.createNormalizedNormalAttribute(g)));let _=null;for(let v in c.attributes){if("morph"===v.slice(0,5))continue;const C=c.attributes[v];if(v=m[v]||v.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(v)||(v="_"+v),i.attributes.has(this.getUID(C))){h[v]=i.attributes.get(this.getUID(C));continue}_=null;const E=C.array;"JOINTS_0"===v&&!(E instanceof Uint16Array)&&!(E instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),_=new _i(new Uint16Array(E),C.itemSize,C.normalized));const S=this.processAccessor(_||C,c);null!==S&&(h[v]=S,i.attributes.set(this.getUID(C),S))}if(void 0!==g&&c.setAttribute("normal",g),0===Object.keys(h).length)return null;if(void 0!==n.morphTargetInfluences&&n.morphTargetInfluences.length>0){const v=[],C=[],M={};if(void 0!==n.morphTargetDictionary)for(const E in n.morphTargetDictionary)M[n.morphTargetDictionary[E]]=E;for(let E=0;E<n.morphTargetInfluences.length;++E){const S={};let x=!1;for(const D in c.morphAttributes){if("position"!==D&&"normal"!==D){x||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),x=!0);continue}const T=c.morphAttributes[D][E],k=D.toUpperCase(),R=c.attributes[D];if(i.attributes.has(this.getUID(T,!0))){S[k]=i.attributes.get(this.getUID(T,!0));continue}const F=T.clone();if(!c.morphTargetsRelative)for(let O=0,j=T.count;O<j;O++)F.setXYZ(O,T.getX(O)-R.getX(O),T.getY(O)-R.getY(O),T.getZ(O)-R.getZ(O));S[k]=this.processAccessor(F,c),i.attributes.set(this.getUID(R,!0),S[k])}p.push(S),v.push(n.morphTargetInfluences[E]),void 0!==n.morphTargetDictionary&&C.push(M[E])}d.weights=v,C.length>0&&(d.extras={},d.extras.targetNames=C)}const A=Array.isArray(n.material);if(A&&0===c.groups.length)return null;const b=A?n.material:[n.material],y=A?c.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let v=0,C=y.length;v<C;v++){const M={mode:u,attributes:h};if(this.serializeUserData(c,M),p.length>0&&(M.targets=p),null!==c.index){let S=this.getUID(c.index);(void 0!==y[v].start||void 0!==y[v].count)&&(S+=":"+y[v].start+":"+y[v].count),i.attributes.has(S)?M.indices=i.attributes.get(S):(M.indices=this.processAccessor(c.index,c,y[v].start,y[v].count),i.attributes.set(S,M.indices)),null===M.indices&&delete M.indices}const E=this.processMaterial(b[y[v].materialIndex]);null!==E&&(M.material=E),f.push(M)}d.primitives=f,s.meshes||(s.meshes=[]),this._invokeAll(function(v){v.writeMesh&&v.writeMesh(n,d)});const w=s.meshes.push(d)-1;return i.meshes.set(l,w),w}processCamera(n){const i=this.json;i.cameras||(i.cameras=[]);const s=n.isOrthographicCamera,a={type:s?"orthographic":"perspective"};return s?a.orthographic={xmag:2*n.right,ymag:2*n.top,zfar:n.far<=0?.001:n.far,znear:n.near<0?0:n.near}:a.perspective={aspectRatio:n.aspect,yfov:WG.degToRad(n.fov),zfar:n.far<=0?.001:n.far,znear:n.near<0?0:n.near},""!==n.name&&(a.name=n.type),i.cameras.push(a)-1}processAnimation(n,i){const s=this.json,a=this.nodeMap;s.animations||(s.animations=[]);const l=(n=yR.Utils.mergeMorphTargetTracks(n.clone(),i)).tracks,c=[],u=[];for(let d=0;d<l.length;++d){const h=l[d],f=Vn.parseTrackName(h.name);let p=Vn.findNode(i,f.nodeName);const m=Tj[f.propertyName];if("bones"===f.objectName&&(p=!0===p.isSkinnedMesh?p.skeleton.getBoneByName(f.objectIndex):void 0),!p||!m)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name),null;const g=1;let A,_=h.values.length/h.times.length;m===Tj.morphTargetInfluences&&(_/=p.morphTargetInfluences.length),!0===h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(A="CUBICSPLINE",_/=3):A=h.getInterpolation()===Jf?"STEP":"LINEAR",u.push({input:this.processAccessor(new _i(h.times,g)),output:this.processAccessor(new _i(h.values,_)),interpolation:A}),c.push({sampler:u.length-1,target:{node:a.get(p),path:m}})}return s.animations.push({name:n.name||"clip_"+s.animations.length,samplers:u,channels:c}),s.animations.length-1}processSkin(n){const i=this.json,s=this.nodeMap,a=i.nodes[s.get(n)],l=n.skeleton;if(void 0===l)return null;const c=n.skeleton.bones[0];if(void 0===c)return null;const u=[],d=new Float32Array(16*l.bones.length),h=new Pt;for(let p=0;p<l.bones.length;++p)u.push(s.get(l.bones[p])),h.copy(l.boneInverses[p]),h.multiply(n.bindMatrix).toArray(d,16*p);return void 0===i.skins&&(i.skins=[]),i.skins.push({inverseBindMatrices:this.processAccessor(new _i(d,16)),joints:u,skeleton:s.get(c)}),a.skin=i.skins.length-1}processNode(n){const i=this.json,s=this.options,a=this.nodeMap;i.nodes||(i.nodes=[]);const l={};if(s.trs){const u=n.quaternion.toArray(),d=n.position.toArray(),h=n.scale.toArray();R0(u,[0,0,0,1])||(l.rotation=u),R0(d,[0,0,0])||(l.translation=d),R0(h,[1,1,1])||(l.scale=h)}else n.matrixAutoUpdate&&n.updateMatrix(),!1===function dPe(r){return R0(r.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}(n.matrix)&&(l.matrix=n.matrix.elements);if(""!==n.name&&(l.name=String(n.name)),this.serializeUserData(n,l),n.isMesh||n.isLine||n.isPoints){const u=this.processMesh(n);null!==u&&(l.mesh=u)}else n.isCamera&&(l.camera=this.processCamera(n));if(n.isSkinnedMesh&&this.skins.push(n),n.children.length>0){const u=[];for(let d=0,h=n.children.length;d<h;d++){const f=n.children[d];if(f.visible||!1===s.onlyVisible){const p=this.processNode(f);null!==p&&u.push(p)}}u.length>0&&(l.children=u)}this._invokeAll(function(u){u.writeNode&&u.writeNode(n,l)});const c=i.nodes.push(l)-1;return a.set(n,c),c}processScene(n){const i=this.json,s=this.options;i.scenes||(i.scenes=[],i.scene=0);const a={};""!==n.name&&(a.name=n.name),i.scenes.push(a);const l=[];for(let c=0,u=n.children.length;c<u;c++){const d=n.children[c];if(d.visible||!1===s.onlyVisible){const h=this.processNode(d);null!==h&&l.push(h)}}l.length>0&&(a.nodes=l),this.serializeUserData(n,a)}processObjects(n){const i=new ac;i.name="AuxScene";for(let s=0;s<n.length;s++)i.children.push(n[s]);this.processScene(i)}processInput(n){const i=this.options;n=n instanceof Array?n:[n],this._invokeAll(function(a){a.beforeParse&&a.beforeParse(n)});const s=[];for(let a=0;a<n.length;a++)n[a]instanceof ac?this.processScene(n[a]):s.push(n[a]);s.length>0&&this.processObjects(s);for(let a=0;a<this.skins.length;++a)this.processSkin(this.skins[a]);for(let a=0;a<i.animations.length;++a)this.processAnimation(i.animations[a],n[0]);this._invokeAll(function(a){a.afterParse&&a.afterParse(n)})}_invokeAll(n){for(let i=0,s=this.plugins.length;i<s;i++)n(this.plugins[i])}}class pPe{constructor(n){this.writer=n,this.name="KHR_lights_punctual"}writeNode(n,i){if(!n.isLight)return;if(!n.isDirectionalLight&&!n.isPointLight&&!n.isSpotLight)return void console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",n);const s=this.writer,a=s.json,l=s.extensionsUsed,c={};n.name&&(c.name=n.name),c.color=n.color.toArray(),c.intensity=n.intensity,n.isDirectionalLight?c.type="directional":n.isPointLight?(c.type="point",n.distance>0&&(c.range=n.distance)):n.isSpotLight&&(c.type="spot",n.distance>0&&(c.range=n.distance),c.spot={},c.spot.innerConeAngle=(n.penumbra-1)*n.angle*-1,c.spot.outerConeAngle=n.angle),void 0!==n.decay&&2!==n.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),n.target&&(n.target.parent!==n||0!==n.target.position.x||0!==n.target.position.y||-1!==n.target.position.z)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),l[this.name]||(a.extensions=a.extensions||{},a.extensions[this.name]={lights:[]},l[this.name]=!0);const u=a.extensions[this.name].lights;u.push(c),i.extensions=i.extensions||{},i.extensions[this.name]={light:u.length-1}}}class mPe{constructor(n){this.writer=n,this.name="KHR_materials_unlit"}writeMaterial(n,i){if(!n.isMeshBasicMaterial)return;const a=this.writer.extensionsUsed;i.extensions=i.extensions||{},i.extensions[this.name]={},a[this.name]=!0,i.pbrMetallicRoughness.metallicFactor=0,i.pbrMetallicRoughness.roughnessFactor=.9}}class gPe{constructor(n){this.writer=n,this.name="KHR_materials_pbrSpecularGlossiness"}writeMaterial(n,i){if(!n.isGLTFSpecularGlossinessMaterial)return;const s=this.writer,a=s.extensionsUsed,l={};i.pbrMetallicRoughness.baseColorFactor&&(l.diffuseFactor=i.pbrMetallicRoughness.baseColorFactor);const c=[1,1,1];if(n.specular.toArray(c,0),l.specularFactor=c,l.glossinessFactor=n.glossiness,i.pbrMetallicRoughness.baseColorTexture&&(l.diffuseTexture=i.pbrMetallicRoughness.baseColorTexture),n.specularMap){const u={index:s.processTexture(n.specularMap)};s.applyTextureTransform(u,n.specularMap),l.specularGlossinessTexture=u}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class _Pe{constructor(n){this.writer=n,this.name="KHR_materials_clearcoat"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.clearcoatFactor=n.clearcoat,n.clearcoatMap){const c={index:s.processTexture(n.clearcoatMap)};s.applyTextureTransform(c,n.clearcoatMap),l.clearcoatTexture=c}if(l.clearcoatRoughnessFactor=n.clearcoatRoughness,n.clearcoatRoughnessMap){const c={index:s.processTexture(n.clearcoatRoughnessMap)};s.applyTextureTransform(c,n.clearcoatRoughnessMap),l.clearcoatRoughnessTexture=c}if(n.clearcoatNormalMap){const c={index:s.processTexture(n.clearcoatNormalMap)};s.applyTextureTransform(c,n.clearcoatNormalMap),l.clearcoatNormalTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class bPe{constructor(n){this.writer=n,this.name="KHR_materials_iridescence"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.iridescenceFactor=n.iridescence,n.iridescenceMap){const c={index:s.processTexture(n.iridescenceMap)};s.applyTextureTransform(c,n.iridescenceMap),l.iridescenceTexture=c}if(l.iridescenceIor=n.iridescenceIOR,l.iridescenceThicknessMinimum=n.iridescenceThicknessRange[0],l.iridescenceThicknessMaximum=n.iridescenceThicknessRange[1],n.iridescenceThicknessMap){const c={index:s.processTexture(n.iridescenceThicknessMap)};s.applyTextureTransform(c,n.iridescenceThicknessMap),l.iridescenceThicknessTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class APe{constructor(n){this.writer=n,this.name="KHR_materials_transmission"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.transmission)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.transmissionFactor=n.transmission,n.transmissionMap){const c={index:s.processTexture(n.transmissionMap)};s.applyTextureTransform(c,n.transmissionMap),l.transmissionTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class yPe{constructor(n){this.writer=n,this.name="KHR_materials_volume"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.transmission)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.thicknessFactor=n.thickness,n.thicknessMap){const c={index:s.processTexture(n.thicknessMap)};s.applyTextureTransform(c,n.thicknessMap),l.thicknessTexture=c}l.attenuationDistance=n.attenuationDistance,l.attenuationColor=n.attenuationColor.toArray(),i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}yR.Utils={insertKeyframe:function(r,n){const s=r.getValueSize(),a=new r.TimeBufferType(r.times.length+1),l=new r.ValueBufferType(r.values.length+s),c=r.createInterpolant(new r.ValueBufferType(s));let u;if(0===r.times.length){a[0]=n;for(let d=0;d<s;d++)l[d]=0;u=0}else if(n<r.times[0]){if(Math.abs(r.times[0]-n)<.001)return 0;a[0]=n,a.set(r.times,1),l.set(c.evaluate(n),0),l.set(r.values,s),u=0}else if(n>r.times[r.times.length-1]){if(Math.abs(r.times[r.times.length-1]-n)<.001)return r.times.length-1;a[a.length-1]=n,a.set(r.times,0),l.set(r.values,0),l.set(c.evaluate(n),r.values.length),u=a.length-1}else for(let d=0;d<r.times.length;d++){if(Math.abs(r.times[d]-n)<.001)return d;if(r.times[d]<n&&r.times[d+1]>n){a.set(r.times.slice(0,d+1),0),a[d+1]=n,a.set(r.times.slice(d+1),d+2),l.set(r.values.slice(0,(d+1)*s),0),l.set(c.evaluate(n),(d+1)*s),l.set(r.values.slice((d+1)*s),(d+2)*s),u=d+1;break}}return r.times=a,r.values=l,u},mergeMorphTargetTracks:function(r,n){const i=[],s={},a=r.tracks;for(let l=0;l<a.length;++l){let c=a[l];const u=Vn.parseTrackName(c.name),d=Vn.findNode(n,u.nodeName);if("morphTargetInfluences"!==u.propertyName||void 0===u.propertyIndex){i.push(c);continue}if(c.createInterpolant!==c.InterpolantFactoryMethodDiscrete&&c.createInterpolant!==c.InterpolantFactoryMethodLinear){if(c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),c=c.clone(),c.setInterpolation(kd)}const h=d.morphTargetInfluences.length,f=d.morphTargetDictionary[u.propertyIndex];if(void 0===f)throw new Error("THREE.GLTFExporter: Morph target name not found: "+u.propertyIndex);let p;if(void 0===s[d.uuid]){p=c.clone();const g=new p.ValueBufferType(h*p.times.length);for(let _=0;_<p.times.length;_++)g[_*h+f]=p.values[_];p.name=(u.nodeName||"")+".morphTargetInfluences",p.values=g,s[d.uuid]=p,i.push(p);continue}const m=c.createInterpolant(new c.ValueBufferType(1));p=s[d.uuid];for(let g=0;g<p.times.length;g++)p.values[g*h+f]=m.evaluate(p.times[g]);for(let g=0;g<c.times.length;g++){const _=this.insertKeyframe(p,c.times[g]);p.values[_*h+f]=c.values[g]}}return r.tracks=i,r}};const Lj=r=>void 0!==r.material&&r.userData&&r.userData.variantMaterials&&!!Array.from(r.userData.variantMaterials.values()).filter(n=>MC(n.material)),MC=r=>r&&r.isMaterial&&!Array.isArray(r);class vPe{constructor(n){this.writer=n,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(n){const i=new Set;for(const s of n)s.traverse(a=>{if(!Lj(a))return;const l=a.userData.variantMaterials,c=a.userData.variantData;for(const[u,d]of c){const h=l.get(d.index);MC(h.material)&&i.add(u)}});i.forEach(s=>this.variantNames.push(s))}writeMesh(n,i){if(!Lj(n))return;const s=n.userData,a=s.variantMaterials,l=s.variantData,c=new Map,u=new Map,d=Array.from(l.values()).sort((p,m)=>p.index-m.index);for(const[p,m]of d.entries())u.set(m.index,p);for(const p of l.values()){const m=a.get(p.index).material;if(!MC(m))continue;const g=this.writer.processMaterial(m);c.has(g)||c.set(g,{material:g,variants:[]}),c.get(g).variants.push(u.get(p.index))}const h=Array.from(c.values()).map(p=>p.variants.sort((m,g)=>m-g)&&p).sort((p,m)=>p.material-m.material);if(0===h.length)return;const f=MC(s.originalMaterial)?this.writer.processMaterial(s.originalMaterial):-1;for(const p of i.primitives)f>=0&&(p.material=f),p.extensions=p.extensions||{},p.extensions[this.name]={mappings:h}}afterParse(){if(0===this.variantNames.length)return;const n=this.writer.json;n.extensions=n.extensions||{};const i=this.variantNames.map(s=>({name:s}));n.extensions[this.name]={variants:i},this.writer.extensionsUsed[this.name]=!0}}const _r=Symbol("correlatedObjects"),zn=Symbol("sourceObject"),_l=Symbol("onUpdate");class P0{constructor(n,i,s=null){this[_l]=n,this[zn]=i,this[_r]=s}}const Fj=new cs,wPe=new _u(2,2);let CPe=0;const wR=Symbol("threeTexture");Symbol("applyTexture");class xPe extends P0{get[wR](){var n;return console.assert(null!=this[_r]&&this[_r].size>0,"Image correlated object is undefined"),null===(n=this[_r])||void 0===n?void 0:n.values().next().value}constructor(n,i,s){super(n,s=s??{name:i&&i.image&&i.image.src?i.image.src.split("/").pop():"adhoc_image",uri:i&&i.image&&i.image.src?i.image.src:"adhoc_image"+CPe++},new Set(i?[i]:[]))}get name(){return this[zn].name||""}get uri(){return this[zn].uri}get bufferView(){return this[zn].bufferView}get type(){return null!=this.uri?"external":"embedded"}set name(n){this[zn].name=n}createThumbnail(n,i){var s=this;return ut(function*(){const a=new ac;Fj.map=s[wR];const l=new Et(wPe,Fj);a.add(l);const c=new Vd(-1,1,1,-1,0,1),{threeRenderer:u}=Ac.singleton,d=new wa(n,i);u.setRenderTarget(d),u.render(a,c),u.setRenderTarget(null);const h=new Uint8Array(n*i*4);u.readRenderTargetPixels(d,0,0,n,i,h),jo.width=n,jo.height=i;const f=jo.getContext("2d"),p=f.createImageData(n,i);return p.data.set(h),f.putImageData(p,0,0),new Promise(function(){var m=ut(function*(g,_){jo.toBlob(A=>{if(!A)return _("Failed to capture thumbnail.");g(URL.createObjectURL(A))},"image/png")});return function(g,_){return m.apply(this,arguments)}}())})()}}var Co=(()=>(function(r){r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.NearestMipmapNearest=9984]="NearestMipmapNearest",r[r.LinearMipmapNearest=9985]="LinearMipmapNearest",r[r.NearestMipmapLinear=9986]="NearestMipmapLinear",r[r.LinearMipmapLinear=9987]="LinearMipmapLinear"}(Co||(Co={})),Co))(),Ru=(()=>(function(r){r[r.ClampToEdge=33071]="ClampToEdge",r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.Repeat=10497]="Repeat"}(Ru||(Ru={})),Ru))();const MPe=(()=>{const r=[Co.Nearest,Co.Linear,Co.NearestMipmapNearest,Co.LinearMipmapLinear,Co.NearestMipmapLinear,Co.LinearMipmapLinear];return n=>r.indexOf(n)>-1})(),EPe=(()=>{const r=[Co.Nearest,Co.Linear];return n=>r.indexOf(n)>-1})(),SPe=(()=>{const r=[Ru.ClampToEdge,Ru.MirroredRepeat,Ru.Repeat];return n=>r.indexOf(n)>-1})(),Nj=Symbol("threeTextures"),O0=Symbol("setProperty"),sm=Symbol("sourceSampler");class IPe extends P0{get[Nj](){return console.assert(null!=this[_r]&&this[_r].size>0,"Sampler correlated object is undefined"),this[_r]}get[sm](){return console.assert(null!=this[zn],"Sampler source is undefined"),this[zn]}constructor(n,i,s){null==(s=s??{}).minFilter&&(s.minFilter=i?i.minFilter:Co.LinearMipmapLinear),null==s.magFilter&&(s.magFilter=i?i.magFilter:Co.Linear),null==s.wrapS&&(s.wrapS=i?i.wrapS:Ru.Repeat),null==s.wrapT&&(s.wrapT=i?i.wrapT:Ru.Repeat),super(n,s,new Set(i?[i]:[]))}get name(){return this[zn].name||""}get minFilter(){return this[sm].minFilter}get magFilter(){return this[sm].magFilter}get wrapS(){return this[sm].wrapS}get wrapT(){return this[sm].wrapT}setMinFilter(n){this[O0]("minFilter",n)}setMagFilter(n){this[O0]("magFilter",n)}setWrapS(n){this[O0]("wrapS",n)}setWrapT(n){this[O0]("wrapT",n)}[O0](n,i){const s=this[sm];if(null!=s){if(((r,n)=>{switch(r){case"minFilter":return MPe(n);case"magFilter":return EPe(n);case"wrapS":case"wrapT":return SPe(n);default:throw new Error(`Cannot configure property "${r}" on Sampler`)}})(n,i)){s[n]=i;for(const a of this[Nj])a[n]=i,a.needsUpdate=!0}this[_l]()}}}const Uj=Symbol("image"),Vj=Symbol("sampler");class zj extends P0{constructor(n,i,s=null,a=null,l=null){super(n,s||{},new Set(i?[i]:[])),this[Vj]=new IPe(n,i,a),this[Uj]=new xPe(n,i,l)}get name(){return this[zn].name||""}set name(n){this[zn].name=n}get sampler(){return this[Vj]}get source(){return this[Uj]}}var Hj,Gj;const EC=Symbol("texture"),ch=Symbol("transform"),CR=Symbol("materials"),Qj=Symbol("usage");var xo=(()=>(function(r){r[r.Base=0]="Base",r[r.MetallicRoughness=1]="MetallicRoughness",r[r.Normal=2]="Normal",r[r.Occlusion=3]="Occlusion",r[r.Emissive=4]="Emissive"}(xo||(xo={})),xo))();class B0{constructor(n,i,s,a,l,c){if(this[Hj]=null,this[Gj]={rotation:0,scale:new be(1,1),offset:new be(0,0)},c&&s){const u=l.textures?l.textures[c.index]:null,d=u&&l.samplers?l.samplers[u.sampler]:null,h=u&&l.images?l.images[u.source]:null;this[ch].rotation=s.rotation,this[ch].scale.copy(s.repeat),this[ch].offset.copy(s.offset),this[EC]=new zj(n,s,u,d,h)}this.onUpdate=n,this[CR]=a,this[Qj]=i}get texture(){return this[EC]}setTexture(n){const i=null!=n?n.source[wR]:null;let s=hn;if(this[EC]=n,this[CR])for(const a of this[CR]){switch(this[Qj]){case xo.Base:a.map=i;break;case xo.MetallicRoughness:s=os,a.metalnessMap=i,a.roughnessMap=i;break;case xo.Normal:s=os,a.normalMap=i;break;case xo.Occlusion:s=os,a.aoMap=i;break;case xo.Emissive:a.emissiveMap=i}a.needsUpdate=!0}i&&(i.encoding=s,i.rotation=this[ch].rotation,i.repeat=this[ch].scale,i.offset=this[ch].offset),this.onUpdate()}}Hj=EC,Gj=ch;const SC=Symbol("threeMaterials"),$j=Symbol("baseColorTexture"),Wj=Symbol("metallicRoughnessTexture");class TPe extends P0{constructor(n,i,s,a){super(n,s,a),null==s.baseColorFactor&&(s.baseColorFactor=[1,1,1,1]),null==s.roughnessFactor&&(s.roughnessFactor=1),null==s.metallicFactor&&(s.metallicFactor=1);const{baseColorTexture:l,metallicRoughnessTexture:c}=s,{map:u,metalnessMap:d}=a.values().next().value;this[$j]=new B0(n,xo.Base,u,a,i,l||null),this[Wj]=new B0(n,xo.MetallicRoughness,d,a,i,c||null)}get[SC](){return this[_r]}get baseColorFactor(){return this[zn].baseColorFactor}get metallicFactor(){return this[zn].metallicFactor}get roughnessFactor(){return this[zn].roughnessFactor}get baseColorTexture(){return this[$j]}get metallicRoughnessTexture(){return this[Wj]}setBaseColorFactor(n){for(const s of this[SC])s.color.fromArray(n),s.opacity=n[3];this[zn].baseColorFactor=n,this[_l]()}setMetallicFactor(n){for(const s of this[SC])s.metalness=n;this[zn].metallicFactor=n,this[_l]()}setRoughnessFactor(n){for(const s of this[SC])s.roughness=n;this[zn].roughnessFactor=n,this[_l]()}}var jj;const qj=Symbol("pbrMetallicRoughness"),Yj=Symbol("normalTexture"),Xj=Symbol("occlusionTexture"),Kj=Symbol("emissiveTexture"),kPe=Symbol("backingThreeMaterial"),xR=Symbol("applyAlphaCutoff"),uh=Symbol("lazyLoadGLTFInfo"),MR=Symbol("initialize"),ER=Symbol("getLoadedMaterial"),eo=Symbol("ensureMaterialIsLoaded"),Zj=Symbol("gltfIndex"),L0=Symbol("setActive"),DC=Symbol("variantIndices"),SR=Symbol("isActive"),IC=Symbol("variantSet"),Jj=Symbol("modelVariants");class DR extends P0{constructor(n,i,s,a,l,c,u,d){super(n,s,u),this[jj]=new Set,this[Zj]=a,this[SR]=l,this[Jj]=c,null==d?this[MR](i):this[uh]=d}get[(jj=IC,kPe)](){return this[_r].values().next().value}[MR](n){const i=this[_l],s=this[zn],a=this[_r];s.extensions&&s.extensions.KHR_materials_pbrSpecularGlossiness&&console.warn(`Material ${s.name} uses a deprecated extension\n          "KHR_materials_pbrSpecularGlossiness", please use\n          "pbrMetallicRoughness" instead. Specular Glossiness materials are\n          currently supported for rendering, but not for our scene-graph API,\n          nor for auto-generation of USDZ for Quick Look.`),null==s.pbrMetallicRoughness&&(s.pbrMetallicRoughness={}),this[qj]=new TPe(i,n,s.pbrMetallicRoughness,a),null==s.emissiveFactor&&(s.emissiveFactor=[0,0,0]),null==s.doubleSided&&(s.doubleSided=!1),null==s.alphaMode&&(s.alphaMode="OPAQUE"),null==s.alphaCutoff&&(s.alphaCutoff=.5);const{normalTexture:l,occlusionTexture:c,emissiveTexture:u}=s,{normalMap:d,aoMap:h,emissiveMap:f}=a.values().next().value;this[Yj]=new B0(i,xo.Normal,d,a,n,l||null),this[Xj]=new B0(i,xo.Occlusion,h,a,n,c||null),this[Kj]=new B0(i,xo.Emissive,f,a,n,u||null)}[ER](){var n=this;return ut(function*(){if(null!=n[uh]){const{set:i,material:s}=yield n[uh].doLazyLoad();return n[_r]=i,n[MR](n[uh].gltf),n[uh]=void 0,n.ensureLoaded=ut(function*(){}),s}return n[_r].values().next().value})()}[eo](){if(null!=this[uh])throw new Error(`Material "${this.name}" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material.`)}ensureLoaded(){var n=this;return ut(function*(){yield n[ER]()})()}get isLoaded(){return null==this[uh]}get isActive(){return this[SR]}[L0](n){this[SR]=n}get name(){return this[zn].name}set name(n){const i=this[zn];if(null!=i&&(i.name=n),null!=this[_r])for(const s of this[_r])s.name=n}get pbrMetallicRoughness(){return this[eo](),this[qj]}get normalTexture(){return this[eo](),this[Yj]}get occlusionTexture(){return this[eo](),this[Xj]}get emissiveTexture(){return this[eo](),this[Kj]}get emissiveFactor(){return this[eo](),this[zn].emissiveFactor}get index(){return this[Zj]}[DC](){return this[IC]}hasVariant(n){const i=this[Jj].get(n);return null!=i&&this[IC].has(i.index)}setEmissiveFactor(n){this[eo]();for(const i of this[_r])i.emissive.fromArray(n);this[zn].emissiveFactor=n,this[_l]()}[xR](){this[eo]();const n=this[zn];for(const i of this[_r])i.alphaTest="MASK"===this[zn].alphaMode?n.alphaCutoff:void 0,i.needsUpdate=!0}setAlphaCutoff(n){this[eo](),this[zn].alphaCutoff=n,this[xR](),this[_l]()}getAlphaCutoff(){return this[eo](),this[zn].alphaCutoff}setDoubleSided(n){this[eo]();for(const i of this[_r])i.side=n?2:0,i.needsUpdate=!0;this[zn].doubleSided=n,this[_l]()}getDoubleSided(){return this[eo](),this[zn].doubleSided}setAlphaMode(n){this[eo]();const i=(s,a)=>{s.transparent=a,s.depthWrite=!a};this[zn].alphaMode=n;for(const s of this[_r])i(s,"BLEND"===n),this[xR](),s.needsUpdate=!0;this[_l]()}getAlphaMode(){return this[eo](),this[zn].alphaMode}}var e7,t7,n7;const Pu=Symbol("materials"),Cc=Symbol("variantToMaterialMap"),xc=Symbol("modelVariants"),r7=Symbol("mesh"),s7=(Symbol("primitives"),Symbol("loadVariant"),Symbol("prepareVariantsForExport"),Symbol("switchVariant"),Symbol("children")),o7=Symbol("initialMaterialIdx"),IR=Symbol("activeMaterialIdx");class a7{constructor(n){this.name="",this[e7]=new Array,this.name=n}}e7=s7;class l7 extends a7{constructor(n,i,s,a){super(n.name),this[t7]=new Map,this[n7]=new Map,this[r7]=n;const{gltf:l,threeGLTF:c,threeObjectMap:u}=a;this[xc]=s,this.mesh.userData.variantData=s;const d=u.get(n.material);null!=d.materials?this[o7]=this[IR]=d.materials:console.error(`Primitive (${n.name}) missing initial material reference.`);const h=n.userData.associations||{};if(null==h.meshes)return void console.error("Mesh is missing primitive index association");const m=((l.meshes||[])[h.meshes].primitives||[])[h.primitives];if(null!=m){if(null!=m.material)this[Pu].set(m.material,i[m.material]);else{const g=i.findIndex(_=>"Default"===_.name);g>=0?this[Pu].set(g,i[g]):console.warn("gltfPrimitive has no material!")}if(m.extensions&&m.extensions.KHR_materials_variants){const g=m.extensions.KHR_materials_variants,A=c.parser.json.extensions.KHR_materials_variants.variants;for(const b of g.mappings){const y=i[b.material];this[Pu].set(b.material,y);for(const w of b.variants){const{name:v}=A[w];this[Cc].set(w,y),y[DC]().add(w),s.has(v)||s.set(v,{name:v,index:w})}}}}else console.error("Mesh primitive definition is missing.")}get mesh(){return this[r7]}setActiveMaterial(n){var i=this;return ut(function*(){const s=i[Pu].get(n);return null!=s&&(i.mesh.material=yield s[ER](),i[IR]=n),i.mesh.material})()}getActiveMaterial(){return this[Pu].get(this[IR])}getMaterial(n){return this[Pu].get(n)}enableVariant(n){var i=this;return ut(function*(){if(null==n)return i.setActiveMaterial(i[o7]);if(null!=i[Cc]&&i[xc].has(n)){const s=i[xc].get(n);return i.enableVariantHelper(s.index)}return null})()}enableVariantHelper(n){var i=this;return ut(function*(){if(null!=i[Cc]&&null!=n){const s=i[Cc].get(n);if(null!=s)return i.setActiveMaterial(s.index)}return null})()}instantiateVariants(){var n=this;return ut(function*(){if(null!=n[Cc])for(const i of n[Cc].keys()){if(null!=n.mesh.userData.variantMaterials.get(i).material)continue;const s=yield n.enableVariantHelper(i);null!=s&&(n.mesh.userData.variantMaterials.get(i).material=s)}})()}get variantInfo(){return this[Cc]}addVariant(n,i){if(!this.ensureVariantIsUnused(i))return!1;this[xc].has(i)||this[xc].set(i,{name:i,index:this[xc].size});const a=this[xc].get(i).index;return n[DC]().add(a),this[Cc].set(a,n),this[Pu].set(n.index,n),this.updateVariantUserData(a,n),!0}deleteVariant(n){this.variantInfo.has(n)&&(this.variantInfo.delete(n),this.mesh.userData.variantMaterials?.delete(n))}updateVariantUserData(n,i){i[DC]().add(n),this.mesh.userData.variantData=this[xc],this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(n,{material:i[_r].values().next().value,gltfMaterialIndex:i.index})}ensureVariantIsUnused(n){const i=this[xc].get(n);return null==i||!this.variantInfo.has(i.index)||(console.warn(`Primitive cannot add variant '${n}' for this material, it already exists.`),!1)}}var c7,u7,d7,h7,f7,p7;t7=Pu,n7=Cc;const dh=Symbol("materials"),TR=Symbol("hierarchy"),m7=Symbol("roots"),Mc=Symbol("primitives"),kR=(Symbol("loadVariant"),Symbol("correlatedSceneGraph")),g7=Symbol("prepareVariantsForExport"),_7=Symbol("switchVariant"),b7=Symbol("threeScene"),A7=Symbol("materialsFromPoint"),y7=Symbol("materialFromPoint"),ps=Symbol("variantData"),RR=Symbol("availableVariants"),PR=Symbol("modelOnUpdate"),v7=Symbol("cloneMaterial");class RPe{constructor(n,i,s,a){this.gltf=n,this.gltfElementMap=i,this.mapKey=s,this.doLazyLoad=a}}class PPe{constructor(n,i=(()=>{})){this[c7]=new Array,this[u7]=new Array,this[d7]=new Array,this[h7]=new Array,this[f7]=()=>{},this[p7]=new Map,this[PR]=i,this[kR]=n;const{gltf:s,threeGLTF:a,gltfElementMap:l}=n;this[b7]=a.scene;for(const[d,h]of s.materials.entries()){const f=l.get(h);if(null!=f)this[dh].push(new DR(i,s,h,d,!0,this[ps],f));else{const m=(s.materials||[])[d],g=d,_=function(){var A=ut(function*(){const b=yield a.parser.getDependency("material",g),y=new Set;return l.set(m,y),y.add(b),{set:y,material:b}});return function(){return A.apply(this,arguments)}}();this[dh].push(new DR(i,s,m,d,!1,this[ps],f,new RPe(s,l,m,_)))}}const c=new Map,u=new Array;for(const d of a.scene.children)u.push(d);for(;u.length>0;){const d=u.pop();let h=null;d instanceof Et?(h=new l7(d,this.materials,this[ps],n),this[Mc].push(h)):h=new a7(d.name);const f=c.get(d);null!=f?f[s7].push(h):this[m7].push(h),this[TR].push(h);for(const p of d.children)u.push(p),c.set(d,h)}}get materials(){return this[dh]}[(c7=dh,u7=TR,d7=m7,h7=Mc,f7=PR,p7=ps,RR)](){const n=Array.from(this[ps].values());return n.sort((i,s)=>i.index-s.index),n.map(i=>i.name)}getMaterialByName(n){const i=this[dh].filter(s=>s.name===n);return i.length>0?i[0]:null}[A7](n){return n.intersectObject(this[b7],!0).map(s=>{const a=this[TR].find(l=>l instanceof l7&&l.mesh===s.object);return null!=a?a.getActiveMaterial():null})}[y7](n){const i=this[A7](n);return i.length>0?i[0]:null}[_7](n){var i=this;return ut(function*(){for(const s of i[Mc])yield s.enableVariant(n);for(const s of i.materials)s[L0](!1);for(const s of i[Mc])i.materials[s.getActiveMaterial().index][L0](!0)})()}[g7](){var n=this;return ut(function*(){const i=new Array;for(const s of n[Mc])i.push(s.instantiateVariants());yield Promise.all(i)})()}[v7](n,i){const s=this.materials[n];s.isLoaded||console.error("Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.");const a=s[_r],l=JSON.parse(JSON.stringify(s[zn]));l.name=i,this[kR].gltf.materials.push(l);const u=new Set;for(const[h,f]of a.entries()){const p=f.clone();p.name=i+(a.size>1?"_inst"+h:""),u.add(p)}const d=new DR(this[PR],this[kR].gltf,l,this[dh].length,!1,this[ps],u);return this[dh].push(d),d}createMaterialInstanceForVariant(n,i,s,a=!0){let l=null;for(const c of this[Mc]){const u=this[ps].get(s);null!=u&&c.variantInfo.has(u.index)||null!=c.getMaterial(n)&&(this.hasVariant(s)||this.createVariant(s),null==l&&(l=this[v7](n,i)),c.addVariant(l,s))}if(a&&null!=l){l[L0](!0),this.materials[n][L0](!1);for(const c of this[Mc])c.enableVariant(s)}return l}createVariant(n){this[ps].has(n)?console.warn(`Variant '${n}'' already exists`):this[ps].set(n,{name:n,index:this[ps].size})}hasVariant(n){return this[ps].has(n)}setMaterialToVariant(n,i){if(null!=this[RR]().find(s=>s===i))if(n<0||n>=this.materials.length)console.error("setMaterialToVariant(): materialIndex is out of bounds.");else for(const s of this[Mc]){const a=s.getMaterial(n);null!=a&&s.addVariant(a,i)}else console.warn(`Can't add material to '${i}', the variant does not exist.'`)}updateVariantName(n,i){const s=this[ps].get(n);null!=s&&(s.name=i,this[ps].set(i,s),this[ps].delete(n))}deleteVariant(n){const i=this[ps].get(n);if(null!=i){for(const s of this.materials)s.hasVariant(n)&&s[IC].delete(i.index);for(const s of this[Mc])s.deleteVariant(i.index);this[ps].delete(n)}}}var OR=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const F0=Symbol("currentGLTF"),om=Symbol("model"),BR=Symbol("getOnUpdateMethod"),w7=Symbol("textureLoader"),LR=Symbol("originalGltfJson");var FR=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const BPe=Math.PI/32,FPe={basis:[zw(ds(BPe,"rad"))],keywords:{auto:[null]}},am=Symbol("autoRotateStartTime"),NR=Symbol("radiansPerSecond"),C7=Symbol("syncRotationRate"),UR=Symbol("onCameraChange"),VPe=(r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this[n]=new Map,this[i]=c=>{c.forEach(u=>{(!(u instanceof MutationRecord)||"childList"===u.type)&&(u.addedNodes.forEach(d=>{this[Nk](d)}),u.removedNodes.forEach(d=>{this[oW](d)}),this[Js]())})},this[s]=new MutationObserver(this[Fk])}connectedCallback(){super.connectedCallback();for(let u=0;u<this.children.length;++u)this[Nk](this.children[u]);const{ShadyDOM:c}=self;null==c?this[g0].observe(this,{childList:!0}):this[g0]=c.observeChildren(this,this[Fk])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:c}=self;null==c?this[g0].disconnect():c.unobserveChildren(this[g0])}[(n=Qp,i=Fk,s=g0,fl)](c,u){super[fl](c,u);const d=this[ze],{annotationRenderer:h}=d,f=d.getCamera();d.shouldRender()&&(d.updateHotspots(f.position),h.domElement.style.display="",h.render(d,f))}updateHotspot(c){const u=this[Qp].get(c.name);null!=u&&(u.updatePosition(c.position),u.updateNormal(c.normal),this[Js]())}positionAndNormalFromPoint(c,u){const d=this[ze],h=d.getNDC(c,u),f=d.positionAndNormalFromPoint(h);if(null==f)return null;Uk.copy(d.target.matrixWorld).invert();const p=p0(f.position.applyMatrix4(Uk));aW.getNormalMatrix(Uk);const m=p0(f.normal.applyNormalMatrix(aW));let g=null;return null!=f.uv&&(g=Hke(f.uv)),{position:p,normal:m,uv:g}}[Nk](c){if(!(c instanceof HTMLElement&&0===c.slot.indexOf("hotspot")))return;let u=this[Qp].get(c.slot);null!=u?u.increment():(u=new g$({name:c.slot,position:c.dataset.position,normal:c.dataset.normal}),this[Qp].set(c.slot,u),this[ze].addHotspot(u)),this[ze].queueRender()}[oW](c){if(!(c instanceof HTMLElement))return;const u=this[Qp].get(c.slot);!u||(u.decrement()&&(this[ze].removeHotspot(u),this[Qp].delete(c.slot)),this[ze].queueRender())}}return a})((r=>{var n,i,s,a;class l extends r{constructor(){super(...arguments),this[n]=void 0,this[i]=null,this[s]=new ST,this[a]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[om]}get availableVariants(){return this.model?this.model[RR]():[]}get originalGltfJson(){return this[LR]}[(n=om,i=F0,s=w7,a=LR,BR)](){return()=>{this[Js]()}}createTexture(u,d="image/png"){var h=this;return ut(function*(){const f=h[F0],p=yield new Promise(m=>h[w7].load(u,m));return f&&p?(p.encoding=hn,p.wrapS=rl,p.wrapT=rl,p.flipY=!1,p.userData.mimeType=d,new zj(h[BR](),p)):null})()}updated(u){var d=()=>super.updated,h=this;return ut(function*(){if(d().call(h,u),u.has("variantName")){const f=h[F0],{variantName:p}=h;null!=f&&(yield h[om][_7](p),h[Js](),h.dispatchEvent(new CustomEvent("variant-applied")))}if(u.has("orientation")||u.has("scale")){if(!h.loaded)return;const f=h[ze];f.applyTransform(),f.updateBoundingBox(),f.updateShadow(),h[bi].arRenderer.onUpdateScene(),h[Js]()}})()}[Eu](){super[Eu]();const{currentGLTF:u}=this[ze];if(null!=u){const{correlatedSceneGraph:d}=u;null!=d&&u!==this[F0]&&(this[om]=new PPe(d,this[BR]()),this[LR]=JSON.parse(JSON.stringify(d.gltf))),"variants"in u.userData&&this.requestUpdate("variantName")}this[F0]=u}exportScene(u){var d=this;return ut(function*(){const h=d[ze];return new Promise(function(){var f=ut(function*(p,m){const g={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1};Object.assign(g,u),g.animations=h.animations,g.truncateDrawRange=!0;const _=h.shadow;let A=!1;null!=_&&(A=_.visible,_.visible=!1),yield d[om][g7](),(new yR).register(y=>new vPe(y)).parse(h.model,y=>p(new Blob([g.binary?y:JSON.stringify(y)],{type:g.binary?"application/octet-stream":"application/json"})),()=>m("glTF export failed"),g),null!=_&&(_.visible=A)});return function(p,m){return f.apply(this,arguments)}}())})()}materialFromPoint(u,d){const h=this[ze],f=h.getNDC(u,d);return h.raycaster.setFromCamera(f,h.getCamera()),this[om][y7](h.raycaster)}}return OR([Yt({type:String,attribute:"variant-name"})],l.prototype,"variantName",void 0),OR([Yt({type:String,attribute:"orientation"})],l.prototype,"orientation",void 0),OR([Yt({type:String,attribute:"scale"})],l.prototype,"scale",void 0),l})((r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=3e3,this.rotationPerSecond="auto",this[n]=performance.now(),this[i]=0,this[s]=c=>{!this.autoRotate||"user-interaction"===c.detail.source&&(this[am]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[UR]),this[am]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[UR]),this[am]=performance.now()}updated(c){super.updated(c),c.has("autoRotate")&&(this[am]=performance.now())}[(n=am,i=NR,C7)](c){this[NR]=c[0]}[fl](c,u){if(super[fl](c,u),!this.autoRotate||!this[oh]()||this[bi].isPresenting)return;const d=Math.min(u,c-this[am]-this.autoRotateDelay);d>0&&(this[ze].yaw=this.turntableRotation+this[NR]*d*.001)}get turntableRotation(){return this[ze].yaw}resetTurntableRotation(c=0){this[ze].yaw=c}}return s=UR,FR([Yt({type:Boolean,attribute:"auto-rotate"})],a.prototype,"autoRotate",void 0),FR([Yt({type:Number,attribute:"auto-rotate-delay"})],a.prototype,"autoRotateDelay",void 0),FR([ku({intrinsics:FPe,updateHandler:C7}),Yt({type:String,attribute:"rotation-per-second"})],a.prototype,"rotationPerSecond",void 0),a})((r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this[n]=null,this[i]=null,this[s]=null}updated(c){super.updated(c),c.has("shadowIntensity")&&(this[ze].setShadowIntensity(.5*this.shadowIntensity),this[Js]()),c.has("shadowSoftness")&&(this[ze].setShadowSoftness(this.shadowSoftness),this[Js]()),c.has("exposure")&&(this[ze].exposure=this.exposure,this[Js]()),(c.has("environmentImage")||c.has("skyboxImage"))&&this[Gp]()&&this[Fw]()}hasBakedShadow(){return this[ze].bakedShadows.size>0}[(n=K_,i=Z_,s=Nw,Fw)](){var c=this;return ut(function*(){const{skyboxImage:u,environmentImage:d}=c;null!=c[Nw]&&(c[Nw](),c[Nw]=null);const{textureUtils:h}=c[bi];if(null==h)return;const f=c[Hp].beginActivity();try{const{environmentMap:p,skybox:m}=yield h.generateEnvironmentMapAndSkybox(x8(u),d,g=>f(cl(g,0,1)));c[K_]!==p&&(c[K_]=p,c.dispatchEvent(new CustomEvent("environment-change"))),c[Z_]=null!=m?m.name===p.name?p:m:null,c[ze].setEnvironmentAndSkybox(c[K_],c[Z_]),c[ze].dispatchEvent({type:"envmap-update"})}catch(p){if(p instanceof Error)throw c[ze].setEnvironmentAndSkybox(null,null),p}finally{f(1)}})()}}return X_([Yt({type:String,attribute:"environment-image"})],a.prototype,"environmentImage",void 0),X_([Yt({type:String,attribute:"skybox-image"})],a.prototype,"skyboxImage",void 0),X_([Yt({type:Number,attribute:"shadow-intensity"})],a.prototype,"shadowIntensity",void 0),X_([Yt({type:Number,attribute:"shadow-softness"})],a.prototype,"shadowSoftness",void 0),X_([Yt({type:Number})],a.prototype,"exposure",void 0),a})((r=>{var n,i,s,a,l,c,u,d,h,f,p,m,g,_,A;class b extends r{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit=gj,this.cameraTarget="auto auto auto",this.fieldOfView="auto",this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=3e3,this.interactionPrompt="auto",this.orbitSensitivity=1,this.touchAction="none",this.disableZoom=!1,this.disablePan=!1,this.disableTap=!1,this.interpolationDecay=50,this[n]=this.shadowRoot.querySelector(".interaction-prompt"),this[i]=this.shadowRoot.querySelector("#prompt"),this[s]=[this.shadowRoot.querySelector("#finger0"),this.shadowRoot.querySelector("#finger1")],this[a]=this.shadowRoot.querySelector(".pan-target"),this[l]=0,this[c]=1/0,this[u]=!1,this[d]=!1,this[h]=new kRe(this[ze].camera,this[hl],this[ze]),this[f]=new xw,this[p]=!1,this[m]=!1,this[g]=!1,this[_]=({source:w})=>{this[yj](),this[Js](),"user-interaction"===w&&(this[CC]=!0,this[vC]()),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:w}}))},this[A]=w=>{"pointer-change-start"===w.type?this[h0].classList.add("pointer-tumbling"):this[h0].classList.remove("pointer-tumbling")}}get inputSensitivity(){return this[Xn].inputSensitivity}set inputSensitivity(w){this[Xn].inputSensitivity=w}getCameraOrbit(){const{theta:w,phi:v,radius:C}=this[hR];return{theta:w,phi:v,radius:C,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return p0(this[bi].isPresenting?this[bi].arRenderer.target:this[ze].getTarget())}getFieldOfView(){return this[Xn].getFieldOfView()}getMinimumFieldOfView(){return this[Xn].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Xn].options.maximumFieldOfView}getIdealAspect(){return this[ze].idealAspect}jumpCameraToGoal(){this[I0]=!0,this.requestUpdate(I0,!1)}resetInteractionPrompt(){this[D0]=0,this[im]=1/0,this[CC]=!1,this[ah]="auto"===this.interactionPrompt&&this.cameraControls}zoom(w){const v=new WheelEvent("wheel",{deltaY:-30*w});this[hl].dispatchEvent(v)}connectedCallback(){super.connectedCallback(),this[Xn].addEventListener("change",this[wC]),this[Xn].addEventListener("pointer-change-start",this[S0]),this[Xn].addEventListener("pointer-change-end",this[S0])}disconnectedCallback(){super.disconnectedCallback(),this[Xn].removeEventListener("change",this[wC]),this[Xn].removeEventListener("pointer-change-start",this[S0]),this[Xn].removeEventListener("pointer-change-end",this[S0])}updated(w){super.updated(w);const v=this[Xn],C=this[ze];w.has("cameraControls")&&(this.cameraControls?(v.enableInteraction(),"auto"===this.interactionPrompt&&(this[ah]=!0)):(v.disableInteraction(),this[vC]()),this[hl].setAttribute("aria-label",this[c0])),w.has("disableZoom")&&(v.disableZoom=this.disableZoom),w.has("disablePan")&&(v.enablePan=!this.disablePan),w.has("disableTap")&&(v.enableTap=!this.disableTap),(w.has("interactionPrompt")||w.has("cameraControls")||w.has("src"))&&("auto"===this.interactionPrompt&&this.cameraControls&&!this[CC]?this[ah]=!0:this[vC]()),w.has("touchAction")&&(v.applyOptions({touchAction:this.touchAction}),v.updateTouchActionStyle()),w.has("orbitSensitivity")&&(v.orbitSensitivity=this.orbitSensitivity),w.has("interpolationDecay")&&(v.setDamperDecayTime(this.interpolationDecay),C.setTargetDamperDecayTime(this.interpolationDecay)),!0===this[I0]&&Promise.resolve().then(()=>{v.jumpToGoal(),C.jumpToGoal(),this[I0]=!1})}updateFraming(){var w=this;return ut(function*(){const v=w[ze],C=v.adjustedFoV(v.framedFoVDeg);yield v.updateFraming();const M=v.adjustedFoV(v.framedFoVDeg),E=w[Xn].getFieldOfView()/C;w[Xn].setFieldOfView(M*E),w[T0]=!0,w.requestUpdate("maxFieldOfView"),w.requestUpdate("fieldOfView"),w.requestUpdate("minCameraOrbit"),w.requestUpdate("maxCameraOrbit"),w.requestUpdate("cameraOrbit"),yield w.updateComplete})()}interact(w,v,C){const M=this[hl],E=this[dR];if("1"===E[0].style.opacity)return void console.warn("interact() failed because an existing interaction is running.");const S=new Array;S.push({x:nm(v.x),y:nm(v.y)});const x=[{x:S[0].x(0),y:S[0].y(0)}];null!=C&&(S.push({x:nm(C.x),y:nm(C.y)}),x.push({x:S[1].x(0),y:S[1].y(0)}));let D=performance.now();const{width:T,height:k}=this[ze],R=j=>{for(const[G,P]of x.entries()){const{style:z}=E[G];z.transform=`translateX(${T*P.x}px) translateY(${k*P.y}px)`,"pointerdown"===j?z.opacity="1":"pointerup"===j&&(z.opacity="0"),M.dispatchEvent(new PointerEvent(j,{pointerId:G-5678,pointerType:"touch",target:M,clientX:T*P.x,clientY:k*P.y,altKey:!0}))}},F=()=>{const{changeSource:j}=this[Xn];if("automatic"!==j){for(const P of this[dR])P.style.opacity="0";return R("pointercancel"),void this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:j}}))}const G=Math.min(1,(performance.now()-D)/w);for(const[P,z]of x.entries())z.x=S[P].x(G),z.y=S[P].y(G);R("pointermove"),G<1?requestAnimationFrame(F):(R("pointerup"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:j}})),document.removeEventListener("visibilitychange",O))},O=()=>{let j=0;"hidden"===document.visibilityState?j=performance.now()-D:D=performance.now()-j};document.addEventListener("visibilitychange",O),R("pointerdown"),requestAnimationFrame(F)}[(n=cR,i=uR,s=dR,a=yC,l=D0,c=im,u=CC,d=ah,h=Xn,f=hR,p=I0,m=fR,g=T0,Cj)](w){const v=this[ze];v.framedFoVDeg=180*w[0]/Math.PI,this[Xn].setFieldOfView(v.adjustedFoV(v.framedFoVDeg))}[wj](w){const v=this[Xn];if(this[T0]){const{theta:C,phi:M}=this.getCameraOrbit();w[0]=C,w[1]=M,this[T0]=!1}v.changeSource="none",v.setOrbit(w[0],w[1],w[2])}[Mj](w){this[Xn].applyOptions({minimumAzimuthalAngle:w[0],minimumPolarAngle:w[1],minimumRadius:w[2]}),this.jumpCameraToGoal()}[Ej](w){this[Xn].applyOptions({maximumAzimuthalAngle:w[0],maximumPolarAngle:w[1],maximumRadius:w[2]}),this[vj](w[2]),this.jumpCameraToGoal()}[Sj](w){this[Xn].applyOptions({minimumFieldOfView:180*w[0]/Math.PI}),this.jumpCameraToGoal()}[Dj](w){const v=this[ze].adjustedFoV(180*w[0]/Math.PI);this[Xn].applyOptions({maximumFieldOfView:v}),this.jumpCameraToGoal()}[xj](w){const[v,C,M]=w;this[bi].arRenderer.isPresenting||this[ze].setTarget(v,C,M),this[Xn].changeSource="none",this[bi].arRenderer.updateTarget()}[fl](w,v){if(super[fl](w,v),this[bi].isPresenting||!this[oh]())return;const C=this[Xn],M=this[ze],E=performance.now();if(this[ah]&&this.loaded&&E>this[d0]+this.interactionPromptThreshold&&(this[ah]=!1,this[im]=E,this[cR].classList.add("visible")),isFinite(this[im])){const S=(E-this[im])/5e3%1,x=BRe(S),D=LRe(S);if(this[uR].style.opacity=`${D}`,x!==this[D0]){const k=(x-this[D0])*Math.PI/16;this[uR].style.transform=`translateX(${x*M.width*.05}px)`,C.changeSource="automatic",C.adjustOrbit(k,0,0),this[D0]=x}}C.update(w,v),M.updateTarget(v)&&this[wC]({type:"change",source:C.changeSource})}[vC](){this[ah]=!1,this[cR].classList.remove("visible"),this[im]=1/0}[vj](w){const v=Math.max(this[ze].boundingSphere.radius,w);this[Xn].updateNearFar(0,2*v)}[yj](){const{theta:w,phi:v}=this[Xn].getCameraSpherical(this[hR]),C=(4+Math.floor((w%JRe+ZRe)/Aj))%4,M=Math.floor(v/KRe);this[Pk](`View from stage ${GRe[M]}${HRe[C]}`)}get[c0](){return super[c0]+(this.cameraControls?". Use mouse, touch or arrow keys to move.":"")}[f0](w){var v=M=>super[M],C=this;return ut(function*(){const M=C[Xn],E=C[ze],S=E.adjustedFoV(E.framedFoVDeg);v(f0).call(C,w);const x=E.adjustedFoV(E.framedFoVDeg)/S,D=M.getFieldOfView()*(isFinite(x)?x:1);M.updateAspect(C[ze].aspect),C.requestUpdate("maxFieldOfView",C.maxFieldOfView),yield C.updateComplete,C[Xn].setFieldOfView(D),C.jumpCameraToGoal()})()}[Eu](){super[Eu](),this[fR]?this[T0]=!0:this[fR]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return _=wC,A=S0,fs([Yt({type:Boolean,attribute:"camera-controls"})],b.prototype,"cameraControls",void 0),fs([ku({intrinsics:bj,observeEffects:!0,updateHandler:wj}),Yt({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],b.prototype,"cameraOrbit",void 0),fs([ku({intrinsics:XRe,observeEffects:!0,updateHandler:xj}),Yt({type:String,attribute:"camera-target",hasChanged:()=>!0})],b.prototype,"cameraTarget",void 0),fs([ku({intrinsics:_j,observeEffects:!0,updateHandler:Cj}),Yt({type:String,attribute:"field-of-view",hasChanged:()=>!0})],b.prototype,"fieldOfView",void 0),fs([ku({intrinsics:qRe,updateHandler:Mj}),Yt({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],b.prototype,"minCameraOrbit",void 0),fs([ku({intrinsics:YRe,updateHandler:Ej}),Yt({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],b.prototype,"maxCameraOrbit",void 0),fs([ku({intrinsics:jRe,updateHandler:Sj}),Yt({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],b.prototype,"minFieldOfView",void 0),fs([ku({intrinsics:_j,updateHandler:Dj}),Yt({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],b.prototype,"maxFieldOfView",void 0),fs([Yt({type:Number,attribute:"interaction-prompt-threshold"})],b.prototype,"interactionPromptThreshold",void 0),fs([Yt({type:String,attribute:"interaction-prompt"})],b.prototype,"interactionPrompt",void 0),fs([Yt({type:Number,attribute:"orbit-sensitivity"})],b.prototype,"orbitSensitivity",void 0),fs([Yt({type:String,attribute:"touch-action"})],b.prototype,"touchAction",void 0),fs([Yt({type:Boolean,attribute:"disable-zoom"})],b.prototype,"disableZoom",void 0),fs([Yt({type:Boolean,attribute:"disable-pan"})],b.prototype,"disablePan",void 0),fs([Yt({type:Boolean,attribute:"disable-tap"})],b.prototype,"disableTap",void 0),fs([Yt({type:Number,attribute:"interpolation-decay"})],b.prototype,"interpolationDecay",void 0),b})((r=>{var n,i,s,a,l,c,u,d,h,f;class p extends r{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes="webxr scene-viewer quick-look",this.iosSrc=null,this.xrEnvironment=!1,this[n]=!1,this[i]=this.shadowRoot.querySelector(".ar-button"),this[s]=document.createElement("a"),this[a]=new Set,this[l]="none",this[c]=!1,this[u]=g=>{g.preventDefault(),this.activateAR()},this[d]=({status:g})=>{("not-presenting"===g||this[bi].arRenderer.presentedScene===this[ze])&&(this.setAttribute("ar-status",g),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:g}})),"not-presenting"===g?this.removeAttribute("ar-tracking"):"session-started"===g&&this.setAttribute("ar-tracking","tracking"))},this[h]=({status:g})=>{this.setAttribute("ar-tracking",g),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:g}}))},this[f]=g=>{"_apple_ar_quicklook_button_tapped"==g.data&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return"none"!==this[dC]}connectedCallback(){super.connectedCallback(),this[bi].arRenderer.addEventListener("status",this[eR]),this.setAttribute("ar-status","not-presenting"),this[bi].arRenderer.addEventListener("tracking",this[tR]),this[Zp].addEventListener("message",this[nR])}disconnectedCallback(){super.disconnectedCallback(),this[bi].arRenderer.removeEventListener("status",this[eR]),this[bi].arRenderer.removeEventListener("tracking",this[tR]),this[Zp].removeEventListener("message",this[nR])}update(g){super.update(g),g.has("arScale")&&(this[ze].canScale="fixed"!==this.arScale),g.has("arPlacement")&&(this[ze].updateShadow(),this[Js]()),g.has("arModes")&&(this[Jk]=ARe(this.arModes)),(g.has("ar")||g.has("arModes")||g.has("src")||g.has("iosSrc"))&&this[M0]()}activateAR(){var g=this;return ut(function*(){switch(g[dC]){case"quick-look":g[WW]();break;case"webxr":yield g[QW]();break;case"scene-viewer":g[$W]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities")}})()}[(n=vRe,i=wc,s=Zp,a=Jk,l=dC,c=hC,u=fC,d=eR,h=tR,f=nR,M0)](){var g=this;return ut(function*(){let _="none";if(g.ar){if(null!=g.src)for(const A of g[Jk]){if("webxr"===A&&w8&&!zW&&(yield g[bi].arRenderer.supportsPresentation())){_="webxr";break}if("scene-viewer"===A&&IIe&&!HW){_="scene-viewer";break}if("quick-look"===A&&C8){_="quick-look";break}}"none"===_&&null!=g.iosSrc&&C8&&(_="quick-look")}if("none"!==_)g[wc].classList.add("enabled"),g[wc].addEventListener("click",g[fC]);else if(g[wc].classList.contains("enabled")){g[wc].removeEventListener("click",g[fC]),g[wc].classList.remove("enabled");const A="failed";g.setAttribute("ar-status",A),g.dispatchEvent(new CustomEvent("ar-status",{detail:{status:A}}))}g[dC]=_})()}[QW](){var g=this;return ut(function*(){console.log("Attempting to present in AR with WebXR..."),yield g[iR]();try{g[wc].removeEventListener("click",g[fC]);const{arRenderer:_}=g[bi];_.placeOnWall="wall"===g.arPlacement,yield _.present(g[ze],g.xrEnvironment)}catch(_){console.warn("Error while trying to present in AR with WebXR"),console.error(_),yield g[bi].arRenderer.stopPresenting(),zW=!0,console.warn("Falling back to next ar-mode"),yield g[M0](),g.activateAR()}finally{g[M0]()}})()}[iR](){var g=this;return ut(function*(){g.loaded||(g[hC]=!0,g[zp](),yield((r,n,i=null)=>new Promise(s=>{r.addEventListener(n,function a(l){(!i||i(l))&&(s(l),r.removeEventListener(n,a))})}))(g,"load"),g[hC]=!1)})()}[Gp](){return super[Gp]()||this[hC]}[$W](){const g=self.location.toString(),_=new URL(g),A=new URL(this.src,g),b=new URLSearchParams(A.search);if(_.hash=GW,b.set("mode","ar_preferred"),b.has("disable_occlusion")||b.set("disable_occlusion","true"),"fixed"===this.arScale&&b.set("resizable","false"),"wall"===this.arPlacement&&b.set("enable_vertical_placement","true"),b.has("sound")){const v=new URL(b.get("sound"),g);b.set("sound",v.toString())}if(b.has("link")){const v=new URL(b.get("link"),g);b.set("link",v.toString())}const y=`intent://arvr.google.com/scene-viewer/1.0?${b.toString()+"&file="+encodeURIComponent(A.toString())}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(_.toString())};end;`;self.addEventListener("hashchange",()=>{self.location.hash===GW&&(HW=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[M0]())},{once:!0}),this[Zp].setAttribute("href",y),console.log("Attempting to present in AR with Scene Viewer..."),this[Zp].click()}[WW](){var g=this;return ut(function*(){const _=!g.iosSrc;g[wc].classList.remove("enabled");const A=_?yield g.prepareUSDZ():g.iosSrc,b=new URL(A,self.location.toString());if(_){const v=self.location.toString(),C=new URL(v),M=new URL(g.src,C);M.hash&&(b.hash=M.hash)}"fixed"===g.arScale&&(b.hash&&(b.hash+="&"),b.hash+="allowsContentScaling=0");const y=g[Zp];y.setAttribute("rel","ar");const w=document.createElement("img");y.appendChild(w),y.setAttribute("href",b.toString()),_&&y.setAttribute("download","model.usdz"),console.log("Attempting to present in AR with Quick Look..."),y.click(),y.removeChild(w),_&&URL.revokeObjectURL(A),g[wc].classList.add("enabled")})()}prepareUSDZ(){var g=this;return ut(function*(){const _=g[Hp].beginActivity();yield g[iR]();const{model:A,shadow:b}=g[ze];if(null==A)return"";let y=!1;null!=b&&(y=b.visible,b.visible=!1),_(.2);const v=yield(new oRe).parse(A),C=new Blob([v],{type:"model/vnd.usdz+zip"}),M=URL.createObjectURL(C);return _(1),null!=b&&(b.visible=y),M})()}}return Kp([Yt({type:Boolean,attribute:"ar"})],p.prototype,"ar",void 0),Kp([Yt({type:String,attribute:"ar-scale"})],p.prototype,"arScale",void 0),Kp([Yt({type:String,attribute:"ar-placement"})],p.prototype,"arPlacement",void 0),Kp([Yt({type:String,attribute:"ar-modes"})],p.prototype,"arModes",void 0),Kp([Yt({type:String,attribute:"ios-src"})],p.prototype,"iosSrc",void 0),Kp([Yt({type:Boolean,attribute:"xr-environment"})],p.prototype,"xrEnvironment",void 0),p})((r=>{var n,i,s,a,l,c,u,d;class h extends r{constructor(...p){super(...p),this.poster=null,this.reveal="auto",this.loading="auto",this[n]=!1,this[i]=!1,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[a]=this.shadowRoot.querySelector("#default-poster"),this[l]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[c]=this[rm].getAttribute("aria-label"),this[u]=((r,n)=>{let i=null;const s=(...a)=>{null==i&&(r(...a),i=self.setTimeout(()=>i=null,100))};return s.flush=()=>{null!=i&&(self.clearTimeout(i),i=null)},s})(A=>{const b=this[lh].parentNode;requestAnimationFrame(()=>{this[lh].style.transform=`scaleX(${A})`,0===A&&(b.removeChild(this[lh]),b.appendChild(this[lh])),1===A?this[lh].classList.add("hide"):this[lh].classList.remove("hide")})}),this[d]=A=>{const b=A.detail.totalProgress;1===b&&(this[bR].flush(),this.loaded&&(this[k0]||"auto"===this.reveal)&&this[_R]()),this[bR](b),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:b}}))};const m=self.ModelViewerElement||{};Fr.setDRACODecoderLocation(m.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.4.1/"),Fr.setKTX2TranscoderLocation(m.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/"),m.meshoptDecoderLocation&&Fr.setMeshoptDecoderLocation(m.meshoptDecoderLocation)}static set dracoDecoderLocation(p){Fr.setDRACODecoderLocation(p)}static get dracoDecoderLocation(){return Fr.getDRACODecoderLocation()}static set ktx2TranscoderLocation(p){Fr.setKTX2TranscoderLocation(p)}static get ktx2TranscoderLocation(){return Fr.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(p){Fr.setMeshoptDecoderLocation(p)}static get meshoptDecoderLocation(){return Fr.getMeshoptDecoderLocation()}static mapURLs(p){Ac.singleton.loader[ih].manager.setURLModifier(p)}dismissPoster(){this.loaded?this[_R]():(this[k0]=!0,this[zp]())}showPoster(){const p=this[gR];if(p.classList.contains("show"))return;p.classList.add("show"),this[hl].classList.remove("show");const m=this[rm];m.removeAttribute("tabindex"),m.removeAttribute("aria-hidden");const g=this.modelIsVisible;this[xC]=!1,this[Xw](g)}getDimensions(){return p0(this[ze].size)}getBoundingBoxCenter(){return p0(this[ze].boundingBox.getCenter(new L))}connectedCallback(){super.connectedCallback(),this.showPoster(),this[Hp].addEventListener("progress",this[AR])}disconnectedCallback(){super.disconnectedCallback(),this[Hp].removeEventListener("progress",this[AR])}updated(p){var m=()=>super.updated,g=this;return ut(function*(){m().call(g,p),p.has("poster")&&null!=g.poster&&(g[rm].style.backgroundImage=`url(${g.poster})`),p.has("alt")&&g[rm].setAttribute("aria-label",g[Rk]),(p.has("reveal")||p.has("loading"))&&g[zp]()})()}[(n=xC,i=k0,s=gR,a=rm,l=lh,c=rPe,u=bR,d=AR,Gp)](){return!!this.src&&(this[k0]||"eager"===this.loading||"auto"===this.reveal&&this[sh])}[_R](){this[k0]=!1;const p=this[gR];if(!p.classList.contains("show"))return;p.classList.remove("show"),this[hl].classList.add("show");const m=this.modelIsVisible;this[xC]=!0,this[Xw](m);const g=this.getRootNode();g&&g.activeElement===this&&this[hl].focus();const _=this[rm];_.setAttribute("aria-hidden","true"),_.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}[oh](){return super[oh]()&&this[xC]}}return pR([Yt({type:String})],h.prototype,"poster",void 0),pR([Yt({type:String})],h.prototype,"reveal",void 0),pR([Yt({type:String})],h.prototype,"loading",void 0),h})((r=>{var n;class i extends r{constructor(...a){super(a),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[n]=!0,this[ze].subscribeMixerEvent("loop",l=>{this.dispatchEvent(new CustomEvent("loop",{detail:{count:l.action._loopCount}}))}),this[ze].subscribeMixerEvent("finished",()=>{this[yc]=!0,this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[ze].animationNames:[]}get duration(){return this[ze].duration}get paused(){return this[yc]}get currentTime(){return this[ze].animationTime}set currentTime(a){this[ze].animationTime=a,this[Js]()}get timeScale(){return this[ze].animationTimeScale}set timeScale(a){this[ze].animationTimeScale=a}pause(){this[yc]||(this[yc]=!0,this.dispatchEvent(new CustomEvent("pause")))}play(a){this.availableAnimations.length>0&&(this[yc]=!1,this[Lk](a),this.dispatchEvent(new CustomEvent("play")))}[(n=yc,Eu)](){super[Eu](),this[yc]=!0,this.autoplay&&this.play()}[fl](a,l){super[fl](a,l),!this[yc]&&(this[oh]()||this[bi].isPresenting)&&(this[ze].updateAnimation(l/1e3),this[Js]())}updated(a){super.updated(a),a.has("autoplay")&&this.autoplay&&this.play(),a.has("animationName")&&this[Lk]()}[Lk](a=Gke){var l;const c=null!==(l=a.repetitions)&&void 0!==l?l:1/0;this[ze].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3,a.pingpong?2202:1===c?2200:2201,c),this[yc]&&(this[ze].updateAnimation(0),this[Js]())}}return Bk([Yt({type:Boolean})],i.prototype,"autoplay",void 0),Bk([Yt({type:String,attribute:"animation-name"})],i.prototype,"animationName",void 0),Bk([Yt({type:Number,attribute:"animation-crossfade-duration"})],i.prototype,"animationCrossfadeDuration",void 0),i})((r=>{var n;const s=Symbol("endPolyfillCoordination");return n=s,class a extends r{constructor(){super(...arguments),this[n]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),null==this[s]&&(this[s]=(l=>{if(null==l.shadowRoot||l.hasAttribute("data-js-focus-visible"))return()=>{};if(!self.applyFocusVisiblePolyfill){const c=()=>{self.applyFocusVisiblePolyfill(l.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",c,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",c)}}return self.applyFocusVisiblePolyfill(l.shadowRoot),()=>{}})(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),null!=this[s]&&(this[s](),this[s]=null)}}})(m0)))))))));customElements.define("model-viewer",VPe),function Wee(){if(kF)throw new Error("Cannot enable prod mode after platform setup.");TF=!1}(),tie().bootstrapModule(gCe).catch(r=>console.error(r))},28:function(dm,U0){var Lu,Fu;Lu=function ph(){"use strict";var ai=typeof self<"u"?self:typeof window<"u"?window:void 0!==ai?ai:{},sn=!ai.document&&!!ai.postMessage,mh=sn&&/blob:/i.test((ai.location||{}).protocol),Nu={},V0=0,Dt={parse:function(te,J){var Ee=(J=J||{}).dynamicTyping||!1;if(Fn(Ee)&&(J.dynamicTypingFunction=Ee,Ee={}),J.dynamicTyping=Ee,J.transform=!!Fn(J.transform)&&J.transform,J.worker&&Dt.WORKERS_SUPPORTED){var at=function(){if(!Dt.WORKERS_SUPPORTED)return!1;var or,dt,Mt=(or=ai.URL||ai.webkitURL||null,dt=ph.toString(),Dt.BLOB_URL||(Dt.BLOB_URL=or.createObjectURL(new Blob(["(",dt,")();"],{type:"text/javascript"})))),cn=new ai.Worker(Mt);return cn.onmessage=kC,cn.id=V0++,Nu[cn.id]=cn}();return at.userStep=J.step,at.userChunk=J.chunk,at.userComplete=J.complete,at.userError=J.error,J.step=Fn(J.step),J.chunk=Fn(J.chunk),J.complete=Fn(J.complete),J.error=Fn(J.error),delete J.worker,void at.postMessage({input:te,config:J,workerId:at.id})}var lt=null;return"string"==typeof te?lt=J.download?new Ia(J):new Uu(J):!0===te.readable&&Fn(te.read)&&Fn(te.on)?lt=new _h(J):(ai.File&&te instanceof File||te instanceof Object)&&(lt=new gh(J)),lt.stream(te)},unparse:function(te,J){var Ee=!1,at=!0,lt=",",Mt="\r\n",cn='"',or=cn+cn,dt=!1,ct=null,Ti=!1;!function(){if("object"==typeof J){if("string"!=typeof J.delimiter||Dt.BAD_DELIMITERS.filter(function(nt){return-1!==J.delimiter.indexOf(nt)}).length||(lt=J.delimiter),("boolean"==typeof J.quotes||"function"==typeof J.quotes||Array.isArray(J.quotes))&&(Ee=J.quotes),"boolean"!=typeof J.skipEmptyLines&&"string"!=typeof J.skipEmptyLines||(dt=J.skipEmptyLines),"string"==typeof J.newline&&(Mt=J.newline),"string"==typeof J.quoteChar&&(cn=J.quoteChar),"boolean"==typeof J.header&&(at=J.header),Array.isArray(J.columns)){if(0===J.columns.length)throw new Error("Option columns is empty");ct=J.columns}void 0!==J.escapeChar&&(or=J.escapeChar+cn),("boolean"==typeof J.escapeFormulae||J.escapeFormulae instanceof RegExp)&&(Ti=J.escapeFormulae instanceof RegExp?J.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var Bt=new RegExp(to(cn),"g");if("string"==typeof te&&(te=JSON.parse(te)),Array.isArray(te)){if(!te.length||Array.isArray(te[0]))return So(null,te,dt);if("object"==typeof te[0])return So(ct||Object.keys(te[0]),te,dt)}else if("object"==typeof te)return"string"==typeof te.data&&(te.data=JSON.parse(te.data)),Array.isArray(te.data)&&(te.fields||(te.fields=te.meta&&te.meta.fields||ct),te.fields||(te.fields=Array.isArray(te.data[0])?te.fields:"object"==typeof te.data[0]?Object.keys(te.data[0]):[]),Array.isArray(te.data[0])||"object"==typeof te.data[0]||(te.data=[te.data])),So(te.fields||[],te.data||[],dt);throw new Error("Unable to serialize unrecognized input");function So(nt,Jn,zt){var vt="";"string"==typeof nt&&(nt=JSON.parse(nt)),"string"==typeof Jn&&(Jn=JSON.parse(Jn));var Ar=Array.isArray(nt)&&0<nt.length,Oe=!Array.isArray(Jn[0]);if(Ar&&at){for(var Hi=0;Hi<nt.length;Hi++)0<Hi&&(vt+=lt),vt+=Me(nt[Hi],Hi);0<Jn.length&&(vt+=Mt)}for(var wt=0;wt<Jn.length;wt++){var Dn=Ar?nt.length:Jn[wt].length,Ai=!1,Gi=Ar?0===Object.keys(Jn[wt]).length:0===Jn[wt].length;if(zt&&!Ar&&(Ai="greedy"===zt?""===Jn[wt].join("").trim():1===Jn[wt].length&&0===Jn[wt][0].length),"greedy"===zt&&Ar){for(var un=[],Rn=0;Rn<Dn;Rn++)un.push(Jn[wt][Oe?nt[Rn]:Rn]);Ai=""===un.join("").trim()}if(!Ai){for(var Ht=0;Ht<Dn;Ht++)0<Ht&&!Gi&&(vt+=lt),vt+=Me(Jn[wt][Ar&&Oe?nt[Ht]:Ht],Ht);wt<Jn.length-1&&(!zt||0<Dn&&!Gi)&&(vt+=Mt)}}return vt}function Me(nt,Jn){if(null==nt)return"";if(nt.constructor===Date)return JSON.stringify(nt).slice(1,25);var zt=!1;Ti&&"string"==typeof nt&&Ti.test(nt)&&(nt="'"+nt,zt=!0);var vt=nt.toString().replace(Bt,or);return(zt=zt||!0===Ee||"function"==typeof Ee&&Ee(nt,Jn)||Array.isArray(Ee)&&Ee[Jn]||function(Ar,Oe){for(var Hi=0;Hi<Oe.length;Hi++)if(-1<Ar.indexOf(Oe[Hi]))return!0;return!1}(vt,Dt.BAD_DELIMITERS)||-1<vt.indexOf(lt)||" "===vt.charAt(0)||" "===vt.charAt(vt.length-1))?cn+vt+cn:vt}}};if(Dt.RECORD_SEP=String.fromCharCode(30),Dt.UNIT_SEP=String.fromCharCode(31),Dt.BYTE_ORDER_MARK="\ufeff",Dt.BAD_DELIMITERS=["\r","\n",'"',Dt.BYTE_ORDER_MARK],Dt.WORKERS_SUPPORTED=!sn&&!!ai.Worker,Dt.NODE_STREAM_INPUT=1,Dt.LocalChunkSize=10485760,Dt.RemoteChunkSize=5242880,Dt.DefaultDelimiter=",",Dt.Parser=Sc,Dt.ParserHandle=bh,Dt.NetworkStreamer=Ia,Dt.FileStreamer=gh,Dt.StringStreamer=Uu,Dt.ReadableStreamStreamer=_h,ai.jQuery){var Da=ai.jQuery;Da.fn.parse=function(te){var J=te.config||{},Ee=[];return this.each(function(Mt){if("INPUT"!==Da(this).prop("tagName").toUpperCase()||"file"!==Da(this).attr("type").toLowerCase()||!ai.FileReader||!this.files||0===this.files.length)return!0;for(var cn=0;cn<this.files.length;cn++)Ee.push({file:this.files[cn],inputElem:this,instanceConfig:Da.extend({},J)})}),at(),this;function at(){if(0!==Ee.length){var cn,or,dt,ct=Ee[0];if(Fn(te.before)){var Ti=te.before(ct.file,ct.inputElem);if("object"==typeof Ti){if("abort"===Ti.action)return"AbortError",cn=ct.file,or=ct.inputElem,dt=Ti.reason,void(Fn(te.error)&&te.error({name:"AbortError"},cn,or,dt));if("skip"===Ti.action)return void lt();"object"==typeof Ti.config&&(ct.instanceConfig=Da.extend(ct.instanceConfig,Ti.config))}else if("skip"===Ti)return void lt()}var Bt=ct.instanceConfig.complete;ct.instanceConfig.complete=function(So){Fn(Bt)&&Bt(So,ct.file,ct.inputElem),lt()},Dt.parse(ct.file,ct.instanceConfig)}else Fn(te.complete)&&te.complete()}function lt(){Ee.splice(0,1),at()}}}function Eo(te){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(J){var Ee=Vu(J);Ee.chunkSize=parseInt(Ee.chunkSize),J.step||J.chunk||(Ee.chunkSize=null),this._handle=new bh(Ee),(this._handle.streamer=this)._config=Ee}.call(this,te),this.parseChunk=function(J,Ee){if(this.isFirstChunk&&Fn(this._config.beforeFirstChunk)){var at=this._config.beforeFirstChunk(J);void 0!==at&&(J=at)}this.isFirstChunk=!1,this._halted=!1;var lt=this._partialLine+J;this._partialLine="";var Mt=this._handle.parse(lt,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var cn=Mt.meta.cursor;this._finished||(this._partialLine=lt.substring(cn-this._baseIndex),this._baseIndex=cn),Mt&&Mt.data&&(this._rowCount+=Mt.data.length);var or=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(mh)ai.postMessage({results:Mt,workerId:Dt.WORKER_ID,finished:or});else if(Fn(this._config.chunk)&&!Ee){if(this._config.chunk(Mt,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Mt=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Mt.data),this._completeResults.errors=this._completeResults.errors.concat(Mt.errors),this._completeResults.meta=Mt.meta),this._completed||!or||!Fn(this._config.complete)||Mt&&Mt.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),or||Mt&&Mt.meta.paused||this._nextChunk(),Mt}this._halted=!0},this._sendError=function(J){Fn(this._config.error)?this._config.error(J):mh&&this._config.error&&ai.postMessage({workerId:Dt.WORKER_ID,error:J,finished:!1})}}function Ia(te){var J;(te=te||{}).chunkSize||(te.chunkSize=Dt.RemoteChunkSize),Eo.call(this,te),this._nextChunk=sn?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ee){this._input=Ee,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(J=new XMLHttpRequest,this._config.withCredentials&&(J.withCredentials=this._config.withCredentials),sn||(J.onload=Ta(this._chunkLoaded,this),J.onerror=Ta(this._chunkError,this)),J.open(this._config.downloadRequestBody?"POST":"GET",this._input,!sn),this._config.downloadRequestHeaders){var Ee=this._config.downloadRequestHeaders;for(var at in Ee)J.setRequestHeader(at,Ee[at])}this._config.chunkSize&&J.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{J.send(this._config.downloadRequestBody)}catch(Mt){this._chunkError(Mt.message)}sn&&0===J.status&&this._chunkError()}},this._chunkLoaded=function(){var at;4===J.readyState&&(J.status<200||400<=J.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:J.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(at=J.getResponseHeader("Content-Range"))?-1:parseInt(at.substring(at.lastIndexOf("/")+1))),this.parseChunk(J.responseText)))},this._chunkError=function(Ee){this._sendError(new Error(J.statusText||Ee))}}function gh(te){var J,Ee;(te=te||{}).chunkSize||(te.chunkSize=Dt.LocalChunkSize),Eo.call(this,te);var at=typeof FileReader<"u";this.stream=function(lt){this._input=lt,Ee=lt.slice||lt.webkitSlice||lt.mozSlice,at?((J=new FileReader).onload=Ta(this._chunkLoaded,this),J.onerror=Ta(this._chunkError,this)):J=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var lt=this._input;if(this._config.chunkSize){var Mt=Math.min(this._start+this._config.chunkSize,this._input.size);lt=Ee.call(lt,this._start,Mt)}var cn=J.readAsText(lt,this._config.encoding);at||this._chunkLoaded({target:{result:cn}})},this._chunkLoaded=function(lt){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(lt.target.result)},this._chunkError=function(){this._sendError(J.error)}}function Uu(te){var J;Eo.call(this,te=te||{}),this.stream=function(Ee){return J=Ee,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Ee,at=this._config.chunkSize;return at?(Ee=J.substring(0,at),J=J.substring(at)):(Ee=J,J=""),this._finished=!J,this.parseChunk(Ee)}}}function _h(te){Eo.call(this,te=te||{});var J=[],Ee=!0,at=!1;this.pause=function(){Eo.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Eo.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(lt){this._input=lt,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){at&&1===J.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),J.length?this.parseChunk(J.shift()):Ee=!0},this._streamData=Ta(function(lt){try{J.push("string"==typeof lt?lt:lt.toString(this._config.encoding)),Ee&&(Ee=!1,this._checkIsFinished(),this.parseChunk(J.shift()))}catch(Mt){this._streamError(Mt)}},this),this._streamError=Ta(function(lt){this._streamCleanUp(),this._sendError(lt)},this),this._streamEnd=Ta(function(){this._streamCleanUp(),at=!0,this._streamData("")},this),this._streamCleanUp=Ta(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function bh(te){var J,Ee,at,lt=Math.pow(2,53),Mt=-lt,cn=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,or=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,dt=this,ct=0,Ti=0,Bt=!1,So=!1,Me=[],nt={data:[],errors:[],meta:{}};if(Fn(te.step)){var Jn=te.step;te.step=function(wt){if(nt=wt,Ar())vt();else{if(vt(),0===nt.data.length)return;ct+=wt.data.length,te.preview&&ct>te.preview?Ee.abort():(nt.data=nt.data[0],Jn(nt,dt))}}}function zt(wt){return"greedy"===te.skipEmptyLines?""===wt.join("").trim():1===wt.length&&0===wt[0].length}function vt(){return nt&&at&&(Hi("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+Dt.DefaultDelimiter+"'"),at=!1),te.skipEmptyLines&&(nt.data=nt.data.filter(function(wt){return!zt(wt)})),Ar()&&function(){if(nt)if(Array.isArray(nt.data[0])){for(var Dn=0;Ar()&&Dn<nt.data.length;Dn++)nt.data[Dn].forEach(wt);nt.data.splice(0,1)}else nt.data.forEach(wt);function wt(Ai,Gi){Fn(te.transformHeader)&&(Ai=te.transformHeader(Ai,Gi)),Me.push(Ai)}}(),function(){if(!nt||!te.header&&!te.dynamicTyping&&!te.transform)return nt;function wt(Ai,Gi){var un,Rn=te.header?{}:[];for(un=0;un<Ai.length;un++){var Ei=un,Ht=Ai[un];te.header&&(Ei=un>=Me.length?"__parsed_extra":Me[un]),te.transform&&(Ht=te.transform(Ht,Ei)),Ht=Oe(Ei,Ht),"__parsed_extra"===Ei?(Rn[Ei]=Rn[Ei]||[],Rn[Ei].push(Ht)):Rn[Ei]=Ht}return te.header&&(un>Me.length?Hi("FieldMismatch","TooManyFields","Too many fields: expected "+Me.length+" fields but parsed "+un,Ti+Gi):un<Me.length&&Hi("FieldMismatch","TooFewFields","Too few fields: expected "+Me.length+" fields but parsed "+un,Ti+Gi)),Rn}var Dn=1;return!nt.data.length||Array.isArray(nt.data[0])?(nt.data=nt.data.map(wt),Dn=nt.data.length):nt.data=wt(nt.data,0),te.header&&nt.meta&&(nt.meta.fields=Me),Ti+=Dn,nt}()}function Ar(){return te.header&&0===Me.length}function Oe(wt,Dn){return Ai=wt,te.dynamicTypingFunction&&void 0===te.dynamicTyping[Ai]&&(te.dynamicTyping[Ai]=te.dynamicTypingFunction(Ai)),!0===(te.dynamicTyping[Ai]||te.dynamicTyping)?"true"===Dn||"TRUE"===Dn||"false"!==Dn&&"FALSE"!==Dn&&(function(Gi){if(cn.test(Gi)){var un=parseFloat(Gi);if(Mt<un&&un<lt)return!0}return!1}(Dn)?parseFloat(Dn):or.test(Dn)?new Date(Dn):""===Dn?null:Dn):Dn;var Ai}function Hi(wt,Dn,Ai,Gi){var un={type:wt,code:Dn,message:Ai};void 0!==Gi&&(un.row=Gi),nt.errors.push(un)}this.parse=function(wt,Dn,Ai){if(te.newline||(te.newline=function(Ei,Ht){Ei=Ei.substring(0,1048576);var Zo=new RegExp(to(Ht)+"([^]*?)"+to(Ht),"gm"),Do=(Ei=Ei.replace(Zo,"")).split("\r"),ms=Ei.split("\n");if(1===Do.length||1<ms.length&&ms[0].length<Do[0].length)return"\n";for(var Jo=0,no=0;no<Do.length;no++)"\n"===Do[no][0]&&Jo++;return Jo>=Do.length/2?"\r\n":"\r"}(wt,te.quoteChar||'"')),at=!1,te.delimiter)Fn(te.delimiter)&&(te.delimiter=te.delimiter(wt),nt.meta.delimiter=te.delimiter);else{var un=function(Ei,Ht,Zo,Do,ms){var ka,Jo,no,Vr;ms=ms||[",","\t","|",";",Dt.RECORD_SEP,Dt.UNIT_SEP];for(var jr=0;jr<ms.length;jr++){var zr=ms[jr],zu=0,ea=0,RC=0;no=void 0;for(var Hu=new Sc({comments:Do,delimiter:zr,newline:Ht,preview:10}).parse(Ei),hm=0;hm<Hu.data.length;hm++)if(Zo&&zt(Hu.data[hm]))RC++;else{var yh=Hu.data[hm].length;ea+=yh,void 0!==no?0<yh&&(zu+=Math.abs(yh-no),no=yh):no=yh}0<Hu.data.length&&(ea/=Hu.data.length-RC),(void 0===Jo||zu<=Jo)&&(void 0===Vr||Vr<ea)&&1.99<ea&&(Jo=zu,ka=zr,Vr=ea)}return{successful:!!(te.delimiter=ka),bestDelimiter:ka}}(wt,te.newline,te.skipEmptyLines,te.comments,te.delimitersToGuess);un.successful?te.delimiter=un.bestDelimiter:(at=!0,te.delimiter=Dt.DefaultDelimiter),nt.meta.delimiter=te.delimiter}var Rn=Vu(te);return te.preview&&te.header&&Rn.preview++,J=wt,Ee=new Sc(Rn),nt=Ee.parse(J,Dn,Ai),vt(),Bt?{meta:{paused:!0}}:nt||{meta:{paused:!1}}},this.paused=function(){return Bt},this.pause=function(){Bt=!0,Ee.abort(),J=Fn(te.chunk)?"":J.substring(Ee.getCharIndex())},this.resume=function(){dt.streamer._halted?(Bt=!1,dt.streamer.parseChunk(J,!0)):setTimeout(dt.resume,3)},this.aborted=function(){return So},this.abort=function(){So=!0,Ee.abort(),nt.meta.aborted=!0,Fn(te.complete)&&te.complete(nt),J=""}}function to(te){return te.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sc(te){var J,Ee=(te=te||{}).delimiter,at=te.newline,lt=te.comments,Mt=te.step,cn=te.preview,or=te.fastMode,dt=J=te.quoteChar??'"';if(void 0!==te.escapeChar&&(dt=te.escapeChar),("string"!=typeof Ee||-1<Dt.BAD_DELIMITERS.indexOf(Ee))&&(Ee=","),lt===Ee)throw new Error("Comment character same as delimiter");!0===lt?lt="#":("string"!=typeof lt||-1<Dt.BAD_DELIMITERS.indexOf(lt))&&(lt=!1),"\n"!==at&&"\r"!==at&&"\r\n"!==at&&(at="\n");var ct=0,Ti=!1;this.parse=function(Bt,So,Me){if("string"!=typeof Bt)throw new Error("Input must be a string");var nt=Bt.length,Jn=Ee.length,zt=at.length,vt=lt.length,Ar=Fn(Mt),Oe=[],Hi=[],wt=[],Dn=ct=0;if(!Bt)return Vr();if(or||!1!==or&&-1===Bt.indexOf(J)){for(var Ai=Bt.split(at),Gi=0;Gi<Ai.length;Gi++){if(ct+=(wt=Ai[Gi]).length,Gi!==Ai.length-1)ct+=at.length;else if(Me)return Vr();if(!lt||wt.substring(0,vt)!==lt){if(Ar){if(Oe=[],ms(wt.split(Ee)),jr(),Ti)return Vr()}else ms(wt.split(Ee));if(cn&&cn<=Gi)return Oe=Oe.slice(0,cn),Vr(!0)}}return Vr()}for(var un=Bt.indexOf(Ee,ct),Rn=Bt.indexOf(at,ct),Ei=new RegExp(to(dt)+to(J),"g"),Ht=Bt.indexOf(J,ct);;)if(Bt[ct]!==J)if(lt&&0===wt.length&&Bt.substring(ct,ct+vt)===lt){if(-1===Rn)return Vr();Rn=Bt.indexOf(at,ct=Rn+zt),un=Bt.indexOf(Ee,ct)}else if(-1!==un&&(un<Rn||-1===Rn))wt.push(Bt.substring(ct,un)),un=Bt.indexOf(Ee,ct=un+Jn);else{if(-1===Rn)break;if(wt.push(Bt.substring(ct,Rn)),no(Rn+zt),Ar&&(jr(),Ti))return Vr();if(cn&&Oe.length>=cn)return Vr(!0)}else for(Ht=ct,ct++;;){if(-1===(Ht=Bt.indexOf(J,Ht+1)))return Me||Hi.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Oe.length,index:ct}),Jo();if(Ht===nt-1)return Jo(Bt.substring(ct,Ht).replace(Ei,J));if(J!==dt||Bt[Ht+1]!==dt){if(J===dt||0===Ht||Bt[Ht-1]!==dt){-1!==un&&un<Ht+1&&(un=Bt.indexOf(Ee,Ht+1)),-1!==Rn&&Rn<Ht+1&&(Rn=Bt.indexOf(at,Ht+1));var Zo=ka(-1===Rn?un:Math.min(un,Rn));if(Bt.substr(Ht+1+Zo,Jn)===Ee){wt.push(Bt.substring(ct,Ht).replace(Ei,J)),Bt[ct=Ht+1+Zo+Jn]!==J&&(Ht=Bt.indexOf(J,ct)),un=Bt.indexOf(Ee,ct),Rn=Bt.indexOf(at,ct);break}var Do=ka(Rn);if(Bt.substring(Ht+1+Do,Ht+1+Do+zt)===at){if(wt.push(Bt.substring(ct,Ht).replace(Ei,J)),no(Ht+1+Do+zt),un=Bt.indexOf(Ee,ct),Ht=Bt.indexOf(J,ct),Ar&&(jr(),Ti))return Vr();if(cn&&Oe.length>=cn)return Vr(!0);break}Hi.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Oe.length,index:ct}),Ht++}}else Ht++}return Jo();function ms(zr){Oe.push(zr),Dn=ct}function ka(zr){var zu=0;if(-1!==zr){var ea=Bt.substring(Ht+1,zr);ea&&""===ea.trim()&&(zu=ea.length)}return zu}function Jo(zr){return Me||(void 0===zr&&(zr=Bt.substring(ct)),wt.push(zr),ct=nt,ms(wt),Ar&&jr()),Vr()}function no(zr){ct=zr,ms(wt),wt=[],Rn=Bt.indexOf(at,ct)}function Vr(zr){return{data:Oe,errors:Hi,meta:{delimiter:Ee,linebreak:at,aborted:Ti,truncated:!!zr,cursor:Dn+(So||0)}}}function jr(){Mt(Vr()),Oe=[],Hi=[]}},this.abort=function(){Ti=!0},this.getCharIndex=function(){return ct}}function kC(te){var J=te.data,Ee=Nu[J.workerId],at=!1;if(J.error)Ee.userError(J.error,J.file);else if(J.results&&J.results.data){var lt={abort:function(){at=!0,Ah(J.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:z0,resume:z0};if(Fn(Ee.userStep)){for(var Mt=0;Mt<J.results.data.length&&(Ee.userStep({data:J.results.data[Mt],errors:J.results.errors,meta:J.results.meta},lt),!at);Mt++);delete J.results}else Fn(Ee.userChunk)&&(Ee.userChunk(J.results,lt,J.file),delete J.results)}J.finished&&!at&&Ah(J.workerId,J.results)}function Ah(te,J){var Ee=Nu[te];Fn(Ee.userComplete)&&Ee.userComplete(J),Ee.terminate(),delete Nu[te]}function z0(){throw new Error("Not implemented.")}function Vu(te){if("object"!=typeof te||null===te)return te;var J=Array.isArray(te)?[]:{};for(var Ee in te)J[Ee]=Vu(te[Ee]);return J}function Ta(te,J){return function(){te.apply(J,arguments)}}function Fn(te){return"function"==typeof te}return mh&&(ai.onmessage=function(te){var J=te.data;if(void 0===Dt.WORKER_ID&&J&&(Dt.WORKER_ID=J.workerId),"string"==typeof J.input)ai.postMessage({workerId:Dt.WORKER_ID,results:Dt.parse(J.input,J.config),finished:!0});else if(ai.File&&J.input instanceof File||J.input instanceof Object){var Ee=Dt.parse(J.input,J.config);Ee&&ai.postMessage({workerId:Dt.WORKER_ID,results:Ee,finished:!0})}}),(Ia.prototype=Object.create(Eo.prototype)).constructor=Ia,(gh.prototype=Object.create(Eo.prototype)).constructor=gh,(Uu.prototype=Object.create(Uu.prototype)).constructor=Uu,(_h.prototype=Object.create(Eo.prototype)).constructor=_h,Dt},void 0!==(Fu=Lu.apply(U0,[]))&&(dm.exports=Fu)}},dm=>{dm(dm.s=334)}]);